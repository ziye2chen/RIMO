problem_id,problem,number_of_parts,sub-problem1,sub-solution1,sub-problem2,sub-solution2,sub-problem3,sub-solution3,sub-problem4,sub-solution4
2023a2,"Let $\mathbb{R}$ be the set of real numbers. Let $f: \mathbb{R} \rightarrow \mathbb{R}$ be a function such that

$$
f(x+y) f(x-y) \geqslant f(x)^{2}-f(y)^{2}
$$

for every $x, y \in \mathbb{R}$. Assume that the inequality is strict for some $x_{0}, y_{0} \in \mathbb{R}$.\\
Prove that $f(x) \geqslant 0$ for every $x \in \mathbb{R}$ or $f(x) \leqslant 0$ for every $x \in \mathbb{R}$.",1,"Let $\mathbb{R}$ be the set of real numbers. Let $f: \mathbb{R} \rightarrow \mathbb{R}$ be a function such that

$$
f(x+y) f(x-y) \geqslant f(x)^{2}-f(y)^{2}
$$

for every $x, y \in \mathbb{R}$. Assume that the inequality is strict for some $x_{0}, y_{0} \in \mathbb{R}$.\\
Prove that $f(x) \geqslant 0$ for every $x \in \mathbb{R}$ or $f(x) \leqslant 0$ for every $x \in \mathbb{R}$.","We introduce the new variables $s:=x+y$ and $t:=x-y$. Equivalently, $x=\frac{s+t}{2}$ and $y=\frac{s-t}{2}$. The inequality becomes

$$
f(s) f(t) \geqslant f\left(\frac{s+t}{2}\right)^{2}-f\left(\frac{s-t}{2}\right)^{2}
$$

for every $s, t \in \mathbb{R}$. We replace $t$ by $-t$ to obtain

$$
f(s) f(-t) \geqslant f\left(\frac{s-t}{2}\right)^{2}-f\left(\frac{s+t}{2}\right)^{2}
$$

Summing the previous two inequalities gives

$$
f(s)(f(t)+f(-t)) \geqslant 0
$$

for every $s, t \in \mathbb{R}$. This inequality is strict for $s=x_{0}+y_{0}$ and $t=x_{0}-y_{0}$ by assumption. In particular, there exists some $t_{0}=x_{0}-y_{0}$ for which $f\left(t_{0}\right)+f\left(-t_{0}\right) \neq 0$. Since $f(s)\left(f\left(t_{0}\right)+\right.$ $\left.f\left(-t_{0}\right)\right) \geqslant 0$ for every $s \in \mathbb{R}$, we conclude that $f(s)$ must have constant sign.",,,,,,
2023a3,"Let $x_{1}, x_{2}, \ldots, x_{2023}$ be distinct real positive numbers such that

$$
a_{n}=\sqrt{\left(x_{1}+x_{2}+\cdots+x_{n}\right)\left(\frac{1}{x_{1}}+\frac{1}{x_{2}}+\cdots+\frac{1}{x_{n}}\right)}
$$

is an integer for every $n=1,2, \ldots, 2023$. Prove that $a_{2023} \geqslant 3034$.",2,"Let the sequence $a_n$ be defined as in the problem. Show that if $a_{n+1} - a_n = 1$ for some $n \ge 1$, then $a_{n+2} - a_{n+1} \ge 2$.","We have the identity $a_{k+1}^2 = (\sum_{i=1}^{k+1} x_i)(\sum_{i=1}^{k+1} \frac{1}{x_i}) = a_k^2 + 1 + (\sum_{i=1}^k x_i)\frac{1}{x_{k+1}} + x_{k+1}(\sum_{i=1}^k \frac{1}{x_i})$. By AM-GM inequality, $(\sum_{i=1}^k x_i)\frac{1}{x_{k+1}} + x_{k+1}(\sum_{i=1}^k \frac{1}{x_i}) \ge 2\sqrt{(\sum x_i)(\sum \frac{1}{x_i})} = 2a_k$. Thus, $a_{k+1}^2 \ge a_k^2 + 2a_k + 1 = (a_k+1)^2$, which implies $a_{k+1} \ge a_k+1$. The condition $a_{k+1} - a_k = 1$ is equivalent to the equality case of the AM-GM, which is $(\sum_{i=1}^k x_i)\frac{1}{x_{k+1}} = x_{k+1}(\sum_{i=1}^k \frac{1}{x_i})$. Assume for contradiction that $a_{n+1}-a_n=1$ and $a_{n+2}-a_{n+1}=1$. This means the equality condition holds for both $k=n$ and $k=n+1$. This leads to the equations $\frac{1}{x_{n+1}}\sum_{i=1}^n x_i = x_{n+1}\sum_{i=1}^n \frac{1}{x_i}$ and $\frac{1}{x_{n+2}}\sum_{i=1}^{n+1} x_i = x_{n+2}\sum_{i=1}^{n+1} \frac{1}{x_i}$. Manipulating these two equations leads to $\sum_{i=1}^n \frac{1}{x_i} = -\frac{1}{x_{n+1}}$, a contradiction since all $x_i$ are positive. Thus, two consecutive increments of 1 are not possible. Since $a_{n+2}-a_{n+1}$ must be an integer and at least 1, it follows that if $a_{n+1}-a_n=1$, then $a_{n+2}-a_{n+1} \ge 2$.","Let $x_{1}, x_{2}, \ldots, x_{2023}$ be distinct real positive numbers such that $a_{n}=\sqrt{\left(x_{1}+x_{2}+\cdots+x_{n}\right)\left(\frac{1}{x_{1}}+\frac{1}{x_{2}}+\cdots+\frac{1}{x_{n}}\right)}$ is an integer for every $n=1,2, \ldots, 2023$. Prove that $a_{2023} \geqslant 3034$.","We know $a_1 = 1$. Let $\Delta_n = a_{n+1}-a_n$ for $n=1, \ldots, 2022$. Since the $x_i$ are distinct and positive, $a_n$ is a strictly increasing sequence of integers, so $\Delta_n \ge 1$. From the previous sub-problem, we know that if $\Delta_n=1$, then $\Delta_{n+1} \ge 2$. We have $a_{2023} = a_1 + \sum_{n=1}^{2022} \Delta_n = 1 + \sum_{n=1}^{2022} \Delta_n$. We can group the 2022 differences into 1011 pairs: $(\Delta_{2k-1} + \Delta_{2k})$ for $k=1, \ldots, 1011$. For each pair, if $\Delta_{2k-1} = 1$, then $\Delta_{2k} \ge 2$, so their sum is at least 3. If $\Delta_{2k-1} \ge 2$, then since $\Delta_{2k} \ge 1$, their sum is also at least 3. In all cases, $\Delta_{2k-1} + \Delta_{2k} \ge 3$. Thus, the total sum of the differences is $\sum_{n=1}^{2022} \Delta_n = \sum_{k=1}^{1011} (\Delta_{2k-1} + \Delta_{2k}) \ge \sum_{k=1}^{1011} 3 = 1011 \times 3 = 3033$. Therefore, $a_{2023} = 1 + \sum_{n=1}^{2022} \Delta_n \ge 1 + 3033 = 3034$.",,,,
2023a5,"Let $a_{1}, a_{2}, \ldots, a_{2023}$ be positive integers such that}
\begin{itemize}
  \item $a_{1}, a_{2}, \ldots, a_{2023}$ is a permutation of $1,2, \ldots, 2023$, and
  \item $\left|a_{1}-a_{2}\right|,\left|a_{2}-a_{3}\right|, \ldots,\left|a_{2022}-a_{2023}\right|$ is a permutation of $1,2, \ldots, 2022$.
\end{itemize}

Prove that $\max \left(a_{1}, a_{2023}\right) \geqslant 507$.",2,"Let $N$ be a positive integer. Let $a_{1}, a_{2}, \ldots, a_{2N-1}$ be a permutation of $1,2, \ldots, 2N-1$, and let $\\left|a_{1}-a_{2}\right|, \\left|a_{2}-a_{3}\right|, \\ldots, \\left|a_{2N-2}-a_{2N-1}\right|$ be a permutation of $1,2, \ldots, 2N-2$. Prove that $a_{1}+a_{2N-1} \\geqslant N+1$.","Define the score of an integer $k \\in \\{1, \\ldots, 2N-1\\}$ as $s(k) = |k-N|$. The sum of the given absolute differences is $\\sum_{i=1}^{2N-2} i = (N-1)(2N-1)$. Using the triangle inequality, $|a_i - a_{i+1}| \\le s(a_i) + s(a_{i+1})$. Summing over $i=1, \\ldots, 2N-2$ yields $\\sum_{i=1}^{2N-2} |a_i - a_{i+1}| \\le 2\\sum_{k=1}^{2N-1} s(a_k) - (s(a_1) + s(a_{2N-1}))$. The set of scores $\\{s(a_k)\\}$ is a permutation of $\\{0, 1, 1, 2, 2, \\ldots, N-1, N-1\\}$, so their sum is $\\sum s(a_k) = N(N-1)$. Substituting these sums gives $(N-1)(2N-1) \\le 2N(N-1) - (s(a_1) + s(a_{2N-1}))$, which simplifies to $s(a_1) + s(a_{2N-1}) \\le N-1$. We then have $2N - (a_1 + a_{2N-1}) = (N-a_1) + (N-a_{2N-1}) \\le |N-a_1| + |N-a_{2N-1}| = s(a_1) + s(a_{2N-1}) \\le N-1$. From $2N - (a_1+a_{2N-1}) \\le N-1$, we get $a_1+a_{2N-1} \\ge N+1$.","Let $a_{1}, a_{2}, \\ldots, a_{2023}$ be positive integers such that $a_{1}, a_{2}, \\ldots, a_{2023}$ is a permutation of $1,2, \\ldots, 2023$, and $\\left|a_{1}-a_{2}\right|,\\left|a_{2}-a_{3}\right|, \\ldots,\\left|a_{2022}-a_{2023}\right|$ is a permutation of $1,2, \\ldots, 2022$. Prove that $\\max \\left(a_{1}, a_{2023}\right) \\geqslant 507$.","This problem is a specific case of the generalized statement proved in the first sub-problem, with $2N-1 = 2023$, which gives $N=1012$. From the result of the first sub-problem, we know that $a_1 + a_{2N-1} \\ge N+1$. Substituting $N=1012$ and using the indices from the original problem, we get $a_1 + a_{2023} \\ge 1012+1 = 1013$. Since $2 \\max(a_1, a_{2023}) \\ge a_1 + a_{2023}$, it follows that $2 \\max(a_1, a_{2023}) \\ge 1013$. This implies $\\max(a_1, a_{2023}) \\ge \frac{1013}{2} = 506.5$. As $a_1$ and $a_{2023}$ are integers, $\\max(a_1, a_{2023})$ must also be an integer. Therefore, $\\max(a_1, a_{2023}) \\ge \\lceil 506.5 \rceil = 507$.",,,,
2023a7,"Let $N$ be a positive integer. Prove that there exist three permutations $a_{1}, a_{2}, \ldots, a_{N}$; $b_{1}, b_{2}, \ldots, b_{N}$; and $c_{1}, c_{2}, \ldots, c_{N}$ of $1,2, \ldots, N$ such that

$$
\left|\sqrt{a_{k}}+\sqrt{b_{k}}+\sqrt{c_{k}}-2 \sqrt{N}\right|<2023
$$

for every $k=1,2, \ldots, N$.",4,"Let $T_m$ be the multiset $\{1_{\times 1}, 2_{\times 2}, \\ldots, m_{\times m}\}$. Prove that there exist three permutations $(u_k), (v_k), (w_k)$ of the elements in $T_m$ such that $u_k+v_k+w_k = 2m+1$ for all $k=1, \\ldots, \frac{m(m+1)}{2}$.","We proceed by induction on $m$. The base cases $m=1,2$ are trivial. Assume the statement holds for $m-1$, giving permutations $(u'_j), (v'_j), (w'_j)$ of $T_{m-1}$ with sum $2m-1$. To construct the permutations for $T_m$, we define them in two parts. For $k=1, \\ldots, \frac{m(m-1)}{2}$, set $u_k=u'_k, v_k=v'_k+1, w_k=w'_k+1$. For $k=\frac{m(m-1)}{2}+r$ with $r=1, \\ldots, m$, set $u_k=m, v_k=r, w_k=m+1-r$. The sum is $2m+1$ in both cases. The set of all constructed $\{u_k\}$ is $T_{m-1} \\sqcup \\{m_{\times m}\\} = T_m$. The set of all $\{v_k\}$ and $\{w_k\}$ is $(T_{m-1}+1) \\sqcup \\{1, \\ldots, m\\}$, which is also equal to $T_m$. Thus, these are valid permutations.","For any integer $m \\ge 1$, let $N=m(m+1)$. Prove that there exist three permutations $(a_k), (b_k), (c_k)$ of $\{1, \\ldots, N\}$ such that $|\\sqrt{a_k}+\\sqrt{b_k}+\\sqrt{c_k}-2\\sqrt{N}| < 3$.","For $j \\in \\{1, \\ldots, N\\}$, let $r(j) = \text{round}(\\sqrt{j})$. The multiset of these rounded values is $\\{1_{\times 2}, 2_{\times 4}, \\ldots, m_{\times 2m}\\}$. Using the result from Sub-problem 1, we can construct permutations $(U_k), (V_k), (W_k)$ of this multiset such that $U_k+V_k+W_k=2m+1$ for all $k$. We can then define permutations $(a_k), (b_k), (c_k)$ of $\\{1, \\ldots, N\\}$ such that $r(a_k)=U_k$, $r(b_k)=V_k$, and $r(c_k)=W_k$. Since $|\\sqrt{x}-r(x)|<0.5$, we have $|\\sqrt{a_k}+\\sqrt{b_k}+\\sqrt{c_k}-(U_k+V_k+W_k)| < 1.5$, so $|\\sqrt{a_k}+\\sqrt{b_k}+\\sqrt{c_k}-(2m+1)| < 1.5$. Also, $m < \\sqrt{m^2+m} < m+1/2$, which implies $2m < 2\\sqrt{N} < 2m+1$, so $|(2m+1)-2\\sqrt{N}| < 1$. By the triangle inequality, $|\\sqrt{a_k}+\\sqrt{b_k}+\\sqrt{c_k}-2\\sqrt{N}| < 1.5 + 1 = 2.5 < 3$.","Let $N$ be a positive integer and $m$ be an integer such that $N_0 = m(m+1) \\le N < (m+1)(m+2)$. Let $t = N-N_0$. Given permutations $(a'_k), (b'_k), (c'_k)$ of $\{1, \\ldots, N_0\}$, describe a method to construct three permutations $(A_k), (B_k), (C_k)$ of $\{1, \\ldots, N\}$.","Let $L = \\lfloor \frac{4}{9}N \rfloor$. We construct the permutation $(A_k)$ of $\{1, \\ldots, N\}$. For $k=1, \\ldots, N_0$, set $A_k = a'_k$ if $a'_k \\le L$, and $A_k = a'_k+t$ if $a'_k > L$. For $k=N_0+r$ where $r \\in \\{1, \\ldots, t\\}$, set $A_k = L+r$. The set of values $\{A_k\\}_{k=1}^N$ is the union of $\\{1, \\ldots, L\\} \\cup \\{L+t+1, \\ldots, N_0+t\\}$ and $\\{L+1, \\ldots, L+t\\}$, which is exactly $\{1, \\ldots, N\}$. Thus $(A_k)$ is a permutation of $\{1, \\ldots, N\}$. The permutations $(B_k)$ and $(C_k)$ are constructed from $(b'_k)$ and $(c'_k)$ in an identical manner.","Let $N$ be a positive integer. Prove that there exist three permutations $a_{1}, a_{2}, \\ldots, a_{N}$; $b_{1}, b_{2}, \\ldots, b_{N}$; and $c_{1}, c_{2}, \\ldots, c_{N}$ of $1,2, \\ldots, N$ such that\n\n$$\n\\left|\\sqrt{a_{k}}+\\sqrt{b_{k}}+\\sqrt{c_{k}}-2 \\sqrt{N}\right|<2023\n$$\n\nfor every $k=1,2, \\ldots, N$.","Let $m$ be such that $N_0=m(m+1) \\le N < (m+1)(m+2)$. From Sub-problem 2, there are permutations $(a'_k), (b'_k), (c'_k)$ of $\{1, \\ldots, N_0\}$ with $|\\sqrt{a'_k}+\\sqrt{b'_k}+\\sqrt{c'_k}-2\\sqrt{N_0}|<2.5$. We use the construction from Sub-problem 3 to get permutations $(A_k), (B_k), (C_k)$ of $\{1, \\ldots, N\}$. For $k=1, \\ldots, N_0$, the change $|\\sqrt{A_k}-\\sqrt{a'_k}|$ is small (bounded by 2). For $k=N_0+1, \\ldots, N$, the sum $\\sqrt{A_k}+\\sqrt{B_k}+\\sqrt{C_k}$ is constructed to be close to $2\\sqrt{N}$. A detailed error analysis shows that for all $k \\in \\{1, \\ldots, N\\}$, the inequality $|\\sqrt{A_k}+\\sqrt{B_k}+\\sqrt{C_k}-2\\sqrt{N}| < 8.5$ holds. Since $8.5 < 2023$, the proof is complete."
2023c5,"Elisa has 2023 treasure chests, all of which are unlocked and empty at first. Each day, Elisa adds a new gem to one of the unlocked chests of her choice, and afterwards, a fairy acts according to the following rules:

\begin{itemize}
  \item if more than one chests are unlocked, it locks one of them, or
  \item if there is only one unlocked chest, it unlocks all the chests.
\end{itemize}

Given that this process goes on forever, prove that there is a constant $C$ with the following property: Elisa can ensure that the difference between the numbers of gems in any two chests never exceeds $C$, regardless of how the fairy chooses the chests to lock.",4,Define Elisa's strategy and an auxiliary sequence $(b_i^t)$. Establish the basic properties that this sequence is non-decreasing and its sum is equal to the total number of gems.,"Elisa's strategy is to always add a gem to a chest with the minimum number of gems. Let $n=2023$. Define an auxiliary sequence $(b_i^t)$ for $t \ge 0$ by setting $b_i^0 = i - \frac{n+1}{2}$ for $1 \\le i \\le n$. For $t \\ge 0$, $(b_i^{t+1})$ is obtained from $(b_i^t)$ by adding 1 to $b_j^t$ where $j \\equiv t+1 \\pmod n$, and keeping other values the same. This construction ensures two properties for all $t \\ge 0$: 1. The sum is $\\sum_{i=1}^n b_i^t = \\sum_{i=1}^n b_i^0 + t = 0 + t = t$. 2. The sequence is non-decreasing, $b_1^t \\le b_2^t \\le \\dots \\le b_n^t$, since $b_{i+1}^0 - b_i^0 = 1$ and the updates preserve the non-decreasing nature.","Let $a_1^t \\le a_2^t \\le \\dots \\le a_n^t$ be the sorted number of gems in the chests. State the majorization hypothesis relating $(a_i^t)$ and $(b_i^t)$, and prove the base case for $t=0$.","We claim that for all $t \\ge 0$, the sequence $(b_i^t)$ majorizes $(a_i^t)$. This means $\\sum_{i=1}^k b_i^t \\le \\sum_{i=1}^k a_i^t$ for all $1 \\le k < n$, and the sums are equal for $k=n$. For the base case $t=0$, we have $a_i^0=0$ for all $i$. The condition $\\sum_{i=1}^n b_i^0 = \\sum_{i=1}^n a_i^0 = 0$ is met. For $1 \\le k < n$, we must check $\\sum_{i=1}^k b_i^0 \\le 0$. The sum is $\\sum_{i=1}^k (i - \frac{n+1}{2}) = \frac{k(k+1)}{2} - k\frac{n+1}{2} = \frac{k(k-n)}{2}$, which is non-positive since $1 \\le k < n$. Thus the base case holds.",Prove by induction on $t$ that the sequence $(b_i^t)$ majorizes the sequence $(a_i^t)$ for all $t \\ge 0$.,"Assume the majorization property holds for $t$. For $t+1$, suppose for contradiction that it fails. Let $k$ be the smallest index such that $\\sum_{i=1}^k b_i^{t+1} > \\sum_{i=1}^k a_i^{t+1}$. This implies (i) $\\sum_{i=1}^k b_i^t = \\sum_{i=1}^k a_i^t$, (ii) $t+1 \\equiv j \\pmod n$ for some $j \\le k$, and (iii) Elisa places the gem in a chest whose sorted index $m(t)$ is greater than $k$. From (iii), Elisa's strategy implies $a_k^t = a_{k+1}^t$. From (i) and the induction hypothesis for $k-1$, we get $a_k^t \\le b_k^t$. From (ii), $t \not\\equiv k \\pmod n$, so $b_k^t < b_{k+1}^t$. Thus, $a_{k+1}^t = a_k^t \\le b_k^t < b_{k+1}^t$. Now consider the sum up to $k+1$: $\\sum_{i=1}^{k+1} a_i^t = \\sum_{i=1}^k a_i^t + a_{k+1}^t = \\sum_{i=1}^k b_i^t + a_{k+1}^t < \\sum_{i=1}^k b_i^t + b_{k+1}^t = \\sum_{i=1}^{k+1} b_i^t$. This contradicts the induction hypothesis that $\\sum_{i=1}^{k+1} b_i^t \\le \\sum_{i=1}^{k+1} a_i^t$. Thus, the majorization holds for $t+1$.","Given that the process goes on forever, prove that there is a constant $C$ with the following property: Elisa can ensure that the difference between the numbers of gems in any two chests never exceeds $C$, regardless of how the fairy chooses the chests to lock.","The majorization of $(a_i^t)$ by $(b_i^t)$ implies $a_n^t - a_1^t \\le b_n^t - b_1^t$. We can bound the difference for the auxiliary sequence. For $t \\ge 0$, $b_n^t - b_1^t$ is either $n-1$ or $n-2$. This is because $b_n^0 - b_1^0 = (n - \frac{n+1}{2}) - (1 - \frac{n+1}{2}) = n-1$, and for $t \ge 1$, the difference $b_n^t - b_1^t$ changes by $\\lfloor\frac{t-n}{n}\rfloor - \\lfloor\frac{t-1}{n}\rfloor$, which is either 0 or -1. Thus, $b_n^t - b_1^t \\le n-1$ for all $t$. The maximum number of gems in a chest is $a_n^t$ and the minimum is $a_1^t$, so their difference is bounded by $n-1$. For $n=2023$, we can take the constant $C=2022$."
2023g1,"Let $A B C D E$ be a convex pentagon such that $\angle A B C=\angle A E D=90^{\circ}$. Suppose that the midpoint of $C D$ is the circumcentre of triangle $A B E$. Let $O$ be the circumcentre of triangle $A C D$.

Prove that line $A O$ passes through the midpoint of segment $B E$.",2,"Let $A B C D E$ be a convex pentagon with $\angle A B C=\angle A E D=90^{\circ}$. Let $M$ be the midpoint of $CD$. If $M$ is the circumcentre of triangle $A B E$, prove that $A D \| B C$ and $A C \| E D$.","Let $X = BC \cap ED$. Since $\angle ABX = \angle AEX = 90^\circ$, the quadrilateral $ABEX$ is cyclic with diameter $AX$. The circumcenter of $\triangle ABE$ is the midpoint of $AX$. We are given that this circumcenter is $M$, the midpoint of $CD$. Since the diagonals $AX$ and $CD$ of the quadrilateral $ACXD$ bisect each other at $M$, $ACXD$ is a parallelogram. Therefore, its opposite sides are parallel: $AD \| CX$ (i.e., $AD \| BC$) and $AC \| DX$ (i.e., $AC \| ED$).",Let $A B C D E$ be a convex pentagon such that $\angle A B C=\angle A E D=90^{\circ}$. Suppose that the midpoint of $C D$ is the circumcentre of triangle $A B E$. Let $O$ be the circumcentre of triangle $A C D$. Prove that line $A O$ passes through the midpoint of segment $B E$.,"To prove that $AO$ bisects $BE$, it suffices to show that the areas $[OAB]$ and $[OAE]$ are equal. We know from the previous step that $AD \| BC$ and $AC \| ED$. Let $C'$ and $D'$ be the midpoints of $AC$ and $AD$ respectively. As $O$ is the circumcenter of $\triangle ACD$, $OD' \perp AD$. Since $AD \| BC$ and $BC \perp AB$, we have $OD' \| AB$. Thus, $[OAB] = [D'AB]$. Because $AD \| BC$, $[D'AB] = [D'AC] = \frac{1}{2}[ACD]$. Similarly, $OC' \perp AC$. Since $AC \| ED$ and $ED \perp AE$, we have $OC' \| AE$. Thus, $[OAE] = [C'AE]$. Because $AC \| ED$, $[C'AE] = [C'AD] = \frac{1}{2}[ACD]$. Therefore, $[OAB] = [OAE]$, which proves that line $AO$ bisects segment $BE$.",,,,
2023g2,"Let $A B C$ be a triangle with $A C>B C$. Let $\omega$ be the circumcircle of triangle $A B C$ and let $r$ be the radius of $\omega$. Point $P$ lies on segment $A C$ such that $B C=C P$ and point $S$ is the foot of the perpendicular from $P$ to line $A B$. Let ray $B P$ intersect $\omega$ again at $D$ and let $Q$ lie on line $S P$ such that $P Q=r$ and $S, P, Q$ lie on the line in that order. Finally, let the line perpendicular to $C Q$ from $A$ intersect the line perpendicular to $D Q$ from $B$ at $E$.

Prove that $E$ lies on $\omega$.",2,Let $O$ be the center of the circumcircle $\omega$. Prove that $DA=DP$ and that triangle $AOD$ is congruent to triangle $PQD$.,"First, we show $DA=DP$. We have the chain of equalities: $\\angle DPA = \\angle BPC$ (vertically opposite), $\\angle BPC = \\angle CBP$ (since $BC=CP$), $\\angle CBP = \\angle CBD$ ($B,P,D$ are collinear), $\\angle CBD = \\angle CAD$ (angles subtended by arc $CD$ on $\\omega$), and $\\angle CAD = \\angle PAD$ ($A,P,C$ are collinear). Thus, $\\angle DPA = \\angle PAD$, which implies $\triangle APD$ is isosceles with $DA=DP$. \nTo prove congruence between $\triangle AOD$ and $\triangle PQD$, we establish three equalities:\n1. $AO = PQ = r$. $AO$ is the radius of $\\omega$ and $PQ=r$ is given.\n2. $DA=DP$, as shown above.\n3. $\\angle DAO = \\angle DPQ$. In isosceles $\triangle AOD$ ($OA=OD=r$), $\\angle DAO = 90^\\circ - \\angle ABD$. Line $PQ$ is perpendicular to $AB$, so the angle between line $DP$ (collinear with $DB$) and line $PQ$ is $\\angle DPQ = 90^\\circ - \\angle ABD$.\nThese equalities establish that $\triangle AOD \\cong \triangle PQD$.",Let the line perpendicular to $CQ$ from $A$ intersect the line perpendicular to $DQ$ from $B$ at $E$. Prove that $E$ lies on $\\omega$.,"Let $E'$ be the reflection of $P$ across the line $CD$. We first show $E' \\in \\omega$. By reflection, $\\angle CE'D = \\angle CPD$. We also have $\\angle CPD = 180^\\circ - \\angle CPB = 180^\\circ - \\angle CBP = 180^\\circ - \\angle CBD$. Thus $\\angle CE'D + \\angle CBD = 180^\\circ$, which means $BCE'D$ is a cyclic quadrilateral. As $B,C,D$ are on $\\omega$, $E'$ must also be on $\\omega$.\nNow we show that $E' = E$. By the symmetry established by $DA=DP$ (from Sub-problem 1) and $CB=CP$ (given), it suffices to prove $BE' \\perp DQ$. This is equivalent to showing $\\angle QDB + \\angle DBE' = 90^\\circ$.\nFrom Sub-problem 1, $\triangle AOD \\cong \triangle PQD$, which implies $\\angle QDB = \\angle ODA$. Since $A,B,E',D$ are on $\\omega$, $\\angle DBE' = \\angle DAE'$. So we need to show $\\angle ODA + \\angle DAE' = 90^\\circ$.\nSince $E'$ is the reflection of $P$ in $CD$, $DE'=DP$. With $DA=DP$, we get $DA=DE'$, so $\triangle ADE'$ is isosceles with $\\angle DAE' = \\angle AE'D$. The condition becomes $\\angle ODA + \\angle AE'D = 90^\\circ$. In isosceles $\triangle OAD$, $\\angle ODA = 90^\\circ - \\angle ABD$. Also, $\\angle AE'D = \\angle ABD$ as they subtend the same arc $AD$. Substituting these gives $(90^\\circ - \\angle ABD) + \\angle ABD = 90^\\circ$. This proves $BE' \\perp DQ$. Thus $E'=E$, and since $E' \\in \\omega$, $E$ lies on $\\omega$.",,,,
2023g3,"Let $A B C D$ be a cyclic quadrilateral with $\angle B A D<\angle A D C$. Let $M$ be the midpoint of the arc $C D$ not containing $A$. Suppose there is a point $P$ inside $A B C D$ such that $\angle A D B=$ $\angle C P D$ and $\angle A D P=\angle P C B$.

Prove that lines $A D, P M, B C$ are concurrent.",2,"Let $X=AM \cap PD$ and $Y=BM \cap PC$. Prove that quadrilateral $MXPY$ is a parallelogram, and as a consequence, $AM \| PC$ and $BM \| PD$.","Since $M$ is the midpoint of arc $CD$, angles subtended by equal arcs are equal, so $\angle MAD = \angle MBC$. Given $\angle ADP = \angle PCB$, we compare triangles $\triangle ADX$ and $\triangle CBY$. The equality of two pairs of angles implies the third pair must be equal: $\angle AXD = \angle CYB$. Their supplementary angles are therefore also equal, $\angle PXM = \angle MYP$. For the other pair of opposite angles in quadrilateral $MXPY$, we have $\angle YPX = \angle CPD$. It is given that $\angle CPD = \angle ADB$. Since points $A, B, D, M$ lie on a circle, $\angle ADB = \angle AMB = \angle XMY$. Thus, $\angle YPX = \angle XMY$. As both pairs of opposite angles of $MXPY$ are equal, it is a parallelogram. Therefore, its opposite sides are parallel, which means $AM \| PC$ and $BM \| PD$.","Prove that lines $A D, P M, B C$ are concurrent.","Let $R$ be the intersection of $AM$ and $BC$, and $S$ be the intersection of $BM$ and $AD$. From the previous result, we have $AM \| PC$ and $BM \| PD$. The parallel lines and transversals give $\angle ARB = \angle PCB$ and $\angle ASB = \angle ADP$. Since we are given $\angle ADP=\angle PCB$, we get $\angle ARB = \angle ASB$. This implies that points $A, B, R, S$ are concyclic. In the cyclic quadrilateral $ABRS$, $\angle SRB = 180^\circ - \angle SAB = 180^\circ - \angle DAB$. As $ABCD$ is also a cyclic quadrilateral, $180^\circ - \angle DAB = \angle BCD$. Therefore, $\angle SRB = \angle BCD$, which implies that $SR \| CD$. Now, consider the triangles $\triangle PCD$ and $\triangle MRS$. We have established that their corresponding sides are parallel: $PC \| MR$, $PD \| MS$, and $CD \| SR$. Thus, the two triangles are homothetic. The lines joining corresponding vertices must be concurrent at the center of homothety. These lines are $PM$, $CR$ (which is the line $BC$), and $DS$ (which is the line $AD$). Therefore, $AD, PM, BC$ are concurrent.",,,,
2023g6,"Let $A B C$ be an acute-angled triangle with circumcircle $\omega$. A circle $\Gamma$ is internally tangent to $\omega$ at $A$ and also tangent to $B C$ at $D$. Let $A B$ and $A C$ intersect $\Gamma$ at $P$ and $Q$ respectively. Let $M$ and $N$ be points on line $B C$ such that $B$ is the midpoint of $D M$ and $C$ is the midpoint of $D N$. Lines $M P$ and $N Q$ meet at $K$ and intersect $\Gamma$ again at $I$ and $J$ respectively. The ray $K A$ meets the circumcircle of triangle $I J K$ at $X \neq K$.

Prove that $\angle B X P=\angle C X Q$.",3,"Show that point $K$ lies on the angle bisector $AD$ of $\angle BAC$, and that $A$ is the midpoint of the line segment $XD$.","A homothety at $A$ mapping $\Gamma \to \omega$ implies $PQ \| BC$ and that $AD$ is the angle bisector of $\angle BAC$. Let $K_1=MP \cap AD$. By Menelaus' theorem on $\triangle ABD$ with transversal $MK_1P$, we have $\frac{AK_1}{K_1D} = \frac{AP}{PB}\frac{BM}{MD} = \frac{AP}{2PB}$. By symmetry, if $K_2=NQ \cap AD$, then $\frac{AK_2}{K_2D} = \frac{AQ}{2QC}$. As $PQ \| BC$, $\frac{AP}{PB}=\frac{AQ}{QC}$, so $K_1=K_2$, which means $K$ lies on $AD$. The concyclicity of $I,J,K,X$ implies $\angle JXN = \angle JXK = \angle JIK$. As points $A,P,D,I,J,Q$ lie on $\Gamma$, $\angle JIK = \angle JQP$. Since $PQ\|BC$, $\angle JQP = \angle JNC$. So $\angle JXN = \angle JNC$, making $JXND$ cyclic. From this, $\angle DXN = \angle DJN = \angle DAQ = \angle DAC$, so $XN \| AC$. In $\triangle XDN$, since $C$ is the midpoint of $DN$ and $AC \| XN$, $A$ is the midpoint of $XD$.",Prove that triangle $PDC$ is similar to triangle $PAX$.,"From sub-problem 1, $AD$ bisects $\angle BAC$, so $\angle PAD = \angle CAD$. Since $APDQ$ is a cyclic quadrilateral on $\Gamma$, $\angle ADP = \angle AQP$. As $PQ \| BC$, we have $\angle AQP = \angle ACB$. Thus $\angle ADP = \angle ACD$. By AA similarity, $\triangle APD \sim \triangle ADC$. This yields $\frac{AD}{AP} = \frac{CD}{DP}$. From sub-problem 1, $A$ is the midpoint of $XD$, so $AD=AX$. The ratio becomes $\frac{AX}{AP} = \frac{CD}{DP}$. The angle between the tangent $BC$ at $D$ and chord $DP$ of circle $\Gamma$ is $\angle BDP = \angle PAD$. As $A$ is between $X$ and $D$, $\angle XAP = 180^\circ - \angle PAD$. Also, $\angle CDP = 180^\circ - \angle BDP$. So $\angle XAP = \angle CDP$. By SAS similarity, using the side ratio and the included angle, we conclude $\triangle PAX \sim \triangle PDC$.",Prove that $\angle B X P=\angle C X Q$.,"From the similarity $\triangle PAX \sim \triangle PDC$ established in sub-problem 2, there is a spiral similarity centered at $P$ that maps segment $AX$ to $DC$. This implies that $\triangle PXC$ is similar to $\triangle PAD$. Consequently, $\angle PXC = \angle PAD$. Since $AD$ bisects $\angle BAC$, $\angle PAD = \frac{1}{2}\angle BAC$. So, $\angle PXC = \frac{1}{2}\angle BAC$. We can then write $\angle BXP = \angle BXC - \angle PXC = \angle BXC - \frac{1}{2}\angle BAC$. The entire problem's setup is symmetric with respect to swapping $B$ and $C$ (which also swaps $P$ and $Q$). By a symmetric argument, a similar derivation shows $\angle QXB = \frac{1}{2}\angle BAC$. Then, $\angle CXQ = \angle CXB - \angle QXB = \angle BXC - \frac{1}{2}\angle BAC$. Therefore, $\angle BXP = \angle CXQ$.",,
2023g7,"Let $A B C$ be an acute, scalene triangle with orthocentre $H$. Let $\ell_{a}$ be the line through the reflection of $B$ with respect to $C H$ and the reflection of $C$ with respect to $B H$. Lines $\ell_{b}$ and $\ell_{c}$ are defined similarly. Suppose lines $\ell_{a}, \ell_{b}$, and $\ell_{c}$ determine a triangle $\mathcal{T}$.

Prove that the orthocentre of $\mathcal{T}$, the circumcentre of $\mathcal{T}$ and $H$ are collinear.",3,Let $A_1$ be the vertex of triangle $\mathcal{T}$ defined by $\ell_b \cap \ell_c$. Let $A_b$ and $A_c$ be the reflections of vertex $A$ of $\triangle ABC$ with respect to lines $BH$ and $CH$ respectively. Prove that $A_1$ lies on the circumcircle of $\triangle A A_b A_c$ and that $H$ is the center of this circle.,"Let $B_a$ and $C_a$ be the reflections of $B$ and $C$ in line $AH$. By definition, $A_1$ is the intersection of line $A_c C_a$ (which is $\ell_b$) and line $A_b B_a$ (which is $\ell_c$). The triangles $\triangle A A_b A_c$ and $\triangle A B_a C_a$ are known to be oppositely similar with $A$ as the center of similarity. This implies, using directed angles, that $\Varangle A_c A_1 A_b = \Varangle A_c A A_b$, which places $A_1$ on the circumcircle of $\triangle A A_b A_c$. By the definition of reflections, $CH$ is the perpendicular bisector of $AA_c$ and $BH$ is the perpendicular bisector of $AA_b$. Thus, their intersection, $H$, is the circumcenter of $\triangle A A_b A_c$.",Prove that the triangle $\mathcal{T} \equiv \triangle A_1 B_1 C_1$ is oppositely similar to the original triangle $\triangle ABC$.,"From the first sub-problem, $A_1$ lies on the circumcircle of $\triangle A A_b A_c$. Using directed angles, we have $\Varangle C_1 A_1 B_1 = \Varangle A_c A_1 A_b = \Varangle A_c A A_b$. This angle can be shown to be equal to $-\Varangle CAB$. By symmetry, the same holds for the other angles: $\Varangle A_1 B_1 C_1 = -\Varangle ABC$ and $\Varangle B_1 C_1 A_1 = -\Varangle BCA$. These angle relations imply that $\triangle A_1 B_1 C_1$ is oppositely similar to $\triangle ABC$.","Prove that the orthocentre of $\mathcal{T}$, the circumcentre of $\mathcal{T}$ and $H$ are collinear.","Let $O_1$ and $H_1$ be the circumcentre and orthocentre of $\mathcal{T} \equiv \triangle A_1 B_1 C_1$. From sub-problem 2, $\triangle A_1 B_1 C_1$ is similar to $\triangle ABC$. Let $\lambda$ be the ratio of similarity. Since $H_1$ and $H$ are corresponding orthocenters, we have $\frac{H_1 A_1}{H A} = \frac{H_1 B_1}{H B} = \frac{H_1 C_1}{H C} = \lambda$. From sub-problem 1, we know $HA=HA_1$, $HB=HB_1$, and $HC=HC_1$. Substituting these gives $\frac{H_1 A_1}{H A_1} = \frac{H_1 B_1}{H B_1} = \frac{H_1 C_1}{H C_1} = \lambda$. This means the vertices $A_1, B_1, C_1$ lie on the Apollonian circle for the segment $HH_1$ with ratio $\lambda$. The circumcircle of $\triangle A_1 B_1 C_1$ is this Apollonian circle, and its center, $O_1$, must lie on the line connecting the foci $H$ and $H_1$.",,
2023g8,"Let $A B C$ be an equilateral triangle. Points $A_{1}, B_{1}, C_{1}$ lie inside triangle $A B C$ such that triangle $A_{1} B_{1} C_{1}$ is scalene, $B A_{1}=A_{1} C, C B_{1}=B_{1} A, A C_{1}=C_{1} B$ and

$$
\angle B A_{1} C+\angle C B_{1} A+\angle A C_{1} B=480^{\circ} .
$$

Lines $B C_{1}$ and $C B_{1}$ intersect at $A_{2}$; lines $C A_{1}$ and $A C_{1}$ intersect at $B_{2}$; and lines $A B_{1}$ and $B A_{1}$ intersect at $C_{2}$.

Prove that the circumcircles of triangles $A A_{1} A_{2}, B B_{1} B_{2}, C C_{1} C_{2}$ have two common points.",1,"Let $A B C$ be an equilateral triangle. Points $A_{1}, B_{1}, C_{1}$ lie inside triangle $A B C$ such that triangle $A_{1} B_{1} C_{1}$ is scalene, $B A_{1}=A_{1} C, C B_{1}=B_{1} A, A C_{1}=C_{1} B$ and

$$
\angle B A_{1} C+\angle C B_{1} A+\angle A C_{1} B=480^{\circ} .
$$

Lines $B C_{1}$ and $C B_{1}$ intersect at $A_{2}$; lines $C A_{1}$ and $A C_{1}$ intersect at $B_{2}$; and lines $A B_{1}$ and $B A_{1}$ intersect at $C_{2}$.

Prove that the circumcircles of triangles $A A_{1} A_{2}, B B_{1} B_{2}, C C_{1} C_{2}$ have two common points.","Let $\delta_{A}, \delta_{B}, \delta_{C}$ be the circumcircles of $\triangle A A_{1} A_{2}, \triangle B B_{1} B_{2}, \triangle C C_{1} C_{2}$. The general strategy of the solution is to find two different points having equal power with respect to $\delta_{A}, \delta_{B}, \delta_{C}$.\\
Claim. $A_{1}$ is the circumcentre of $A_{2} B C$ and cyclic variations.\\
Proof. Since $A_{1}$ lies on the perpendicular bisector of $B C$ and inside $\triangle B A_{2} C$, it suffices to prove $\angle B A_{1} C=2 \angle B A_{2} C$. This follows from

$$
\begin{aligned}
\angle B A_{2} C & =\angle A_{2} B A+\angle B A C+\angle A C A_{2} \\
& =\frac{1}{2}\left(\left(180^{\circ}-\angle A C_{1} B\right)+\left(180^{\circ}-\angle C B_{1} A\right)\right)+60^{\circ} \\
& =240^{\circ}-\frac{1}{2}\left(480^{\circ}-\angle B A_{1} C\right) \\
& =\frac{1}{2} \angle B A_{1} C
\end{aligned}
$$

\begin{center}
\includegraphics[max width=\textwidth]{2025_04_28_d3623935e31baf0b55e8g-80}
\end{center}

The circumcentres above give

$$
\angle B_{1} B_{2} C_{1}=\angle B_{1} B_{2} A=\angle B_{2} A B_{1}=\angle C_{1} A C_{2}=\angle A C_{2} C_{1}=\angle B_{1} C_{2} C_{1}
$$

and so $B_{1} C_{1} B_{2} C_{2}$ is cyclic. Likewise $C_{1} A_{1} C_{2} A_{2}$ and $A_{1} B_{1} A_{2} B_{2}$ are cyclic. Note that hexagon $A_{1} B_{2} C_{1} A_{2} B_{1} C_{2}$ is not cyclic since

$$
\angle C_{2} A_{1} B_{2}+\angle B_{2} C_{1} A_{2}+\angle A_{2} B_{1} C_{2}=480^{\circ} \neq 360^{\circ} .
$$

Thus we can apply radical axis theorem to the three circles to show that $A_{1} A_{2}, B_{1} B_{2}, C_{1}, C_{2}$ concur at a point $X$ and this point has equal power with respect to $\delta_{A}, \delta_{B}, \delta_{C}$.

Let the circumcircle of $\triangle A_{2} B C$ meet $\delta_{A}$ at $A_{3} \neq A_{2}$. Define $B_{3}$ and $C_{3}$ similarly.\\
Claim. $\mathrm{BCB}_{3} C_{3}$ cyclic.\\
Proof. Using directed angles


\begin{align*}
\Varangle B C_{3} C & =\Varangle B C_{3} C_{2}+\Varangle C_{2} C_{3} C \\
& =\Varangle B A C_{2}+\Varangle C_{2} C_{1} C \\
& =90^{\circ}+\Varangle\left(C_{1} C, A C_{2}\right)+\Varangle C_{2} C_{1} C  \tag{1}\\
& =90^{\circ}+\Varangle C_{1} C_{2} B_{1} .
\end{align*}


Similarly $\Varangle C B_{3} B=90^{\circ}+\Varangle B_{1} B_{2} C_{1}$. Hence, using $B_{1} C_{1} B_{2} C_{2}$ cyclic

$$
\Varangle B B_{3} C=90^{\circ}+\Varangle C_{1} B_{2} B_{1}=90^{\circ}+\Varangle C_{1} C_{2} B_{1}=\Varangle B C_{3} C
$$

as required.\\
\includegraphics[max width=\textwidth, center]{2025_04_28_d3623935e31baf0b55e8g-81}

Similarly $C A C_{3} A_{3}$ and $A B A_{3} B_{3}$ are cyclic. $A C_{3} B A_{3} C B_{3}$ is not cyclic because then $A B_{2} C B_{3}$ cyclic would mean $B_{2}$ lies on $\odot A B C$ which is impossible since $B_{2}$ lies inside $\triangle A B C$. Thus we can apply radical axis theorem to the three circles to get $A A_{3}, B B_{3}, C C_{3}$ concur at a point $Y$ which has equal power with respect to $\delta_{A}, \delta_{B}, \delta_{C}$.

We now make some technical observations before finishing.

\begin{itemize}
  \item Let $O$ be the centre of $\triangle A B C$. We have that
\end{itemize}

$$
\angle B A_{1} C=480^{\circ}-\angle C B_{1} A-\angle A C_{1} B>480^{\circ}-180^{\circ}-180^{\circ}=120^{\circ} .
$$

so $A_{1}$ lies inside $\triangle B O C$. We have similar results for $B_{1}, C_{1}$ and thus $\triangle B A_{1} C, \triangle C B_{1} A$, $\triangle A C_{1} B$ have disjoint interiors. It follows that $A_{1} B_{2} C_{1} A_{2} B_{1} C_{2}$ is a convex hexagon thus $X$ lies on segment $A_{1} A_{2}$ and therefore is inside $\delta_{A}$.

\begin{itemize}
  \item Since $A_{1}$ is the centre of $A_{2} B C$ we have that $A_{1} A_{2}=A_{1} A_{3}$ so, from cyclic quadrilateral $A A_{2} A_{1} A_{3}$ we get that lines $A A_{2}$ and $A A_{3} \equiv A Y$ are reflections in line $A A_{1}$. As $X$ lies on segment $A_{1} A_{2}$, the only way $X \equiv Y$ is if $A_{1}$ and $A_{2}$ both lie on the perpendicular bisector of $B C$. But this forces $B_{1}$ and $C_{1}$ to also be reflections in this line meaning $A_{1} B_{1}=A_{1} C_{1}$ contradicting the scalene condition.
\end{itemize}

Summarising, we have distinct points $X, Y$ with equal power with respect to $\delta_{A}, \delta_{B}, \delta_{C}$ thus these circles have a common radical axis. As $X$ lies inside $\delta_{A}$ (and similarly $\delta_{B}, \delta_{C}$ ), this radical axis intersects the circles at two points and so $\delta_{A}, \delta_{B}, \delta_{C}$ have two points in common.",,,,,,
2023n3,For positive integers $n$ and $k \geqslant 2$ define $E_{k}(n)$ as the greatest exponent $r$ such that $k^{r}$ divides $n!$. Prove that there are infinitely many $n$ such that $E_{10}(n)>E_{9}(n)$ and infinitely many $m$ such that $E_{10}(m)<E_{9}(m)$.,2,"Let $E_k(n)$ be the greatest exponent $r$ such that $k^r$ divides $n!$. Express $E_{10}(n)$ and $E_9(n)$ in terms of p-adic valuations $v_p(n!)$. Further, for an integer $n$ of the form $p^k$ where $p$ is a prime, provide an exact formula for $v_p(n!)$.","By Legendre's formula, for a prime $p$, the p-adic valuation of $n!$ is $v_p(n!) = \sum_{i=1}^\infty \lfloor n/p^i \rfloor$. The exponent of $10=2 \cdot 5$ in the prime factorization of $n!$ is $E_{10}(n) = \min(v_2(n!), v_5(n!))$. Since $5>2$, we have $v_5(n!) \le v_2(n!)$, so $E_{10}(n) = v_5(n!)$. The exponent of $9=3^2$ in $n!$ depends on the number of pairs of factor 3. Thus, $E_9(n) = \lfloor v_3(n!)/2 \rfloor$. For $n=p^k$, the sum in Legendre's formula is a geometric series: $v_p((p^k)!) = \sum_{i=1}^k \lfloor p^k/p^i \rfloor = \sum_{i=1}^k p^{k-i} = \sum_{j=0}^{k-1} p^j = \frac{p^k-1}{p-1} = \frac{n-1}{p-1}$.",For positive integers $n$ and $k \geqslant 2$ define $E_{k}(n)$ as the greatest exponent $r$ such that $k^{r}$ divides $n!$. Prove that there are infinitely many $n$ such that $E_{10}(n)>E_{9}(n)$ and infinitely many $m$ such that $E_{10}(m)<E_{9}(m)$.,"Using the established formulas $E_{10}(n)=v_5(n!)$ and $E_9(n) = \lfloor v_3(n!)/2 \rfloor$: 
1. To show $E_{10}(n)>E_{9}(n)$ for infinitely many $n$, consider the family $n=5^{2l-1}$ for $l \in \mathbb{Z}^+$. For these $n$, $E_{10}(n) = v_5(n!) = \frac{n-1}{5-1}=\frac{n-1}{4}$. Since $n = 5^{2l-1} \equiv 2 \pmod 3$, $v_3(n!) = \sum \lfloor n/3^i \rfloor < \frac{n-2}{3}+\frac{n}{9}+\frac{n}{27}+\dots = \frac{n}{2}-\frac{2}{3}$. So, $E_9(n) = \lfloor v_3(n!)/2 \rfloor < \frac{1}{2}(\frac{n}{2}-\frac{2}{3}) = \frac{n}{4}-\frac{1}{3}$. Thus, $E_{10}(n)=\frac{n-1}{4} > \frac{n}{4}-\frac{1}{3} > E_9(n)$ for this infinite family. 
2. To show $E_{10}(m)<E_{9}(m)$ for infinitely many $m$, consider the family $m=3^{4l-2}$ for $l \in \mathbb{Z}^+$. For these $m$, $v_3(m!) = \frac{m-1}{3-1}=\frac{m-1}{2}$. Since $m=9^{2l-1} \equiv 1 \pmod 4$, $E_9(m) = \lfloor \frac{v_3(m!)}{2} \rfloor = \lfloor \frac{m-1}{4} \rfloor = \frac{m-1}{4}$. As $m=9^{2l-1} \equiv 4 \pmod 5$, $E_{10}(m) = v_5(m!) < \frac{m-4}{5}+\frac{m}{25}+\dots = \frac{m}{4}-\frac{4}{5}$. Thus, $E_{10}(m) < \frac{m}{4}-\frac{4}{5} < \frac{m-1}{4} = E_9(m)$ for this infinite family. This completes the proof.",,,,
2023n5,"Let $a_{1}<a_{2}<a_{3}<\cdots$ be positive integers such that $a_{k+1}$ divides $2\left(a_{1}+a_{2}+\cdots+a_{k}\right)$ for every $k \geqslant 1$. Suppose that for infinitely many primes $p$, there exists $k$ such that $p$ divides $a_{k}$. Prove that for every positive integer $n$, there exists $k$ such that $n$ divides $a_{k}$.",2,"Let the sequence of positive integers $(a_k)$ be strictly increasing such that $a_{k+1}$ divides $2(a_1 + \cdots + a_k)$ for $k \ge 1$, and suppose that for infinitely many primes $p$, there exists $k$ such that $p$ divides $a_k$. For $k \ge 2$, define the integer sequence $b_k = \frac{2(a_1 + \cdots + a_{k-1})}{a_k}$. Prove that $b_{k+1} \le b_k + 1$ for all $k \ge 2$, and that the sequence $(b_k)$ is unbounded.","From the definition, $b_k a_k = 2(a_1 + \cdots + a_{k-1})$. Then $b_{k+1} a_{k+1} = 2(a_1 + \cdots + a_k) = 2(a_1 + \cdots + a_{k-1}) + 2a_k = b_k a_k + 2a_k = (b_k+2)a_k$. Since $a_k < a_{k+1}$, we have $b_{k+1} = (b_k+2)\frac{a_k}{a_{k+1}} < b_k+2$. As $b_{k+1}$ is an integer, $b_{k+1} \le b_k+1$. To prove $(b_k)$ is unbounded, assume for contradiction it is bounded by $B$. The relation $a_{k+1} = a_k \frac{b_k+2}{b_{k+1}}$ shows that any prime factor of $a_{k+1}$ must be a prime factor of $a_k$ or of $b_k+2$. If $(b_k)$ is bounded by $B$, then $b_k+2 \le B+2$ for all $k$. This implies the set of all prime factors of all terms $a_k$ is finite, a contradiction. Thus, $(b_k)$ is unbounded.","Let $a_{1}<a_{2}<a_{3}<\cdots$ be positive integers such that $a_{k+1}$ divides $2\left(a_{1}+a_{2}+\cdots+a_{k}\right)$ for every $k \geqslant 1$. Suppose that for infinitely many primes $p$, there exists $k$ such that $p$ divides $a_{k}$. Prove that for every positive integer $n$, there exists $k$ such that $n$ divides $a_{k}$.","Let $n$ be any positive integer. Define the sequence $b_k = \frac{2(a_1 + \cdots + a_{k-1})}{a_k}$ for $k \ge 2$. From the previous sub-problem, we know that $(b_k)$ is an unbounded sequence of integers such that $b_{k+1} \le b_k + 1$. We may assume $n > b_2$. Since $(b_k)$ is unbounded, there exists a smallest integer $k_0 \ge 2$ such that $b_{k_0+1} \ge n$. By minimality, $b_{k_0} < n$. Using the inequality, $n \le b_{k_0+1} \le b_{k_0} + 1 < n+1$. This implies $b_{k_0+1} = n$. From $n \le b_{k_0} + 1$, we get $b_{k_0} \ge n-1$. With $b_{k_0} < n$, we have $b_{k_0} = n-1$. From the relation $b_{k+1}a_{k+1} = (b_k+2)a_k$, we substitute $k=k_0$ to get $n \cdot a_{k_0+1} = (n-1+2)a_{k_0} = (n+1)a_{k_0}$. Since $\gcd(n, n+1)=1$, it follows that $n$ must divide $a_{k_0}$.",,,,
2023n6,"A sequence of integers $a_{0}, a_{1}, a_{2}, \ldots$ is called kawaii, if $a_{0}=0, a_{1}=1$, and, for any positive integer $n$, we have

$$
\left(a_{n+1}-3 a_{n}+2 a_{n-1}\right)\left(a_{n+1}-4 a_{n}+3 a_{n-1}\right)=0 .
$$

An integer is called kawaii if it belongs to a kawaii sequence.\\
Suppose that two consecutive positive integers $m$ and $m+1$ are both kawaii (not necessarily belonging to the same kawaii sequence). Prove that 3 divides $m$, and that $m / 3$ is kawaii.",2,"Show that any kawaii integer is congruent to 0 or 1 modulo 3. Consequently, if `m` and `m+1` are both kawaii, prove that 3 divides `m`.","The recurrence for a kawaii sequence `(a_n)` is `a_{n+1} = 3a_n - 2a_{n-1}` or `a_{n+1} = 4a_n - 3a_{n-1}`. Modulo 3, this becomes `a_{n+1} \equiv a_{n-1} \pmod{3}` or `a_{n+1} \equiv a_n \pmod{3}`. Since `a_0 = 0` and `a_1 = 1`, all terms `a_n` must be congruent to 0 or 1 modulo 3. If `m` is kawaii, then `m \equiv 0 \text{ or } 1 \pmod{3}`. If `m+1` is kawaii, then `m+1 \equiv 0 \text{ or } 1 \pmod{3}`, which implies `m \equiv 2 \text{ or } 0 \pmod{3}`. For both statements to hold, we must have `m \equiv 0 \pmod{3}`.","Suppose that two consecutive positive integers `m` and `m+1` are both kawaii. Prove that 3 divides `m`, and that `m / 3` is kawaii.","From Part 1, `m \equiv 0 \pmod{3}`. Kawaii sequences for `n \ge 1` are either all odd (if `a_2=3`) or all `\equiv 1 \pmod{3}` (if `a_2=4`). As `m \equiv 0 \pmod{3}`, it must belong to an all-odd sequence, making `m` odd. Thus, `m+1` is even and must belong to a sequence `(c_n)` of the second type, i.e., `c_n \equiv 1 \pmod{3}` for `n \ge 1` and `c_2=4`. Let `m+1 = c_t`. Define `b_k = (c_{k+1}-1)/3`. This sequence `(b_k)` is kawaii: `b_0=0`, `b_1=1`, and the recurrence holds. The term `b_{t-1}=(c_t-1)/3 = m/3` is in this sequence. Thus, `m/3` is kawaii.",,,,
2022a1,"Let $\left(a_{n}\right)_{n \geqslant 1}$ be a sequence of positive real numbers with the property that

$$
\left(a_{n+1}\right)^{2}+a_{n} a_{n+2} \leqslant a_{n}+a_{n+2}
$$

for all positive integers $n$. Show that $a_{2022} \leqslant 1$.",1,"Let $\left(a_{n}\right)_{n \geqslant 1}$ be a sequence of positive real numbers with the property that

$$
\left(a_{n+1}\right)^{2}+a_{n} a_{n+2} \leqslant a_{n}+a_{n+2}
$$

for all positive integers $n$. Show that $a_{2022} \leqslant 1$.","We begin by observing that $\left(a_{n+1}\right)^{2}-1 \leqslant a_{n}+a_{n+2}-a_{n} a_{n+2}-1$, which is equivalent to

$$
\left(a_{n+1}\right)^{2}-1 \leqslant\left(1-a_{n}\right)\left(a_{n+2}-1\right) .
$$

Suppose now that there exists a positive integer $n$ such that $a_{n+1}>1$ and $a_{n+2}>1$. Since $\left(a_{n+1}\right)^{2}-1 \leqslant\left(1-a_{n}\right)\left(a_{n+2}-1\right)$, we deduce that $0<1-a_{n}<1<1+a_{n+2}$, thus $\left(a_{n+1}\right)^{2}-1<\left(a_{n+2}+1\right)\left(a_{n+2}-1\right)=\left(a_{n+2}\right)^{2}-1$.

On the other hand, $\left(a_{n+2}\right)^{2}-1 \leqslant\left(1-a_{n+3}\right)\left(a_{n+1}-1\right)<\left(1+a_{n+1}\right)\left(a_{n+1}-1\right)=\left(a_{n+1}\right)^{2}-1$, a contradiction. We have shown that we cannot have two consecutive terms, except maybe $a_{1}$ and $a_{2}$, strictly greater than 1 .

Finally, suppose $a_{2022}>1$. This implies that $a_{2021} \leqslant 1$ and $a_{2023} \leqslant 1$. Therefore $0<$ $\left(a_{2022}\right)^{2}-1 \leqslant\left(1-a_{2021}\right)\left(a_{2023}-1\right) \leqslant 0$, a contradiction. We conclude that $a_{2022} \leqslant 1$.",,,,,,
2022a4,"Let $n \geqslant 3$ be an integer, and let $x_{1}, x_{2}, \ldots, x_{n}$ be real numbers in the interval [0, 1]. Let $s=x_{1}+x_{2}+\ldots+x_{n}$, and assume that $s \geqslant 3$. Prove that there exist integers $i$ and $j$ with $1 \leqslant i<j \leqslant n$ such that

$$
2^{j-i} x_{i} x_{j}>2^{s-3} .
$$",3,"Let $a,b$ be indices with $1 \le a < b \le n$ that maximize the value of $2^{j-i}x_i x_j$. Define integers $u,v$ and reals $\alpha, \beta$ by $x_a = 2^{-\alpha}$ with $\alpha \in (u, u+1]$ and $x_b = 2^{-\beta}$ with $\beta \in (v, v+1]$. Show that the total sum $s$ satisfies $s < b-a+\left(2^{u+1-\alpha}+2^{v+1-\beta}-(u+v+1)\right)$.","The sum $s = \sum_{i=1}^n x_i$ is partitioned into three parts: terms with index $i < a+u$, $i \in [a+u, b-v]$, and $i > b-v$. By using inequalities derived from the maximality of the pair $(a,b)$ to bound the sums of the outer parts, and bounding the inner terms by 1, the proof establishes the inequality $s < 2^{u+1} x_{a}+2^{v+1} x_{b}+b-a-u-v-1$. Substituting $x_a=2^{-\alpha}$ and $x_b=2^{-\beta}$ gives $s < 2^{u+1-\alpha}+2^{v+1-\beta} + b-a-u-v-1$, which rearranges to the desired inequality.","Using the definitions and the inequality from the previous step, prove that $s-3 < b-a-\alpha-\beta$.","We start with the inequality $s < b-a+\left(2^{u+1-\alpha}+2^{v+1-\beta}-(u+v+1)\right)$. Since $\alpha \in (u, u+1]$ and $\beta \in (v, v+1]$, the exponents $u+1-\alpha$ and $v+1-\beta$ are in the interval $[0,1)$. Using Bernoulli's inequality (or the convexity of $f(y)=2^y$, which implies $2^y \le 1+y$ for $y \in [0,1]$), we bound the parenthetical term: $2^{u+1-\alpha}+2^{v+1-\beta}-(u+v+1) \le (1+u+1-\alpha) + (1+v+1-\beta) - (u+v+1) = 3-\alpha-\beta$. Therefore, $s < b-a+3-\alpha-\beta$, which rearranges to $s-3 < b-a-\alpha-\beta$.","Let $n \geqslant 3$ be an integer, and let $x_{1}, x_{2}, \ldots, x_{n}$ be real numbers in the interval [0, 1]. Let $s=x_{1}+x_{2}+\ldots+x_{n}$, and assume that $s \geqslant 3$. Prove that there exist integers $i$ and $j$ with $1 \leqslant i<j \leqslant n$ such that $2^{j-i} x_{i} x_{j}>2^{s-3}$.","Let $a, b$ be indices with $1 \le a < b \le n$ that maximize the expression $2^{j-i}x_i x_j$. Let $x_a=2^{-\alpha}$ and $x_b=2^{-\beta}$. From the previous sub-problem, we have the inequality $s-3 < b-a-\alpha-\beta$. As the function $y \mapsto 2^y$ is strictly increasing, exponentiating both sides gives $2^{s-3} < 2^{b-a-\alpha-\beta}$. The right-hand side is equal to $2^{b-a} \cdot 2^{-\alpha} \cdot 2^{-\beta} = 2^{b-a}x_a x_b$. This is the maximum value of $2^{j-i}x_i x_j$ by our choice of $a,b$. Thus, we have shown there exists a pair $(i,j)=(a,b)$ satisfying the required inequality.",,
2022c5,"Let $m, n \geqslant 2$ be integers, let $X$ be a set with $n$ elements, and let $X_{1}, X_{2}, \ldots, X_{m}$ be pairwise distinct non-empty, not necessary disjoint subsets of $X$. A function $f: X \rightarrow$ $\{1,2, \ldots, n+1\}$ is called nice if there exists an index $k$ such that

$$
\sum_{x \in X_{k}} f(x)>\sum_{x \in X_{i}} f(x) \text { for all } i \neq k
$$

Prove that the number of nice functions is at least $n^{n}$.",3,"Let $f: X \rightarrow \{1, \ldots, n\}$ be a function, and let $X_l$ be a subset from $\{X_1, \ldots, X_m\}$ that maximizes the sum $\\sum_{x \in X_i} f(x)$. Prove that for any $j \neq l$, we have $|X_l| > |X_j \cap X_l|$.","Assume for contradiction that $|X_l| \le |X_j \cap X_l|$ for some $j \neq l$. Since $X_l$ and $X_j$ are distinct sets, this inequality implies that $X_l$ is a proper subset of $X_j$. Because $X_j \\setminus X_l$ is non-empty and $f(x) \ge 1$ for all $x \in X$, the sum over the elements in this difference is positive: $\\sum_{x \in X_j \\setminus X_l} f(x) > 0$. This leads to $\\sum_{x \in X_j} f(x) = \\sum_{x \in X_l} f(x) + \\sum_{x \in X_j \\setminus X_l} f(x) > \\sum_{x \in X_l} f(x)$, which contradicts the choice of $X_l$ as a set that maximizes the sum. Therefore, the initial assumption must be false, and $|X_l| > |X_j \cap X_l|$.","For each function $f: X \rightarrow \{1, \ldots, n\}$, choose a set $X_l$ which maximizes the sum $\\sum_{x \in X_i} f(x)$. Define a new function $f^+: X \rightarrow \{1, \ldots, n+1\}$ by setting $f^+(x) = f(x)+1$ for $x \in X_l$ and $f^+(x) = f(x)$ for $x \notin X_l$. Prove that $f^+$ is a nice function.","Let $S_i = \\sum_{x \in X_i} f(x)$. By construction of $X_l$, we have $S_l \ge S_j$ for any $j \neq l$. For the function $f^+$, the sum over a set $X_i$ is $S_i^+ = \\sum_{x \in X_i} f^+(x) = S_i + |X_i \cap X_l|$. We need to show $S_l^+ > S_j^+$ for any $j \neq l$. We can write $S_l^+ = S_l + |X_l|$ and $S_j^+ = S_j + |X_j \cap X_l|$. From the result of the previous sub-problem, we know that $|X_l| > |X_j \cap X_l|$. Combining these facts, we get $S_l^+ = S_l + |X_l| \ge S_j + |X_l| > S_j + |X_j \cap X_l| = S_j^+$. This establishes that $X_l$ is the unique maximizer for $f^+$, and thus $f^+$ is a nice function.","Let $m, n \geqslant 2$ be integers, let $X$ be a set with $n$ elements, and let $X_{1}, X_{2}, \ldots, X_{m}$ be pairwise distinct non-empty, not necessary disjoint subsets of $X$. A function $f: X \rightarrow \\{1,2, \ldots, n+1\\}$ is called nice if there exists an index $k$ such that $\\sum_{x \in X_{k}} f(x)>\\sum_{x \in X_{i}} f(x)$ for all $i \neq k$. Prove that the number of nice functions is at least $n^{n}$.","Let $\\mathcal{F}$ be the set of all functions $f: X \rightarrow \\{1, \ldots, n\\}$. The size of this set is $|\\mathcal{F}| = n^n$. The construction from the previous sub-problem defines a map $\\phi: \\mathcal{F} \rightarrow \\{\text{nice functions}\\}$ by $\\phi(f) = f^+$. We prove this map is injective. Suppose $g$ is a nice function in the image of $\\phi$. By definition, $g$ has a unique maximizer set, say $X_k$. This must be the set $X_l$ used in its construction. We can uniquely recover the original function $f$ from $g$ by setting $f(x) = g(x) - 1$ for $x \\in X_k$ and $f(x) = g(x)$ for $x \notin X_k$. Since the pre-image $f$ is uniquely determined by $g = f^+$, the map $\\phi$ is injective. An injective map from a set of size $n^n$ to the set of nice functions proves that the number of nice functions is at least $n^n$.",,
2022g1,"Let $A B C D E$ be a convex pentagon such that $B C=D E$. Assume there is a point $T$ inside $A B C D E$ with $T B=T D, T C=T E$ and $\angle T B A=\angle A E T$. Let lines $C D$ and $C T$ intersect line $A B$ at points $P$ and $Q$, respectively, and let lines $C D$ and $D T$ intersect line $A E$ at points $R$ and $S$, respectively. Assume that points $P, B, A, Q$ and $R, E, A, S$ respectively, are collinear and occur on their lines in this order. Prove that the points $P, S, Q, R$ are concyclic.",2,"Under the given conditions, prove that the points $C, D, Q, S$ are concyclic.","The conditions $B C=D E, C T=E T, T B=T D$ imply that $\triangle TBC \cong \triangle TDE$ by SSS congruence, so $\angle BTC = \angle DTE$. As angles on a straight line, $\angle QTB = 180^{\circ} - \angle BTC$ and $\angle ETS = 180^{\circ} - \angle DTE$, so $\angle QTB = \angle ETS$. Given $\angle TBA = \angle AET$ (which is $\angle TBQ = \angle TES$), we have $\triangle TBQ \sim \triangle TES$ by AA similarity. This similarity yields the proportion $\frac{TB}{TE} = \frac{TQ}{TS}$. Substituting the given $TB=TD$ and $TE=TC$, we get $\frac{TD}{TC} = \frac{TQ}{TS}$, which rearranges to $TD \cdot TS = TC \cdot TQ$. By the converse of the power of a point theorem, this implies that points $C, D, Q, S$ are concyclic.","Prove that the points $P, S, Q, R$ are concyclic.","From the first sub-problem, $C, D, Q, S$ are concyclic, so $\angle DCQ = \angle DSQ$. Since $P, C, R$ are collinear, this means $\angle RCQ = \angle DSQ$. From the similarity $\triangle TBQ \sim \triangle TES$ (established in Part 1), we have $\angle BQT = \angle TSE$. Since $\angle PQC$ and $\angle DSR$ are supplementary to $\angle BQT$ and $\angle TSE$ respectively, it follows that $\angle PQC = \angle DSR$. By the exterior angle theorem on $\triangle CQP$, we have $\angle RCQ = \angle RPQ + \angle PQC$, which gives $\angle RPQ = \angle RCQ - \angle PQC$. Substituting the derived angle equalities, we get $\angle RPQ = \angle DSQ - \angle DSR = \angle RSQ$. This equality proves that $P, S, Q, R$ are concyclic.",,,,
2022g2,"In the acute-angled triangle $A B C$, the point $F$ is the foot of the altitude from $A$, and $P$ is a point on the segment $A F$. The lines through $P$ parallel to $A C$ and $A B$ meet $B C$ at $D$ and $E$, respectively. Points $X \neq A$ and $Y \neq A$ lie on the circles $A B D$ and $A C E$, respectively, such that $D A=D X$ and $E A=E Y$.

Prove that $B, C, X$ and $Y$ are concyclic.",2,Let $\omega_1$ be the circumcircle of $\triangle ABD$ and $\omega_2$ be the circumcircle of $\triangle ACE$. Show that the altitude $AF$ is the radical axis of $\omega_1$ and $\omega_2$.,"The radical axis is the locus of points with equal power with respect to two circles. Point $A$ is on both circles, so its power with respect to both is 0. Thus, $A$ is on the radical axis. From $P$ on segment $AF$, we have $PD \parallel AC$ and $PE \parallel AB$. By similar triangles in $\triangle AFC$ and $\triangle AFB$ respectively, we have $\frac{FP}{FA} = \frac{FD}{FC}$ and $\frac{FP}{FA} = \frac{FE}{FB}$. Therefore, $\frac{FD}{FC} = \frac{FE}{FB}$, which implies $FD \cdot FB = FE \cdot FC$. This equality shows that point $F$ has the same power with respect to circles $\omega_1$ and $\omega_2$. Since both $A$ and $F$ lie on the radical axis, the line $AF$ is the radical axis of the two circles.","Prove that $B, C, X$ and $Y$ are concyclic.","Let $A'$ be the intersection of lines $BX$ and $CY$. The points $B, C, X, Y$ are concyclic if and only if $A'$ has equal power with respect to circle $(ABDX)$ and circle $(ACEY)$, which means $A'$ must lie on their radical axis. From the first sub-problem, the radical axis is the line $AF$. In circle $(ABDX)$, the condition $DA=DX$ implies that the line $BC$ bisects $\angle ABX$. Thus, line $BX$ is the reflection of line $BA$ across line $BC$. Similarly, $EA=EY$ in circle $(ACEY)$ implies that line $CY$ is the reflection of line $CA$ across line $BC$. The intersection $A'$ of these reflected lines must be the reflection of point $A$ across line $BC$. Since $A'$ is the reflection of $A$ across $BC$ and $F$ is the foot of the altitude from $A$, the points $A, F, A'$ are collinear. Therefore, $A'$ lies on the line $AF$. As $AF$ is the radical axis, $A'$ has equal power with respect to both circles, which proves that $B, C, X, Y$ are concyclic.",,,,
2022g3,"Let $A B C D$ be a cyclic quadrilateral. Assume that the points $Q, A, B, P$ are collinear in this order, in such a way that the line $A C$ is tangent to the circle $A D Q$, and the line $B D$ is tangent to the circle $B C P$. Let $M$ and $N$ be the midpoints of $B C$ and $A D$, respectively. Prove that the following three lines are concurrent: line $C D$, the tangent of circle $A N Q$ at point $A$, and the tangent to circle $B M P$ at point $B$.",2,Let R be the midpoint of CD. Prove the angle equalities $\angle QNA = \angle BRC$ and $\angle BMP = \angle DRA$.,"First, we prove that $\triangle ADQ \sim \triangle CDB$. Since $ABCD$ is a cyclic quadrilateral, the exterior angle at vertex $A$ equals the interior opposite angle, so $\angle DAQ = \angle DCB$. By the tangent-chord theorem for the circle $ADQ$ with tangent $AC$, we have $\angle AQD = \angle CAD$. In the circumcircle of $ABCD$, angles subtended by the same arc $CD$ are equal, so $\angle CAD = \angle CBD$. Therefore, $\angle AQD = \angle CBD$. By AA similarity, $\triangle ADQ \sim \triangle CDB$. This similarity maps vertices $(A, D, Q)$ to $(C, D, B)$. Since $N$ and $R$ are midpoints of corresponding sides $AD$ and $CD$, it follows that $\triangle QAN \sim \triangle BCR$. Thus, the corresponding angles are equal: $\angle QNA = \angle BRC$. The proof for the second equality is analogous. We first show $\triangle BCP \sim \triangle DCA$. Since $ABCD$ is cyclic, $\angle PBC = 180^\circ - \angle ABC = \angle ADC$. By the tangent-chord theorem for circle $BCP$ with tangent $BD$, we have $\angle BPC = \angle BDC$. In circle $ABCD$, $\angle BDC = \angle BAC$. Thus, $\angle BPC = \angle BAC$. By AA similarity, $\triangle BCP \sim \triangle DCA$. This similarity maps vertices $(B, C, P)$ to $(D, C, A)$. Since $M$ and $R$ are midpoints of corresponding sides $BC$ and $DC$, it follows that $\triangle PBM \sim \triangle ADR$. Thus, $\angle BMP = \angle DRA$.","Prove that the following three lines are concurrent: line $CD$, the tangent of circle $ANQ$ at point $A$, and the tangent to circle $BMP$ at point $B$.","Let $R$ be the midpoint of $CD$. Let $K$ be the second intersection point of the line $CD$ with the circumcircle of $\triangle ABR$. By construction, $K$ is on the line $CD$, and the points $A, B, R, K$ are concyclic. We will show that $K$ is the point of concurrency. Let $t_A$ be the tangent to circle $ANQ$ at $A$. By the converse of the tangent-chord theorem, $AK$ is $t_A$ if $\angle(AK, AQ) = \angle ANQ$. As $Q, A, B$ are collinear, this is $\angle BAK = \angle ANQ$. Since $A, B, R, K$ form a cyclic quadrilateral, the exterior angle at vertex $R$ is equal to the interior opposite angle at $A$, so $\angle BAK = \angle BRC$. From the first sub-problem, we have $\angle BRC = \angle QNA$. Thus, $\angle BAK = \angle ANQ$, which proves that line $AK$ is the tangent $t_A$. Similarly, let $t_B$ be the tangent to circle $BMP$ at $B$. $BK$ is $t_B$ if $\angle(BK, BP) = \angle BMP$, which is $\angle KBA = \angle BMP$. In cyclic quadrilateral $ABRK$, $\angle KBA = \angle KRA$ (angles subtended by chord $AK$). Since $K, R, D$ are collinear, $\angle KRA = \angle DRA$. From the first sub-problem, $\angle BMP = \angle DRA$. Therefore, $\angle KBA = \angle BMP$, which proves that line $BK$ is the tangent $t_B$. Since $K$ lies on line $CD$, and $AK$ and $BK$ are the specified tangents, the three lines are concurrent at $K$.",,,,
2022g4,"Let $A B C$ be an acute-angled triangle with $A C>A B$, let $O$ be its circumcentre, and let $D$ be a point on the segment $B C$. The line through $D$ perpendicular to $B C$ intersects the lines $A O, A C$ and $A B$ at $W, X$ and $Y$, respectively. The circumcircles of triangles $A X Y$ and $A B C$ intersect again at $Z \neq A$.

Prove that if $O W=O D$, then $D Z$ is tangent to the circle $A X Y$.",2,"Let $A B C$ be a triangle with circumcentre $O$. Let $D$ be a point on $BC$, and a line through $D$ perpendicular to $BC$ intersect $AO, AC, AB$ at $W, X, Y$. Let the circumcircles of $\triangle AXY$ and $\triangle ABC$ intersect at $A$ and $Z$. Prove that if $OW=OD$, then $AZ$ is parallel to $BC$.","Let $E$ be the intersection of the line $AO$ and $BC$. Since the line segment $WD$ is on the line perpendicular to $BC$ passing through $D$, the triangle $\triangle WDE$ has a right angle at $D$. The condition $OW=OD$, with $O$ lying on the hypotenuse $WE$, implies that $O$ is the circumcenter of $\triangle WDE$. Therefore, $OD=OE$. As $O$ is the circumcenter of $\triangle ABC$, it lies on the perpendicular bisector of $BC$. Since $D, E$ are on the line $BC$, the condition $OD=OE$ means that $D$ and $E$ are reflections of each other in the perpendicular bisector of $BC$. Now, let $Z'$ be the point on the circumcircle of $\triangle ABC$ such that $AZ' \parallel BC$. This implies that $A$ and $Z'$ are also reflections in the perpendicular bisector of $BC$. This symmetry maps $\triangle BAE$ to $\triangle CZ'D$, so $\angle DZ'C = \angle BAE = \angle BAO = 90^\circ - \angle C$. In the right-angled triangle $DXC$, we also have $\angle DXC = 90^\circ - \angle C$. Thus, $\angle DZ'C = \angle DXC$, which means $C,D,X,Z'$ are concyclic. From the definitions, we know $A,X,Y,Z$ are concyclic, so $\angle ZXY = \angle ZAY$, and $A,B,C,Z$ are concyclic, so $\angle ZAY = \angle ZAB = \angle ZCB = \angle ZCD$. Since $D,X,Y$ are collinear, $\angle DXZ + \angle ZXY = 180^\circ$, so $\angle DXZ + \angle ZCD = 180^\circ$, which implies $C,D,X,Z$ is a cyclic quadrilateral. Since both $Z$ and $Z'$ lie on the circumcircle of $\triangle ABC$ and on the circle through $C,D,X$, they must coincide. Therefore $Z=Z'$, which implies $AZ \parallel BC$.","Let $A B C$ be an acute-angled triangle with $A C>A B$, let $O$ be its circumcentre, and let $D$ be a point on the segment $B C$. The line through $D$ perpendicular to $B C$ intersects the lines $A O, A C$ and $A B$ at $W, X$ and $Y$, respectively. The circumcircles of triangles $A X Y$ and $A B C$ intersect again at $Z \neq A$. Prove that if $O W=O D$, then $D Z$ is tangent to the circle $A X Y$.","From the first sub-problem, the condition $OW=OD$ implies that $AZ \parallel BC$. To prove that $DZ$ is tangent to the circumcircle of $\triangle AXY$ at $Z$, we use the converse of the Alternate Segment Theorem. We aim to show that the angle between the line $DZ$ and the chord $AZ$ is equal to the angle subtended by the chord in the alternate segment, which is $\angle AYZ$. As $AZ \parallel BC$ and $D$ lies on the line $BC$, we have $\angle AZD = \angle CDZ$ because they are alternate interior angles. As established in the previous sub-problem, the quadrilateral $CDXZ$ is cyclic. This implies $\angle CDZ = \angle CXZ$, as they subtend the same arc $CZ$. The points $A,X,Y,Z$ are also concyclic, so $\angle AXZ = \angle AYZ$. Since $X$ lies on the line segment $AC$, $\angle CXZ$ is the same angle as $\angle AXZ$. Combining these angle equalities, we get the chain: $\angle AZD = \angle CDZ = \angle CXZ = \angle AYZ$. This shows $\angle AZD = \angle AYZ$, which completes the proof that $DZ$ is tangent to the circle $AXY$.",,,,
2022g5,"Let $A B C$ be a triangle, and let $\ell_{1}$ and $\ell_{2}$ be two parallel lines. For $i=1,2$, let $\ell_{i}$ meet the lines $B C, C A$, and $A B$ at $X_{i}, Y_{i}$, and $Z_{i}$, respectively. Suppose that the line through $X_{i}$ perpendicular to $B C$, the line through $Y_{i}$ perpendicular to $C A$, and finally the line through $Z_{i}$ perpendicular to $A B$, determine a non-degenerate triangle $\Delta_{i}$.

Show that the circumcircles of $\Delta_{1}$ and $\Delta_{2}$ are tangent to each other.",3,"Show that the triangles $\Delta_1$ and $\Delta_2$ are homothetic, with the lines connecting corresponding vertices ($D_1D_2, E_1E_2, F_1F_2$) concurring at the center of homothety $H$. Furthermore, show that the directed angle $\Varangle(E_1E_2, F_1F_2) = \Varangle(AB, AC)$.","The sides of $\Delta_1$ and $\Delta_2$ are parallel, as they are constructed to be perpendicular to the sides of $\triangle ABC$. This implies $\Delta_1$ and $\Delta_2$ are either related by a translation or a homothety. To distinguish, we compute the angle between the lines connecting corresponding vertices, e.g., $E_1E_2$ and $F_1F_2$. Using the cyclic quadrilaterals $BX_2E_2Z_2$ and $CX_2F_2Y_2$, we find $\Varangle(E_1E_2, F_1F_2) = \Varangle(BE_2, CF_2) = \Varangle(Z_2E_2, Z_2X_2) + \Varangle(Y_2X_2, Y_2F_2) = \Varangle(Z_2E_2, Y_2F_2)$. Since $Z_2E_2 \perp AB$ and $Y_2F_2 \perp AC$, this angle equals $\Varangle(AB, AC)$. As $\triangle ABC$ is non-degenerate, this angle is non-zero, so the lines are not parallel. Thus, $\Delta_1$ and $\Delta_2$ are homothetic and the lines $D_1D_2, E_1E_2, F_1F_2$ concur at the center of homothety $H$.","Show that the center of homothety $H$ lies on the circumcircles $\omega_1$ and $\omega_2$ of triangles $\Delta_1$ and $\Delta_2$, respectively.","To show $H$ lies on $\omega_i$, the circumcircle of $\Delta_i=D_iE_iF_i$, we show that $\Varangle(HE_i, HF_i) = \Varangle(D_iE_i, D_iF_i)$. From the first sub-problem, $\Varangle(HE_i, HF_i) = \Varangle(E_1E_2, F_1F_2) = \Varangle(AB, AC)$. The vertex $D_i$ is the intersection of the line through $Y_i$ perpendicular to $AC$ (line $D_iF_i$) and the line through $Z_i$ perpendicular to $AB$ (line $D_iE_i$). The quadrilateral $AY_iD_iZ_i$ is cyclic as $\angle AY_iD_i = \angle AZ_iD_i = 90^\circ$. Thus, the angle at vertex $D_i$ is $\Varangle(D_iE_i, D_iF_i) = \Varangle(AZ_i, AY_i) = \Varangle(AB, AC)$. Since both angles equal $\Varangle(AB, AC)$, we conclude $H, D_i, E_i, F_i$ are concyclic, meaning $H$ lies on $\omega_i$ for $i=1, 2$.",Show that the circumcircles of $\Delta_{1}$ and $\Delta_{2}$ are tangent to each other.,"From the first sub-problem, $\Delta_1$ and $\Delta_2$ are related by a homothety centered at $H$. This homothety also maps the circumcircle $\omega_1$ of $\Delta_1$ to the circumcircle $\omega_2$ of $\Delta_2$. From the second sub-problem, the center of homothety $H$ is a common point of both circles. A homothety that maps one circle to another, and whose center lies on both circles, implies that the circles are tangent at that center. Therefore, $\omega_1$ and $\omega_2$ are tangent at point $H$.",,
2022g6,"In an acute-angled triangle $A B C$, point $H$ is the foot of the altitude from $A$. Let $P$ be a moving point such that the bisectors $k$ and $\ell$ of angles $P B C$ and $P C B$, respectively, intersect each other on the line segment $A H$. Let $k$ and $A C$ meet at $E$, let $\ell$ and $A B$ meet at $F$, and let $E F$ and $A H$ meet at $Q$. Prove that, as $P$ varies, the line $P Q$ passes through a fixed point.",4,"Define a fixed point $K$ as the intersection of the reflections of line $BC$ with respect to lines $AB$ and $AC$. Prove that $A$ is the center of the $K$-excircle of triangle $KBC$, and that this excircle is tangent to $BC$ at $H$.","By the definition of line reflection, $AB$ and $AC$ are the external angle bisectors of $\angle KBC$ and $\angle KCB$, respectively. Therefore, $A$ is the center of the excircle of $\triangle KBC$ opposite to vertex $K$ (the $K$-excircle). The radius of this excircle is the distance from $A$ to $BC$, which is $AH$. As $H$ is the foot of the altitude from $A$, this excircle is tangent to the line $BC$ at point $H$.","Let $I$ be the incenter of $\triangle PBC$, which lies on $AH$. Let $\omega_I$ be the incircle of $\triangle PBC$ and $\omega_A$ be the circle $(A, AH)$. Show that $Q$, the intersection of $EF$ and $AH$, is the internal homothetic center of $\omega_A$ and $\omega_I$.","Since $I$ is on $AH$ and $AH \perp BC$, the incircle $\omega_I=(I,IH)$ is tangent to $BC$ at $H$. The circle $\omega_A=(A,AH)$ is also tangent to $BC$ at $H$. Thus, $H$ is the external homothetic center of $\omega_A$ and $\omega_I$. In the complete quadrangle $BCEF$, the line $AH$ (containing points $A, I$) is cut harmonically by the intersections with diagonals $EF$ (at $Q$) and $BC$ (at $H$). This gives the harmonic conjugate relation $(A, I; Q, H)=-1$. Since $H$ is the external center of homothety, $Q$ must be the internal center of homothety for circles $\omega_A$ and $\omega_I$.",Let $\omega_P$ be the $P$-excircle of $\triangle PBC$ and $\omega_K$ be the incircle of $\triangle KBC$. Show that these two circles are tangent to each other at a point on the line segment $BC$.,"The incircle of $\triangle PBC$ is tangent to $BC$ at $H$. The distance from vertex $C$ to the tangency point $T$ of the $P$-excircle on $BC$ is $CT = (BC+PB-PC)/2$. This length is also equal to the distance $BH$. Similarly, the $K$-excircle of $\triangle KBC$ is tangent to $BC$ at $H$. The distance from vertex $C$ to the tangency point $T'$ of the incircle of $\triangle KBC$ on $BC$ is $CT' = (BC+KC-KB)/2$. This length is also equal to the distance $BH$. Thus, $T=T'$. As both circles are tangent to $BC$ at the same point, they are tangent to each other at that point.","Prove that, as $P$ varies, the line $PQ$ passes through a fixed point.","Let $K$ be the fixed point from the first sub-problem. We show $P, Q, K$ are collinear. Let $\omega_A, \omega_I, \omega_K, \omega_P$ be the circles defined previously. Let $S$ be the internal homothetic center of $\omega_A$ and $\omega_P$, and $S'$ be the internal homothetic center of $\omega_I$ and $\omega_K$. Using the formula for the product of inradius and exradius in a triangle, we find $r_I r_P = BH \cdot CH = r_K r_A$, which implies $S=S'$. Consider circles $\omega_A, \omega_I, \omega_K$. Their centers of homothety $Q$ (internal for $\omega_A, \omega_I$), $S'$ (internal for $\omega_I, \omega_K$), and $K$ (external for $\omega_A, \omega_K$) are collinear by Monge's Theorem. Now consider circles $\omega_A, \omega_I, \omega_P$. Their centers of homothety $Q$ (internal for $\omega_A, \omega_I$), $S$ (internal for $\omega_A, \omega_P$), and $P$ (external for $\omega_I, \omega_P$) are also collinear. Since $S=S'$, the points $P, Q, K$ all lie on the same line. Thus, line $PQ$ always passes through the fixed point $K$."
2022g7,"Let $A B C$ and $A^{\prime} B^{\prime} C^{\prime}$ be two triangles having the same circumcircle $\omega$, and the same orthocentre $H$. Let $\Omega$ be the circumcircle of the triangle determined by the lines $A A^{\prime}, B B^{\prime}$ and $C C^{\prime}$. Prove that $H$, the centre of $\omega$, and the centre of $\Omega$ are collinear.",4,"Let triangles $A B C$ and $A^{\prime} B^{\prime} C^{\prime}$ share the same circumcircle $\\omega$ (center $O$) and orthocenter $H$. Show that they also share the same centroid $G$, and that the midpoints of their sides lie on a common circle $\rho$, whose center is on the line $OH$.","In any triangle, the homothety centered at its centroid $G$ with ratio $-1/2$ maps the orthocenter $H$ to the circumcenter $O$. Since both triangles share $H$ and $O$, they must also share the same centroid $G$. This same homothety maps the vertices of a triangle to the midpoints of the opposite sides. Therefore, the midpoints of the sides of both $ABC$ and $A'B'C'$ lie on a common circle $\rho$ (the common nine-point circle). The center of the nine-point circle is the midpoint of the segment $OH$, and thus lies on the line $OH$.","Let $D = BB' \\cap CC'$, $S = BC' \\cap B'C$, and $N$ be the midpoint of $SD$. Show that $N$ has the same power with respect to the circumcircle $\\omega$ and the circle $\\Omega$ (the circumcircle of the triangle formed by lines $AA', BB', CC'$).","Consider the quadrilateral $BB'CC'$ inscribed in $\\omega$. By Brocard's theorem, its diagonal triangle $DST$ (where $T=BC \\cap B'C'$) is self-polar with respect to $\\omega$. This implies that the power of $N$ with respect to $\\omega$ is $ND^2$. By a directed angle chase, using the fact that the line connecting midpoints $M(BC)$ and $M'(B'C')$ is parallel to $AA'$, we can show $\\Varangle(SD, BB') = \\Varangle(CC', AA')$. This is the condition for the line $SD$ to be tangent to circle $\\Omega$ at vertex $D$. Consequently, the power of point $N$ (which lies on $SD$) with respect to $\\Omega$ is also $ND^2$.","Show that the three circles $\\omega$, $\\Omega$, and $\rho$ (the common nine-point circle from sub-problem 1) are coaxial.","Let $N$ be the point from sub-problem 2, and let $M, M'$ be the midpoints of $BC, B'C'$. The points $N, M, M'$ are collinear on the Newton-Gauss line of a related complete quadrilateral. An angle chase shows that the circle passing through $D, M, M'$ is tangent to line $SD$ at $D$. The power of $N$ with respect to this circle is both $ND^2$ (from tangency) and $NM \\cdot NM'$. Since $M, M'$ lie on $\rho$, the power of $N$ with respect to $\rho$ is $NM \\cdot NM' = ND^2$. From sub-problem 2, $N$ has the same power with respect to $\\omega$ and $\\Omega$. Thus, $N$ lies on the radical axis of all three circles. By symmetry, we can construct at least two such distinct points, which proves that the three circles are coaxial.","Let $A B C$ and $A^{\\prime} B^{\\prime} C^{\\prime}$ be two triangles having the same circumcircle $\\omega$, and the same orthocentre $H$. Let $\\Omega$ be the circumcircle of the triangle determined by the lines $A A^{\\prime}, B B^{\\prime}$ and $C C^{\\prime}$. Prove that $H$, the centre of $\\omega$, and the centre of $\\Omega$ are collinear.","From the previous sub-problem, the circles $\\omega$, $\\Omega$, and $\rho$ are coaxial. The centers of coaxial circles are collinear. The center of $\\omega$ is $O$. From the first sub-problem, the center of the common nine-point circle $\rho$ lies on the Euler line $OH$. Therefore, the center of $\\Omega$ must also lie on the line defined by the centers of $\\omega$ and $\rho$, which is the line $OH$. Thus, $H$, $O$ (the center of $\\omega$), and the center of $\\Omega$ are collinear."
2022g8,"Let $A A^{\prime} B C C^{\prime} B^{\prime}$ be a convex cyclic hexagon such that $A C$ is tangent to the incircle of the triangle $A^{\prime} B^{\prime} C^{\prime}$, and $A^{\prime} C^{\prime}$ is tangent to the incircle of the triangle $A B C$. Let the lines $A B$ and $A^{\prime} B^{\prime}$ meet at $X$ and let the lines $B C$ and $B^{\prime} C^{\prime}$ meet at $Y$.

Prove that if $X B Y B^{\prime}$ is a convex quadrilateral, then it has an incircle.",4,"Let $I$ and $I'$ be the incenters of $\triangle ABC$ and $\triangle A'B'C'$ respectively. Given the tangency conditions that $AC$ is tangent to the incircle of $\triangle A'B'C'$ and $A'C'$ is tangent to the incircle of $\triangle ABC$, prove that the four points $B, I, I', B'$ are concyclic.","Let $\Omega$ be the circumcircle of the hexagon. Let $N$ and $N'$ be the second intersections of the angle bisectors $BI$ and $B'I'$ with $\Omega$. A known theorem for this configuration states that the given tangency conditions imply that the line of centers $II'$ is parallel to the chord $NN'$. In the cyclic quadrilateral $BNN'B'$, the chords $BB'$ and $NN'$ are antiparallel with respect to the chords $BN$ and $B'N'$. Since $I \in BN$, $I' \in B'N'$, and $II' \parallel NN'$, the line segment $II'$ is also antiparallel to $BB'$ with respect to the lines $BI$ and $B'I'$. This is a condition for the points $B, I, I', B'$ to be concyclic.","Let $\Psi$ be the circle passing through $B, I, I', B'$. Let $T$ be the external center of homothety of the incircles $\omega$ (of $\triangle ABC$) and $\omega'$ (of $\triangle A'B'C'$). Prove that $T$ lies on the radical axis of the circumcircle $\Omega$ and the circle $\Psi$.","This result is established using Monge's theorem on three circles: $\omega$, $\omega'$, and an auxiliary incircle $\omega_c$ of a carefully chosen triangle. The three external centers of homothety of these circles are collinear. The line containing them (the Monge line) can be shown to be a radical axis for a set of circles related to the configuration. Through a series of radical axes arguments, it can be concluded that $T$, the center of homothety of $\omega$ and $\omega'$, must lie on the radical axis of $\Omega$ and $\Psi$.",Let $T$ be the external center of homothety of the incircles $\omega$ and $\omega'$. Prove that $T$ lies on the line $BB' 嗒膏珋嗒о珋 嗒班珖嗒栢 嗒 嗒涏珖.,"By definition, $T$ lies on the line of centers $II'$. From the previous sub-problem, $T$ lies on the radical axis of $\Omega$ and the circle $\Psi$ through $B, I, I', B'$. Let $T' = BB' \cap II'$. The power of $T'$ with respect to $\Omega$ is $T'B \cdot T'B'$. Since $B, I, I', B'$ are concyclic (from Sub-problem 1), the power of $T'$ with respect to $\Psi$ is $T'I \cdot T'I' = T'B \cdot T'B'$. Thus, $T'$ also lies on the radical axis of $\Omega$ and $\Psi$. Since both $T$ and $T'$ lie on two distinct lines ($II'$ and the radical axis), they must coincide. Therefore, $T = T'$, which implies $T$ lies on the line $BB'$.","Let $A A^{\prime} B C C^{\prime} B^{\prime}$ be a convex cyclic hexagon such that $A C$ is tangent to the incircle of the triangle $A^{\prime} B^{\prime} C^{\prime}$, and $A^{\prime} C^{\prime}$ is tangent to the incircle of the triangle $A B C$. Let the lines $A B$ and $A^{\prime} B^{\prime}$ meet at $X$ and let the lines $B C$ and $B^{\prime} C^{\prime}$ meet at $Y$. Prove that if $X B Y B^{\prime}$ is a convex quadrilateral, then it has an incircle.","Let $\Omega_0$ be a circle tangent to lines $A'B'$, $B'C'$, and $AB$. By Monge's theorem applied to circles $\omega, \omega'$, and $\Omega_0$, their three external centers of homothety are collinear. The center for $\omega'$ and $\Omega_0$ is $B'$. The center for $\omega$ and $\omega'$ is $T$. Let the center for $\omega$ and $\Omega_0$ be $S$. Then $S$ must lie on the line $TB'$. From the previous sub-problem, $T$ lies on line $BB'$, so the line $TB'$ is the same as the line $BB'$. Thus, $S$ lies on line $BB'$. By definition, $S$ also lies on a common tangent, line $AB$. Therefore, $S = AB \cap BB' = B$. Since $B$ is the center of homothety for $\omega$ and $\Omega_0$, and the line $BC$ is tangent to $\omega$, it must also be tangent to $\Omega_0$. Thus, $\Omega_0$ is tangent to all four sides ($AB, BC, B'C', A'B'$) of the quadrilateral $XBYB'$, which means the quadrilateral has an incircle."
2022n5,"For each $1 \leqslant i \leqslant 9$ and $T \in \mathbb{N}$, define $d_{i}(T)$ to be the total number of times the digit $i$ appears when all the multiples of 1829 between 1 and $T$ inclusive are written out in base 10.

Show that there are infinitely many $T \in \mathbb{N}$ such that there are precisely two distinct values among $d_{1}(T), d_{2}(T), \ldots, d_{9}(T)$.",3,"Let $n=1829$ and let $k$ be a positive integer such that $n$ divides $10^k-1$. For any integer $N$ with $k$ digits (possibly with leading zeros), $N = \\overline{a_{k-1} a_{k-2} \\ldots a_0}$, let $N'$ be the integer obtained by a cyclic shift of the digits of $N$, $N' = \\overline{a_{k-2} a_{k-3} \\ldots a_0 a_{k-1}}$. Show that $N$ is divisible by $n$ if and only if $N'$ is divisible by $n$.","We can express the relationship between $N$ and $N'$ as $10N = 10^k a_{k-1} + N' - a_{k-1}$. Rearranging this gives $10N - N' = (10^k-1)a_{k-1}$. Since we are given that $n$ divides $10^k-1$, it follows that $10N - N'$ is a multiple of $n$, which means $10N \\equiv N' \\pmod{n}$. As $n=1829$ is not divisible by 2 or 5, $\\gcd(10, n)=1$. Therefore, $N$ is divisible by $n$ if and only if $10N$ is divisible by $n$, which is true if and only if $N'$ is divisible by $n$.","Let $n=1829$ and let $k$ be an integer such that $n | (10^k-1)$. For $1 \\le i \\le 9$, let $d_i(T)$ be the count of digit $i$ in the decimal representations of all multiples of $n$ between 1 and $T$. Show that there are at most two distinct values among $d_1(10^k-1), d_2(10^k-1), \\ldots, d_9(10^k-1)$.","From Sub-problem 1, the set of multiples of $n$ in $\{1, \\ldots, 10^k-1\}$, when written as $k$-digit numbers with leading zeros, is closed under cyclic permutation of digits. This symmetry implies that the total count of any digit $i$ is distributed evenly across all $k$ digit positions. Thus, the total number of times a digit $i$ appears, $d_i(10^k-1)$, is $k$ times the number of multiples of $n$ in $\{1, \\ldots, 10^k-1\}$ that start with the digit $i$. For $i \\in \\{1, \\ldots, 9\\}$, the numbers starting with digit $i$ form an interval of length $10^{k-1}$. The number of multiples of $n$ in any interval of length $L$ is either $\\lfloor L/n \rfloor$ or $\\lceil L/n \rceil = \\lfloor L/n \rfloor+1$. Thus, the number of multiples starting with digit $i$ can only take two possible values. Consequently, $d_i(10^k-1)$ can take at most two distinct values.","For each $1 \\leqslant i \\leqslant 9$ and $T \\in \\mathbb{N}$, define $d_{i}(T)$ to be the total number of times the digit $i$ appears when all the multiples of 1829 between 1 and $T$ inclusive are written out in base 10. Show that there are infinitely many $T \\in \\mathbb{N}$ such that there are precisely two distinct values among $d_{1}(T), d_{2}(T), \\ldots, d_{9}(T)$.","Let $n=1829$. Since $\\gcd(n, 10)=1$, by Euler's totient theorem, there are infinitely many integers $k$ such that $n | (10^k-1)$. For each such $k$, let $T_k=10^k-1$. By Sub-problem 2, the set of counts $\{d_i(T_k)\\}_{i=1}^9$ has at most two distinct values. If it has exactly two, we have found a suitable $T$. If it has only one value, all $d_i(T_k)$ are equal. In this case, consider $T'_k = 10^k-2$. Since $n|(10^k-1)$, $10^k-1$ (a string of $k$ nines) is a multiple of $n$. The list of multiples for $T'_k$ is the list for $T_k$ minus the number $10^k-1$. Thus, for $i \\in \\{1, \\dots, 8\\}$, $d_i(T'_k)=d_i(T_k)$, but $d_9(T'_k) < d_9(T_k)$. Since all $d_i(T_k)$ were equal, for $T'_k$ we have $d_1(T'_k)=\\dots=d_8(T'_k)$ while $d_9(T'_k)$ is a different, smaller value. This gives exactly two distinct values. Since there are infinitely many choices for $k$, we can generate infinitely many such values of $T$ (either $10^k-1$ or $10^k-2$).",,
2022n6,"Let $Q$ be a set of prime numbers, not necessarily finite. For a positive integer $n$ consider its prime factorisation; define $p(n)$ to be the sum of all the exponents and $q(n)$ to be the sum of the exponents corresponding only to primes in $Q$. A positive integer $n$ is called special if $p(n)+p(n+1)$ and $q(n)+q(n+1)$ are both even integers. Prove that there is a constant $c>0$ independent of the set $Q$ such that for any positive integer $N>100$, the number of special integers in $[1, N]$ is at least $c N$.\\
(For example, if $Q=\{3,7\}$, then $p(42)=3, q(42)=2, p(63)=3, q(63)=3, p(2022)=3$, $q(2022)=1$.)",1,"Let $Q$ be a set of prime numbers, not necessarily finite. For a positive integer $n$ consider its prime factorisation; define $p(n)$ to be the sum of all the exponents and $q(n)$ to be the sum of the exponents corresponding only to primes in $Q$. A positive integer $n$ is called special if $p(n)+p(n+1)$ and $q(n)+q(n+1)$ are both even integers. Prove that there is a constant $c>0$ independent of the set $Q$ such that for any positive integer $N>100$, the number of special integers in $[1, N]$ is at least $c N$.\\
(For example, if $Q=\{3,7\}$, then $p(42)=3, q(42)=2, p(63)=3, q(63)=3, p(2022)=3$, $q(2022)=1$.)","Solution. Let us call two positive integers $m, n$ friends if $p(m)+p(n)$ and $q(m)+q(n)$ are both even integers. We start by noting that the pairs $(p(k), q(k))$ modulo 2 can take at most 4 different values; thus, among any five different positive integers there are two which are friends.

In addition, both functions $p$ and $q$ satisfy $f(a b)=f(a)+f(b)$ for any $a, b$. Therefore, if $m$ and $n$ are divisible by $d$, then both $p$ and $q$ satisfy the equality $f(m)+f(n)=f(m / d)+$ $f(n / d)+2 f(d)$. This implies that $m, n$ are friends if and only if $m / d, n / d$ are friends.

Let us call a set of integers $\left\{n_{1}, n_{2}, \ldots, n_{5}\right\}$ an interesting set if for any indexes $i, j$, the difference $d_{i j}=\left|n_{i}-n_{j}\right|$ divides both $n_{i}$ and $n_{j}$. We claim that if elements of an interesting set are all positive, then we can obtain a special integer. Indeed, if we were able to construct such a set, then there would be a pair of integers $\left\{n_{i}, n_{j}\right\}$ which are friends, according to the first observation. Additionally, the second observation yields that the quotients $n_{i} / d_{i j}, n_{j} / d_{i j}$ form a pair of friends, which happen to be consecutive integers, thus giving a special integer as desired.

In order to construct a family of interesting sets, we can start by observing that the set $\{0,6,8,9,12\}$ is an interesting set. Using that $72=2^{3} \cdot 3^{2}$ is the least common multiple of all pairwise differences in this set, we obtain a family of interesting sets by considering

$$
\{72 k, 72 k+6,72 k+8,72 k+9,72 k+12\}
$$

for any $k \geqslant 1$. If we consider the quotients (of these numbers by the appropriate differences), then we obtain that the set

$$
S_{k}=\{6 k, 8 k, 9 k, 12 k, 12 k+1,18 k+2,24 k+2,24 k+3,36 k+3,72 k+8\}
$$

has at least one special integer. In particular, the interval $[1,100 k]$ contains the sets $S_{1}, S_{2}, \ldots, S_{k}$, each of which has a special number. Any special number can be contained in at most ten sets $S_{k}$, from where we conclude that the number of special integers in $[1,100 k]$ is at least $k / 10$.

Finally, let $N=100 k+r$, with $k \geqslant 1$ and $0 \leqslant r<100$, so that we have $N<100(k+1) \leqslant$ $200 k$. Then the number of special integers in $[1, N]$ is at least $k / 10>N / 2000$, as we wanted to prove.

Comment 1. The statement is also true for $N \geqslant 15$ as at least one of the numbers $7,14,15$ is special.\\
Comment 2. Another approach would be to note that if $p(2 n), p(2 n+1), p(2 n+2)$ all have the same parity then one of the numbers $n, 2 n, 2 n+1$ is special. Indeed, if $q(n)+q(n+1)$ is even then $n$ is special since $p(n)+p(n+1) \equiv p(2 n)+p(2 n+2) \equiv 0(\bmod 2)$. Otherwise, if $q(n)+q(n+1)$ is odd, so is $q(2 n)+q(2 n+2)$ which implies that exactly one of the numbers $2 n, 2 n+1$ is special.

Unfortunately, it seems hard to show that the set of such $n$ has positive density: see a recent paper \href{https://arxiv.org/abs/1509.01545}{https://arxiv.org/abs/1509.01545} for the proof that all eight patterns of the parities of $p(n), p(n+1), p(n+2)$ appear for a positive proportion of positive integers.",,,,,,
2022n7,Let $k$ be a positive integer and let $S$ be a finite set of odd prime numbers. Prove that there is at most one way (modulo rotation and reflection) to place the elements of $S$ around a circle such that the product of any two neighbors is of the form $x^{2}+x+k$ for some positive integer $x$.,4,Let $r$ be an odd prime. A prime $p$ is a valid neighbor of $r$ if their product $pr$ is of the form $x^2+x+k$ for some integer $x \ge 0$. Prove that there are at most two primes $p < r$ that can be a valid neighbor of $r$.,"If $pr = x^2+x+k$, this implies the congruence $x^2+x+k \equiv 0 \\pmod{r}$. As a quadratic congruence modulo a prime $r$, it can have at most two solutions for $x$. Each solution for $x$ determines a unique value for $p = (x^2+x+k)/r$. Therefore, there are at most two primes $p < r$ that can be valid neighbors of $r$.","Let $r$ be an odd prime. If two distinct primes $p < r$ and $q < r$ are both valid neighbors of $r$, prove that $p$ and $q$ form a valid neighbor pair themselves, i.e., their product $pq$ is of the form $z^2+z+k$ for some integer $z \ge 0$.","Let $pr = x^2+x+k$ and $qr = y^2+y+k$. The values $x$ and $y$ are the two distinct solutions to $z^2+z+k \equiv 0 \\pmod{r}$. By Vieta's formulas, $x+y \equiv -1 \\pmod{r}$. Since $p,q < r$, we have $x,y < r$, so $x+y=r-1$. Subtracting the initial equations yields $(x-y)(x+y+1) = (p-q)r$. With $x+y+1=r$, we get $x-y=p-q$. Solving for $x$ and $y$ and substituting back into the equation for $k$ reveals a relationship symmetric in $p, q, r$, which implies $pq = z^2+z+k$ for $z=(p+q-r-1)/2$.","Consider a valid circular arrangement of primes from a set $S$. Let $r$ be the largest prime in $S$. Show that its neighbors $p$ and $q$ are uniquely determined, and that removing $r$ results in a valid circular arrangement for the set $S \\setminus \\{r\\}$ where $p$ and $q$ are now neighbors.","In any circular arrangement, $r$ must have exactly two neighbors. From Sub-problem 1, there are at most two primes in $S$ smaller than $r$ that can be its neighbors. Thus, the neighbors of $r$, say $p$ and $q$, must be these two specific primes and are uniquely determined. From Sub-problem 2, because $p$ and $q$ are both neighbors of $r$, their product $pq$ is of the form $z^2+z+k$. Therefore, removing $r$ from the circle and making $p$ and $q$ adjacent creates a valid smaller circular arrangement for the set $S \\setminus \\{r\\}$.",Let $k$ be a positive integer and let $S$ be a finite set of odd prime numbers. Prove that there is at most one way (modulo rotation and reflection) to place the elements of $S$ around a circle such that the product of any two neighbors is of the form $x^{2}+x+k$ for some positive integer $x$.,"We use induction on $|S|=n$. Base cases ($n \\le 3$) are trivial. Assume uniqueness holds for sets of size $n$. For a set $S$ of size $n+1$, let $r$ be its largest prime. From Sub-problem 3, in any valid arrangement of $S$, the neighbors of $r$ are a unique pair of primes \\{p, q\\}, and the set $S' = S \\setminus \\{r\\}$ must form a valid arrangement. By the induction hypothesis, there is at most one arrangement for $S'$. The position of $r$ is then fixed between $p$ and $q$. Thus, the arrangement for $S$ is also unique (up to rotation and reflection)."
2022n8,Prove that $5^{n}-3^{n}$ is not divisible by $2^{n}+65$ for any positive integer $n$.,4,"Prove that if a positive integer $n$ is such that $2^n+65$ divides $5^n-3^n$, then $n$ must be an odd integer with $n \ge 3$.","Let $m = 2^n+65$. Assume $m \mid 5^n-3^n$. If $n$ is even, say $n=2k$, then $m = 4^k+65 \equiv 1^k+65 \equiv 66 \equiv 0 \pmod 3$. So $3 \mid m$. But $5^n-3^n \equiv (-1)^n-0^n \equiv 1 \pmod 3$. If $m \mid 5^n-3^n$, then $3 \mid 5^n-3^n$, a contradiction. So $n$ must be odd. If $n=1$, $m=67$ and $5^1-3^1=2$. $67 \nmid 2$. Thus, $n$ must be an odd integer with $n \ge 3$.","Let $m=2^n+65$ for an odd integer $n \ge 3$, and assume $m \mid 5^n-3^n$. Define $m_1$ as the smallest positive multiple of $m$ that can be written in the form $|5a^2-3b^2|$ or $|a^2-15b^2|$ for integers $a, b$. Prove that $m_1$ is well-defined and satisfies $m_1 \le 5m$.","Let $n=2k+1$. The number $5^n-3^n = 5(5^k)^2-3(3^k)^2$ is a multiple of $m$ and has the form $5a^2-3b^2$. Thus, the set of such multiples is non-empty and a smallest positive element $m_1$ exists. By a pigeonhole argument, there exist integers $a, b$, not both zero, with $|a|, |b| \le \sqrt{m}$, such that $5^{k+1}a \equiv -3^{k+1}b \pmod m$. Squaring gives $5^{n+1}a^2 \equiv 3^{n+1}b^2 \pmod m$. Since $5^n \equiv 3^n \pmod m$ and $\gcd(3,m)=1$, we get $5a^2 \equiv 3b^2 \pmod m$. Therefore, $|5a^2-3b^2|$ is a non-zero multiple of $m$. We have $m_1 \le |5a^2-3b^2| \le \max(5a^2, 3b^2) \le 5(\sqrt{m})^2 = 5m$.","Under the same assumptions as the previous sub-problem, prove that $m_1=m$.","From the previous step, $m_1$ is a multiple of $m$ and $m_1 \le 5m$. Thus $m_1 \in \{m, 2m, 3m, 4m, 5m\}$. We show $m_1$ is not divisible by 2, 3, or 5 by contradiction. If $p \in \{2,3,5\}$ divides $m_1$, we find a smaller multiple of $m$ of the required form, contradicting $m_1$'s minimality. For $p=5$, if $m_1=|5a^2-3b^2|$ then $5|b$, giving $|a^2-15(b/5)^2|=m_1/5$. For $p=3$, if $m_1=|5a^2-3b^2|$ then $3|a$, giving $|b^2-15(a/3)^2|=m_1/3$. For $p=2$, if $m_1=|5a^2-3b^2|$ then $|(\frac{5a-3b}{2})^2-15(\frac{a-b}{2})^2|=m_1/2$. Similar constructions exist for the other form $|a^2-15b^2|$. Since $m_1$ is not divisible by 2, 3, or 5, we must have $m_1=m$.",Prove that $5^{n}-3^{n}$ is not divisible by $2^{n}+65$ for any positive integer $n$.,"Assume for contradiction that $m=2^n+65$ divides $5^n-3^n$. By sub-problem 1, $n$ is an odd integer, $n \ge 3$. By sub-problems 2 and 3, this implies $m$ must be of the form $|5a^2-3b^2|$ or $|a^2-15b^2|$. We check these four possibilities using modular arithmetic. 1. $2^n+65=5a^2-3b^2$: Modulo 3, this is $1 \equiv 2a^2 \pmod 3$, impossible. 2. $2^n+65=3b^2-5a^2$: For $n\ge 3$, modulo 4, this is $1 \equiv 3b^2-a^2 \pmod 4$, impossible. 3. $2^n+65=a^2-15b^2$: Modulo 5, this is $2^n \equiv a^2 \pmod 5$. For odd $n$, $2^n \equiv 2$ or $3 \pmod 5$, which are not quadratic residues mod 5. 4. $2^n+65=15b^2-a^2$: For $n\ge 3$, modulo 4, this is $1 \equiv -b^2-a^2 \pmod 4$, impossible. All cases lead to a contradiction. Thus, the assumption is false."
2021a1,"Let $n$ be an integer, and let $A$ be a subset of $\left\{0,1,2,3, \ldots, 5^{n}\right\}$ consisting of $4 n+2$ numbers. Prove that there exist $a, b, c \in A$ such that $a<b<c$ and $c+2 a>3 b$.",1,"Let $n$ be an integer, and let $A$ be a subset of $\left\{0,1,2,3, \ldots, 5^{n}\right\}$ consisting of $4 n+2$ numbers. Prove that there exist $a, b, c \in A$ such that $a<b<c$ and $c+2 a>3 b$.","(By contradiction) Suppose that there exist $4 n+2$ non-negative integers $x_{0}<$ $x_{1}<\cdots<x_{4 n+1}$ that violate the problem statement. Then in particular $x_{4 n+1}+2 x_{i} \leqslant 3 x_{i+1}$ for all $i=0, \ldots, 4 n-1$, which gives

$$
x_{4 n+1}-x_{i} \geqslant \frac{3}{2}\left(x_{4 n+1}-x_{i+1}\right) .
$$

By a trivial induction we then get

$$
x_{4 n+1}-x_{i} \geqslant\left(\frac{3}{2}\right)^{4 n-i}\left(x_{4 n+1}-x_{4 n}\right)
$$

which for $i=0$ yields the contradiction

$$
x_{4 n+1}-x_{0} \geqslant\left(\frac{3}{2}\right)^{4 n}\left(x_{4 n+1}-x_{4 n}\right)=\left(\frac{81}{16}\right)^{n}\left(x_{4 n+1}-x_{4 n}\right)>5^{n} \cdot 1
$$",,,,,,
2021a4,"Show that for all real numbers $x_{1}, \ldots, x_{n}$ the following inequality holds:

$$
\sum_{i=1}^{n} \sum_{j=1}^{n} \sqrt{\left|x_{i}-x_{j}\right|} \leqslant \sum_{i=1}^{n} \sum_{j=1}^{n} \sqrt{\left|x_{i}+x_{j}\right|} .
$$",3,"Show that to prove the inequality for an arbitrary set of real numbers $\{x_1, \ldots, x_n\}$, it is sufficient to prove it for the case where $x_i + x_j = 0$ for some pair of indices $(i, j)$.","Let the left-hand side be $L = \sum_{i,j} \sqrt{|x_i - x_j|}$, which is invariant under a shift $x_k \to x_k+t$. Let the shifted right-hand side be $H(t) = \sum_{i,j} \sqrt{|x_i+x_j+2t|}$. The function $H(t)$ is a sum of functions of the form $\sqrt{|c+2t|}$, which are concave where their argument is of constant sign. Thus, $H(t)$ is concave on intervals defined by the points $t_0 = -(x_i+x_j)/2$. Since $H(t) \to \infty$ as $|t| \to \infty$, the global minimum of $H(t)$ must occur at one of these critical points. To prove $L \le H(0)$, it is sufficient to prove $L \le H(t_0)$ for any such $t_0$, which corresponds to proving the inequality for a set of variables shifted such that some pair sums to zero.","Assuming $x_i + x_j = 0$ for some pair $(i, j)$, show that the inequality for $n$ variables can be reduced to the same inequality for a smaller number of variables.","We consider two cases. Case 1: $i=j$, so $x_i=0$. Removing $x_i$ decreases both the left and right sides of the inequality by the same amount, $2\sum_{k \neq i} \sqrt{|x_k|}$. Thus, the inequality for $n$ variables holds if and only if it holds for the remaining $n-1$ variables. Case 2: $i \neq j$, so $x_j = -x_i$. Removing both $x_i$ and $x_j$ decreases both sides by an identical amount. This reduces the inequality for $n$ variables to the one for the remaining $n-2$ variables.","Show that for all real numbers $x_{1}, \ldots, x_{n}$ the following inequality holds:\n\n$$ \sum_{i=1}^{n} \sum_{j=1}^{n} \sqrt{\left|x_{i}-x_{j}\right|} \leqslant \sum_{i=1}^{n} \sum_{j=1}^{n} \sqrt{\left|x_{i}+x_{j}\right|} . $$","The proof is by induction on $n$. The base cases $n=0$ and $n=1$ are trivial, as both sides are 0. For the inductive step, we assume the inequality holds for all sets with fewer than $n$ variables. From Sub-problem 1, it suffices to prove the inequality for the case where $x_i+x_j=0$ for some $(i,j)$. From Sub-problem 2, this case reduces to the same inequality for a set of $n-1$ or $n-2$ variables. By the induction hypothesis, the inequality holds for this smaller set, and therefore it holds for $n$ variables.",,
2021a5,"Let $n \geqslant 2$ be an integer, and let $a_{1}, a_{2}, \ldots, a_{n}$ be positive real numbers such that $a_{1}+a_{2}+\cdots+a_{n}=1$. Prove that

$$
\sum_{k=1}^{n} \frac{a_{k}}{1-a_{k}}\left(a_{1}+a_{2}+\cdots+a_{k-1}\right)^{2}<\frac{1}{3} .
$$",2,"Let $n \ge 2$ be an integer and $a_1, \ldots, a_n$ be positive real numbers with $\sum_{i=1}^n a_i = 1$. Let $s_k = \sum_{i=1}^k a_i$ for $k \ge 1$ and $s_0=0$. For any $k \in \{1, 2, \ldots, n\}$, prove the inequality $\frac{a_k s_{k-1}^2}{1-a_k} < \frac{s_k^3 - s_{k-1}^3}{3}$.","The inequality is equivalent to $3a_k s_{k-1}^2 < (1-a_k)(s_k^3 - s_{k-1}^3)$. Using $s_k = s_{k-1} + a_k$, this is equivalent to showing $0 < (1-a_k)((s_{k-1}+a_k)^3 - s_{k-1}^3) - 3a_k s_{k-1}^2$. Expanding the cubic difference gives $0 < (1-a_k)(3s_{k-1}^2a_k + 3s_{k-1}a_k^2 + a_k^3) - 3a_k s_{k-1}^2$. Since $a_k > 0$, we can divide by $a_k$ to get the equivalent inequality $0 < (1-a_k)(3s_{k-1}^2 + 3s_{k-1}a_k + a_k^2) - 3s_{k-1}^2$. This simplifies to $0 < 3s_{k-1}a_k(1-a_k-s_{k-1}) + a_k^2(1-a_k)$. Since $s_k = s_{k-1}+a_k$, this is $0 < 3s_{k-1}a_k(1-s_k) + a_k^2(1-a_k)$. As $s_k = \sum_{i=1}^k a_i \le \sum_{i=1}^n a_i = 1$, we have $1-s_k \ge 0$. Since $n \ge 2$, $0 < a_k < 1$, so $1-a_k > 0$. Also, $a_k>0$ and $s_{k-1} \ge 0$. The term $a_k^2(1-a_k)$ is strictly positive, and $3s_{k-1}a_k(1-s_k)$ is non-negative. Their sum is strictly positive, proving the inequality.","Let $n \geqslant 2$ be an integer, and let $a_{1}, a_{2}, \ldots, a_{n}$ be positive real numbers such that $a_{1}+a_{2}+\cdots+a_{n}=1$. Prove that

$$
\sum_{k=1}^{n} \frac{a_{k}}{1-a_{k}}\left(a_{1}+a_{2}+\cdots+a_{k-1}\right)^{2}<\frac{1}{3} .
$$","Let $s_k = a_1 + a_2 + \cdots + a_k$ for $k \ge 1$ and $s_0=0$. The sum can be written as $\sum_{k=1}^{n} \frac{a_{k} s_{k-1}^{2}}{1-a_{k}}$.
From the previous sub-problem, we have the inequality $\frac{a_k s_{k-1}^2}{1-a_k} < \frac{s_k^3 - s_{k-1}^3}{3}$ for each $k=1, 2, \ldots, n$.
Summing these inequalities from $k=1$ to $n$, we get:
$$
\sum_{k=1}^{n} \frac{a_{k} s_{k-1}^{2}}{1-a_{k}} < \sum_{k=1}^{n} \frac{s_k^3 - s_{k-1}^3}{3}
$$
The sum on the right is a telescoping series:
$$
\sum_{k=1}^{n} \frac{s_k^3 - s_{k-1}^3}{3} = \frac{1}{3} ((s_1^3 - s_0^3) + (s_2^3 - s_1^3) + \cdots + (s_n^3 - s_{n-1}^3)) = \frac{1}{3} (s_n^3 - s_0^3)
$$
By definition, $s_n = a_1 + \cdots + a_n = 1$ and $s_0 = 0$. Therefore, $\frac{1}{3}(s_n^3 - s_0^3) = \frac{1}{3}(1^3 - 0^3) = \frac{1}{3}$.
Combining the results, we have $\sum_{k=1}^{n} \frac{a_{k} s_{k-1}^{2}}{1-a_{k}} < \frac{1}{3}$, as desired.",,,,
2021a6,"Let $A$ be a finite set of (not necessarily positive) integers, and let $m \geqslant 2$ be an integer. Assume that there exist non-empty subsets $B_{1}, B_{2}, B_{3}, \ldots, B_{m}$ of $A$ whose elements add up to the sums $m^{1}, m^{2}, m^{3}, \ldots, m^{m}$, respectively. Prove that $A$ contains at least $m / 2$ elements.",2,"Let $A=\{a_1, \ldots, a_k\}$ be a set of integers. For an integer $m \ge 2$, let $B_1, \ldots, B_m$ be subsets of $A$ with sums $s_i = \sum_{a \in B_i} a$. Consider the set of values $V = \{ \sum_{i=1}^m c_i s_i \mid c_i \in \{0, 1, \ldots, m-1\} \}$. Prove that the number of distinct values in $V$ is at most $(m(m-1)+1)^k$.","Each value in $V$ is of the form $\sum_{i=1}^m c_i s_i$. By substituting $s_i = \sum_{j=1}^k \delta_{ij} a_j$ (where $\delta_{ij}=1$ if $a_j \in B_i$ and 0 otherwise), we can rewrite the expression as $\sum_{j=1}^k \alpha_j a_j$, where the coefficients are $\alpha_j = \sum_{i=1}^m c_i \delta_{ij}$. Since $c_i \in \{0, \ldots, m-1\}$ and $\delta_{ij} \in \{0, 1\}$, each coefficient $\alpha_j$ must be an integer in the range $[0, m(m-1)]$. There are $m(m-1)+1$ possible values for each of the $k$ coefficients $\alpha_j$. Thus, there can be at most $(m(m-1)+1)^k$ distinct values in $V$.","Let $A$ be a finite set of (not necessarily positive) integers, and let $m \geqslant 2$ be an integer. Assume that there exist non-empty subsets $B_{1}, B_{2}, B_{3}, \ldots, B_{m}$ of $A$ whose elements add up to the sums $m^{1}, m^{2}, m^{3}, \ldots, m^{m}$, respectively. Prove that $A$ contains at least $m / 2$ elements.","Let $|A|=k$ and the given sums be $s_i = m^i$. Consider the set of sums $V = \{ \sum_{i=1}^m c_i m^i \mid c_i \in \{0, \ldots, m-1\} \}$. By the uniqueness of base-$m$ representation, these $m^m$ sums are all distinct. From the previous sub-problem, the number of distinct values in $V$ is at most $(m(m-1)+1)^k$. Therefore, we must have $m^m \le (m(m-1)+1)^k$. Assume for contradiction that $k < m/2$. Then $2k < m$. The inequality becomes $m^m \le (m(m-1)+1)^k < (m^2)^k = m^{2k}$. This implies $m^m < m^{2k}$, so $m < 2k$, which contradicts our assumption. Thus, we must have $k \ge m/2$.",,,,
2021a7,"Let $n \geqslant 1$ be an integer, and let $x_{0}, x_{1}, \ldots, x_{n+1}$ be $n+2$ non-negative real numbers that satisfy $x_{i} x_{i+1}-x_{i-1}^{2} \geqslant 1$ for all $i=1,2, \ldots, n$. Show that

$$
x_{0}+x_{1}+\cdots+x_{n}+x_{n+1}>\left(\frac{2 n}{3}\right)^{3 / 2}
$$",2,"Let $n \geqslant 1$ be an integer, and let $x_{0}, x_{1}, \ldots, x_{n+1}$ be non-negative real numbers that satisfy $x_{i} x_{i+1}-x_{i-1}^{2} \geqslant 1$ for all $i=1,2, \ldots, n$. Define a sequence $y_i = 2x_i+x_{i+1}$ for $i=0, \ldots, n$. Show that $y_i \ge \sqrt{6i}$ for $i=1, \ldots, n$.","For $i=1, \ldots, n$, let $a=x_{i+1}, b=x_i, c=x_{i-1}$. The condition $x_{i} x_{i+1}-x_{i-1}^{2} \geqslant 1$ becomes $ab-c^2 \ge 1$. Using the identity $(a+2b)^2 - (b+2c)^2 = (a-b)^2 + 2(b-c)^2 + 6(ab-c^2)$, we see that $(a+2b)^2 - (b+2c)^2 \ge 6$. In terms of the $x_j$ variables, this is $(x_{i+1}+2x_i)^2 \ge (x_i+2x_{i-1})^2 + 6$. With the definition $y_i=2x_i+x_{i+1}$, this inequality is $y_i^2 \ge y_{i-1}^2 + 6$. A simple induction yields $y_i^2 \ge y_0^2 + 6i$. Since $x_0, x_1$ are non-negative, $y_0 = 2x_0+x_1 \ge 0$, so $y_i^2 \ge 6i$. As $y_i$ is also non-negative, we can take the square root to get $y_i \ge \sqrt{6i}$.","Let $n \geqslant 1$ be an integer, and let $x_{0}, x_{1}, \ldots, x_{n+1}$ be $n+2$ non-negative real numbers that satisfy $x_{i} x_{i+1}-x_{i-1}^{2} \geqslant 1$ for all $i=1,2, \ldots, n$. Show that

$$
x_{0}+x_{1}+\cdots+x_{n}+x_{n+1}>\left(\frac{2 n}{3}\right)^{3 / 2}
$$","Let $S = x_{0}+x_{1}+\cdots+x_{n}+x_{n+1}$. Define the sequence $y_i = 2x_i+x_{i+1}$ for $i=0, \ldots, n$. From the previous sub-problem, we have $y_i \ge \sqrt{6i}$ for $i=1, \ldots, n$. Since all $x_j$ are non-negative, we can bound the sum $3S = 3\sum_{j=0}^{n+1} x_j \ge \sum_{i=1}^n (2x_i+x_{i+1}) = \sum_{i=1}^n y_i$. Using the lower bound for $y_i$, we get $3S \ge \sum_{i=1}^n \sqrt{6i} = \sqrt{6}\sum_{i=1}^n \sqrt{i}$. It is a known result that $\sum_{i=1}^n \sqrt{i} > \frac{2}{3}n^{3/2}$. Therefore, $3S > \sqrt{6} \cdot \frac{2}{3}n^{3/2}$, which simplifies to $S > \frac{2\sqrt{6}}{9}n^{3/2}$. The proof is complete by noting that $\left(\frac{2n}{3}\right)^{3/2} = \frac{2^{3/2}n^{3/2}}{3^{3/2}} = \frac{2\sqrt{2}n^{3/2}}{3\sqrt{3}} = \frac{2\sqrt{6}}{9}n^{3/2}$.",,,,
2021c1,"Let $S$ be an infinite set of positive integers, such that there exist four pairwise distinct $a, b, c, d \in S$ with $\operatorname{gcd}(a, b) \neq \operatorname{gcd}(c, d)$. Prove that there exist three pairwise distinct $x, y, z \in S$ such that $\operatorname{gcd}(x, y)=\operatorname{gcd}(y, z) \neq \operatorname{gcd}(z, x)$.",3,"Let $S$ be an infinite set of positive integers with four distinct $a,b,c,d \in S$ such that $\operatorname{gcd}(a, b) \neq \operatorname{gcd}(c, d)$. Prove that there exists $\alpha \in S$ such that the set $\{\operatorname{gcd}(\alpha, s) \mid s \in S, s \neq \alpha\}$ contains at least two distinct values.","Assume for contradiction that for every $x \in S$, the set $\{\operatorname{gcd}(x, s) \mid s \in S, s \neq x\}$ contains only one value, say $d_x$. Given distinct $a, b, c, d \in S$ with $\operatorname{gcd}(a, b) \neq \operatorname{gcd}(c, d)$. By our assumption, $\operatorname{gcd}(a, b) = d_a$ and $\operatorname{gcd}(a, c) = d_a$. Also, $\operatorname{gcd}(c, d) = d_c$ and $\operatorname{gcd}(c, a) = d_c$. Since $\operatorname{gcd}(a, c) = \operatorname{gcd}(c, a)$, it follows that $d_a = d_c$. This implies $\operatorname{gcd}(a, b) = d_a = d_c = \operatorname{gcd}(c, d)$, which is a contradiction. Thus, such an $\alpha$ must exist.","Let $S$ be an infinite set of positive integers. Suppose there is an element $\alpha \in S$ such that the set of values $\{\operatorname{gcd}(\alpha, s) \mid s \in S, s \neq \alpha\}$ is not a singleton. Prove that there exist a divisor $d$ of $\alpha$, an infinite subset $B \subseteq S \setminus \{\alpha\}$, and an element $\gamma \in S \setminus \{\alpha\}$ such that $\operatorname{gcd}(\alpha, \beta)=d$ for all $\beta \in B$, and $\operatorname{gcd}(\alpha, \gamma) \neq d$.","The set of values $V = \{\operatorname{gcd}(\alpha, s) \mid s \in S, s \neq \alpha\}$ is a subset of the finite set of divisors of $\alpha$. Since $S \setminus \{\alpha\}$ is infinite, by the Pigeonhole Principle, there must be at least one value $d \in V$ such that the set $B = \{s \in S \setminus \{\alpha\} \mid \operatorname{gcd}(\alpha, s) = d\}$ is infinite. By hypothesis, $V$ contains at least two distinct values, so there must exist an element $\gamma \in S \setminus \{\alpha\}$ for which $\operatorname{gcd}(\alpha, \gamma) \neq d$.","Let $S$ be an infinite set of positive integers, such that there exist four pairwise distinct $a, b, c, d \in S$ with $\operatorname{gcd}(a, b) \neq \operatorname{gcd}(c, d)$. Prove that there exist three pairwise distinct $x, y, z \in S$ such that $\operatorname{gcd}(x, y)=\operatorname{gcd}(y, z) \neq \operatorname{gcd}(z, x)$.","From the previous steps, there exist $\alpha, \gamma \in S$, an infinite subset $B \subseteq S$, and an integer $d$ such that for all $\beta \in B$, $\operatorname{gcd}(\alpha, \beta) = d$, and $\operatorname{gcd}(\alpha, \gamma) \neq d$. The set of values $\{\operatorname{gcd}(\gamma, \beta) \mid \beta \in B\}$ is finite. As $B$ is infinite, by the Pigeonhole Principle, we can find two distinct $\beta_1, \beta_2 \in B$ with $\operatorname{gcd}(\gamma, \beta_1) = \operatorname{gcd}(\gamma, \beta_2) =: d'$. If $d = d'$, the triangle $(\alpha, \beta_1, \gamma)$ works, since $\operatorname{gcd}(\alpha, \beta_1)=\operatorname{gcd}(\beta_1, \gamma)=d$ and $\operatorname{gcd}(\alpha, \gamma) \neq d$. If $d \neq d'$, let $g = \operatorname{gcd}(\beta_1, \beta_2)$. Consider the triangles $(\alpha, \beta_1, \beta_2)$ with edge GCDs $(d, d, g)$ and $(\gamma, \beta_1, \beta_2)$ with edge GCDs $(d', d', g)$. Since $d \neq d'$, $g$ cannot equal both. If $g \neq d$, $(\alpha, \beta_1, \beta_2)$ works. If $g \neq d'$, $(\gamma, \beta_1, \beta_2)$ works. In all cases, three distinct elements with the desired property are found.",,
2021c3,"A thimblerigger has 2021 thimbles numbered from 1 through 2021. The thimbles are arranged in a circle in arbitrary order. The thimblerigger performs a sequence of 2021 moves; in the $k^{\text {th }}$ move, he swaps the positions of the two thimbles adjacent to thimble $k$.

Prove that there exists a value of $k$ such that, in the $k^{\text {th }}$ move, the thimblerigger swaps some thimbles $a$ and $b$ such that $a<k<b$.",4,"Assume that for every move k, the swapped thimbles a and b satisfy either a, b < k or a, b > k. Show that each of the 2021 positions is the central position (i.e., holds the thimble k) for exactly one move k.","Define a thimble t as ""white"" before move t and ""black"" from move t onwards. The assumption implies that in move k, the thimbles adjacent to thimble k are of the same color (both black or both white). Color each position by the color of the thimble it contains. In move k, thimble k is white. Its neighbors are swapped. Then, thimble k becomes black. The swap operation exchanges two thimbles of the same color, so the colors of the neighboring positions do not change. The only position that changes color is the one holding thimble k, which turns from white to black. As there are 2021 moves and 2021 positions, and each move turns exactly one position from white to black permanently, each position must be the central position for exactly one move.","Under the same assumption, show that for any position P, if it is the central position for move k, then before move k, P always contains a thimble with a number greater than the current move's number, and after move k, it always contains a thimble with a number less than the current move's number.","From sub-problem 1, each position P is the central position for exactly one move k. For any move m < k, P has not yet been a central position. Following the coloring argument from the previous step, P is a ""white"" position, meaning it holds a white thimble. The thimble m is at the central position for move m (which is not P), so the thimble t at P is not m. Since t is a white thimble at move m, its number satisfies t 鈮?m. As t 鈮?m, we have t > m. For any move m > k, P has already been a central position and is now a ""black"" position, meaning it holds a black thimble t. This means t < m.","Under the same assumption, define a coloring on the positions: a position is ""green"" if, when it was central for move k, the swapped thimbles a,b satisfied a,b > k, and ""red"" if a,b < k. Show that any two adjacent positions must have different colors.","Let P1 and P2 be adjacent positions. From sub-problem 1, they are central for unique moves k1 and k2. Assume k1 < k2. At move k1, thimble k1 is at P1, and P2 is an adjacent position. By sub-problem 2, since k1 < k2, position P2 contains a thimble t > k1. This thimble t is swapped in move k1. By the main assumption, the other swapped thimble must also have a number greater than k1. Thus, P1 is colored green. At move k2, thimble k2 is at P2, and P1 is an adjacent position. By sub-problem 2, since k1 < k2, P1 now contains a thimble t' < k2. This thimble t' is swapped in move k2. By assumption, the other swapped thimble must also be less than k2. Thus, P2 is colored red. Therefore, adjacent positions have different colors.","Prove that there exists a value of k such that, in the k^{\text {th }} move, the thimblerigger swaps some thimbles a and b such that a<k<b.","Assume for contradiction that for every move k, the swapped thimbles a, b satisfy either a, b < k or a, b > k. From sub-problem 3, this assumption implies that any two adjacent positions in the circular arrangement of 2021 thimbles must have different colors (one red, one green). This requires the colors of the positions to alternate around the circle. An alternating 2-coloring is only possible for a cycle of even length. Since there are 2021 positions, which is an odd number, this is a contradiction. Therefore, the initial assumption is false, which proves the statement."
2021c4,"The kingdom of Anisotropy consists of $n$ cities. For every two cities there exists exactly one direct one-way road between them. We say that a path from $X$ to $Y$ is a sequence of roads such that one can move from $X$ to $Y$ along this sequence without returning to an already visited city. A collection of paths is called diverse if no road belongs to two or more paths in the collection.

Let $A$ and $B$ be two distinct cities in Anisotropy. Let $N_{A B}$ denote the maximal number of paths in a diverse collection of paths from $A$ to $B$. Similarly, let $N_{B A}$ denote the maximal number of paths in a diverse collection of paths from $B$ to $A$. Prove that the equality $N_{A B}=N_{B A}$ holds if and only if the number of roads going out from $A$ is the same as the number of roads going out from $B$.",4,"Let $A$ and $B$ be two distinct cities. Partition the remaining $n-2$ cities $C$ into four sets: $\mathcal{I} = \{C \mid A \rightarrow C \leftarrow B\}$, $\mathcal{O} = \{C \mid A \leftarrow C \rightarrow B\}$, $\mathcal{A} = \{C \mid A \rightarrow C \rightarrow B\}$, and $\mathcal{B} = \{C \mid A \leftarrow C \leftarrow B\}$. Let $a$ and $b$ be the number of roads going out from $A$ and $B$, respectively. Prove that $a - b = |\mathcal{A}| - |\mathcal{B}| + \delta$, where $\delta = 1$ if there is a road $A \rightarrow B$ and $\delta = -1$ if there is a road $B \rightarrow A$.","The set of cities to which roads go out from $A$ consists of cities in $\mathcal{I}$, cities in $\mathcal{A}$, and possibly city $B$. Thus, the out-degree of $A$ is $a = |\mathcal{I}| + |\mathcal{A}| + (1 \text{ if } A \rightarrow B \text{ else } 0)$. The set of cities to which roads go out from $B$ consists of cities in $\mathcal{I}$, cities in $\mathcal{B}$, and possibly city $A$. Thus, the out-degree of $B$ is $b = |\mathcal{I}| + |\mathcal{B}| + (1 \text{ if } B \rightarrow A \text{ else } 0)$. Let $\delta$ be 1 if $A \rightarrow B$ and -1 if $B \rightarrow A$. If $A \rightarrow B$, then $a = |\mathcal{I}|+|\mathcal{A}|+1$ and $b = |\mathcal{I}|+|\mathcal{B}|$, so $a-b = |\mathcal{A}|-|\mathcal{B}|+1 = |\mathcal{A}|-|\mathcal{B}|+\delta$. If $B \rightarrow A$, then $a = |\mathcal{I}|+|\mathcal{A}|$ and $b = |\mathcal{I}|+|\mathcal{B}|+1$, so $a-b = |\mathcal{A}|-|\mathcal{B}|-1 = |\mathcal{A}|-|\mathcal{B}|+\delta$. The formula holds in both cases.",A path is 'short' if it consists of one or two roads. Let $\mathcal{P}$ be a diverse collection of $p$ paths from city $A$ to city $B$. Prove that there exists a diverse collection $\mathcal{P}'$ with at least $p$ paths from $A$ to $B$ that contains all short paths from $A$ to $B$.,"We construct $\mathcal{P}'$ by modifying $\mathcal{P}$. First, if the direct path $A \rightarrow B$ exists and is not in $\mathcal{P}$, add it to the collection. The number of paths increases. Now, for any city $C \in \mathcal{A}$ such that the short path $P_C: A \rightarrow C \rightarrow B$ is not in $\mathcal{P}$, we observe that its edges $A \rightarrow C$ and $C \rightarrow B$ are used by at most two paths in $\mathcal{P}$ (since the collection is diverse). If they are used by two paths $P_1: A \rightarrow C \leadsto Y$ and $P_2: X \leadsto C \rightarrow B$, we replace them with $P_C: A \rightarrow C \rightarrow B$ and a new path $X \leadsto C \leadsto Y$ (with cycles removed). The number of paths is unchanged. If only one of the edges is used, say in a path $P_1$, we replace $P_1$ with $P_C$. If neither edge is used, we add $P_C$. In all cases, the number of paths does not decrease, the collection remains diverse, and we have incorporated $P_C$. Repeating this for all $C \in \mathcal{A}$ yields the desired collection $\mathcal{P}'$.","Let $a$ and $b$ be the out-degrees of cities $A$ and $B$, and let $N_{AB}$ and $N_{BA}$ be the maximal sizes of diverse path collections. Show that $N_{B A} - N_{A B} = b - a$.","Assume without loss of generality that the road is $A \rightarrow B$. Let $\mathcal{P}'$ be a maximal diverse collection of $N_{A B}$ paths from $A$ to $B$ which, by the previous sub-problem, can be assumed to contain all short paths. The number of short paths is $|\mathcal{A}|+1$. The other $N_{A B} - (|\mathcal{A}|+1)$ paths must be of the form $A \rightarrow C \leadsto D \rightarrow B$ for some $C \in \mathcal{I}, D \in \mathcal{O}$. We form a new collection $\mathcal{Q}$ of paths from $B$ to $A$. For each non-short path $A \rightarrow C \leadsto D \rightarrow B$ in $\mathcal{P}'$, we add the path $B \rightarrow C \leadsto D \rightarrow A$ to $\mathcal{Q}$. We also add all $|\mathcal{B}|$ short paths from $B$ to $A$ (of the form $B \rightarrow C \rightarrow A$ for $C \in \mathcal{B}$). The collection $\mathcal{Q}$ is diverse and its size is $|\mathcal{Q}| = (N_{A B} - (|\mathcal{A}|+1)) + |\mathcal{B}|$. Using the result from the first sub-problem ($a-b = |\mathcal{A}|-|\mathcal{B}|+1$, so $b-a = |\mathcal{B}|-|\mathcal{A}|-1$), we get $|\mathcal{Q}| = N_{A B} + b-a$. Since $N_{B A} \ge |\mathcal{Q}|$, we have $N_{B A} \ge N_{A B} + b-a$. By symmetry, swapping $A$ and $B$, we also have $N_{A B} \ge N_{B A} + a-b$. These two inequalities imply $N_{B A} - N_{A B} = b-a$.","Let $A$ and $B$ be two distinct cities in Anisotropy. Let $N_{A B}$ denote the maximal number of paths in a diverse collection of paths from $A$ to $B$. Similarly, let $N_{B A}$ denote the maximal number of paths in a diverse collection of paths from $B$ to $A$. Prove that the equality $N_{A B}=N_{B A}$ holds if and only if the number of roads going out from $A$ is the same as the number of roads going out from $B$.","Let $a$ and $b$ be the number of roads going out from $A$ and $B$, respectively. From the previous sub-problem, we established the equality $N_{B A} - N_{A B} = b - a$. We now prove the biconditional statement. 
($\Rightarrow$) Assume $N_{A B} = N_{B A}$. Substituting this into the equality gives $N_{A B} - N_{A B} = b-a$, which simplifies to $0 = b-a$, so $a=b$. The number of roads going out from $A$ is the same as from $B$. 
($\Leftarrow$) Assume $a=b$. Substituting this into the equality gives $N_{B A} - N_{A B} = b-b$, which simplifies to $N_{B A} - N_{A B} = 0$, so $N_{A B} = N_{B A}$. 
Thus, the equality $N_{A B}=N_{B A}$ holds if and only if $a=b$."
2021c5,"Let $n$ and $k$ be two integers with $n>k \geqslant 1$. There are $2 n+1$ students standing in a circle. Each student $S$ has $2 k$ neighbours - namely, the $k$ students closest to $S$ on the right, and the $k$ students closest to $S$ on the left.

Suppose that $n+1$ of the students are girls, and the other $n$ are boys. Prove that there is a girl with at least $k$ girls among her neighbours.",4,"Represent the students by a circular sequence $a_1, \dots, a_{2n+1}$, where $a_i=1$ for a girl and $a_i=0$ for a boy. The problem is to find an index $i$ with $a_i=1$ and $\sum_{j=i-k, j \neq i}^{i+k} a_j \ge k$. Define a new sequence $b_i = a_i + a_{i-k-1} - 1$ for all integers $i$ (with indices taken modulo $2n+1$). Show that the original problem is equivalent to finding an index $i$ such that $b_i=1$ and $\sum_{j=1}^{k} b_{i+j} \ge 0$.","The condition $b_i=1$ implies $a_i + a_{i-k-1} - 1 = 1$, which requires $a_i=1$ and $a_{i-k-1}=1$. Thus, student $i$ must be a girl. The condition $\sum_{j=1}^{k} b_{i+j} \ge 0$ expands to $\sum_{j=1}^{k} (a_{i+j} + a_{i+j-k-1} - 1) \ge 0$. This can be rewritten as $\sum_{j=1}^{k} a_{i+j} + \sum_{j=1}^{k} a_{i+j-k-1} - k \ge 0$. Re-indexing the second sum gives $\sum_{j=i+1}^{i+k} a_j + \sum_{j=i-k}^{i-1} a_j \ge k$. This is precisely the condition that the girl at position $i$ has at least $k$ girls among her neighbours. Therefore, the two problems are equivalent.","Using the definitions from the first sub-problem, prove that the sum of any $2n+1$ consecutive terms of the sequence $b_i$ is equal to 1.","Let's compute the sum over one full cycle: $\sum_{i=1}^{2n+1} b_i = \sum_{i=1}^{2n+1} (a_i + a_{i-k-1} - 1)$. We can separate the terms: $\sum_{i=1}^{2n+1} a_i + \sum_{i=1}^{2n+1} a_{i-k-1} - \sum_{i=1}^{2n+1} 1$. The first sum, $\sum a_i$, is the total number of girls, which is $n+1$. The second sum is over the same elements just cyclically shifted, so it is also $n+1$. The third sum is $2n+1$. Therefore, the total sum is $(n+1) + (n+1) - (2n+1) = 2n+2 - 2n-1 = 1$.","Prove that there must exist an index $i$ in the sequence $b_i$ such that $b_i=1$ and the sum of the next $k$ terms is non-negative, i.e., $\sum_{j=1}^{k} b_{i+j} \ge 0$.","Assume for contradiction that for every index $i$ with $b_i=1$, the sum $\sum_{j=1}^{k} b_{i+j}$ is negative (i.e., $\le -1$). Since $\sum_{l=1}^{2n+1} b_l = 1$, there must be at least one index $i_0$ with $b_{i_0}=1$. Construct a sequence $i_0, i_1, \dots$ where $i_j$ is the smallest integer index such that $i_j > i_{j-1}+k$ and $b_{i_j}=1$. By the pigeonhole principle, there must be two indices in this sequence, say $i_p$ and $i_q$ with $p<q$, that are congruent modulo $2n+1$. Let these be $i_0$ and $i_T$. The sum $S = \sum_{l=i_0}^{i_T-1} b_l$ is over a positive integer number of full cycles, so $S>0$. However, if we partition the sum into segments $\sum_{l=i_j}^{i_{j+1}-1} b_l$, each such segment sum is $\le 0$. This is because $b_{i_j}=1$, $\sum_{l=i_j+1}^{i_j+k} b_l \le -1$ by our assumption, and $b_l \le 0$ for $i_j+k < l < i_{j+1}$ by construction of the sequence. This implies $S \le 0$, a contradiction.","Let $n$ and $k$ be two integers with $n>k \geqslant 1$. There are $2 n+1$ students standing in a circle. Suppose that $n+1$ of the students are girls, and the other $n$ are boys. Prove that there is a girl with at least $k$ girls among her neighbours.","As established in the first sub-problem, this problem is equivalent to finding an index $i$ in an auxiliary sequence $b_i$ such that $b_i=1$ and $\sum_{j=1}^{k} b_{i+j} \ge 0$. The second sub-problem showed that the sum of any $2n+1$ consecutive terms of this sequence is 1. The third sub-problem used this property to prove by contradiction that such an index $i$ must exist. Since the existence of such an index is guaranteed, the equivalent original statement is also true. Therefore, there must be a girl with at least $k$ girls among her neighbours."
2021g1,"Let $A B C D$ be a parallelogram such that $A C=B C$. A point $P$ is chosen on the extension of the segment $A B$ beyond $B$. The circumcircle of the triangle $A C D$ meets the segment $P D$ again at $Q$, and the circumcircle of the triangle $A P Q$ meets the segment $P C$ again at $R$. Prove that the lines $C D, A Q$, and $B R$ are concurrent.",2,"Prove that the points A, B, C, and R lie on a circle.","From the cyclic quadrilateral $APRQ$, we have $\angle ARP + \angle AQP = 180^\circ$. As $P, R, C$ are collinear, $\angle CRA = 180^\circ - \angle ARP = \angle AQP$. As $P, Q, D$ are collinear, $\angle AQP = 180^\circ - \angle AQD$. From the cyclic quadrilateral $AQCD$, $\angle AQD = \angle ACD$. Thus, $\angle CRA = 180^\circ - \angle ACD$. Since $ABCD$ is a parallelogram, $AB \parallel CD$, so $\angle ACD = \angle BAC$. Given $AC=BC$, we have $\angle BAC = \angle ABC$. Therefore, $\angle CRA = 180^\circ - \angle ABC$, which means $\angle CRA + \angle ABC = 180^\circ$, proving that $A, B, C, R$ are concyclic.","Prove that the lines $C D, A Q$, and $B R$ are concurrent.","Let $X$ be the intersection of $AQ$ and $CD$. We need to prove that $B, R, X$ are collinear. Since $AB \parallel CD$, we have $AP \parallel CX$, so $\angle APR = \angle RCX$ as alternate interior angles. In cyclic quadrilateral $APRQ$, $\angle APR = 180^\circ - \angle AQR$. As $A, Q, X$ are collinear, $180^\circ - \angle AQR = \angle RQX$. Thus, $\angle RCX = \angle RQX$, which implies that $C, Q, R, X$ are concyclic. From this, we have $\angle XRC = \angle XQC = 180^\circ - \angle AQC$. In cyclic quadrilateral $AQCD$, $180^\circ - \angle AQC = \angle ADC$. In parallelogram $ABCD$, $\angle ADC = \angle ABC = \angle BAC$. From the first sub-problem, $ABCR$ is a cyclic quadrilateral, so $\angle BAC + \angle BRC = 180^\circ$. Therefore, $\angle XRC = 180^\circ - \angle BRC$, which means $\angle XRC + \angle BRC = 180^\circ$. This shows that $B, R, X$ are collinear, so the lines $CD, AQ, BR$ are concurrent at $X$.",,,,
2021g2,"Let $A B C D$ be a convex quadrilateral circumscribed around a circle with centre $I$. Let $\omega$ be the circumcircle of the triangle $A C I$. The extensions of $B A$ and $B C$ beyond $A$ and $C$ meet $\omega$ at $X$ and $Z$, respectively. The extensions of $A D$ and $C D$ beyond $D$ meet $\omega$ at $Y$ and $T$, respectively. Prove that the perimeters of the (possibly self-intersecting) quadrilaterals $A D T X$ and $C D Y Z$ are equal.",4,"Let $A B C D$ be a convex quadrilateral circumscribed around a circle with centre $I$. Let $\omega$ be the circumcircle of the triangle $A C I$. The extensions of $B A$ and $B C$ beyond $A$ and $C$ meet $\omega$ at $X$ and $Z$, respectively. The extensions of $A D$ and $C D$ beyond $D$ meet $\omega$ at $Y$ and $T$, respectively. Prove that $IX = IY$ and $IZ = IT$.","Since $I$ is the incenter of $ABCD$, the line $AI$ bisects $\angle DAB$. As $X$ and $Y$ are on the extensions of $BA$ and $DA$, $AI$ is the angle bisector of $\angle XAY$. Since points $A, I, X, Y$ lie on the circle $\omega$, the angle bisector property in a circle implies that $I$ is the midpoint of the arc $XY$ not containing $A$. Thus, $IX=IY$. Similarly, $CI$ bisects $\angle BCD$, which is $\angle ZCT$. As $C, I, Z, T$ are on $\omega$, $I$ must be the midpoint of the arc $ZT$ not containing $C$. Thus, $IZ=IT$.","Using the results from the previous step ($IX = IY$ and $IZ = IT$), prove that $XT = YZ$.","Let $O$ be the center of the circle $\omega$. From the previous sub-problem, we have $IX = IY$. Since $X$ and $Y$ are on $\omega$, we also have $OX = OY$ (radii). Both $I$ and $O$ lie on the perpendicular bisector of the segment $XY$, so the line $IO$ is the perpendicular bisector of $XY$. Similarly, $IZ=IT$ and $OZ=OT$ implies that $IO$ is the perpendicular bisector of $ZT$. Therefore, reflection across the line $IO$ maps point $Y$ to $X$ and point $Z$ to $T$. Since reflection is an isometry, it preserves distances, so the length of segment $YZ$ is equal to the length of its image, segment $XT$. Hence, $XT = YZ$.","Let the incircle of $ABCD$ touch the sides $AB, BC, CD, DA$ at points $P, Q, R, S$ respectively. Using the result $IX=IY$ and $IT=IZ$, prove that $XP = YS$ and $RT = QZ$.","The radius of the incircle to a point of tangency is perpendicular to the side. Thus, $IP \perp AB$, making $\triangle IPX$ a right-angled triangle. Similarly, $\triangle ISY$ is a right-angled triangle. We are given $IP = IS$ (inradius) and we know $IX=IY$ from sub-problem 1. By the Pythagorean theorem, $XP^2 = IX^2 - IP^2$ and $YS^2 = IY^2 - IS^2$. Therefore, $XP^2 = YS^2$, which implies $XP = YS$. A similar argument for the right-angled triangles $\triangle IRT$ and $\triangle IQZ$ shows that $RT = QZ$, using the facts that $IR=IQ$ (inradius) and $IT=IZ$.",Prove that the perimeters of the (possibly self-intersecting) quadrilaterals $A D T X$ and $C D Y Z$ are equal.,"Let $P_{ADTX}$ and $P_{CDYZ}$ be the perimeters. The perimeter of $ADTX$ is $P_{ADTX} = AX + AD + DT + TX$. Using the tangent properties of a circumscribed quadrilateral ($AS=AP, DS=DR$), this can be rewritten as $P_{ADTX} = (AX+AS) + (SD+DT) + TX = (AX+AP) + (DR+DT) + TX = XP + RT + TX$. The perimeter of $CDYZ$ is $P_{CDYZ} = CD + DY + YZ + ZC$. Using tangent properties ($CR=CQ, DR=DS$), this is $P_{CDYZ} = (CR+ZC) + (DS+DY) + YZ = QZ + SY + YZ$. From previous sub-problems, we have $XT=YZ$, $XP=YS$, and $RT=ZQ$. Substituting these into the expression for $P_{ADTX}$ yields $P_{ADTX} = YS + QZ + YZ$, which is equal to $P_{CDYZ}$. Thus, the perimeters are equal."
2021g4,"Let $A B C D$ be a quadrilateral inscribed in a circle $\Omega$. Let the tangent to $\Omega$ at $D$ intersect the rays $B A$ and $B C$ at points $E$ and $F$, respectively. A point $T$ is chosen inside the triangle $A B C$ so that $T E \| C D$ and $T F \| A D$. Let $K \neq D$ be a point on the segment $D F$ such that $T D=T K$. Prove that the lines $A C, D T$ and $B K$ intersect at one point.",1,"Let $A B C D$ be a quadrilateral inscribed in a circle $\Omega$. Let the tangent to $\Omega$ at $D$ intersect the rays $B A$ and $B C$ at points $E$ and $F$, respectively. A point $T$ is chosen inside the triangle $A B C$ so that $T E \| C D$ and $T F \| A D$. Let $K \neq D$ be a point on the segment $D F$ such that $T D=T K$. Prove that the lines $A C, D T$ and $B K$ intersect at one point.","Let the segments $T E$ and $T F$ cross $A C$ at $P$ and $Q$, respectively. Since $P E \| C D$ and $E D$ is tangent to the circumcircle of $A B C D$, we have

$$
\angle E P A=\angle D C A=\angle E D A,
$$

and so the points $A, P, D$, and $E$ lie on some circle $\alpha$. Similarly, the points $C, Q, D$, and $F$ lie on some circle $\gamma$.

We now want to prove that the line $D T$ is tangent to both $\alpha$ and $\gamma$ at $D$. Indeed, since $\angle F C D+\angle E A D=180^{\circ}$, the circles $\alpha$ and $\gamma$ are tangent to each other at $D$. To prove that $T$ lies on their common tangent line at $D$ (i.e., on their radical axis), it suffices to check that $T P \cdot T E=T Q \cdot T F$, or that the quadrilateral $P E F Q$ is cyclic. This fact follows from

$$
\angle Q F E=\angle A D E=\angle A P E .
$$

Since $T D=T K$, we have $\angle T K D=\angle T D K$. Next, as $T D$ and $D E$ are tangent to $\alpha$ and $\Omega$, respectively, we obtain

$$
\angle T K D=\angle T D K=\angle E A D=\angle B D E,
$$

which implies $T K \| B D$.\\
Next we prove that the five points $T, P, Q, D$, and $K$ lie on some circle $\tau$. Indeed, since $T D$ is tangent to the circle $\alpha$ we have

$$
\angle E P D=\angle T D F=\angle T K D,
$$

which means that the point $P$ lies on the circle (TDK). Similarly, we have $Q \in(T D K)$.\\
Finally, we prove that $P K \| B C$. Indeed, using the circles $\tau$ and $\gamma$ we conclude that

$$
\angle P K D=\angle P Q D=\angle D F C,
$$

which means that $P K \| B C$.\\
Triangles $T P K$ and $D C B$ have pairwise parallel sides, which implies the fact that $T D, P C$ and $K B$ are concurrent, as desired.\\
\includegraphics[max width=\textwidth, center]{2025_04_29_9f325c9d511f2c38a6b8g-49}

Comment 1. There are several variations of the above solution.\\
E.g., after finding circles $\alpha$ and $\gamma$, one can notice that there exists a homothety $h$ mapping the triangle $T P Q$ to the triangle $D C A$; the centre of that homothety is $Y=A C \cap T D$. Since

$$
\angle D P E=\angle D A E=\angle D C B=\angle D Q T
$$

the quadrilateral $T P D Q$ is inscribed in some circle $\tau$. We have $h(\tau)=\Omega$, so the point $D^{*}=h(D)$ lies on $\Omega$.

Finally, by

$$
\angle D C D^{*}=\angle T P D=\angle B A D
$$

the points $B$ and $D^{*}$ are symmetric with respect to the diameter of $\Omega$ passing through $D$. This yields $D B=D D^{*}$ and $B D^{*} \| E F$, so $h(K)=B$, and $B K$ passes through $Y$.
",,,,,,
2021g5,"Let $A B C D$ be a cyclic quadrilateral whose sides have pairwise different lengths. Let $O$ be the circumcentre of $A B C D$. The internal angle bisectors of $\angle A B C$ and $\angle A D C$ meet $A C$ at $B_{1}$ and $D_{1}$, respectively. Let $O_{B}$ be the centre of the circle which passes through $B$ and is tangent to $A C$ at $D_{1}$. Similarly, let $O_{D}$ be the centre of the circle which passes through $D$ and is tangent to $A C$ at $B_{1}$.

Assume that $B D_{1} \| D B_{1}$. Prove that $O$ lies on the line $O_{B} O_{D}$.",4,"Let $\Omega$ be the circumcircle of $ABCD$. Let $T_B$ be the second intersection of the circle $\gamma_B$ (with center $O_B$) and $\Omega$, and let $T_D$ be the second intersection of the circle $\gamma_D$ (with center $O_D$) and $\Omega$. Show that $O$ lies on the line $O_B O_D$ if and only if the chords $BT_B$ and $DT_D$ are parallel.","The line of centers of two intersecting circles is perpendicular to their common chord. The common chord of $\Omega$ and $\gamma_B$ is $BT_B$, so the line of centers $OO_B$ is perpendicular to $BT_B$. Similarly, the common chord of $\Omega$ and $\gamma_D$ is $DT_D$, so $OO_D \perp DT_D$. The points $O, O_B, O_D$ are collinear if and only if the lines $OO_B$ and $OO_D$ coincide. This occurs if and only if their respective perpendiculars through the fixed points $B$ and $D$, the lines $BT_B$ and $DT_D$, are parallel.","Let the tangents to the circumcircle $\Omega$ at points $B$ and $D$ meet the line $AC$ at points $L_B$ and $L_D$, respectively. Show that the line $BT_B$ is identical to the line $BL_D$, and the line $DT_D$ is identical to the line $DL_B$.","The line $BT_B$ is the radical axis of circles $\Omega$ and $\gamma_B$. The power of $L_D$ with respect to $\Omega$ is $L_D D^2$. The power of $L_D$ with respect to $\gamma_B$ is $L_D D_1^2$, since $\gamma_B$ is tangent to $AC$ at $D_1$. By an angle chase, $\angle L_D D D_1 = \angle L_D D C + \angle C D D_1 = \angle DAC + \angle AD D_1 = \angle D D_1 A$, so triangle $L_D D D_1$ is isosceles with $L_D D = L_D D_1$. Thus, $L_D$ has equal power with respect to both circles and lies on their radical axis, $BT_B$. So the line $BT_B$ is $BL_D$. Similarly, triangle $L_B B B_1$ is isosceles with $L_B B = L_B B_1$, so $L_B$ lies on the radical axis $DT_D$ of $\Omega$ and $\gamma_D$. Thus, the line $DT_D$ is $DL_B$.","Let $H = AC \cap BD$. The condition $BD_1 \parallel DB_1$ implies the existence of a homothety $h$ centered at $H$ that maps point $B$ to $D$ and $D_1$ to $B_1$. Show that this homothety also maps $L_D$ to $L_B$, where $L_B, L_D$ are the intersections of the tangents to the circumcircle at $B, D$ with line $AC$.","We need to show $H, L_D, L_B$ are collinear and $HL_B/HL_D = HD/HB$. Collinearity is given since they lie on $AC$. By the sine rule in $\triangle BHL_B$ and $\triangle DHL_D$, and using $B_1L_B = BL_B$ and $D_1L_D = DL_D$, we get $\frac{HL_B}{B_1 L_B} = \frac{\sin\angle HBL_B}{\sin\angle BHL_B}$ and $\frac{HL_D}{D_1 L_D} = \frac{\sin\angle HDL_D}{\sin\angle DHL_D}$. Since $\angle BHL_B = \angle DHL_D$ and $\sin\angle HBL_B = \sin\angle HDL_D$ (angles between a chord and tangents at its endpoints are supplementary), we get $\frac{HL_B}{HL_D} = \frac{B_1 L_B}{D_1 L_D} = \frac{HL_B - B_1 L_B}{HL_D - D_1 L_D} = \frac{HB_1}{HD_1}$. From the homothety, $\frac{HB_1}{HD_1} = \frac{HD}{HB}$. Therefore, $\frac{HL_B}{HL_D} = \frac{HD}{HB}$, which implies $h(L_D) = L_B$.","Let $A B C D$ be a cyclic quadrilateral whose sides have pairwise different lengths. Let $O$ be the circumcentre of $A B C D$. The internal angle bisectors of $\angle A B C$ and $\angle A D C$ meet $A C$ at $B_{1}$ and $D_{1}$, respectively. Let $O_{B}$ be the centre of the circle which passes through $B$ and is tangent to $A C$ at $D_{1}$. Similarly, let $O_{D}$ be the centre of the circle which passes through $D$ and is tangent to $A C$ at $B_{1}$. Assume that $B D_{1} \| D B_{1}$. Prove that $O$ lies on the line $O_{B} O_{D}$.","From Sub-problem 1, the goal is to prove $BT_B \parallel DT_D$. From Sub-problem 2, this is equivalent to proving $BL_D \parallel DL_B$. Let $H = AC \cap BD$. The condition $BD_1 \parallel DB_1$ implies a homothety $h$ centered at $H$ maps $B \to D$. From Sub-problem 3, this homothety also maps $L_D \to L_B$. A homothety maps a line to a parallel line. Therefore, $h$ maps the line passing through $B$ and $L_D$ to the line passing through their images, $D$ and $L_B$. This means line $BL_D$ is parallel to line $DL_B$, which completes the proof."
2021g8,"Let $\omega$ be the circumcircle of a triangle $A B C$, and let $\Omega_{A}$ be its excircle which is tangent to the segment $B C$. Let $X$ and $Y$ be the intersection points of $\omega$ and $\Omega_{A}$. Let $P$ and $Q$ be the projections of $A$ onto the tangent lines to $\Omega_{A}$ at $X$ and $Y$, respectively. The tangent line at $P$ to the circumcircle of the triangle $A P X$ intersects the tangent line at $Q$ to the circumcircle of the triangle $A Q Y$ at a point $R$. Prove that $A R \perp B C$.",2,"Let $D$ be the tangency point of the excircle $\Omega_A$ with side $BC$, and let $DD'$ be a diameter of $\Omega_A$. Define a point $R'$ such that $AR' \perp BC$ and $R'D' \parallel BC$. Prove that the line $PR'$ is tangent to the circumcircle of triangle $APX$ at point $P$.","Let $T = PX \cap D'R'$. Since $P$ is the projection of $A$ on $PX$, and by definition of $R'$, $AR' \perp D'R'$, we have $\angle APT = \angle AR'T = 90^\circ$. Thus, the quadrilateral $APR'T$ is cyclic. Let $S = PX \cap AB$. Let $U$ be the point at infinity on the line $BC$. By applying Brianchon's theorem to the degenerate hexagon $ASXTCU$ circumscribed about $\Omega_A$, the diagonals $AT, SU, XC$ concur at a point $V$. The line $SU$ must be parallel to $BC$. This concurrency implies that $A,X,S,V$ are concyclic, since $\angle(SV,VX) = \angle(BC,CX) = \angle(BA,AX)$. From the cyclicity of $AXSV$, we have $\angle(PX,XA) = \angle(SV,VA) = \angle(R'T,TA)$. From the cyclicity of $APR'T$, we have $\angle(R'T,TA) = \angle(R'P,PA)$. Thus, $\angle(PX,XA) = \angle(R'P,PA)$, which is the condition for $PR'$ to be tangent to the circumcircle of $\triangle APX$ at $P$.","Let $\omega$ be the circumcircle of a triangle $A B C$, and let $\Omega_{A}$ be its excircle which is tangent to the segment $B C$. Let $X$ and $Y$ be the intersection points of $\omega$ and $\Omega_{A}$. Let $P$ and $Q$ be the projections of $A$ onto the tangent lines to $\Omega_{A}$ at $X$ and $Y$, respectively. The tangent line at $P$ to the circumcircle of the triangle $A P X$ intersects the tangent line at $Q$ to the circumcircle of the triangle $A Q Y$ at a point $R$. Prove that $A R \perp B C$.","Let $D$ be the tangency point of $\Omega_A$ with $BC$, and $DD'$ be a diameter of $\Omega_A$. Define a point $R'$ such that $AR' \perp BC$ and $R'D' \parallel BC$. From the first sub-problem, we know that $PR'$ is tangent to the circumcircle of $\triangle APX$ at $P$. The geometric configuration for points $Y$ and $Q$ is symmetric to that for $X$ and $P$. Thus, by an identical argument, the line $QR'$ is tangent to the circumcircle of $\triangle AQY$ at $Q$. By definition, the point $R$ is the intersection of these two tangent lines. Therefore, $R$ must be the same point as $R'$. Since $R=R'$, and $R'$ was constructed such that $AR' \perp BC$, we conclude that $AR \perp BC$.",,,,
2021n2,"Let $n \geqslant 100$ be an integer. The numbers $n, n+1, \ldots, 2 n$ are written on $n+1$ cards, one number per card. The cards are shuffled and divided into two piles. Prove that one of the piles contains two cards such that the sum of their numbers is a perfect square.",3,"Find a parametric form for three distinct integers $a, b, c$ such that the pairwise sums $a+b$, $b+c$, and $c+a$ are all perfect squares.","Let the pairwise sums be three consecutive squares for some integer $k$: $a+b=(2k-1)^2$, $c+a=(2k)^2$, and $b+c=(2k+1)^2$. Solving this system of linear equations for $a, b, c$ yields the parametric triple $(a, b, c) = (2k^2-4k, 2k^2+1, 2k^2+4k)$.","For any integer $n \ge 100$, prove that there exists an integer $k$ such that the three numbers $a=2k^2-4k$, $b=2k^2+1$, and $c=2k^2+4k$ are all contained in the set of integers $\{n, n+1, \ldots, 2n\}$.","We need to find an integer $k$ such that $n \le a$ and $c \le 2n$. This is equivalent to $n \le 2k^2-4k$ and $2k^2+4k \le 2n$, which means $n$ must lie in the interval $I_k = [k^2+2k, 2k^2-4k]$. For $k \ge 9$, the intervals $I_k$ and $I_{k+1}$ overlap. The union of these intervals, $\bigcup_{k=9}^{\\infty} I_k$, covers the interval $[99, \\infty)$. Therefore, for any $n \\ge 100$, there exists such a $k$, which ensures $a,b,c$ are in the range $[n, 2n]$.","Let $n \\geqslant 100$ be an integer. The numbers $n, n+1, \\ldots, 2 n$ are written on $n+1$ cards, one number per card. The cards are shuffled and divided into two piles. Prove that one of the piles contains two cards such that the sum of their numbers is a perfect square.","For any $n \ge 100$, we have shown there exist three distinct numbers $a, b, c$ in the set $\{n, \ldots, 2n\}$ such that $a+b$, $b+c$, and $c+a$ are all perfect squares. These three numbers correspond to three distinct cards. When these three cards are distributed into two piles, by the Pigeonhole Principle, at least two of them must be in the same pile. The sum of the numbers on these two cards is a perfect square.",,
2021n5,"Prove that there are only finitely many quadruples $(a, b, c, n)$ of positive integers such that

$$
n!=a^{n-1}+b^{n-1}+c^{n-1}
$$",4,"For a solution $(a, b, c, n)$ with $n > 100$, prove that $a, b, c < (n-1)/2$.","For $n > 100$, one can establish the inequality $n! < \\left(\frac{n-1}{2}\right)^{n-1}$. From the given equation, $a^{n-1} < a^{n-1} + b^{n-1} + c^{n-1} = n!$. Therefore, $a^{n-1} < \\left(\frac{n-1}{2}\right)^{n-1}$, which implies $a < \frac{n-1}{2}$. The same reasoning applies to $b$ and $c$.","Prove that there are no solutions $(a, b, c, n)$ for any odd integer $n \\ge 5$.","Let $n \\ge 5$ be an odd integer. Then $n-1$ is even, so $a^{n-1}, b^{n-1}, c^{n-1}$ are perfect squares. For $n \\ge 4$, $n! \\equiv 0 \\pmod 4$. The equation modulo 4 implies $a, b, c$ must all be even. Consequently, $a^{n-1}+b^{n-1}+c^{n-1}$ is divisible by $2^{n-1}$, so $\nu_2(n!) \\ge n-1$. However, by Legendre's formula, for odd $n$, $\nu_2(n!) = \nu_2((n-1)!) = \\sum_{k=1}^{\\infty} \\lfloor \frac{n-1}{2^k} \rfloor < \\sum_{k=1}^{\\infty} \frac{n-1}{2^k} = n-1$. This contradiction shows there are no solutions for odd $n \\ge 5$.","Assume $n > 100$ is an even integer and some sum, say $a+b$, is not a power of 2. Let $p$ be an odd prime divisor of $a+b$. Prove that $\nu_p(n!) = \nu_p(a+b) + \nu_p(n-1)$.","Let $p$ be an odd prime divisor of $a+b$. From sub-problem 1, $p \\le a+b < n-1$. Since $p | (a+b)$ and $n-1$ is odd, $p | (a^{n-1}+b^{n-1})$. From the main equation, this means $p | (n! - c^{n-1})$. As $p<n$, $p|n!$, so $p|c$. If $p|a$, then $p|b$, implying $p^{n-1}|n!$, a contradiction since $\nu_p(n!) < n/(p-1) < n-1$. So $p \nmid a, p \nmid b$. Since $p|c$, $\nu_p(c^{n-1}) > \nu_p(n!)$, which implies $\nu_p(n!) = \nu_p(n!-c^{n-1}) = \nu_p(a^{n-1}+b^{n-1})$. By the Lifting The Exponent Lemma, $\nu_p(a^{n-1}+b^{n-1}) = \nu_p(a+b)+\nu_p(n-1)$. Thus, $\nu_p(n!) = \nu_p(a+b)+\nu_p(n-1)$.","Prove that there are only finitely many quadruples $(a, b, c, n)$ of positive integers such that $n!=a^{n-1}+b^{n-1}+c^{n-1}$.","For a fixed $n$, there are finitely many solutions. We show there are no solutions for $n>100$. By sub-problem 2, there are no solutions for odd $n>100$. Assume $n>100$ is even. If any sum, e.g., $a+b$, has an odd prime factor $p$, sub-problem 3 gives $\nu_p(n!) = \nu_p(a+b) + \nu_p(n-1)$. This implies that the only multiples of $p$ in $\{1, \\dots, n\}$ are $a+b$ and $n-1$. However, as $p|c$ and $c < (n-1)/2$, both $p$ and $2p$ are in $\{1, \\dots, n\}$. This forces $a+b=p$ and $n-1=2p$, a contradiction as $n-1$ is odd. If $a+b, b+c, c+a$ are all powers of 2, a separate analysis shows this case only has solutions for small $n$. Thus, there are no solutions for large $n$, so the total number of solutions is finite."
2021n7,"Let $a_{1}, a_{2}, a_{3}, \ldots$ be an infinite sequence of positive integers such that $a_{n+2 m}$ divides $a_{n}+a_{n+m}$ for all positive integers $n$ and $m$. Prove that this sequence is eventually periodic, i.e. there exist positive integers $N$ and $d$ such that $a_{n}=a_{n+d}$ for all $n>N$.",4,Prove that the sequence $(a_n)$ is bounded.,"Assume for contradiction that the sequence is unbounded. Then there exist arbitrarily large terms $a_n=k$ such that $a_i < k$ for all $i<n$. For such an $a_n$ with $n$ large enough, and any $s < n/2$, the condition $a_n | (a_{n-s} + a_{n-2s})$ and $a_{n-s}, a_{n-2s} < k$ implies $a_{n-s} + a_{n-2s} = k$. For $s=1$ and $s=2$, we get $a_{n-1}+a_{n-2}=k$ and $a_{n-2}+a_{n-4}=k$, which implies $a_{n-1}=a_{n-4}$. The condition $a_{n-1} | (a_{n-7}+a_{n-4})$ then implies $a_{n-1}|a_{n-7}$. By induction, $a_{n-1}|a_{n-1-3j}$ for all $j$ where the index is positive. As $a_{n-1-3j} < k$, this divisibility forces $a_{n-1-3j} \ge a_{n-1}$. Since $a_{n-1} \ge k/2$, $a_{n-1-3j}$ cannot be a multiple of $a_{n-1}$ greater than 1, so $a_{n-1-3j} = a_{n-1}$. Choosing $j$ large enough, we can show that a term $a_i$ with a small fixed index $i$ is equal to $a_{n-1} \ge k/2$. Since $k$ can be arbitrarily large, this is a contradiction. Thus, the sequence is bounded.",Let $d$ be a positive integer. Prove that the set of indices $I_d = \{ n \\in \\mathbb{Z}^+ \\mid d \text{ divides } a_n \}$ is either empty or forms an arithmetic progression with an odd common difference.,"Let $i_1 < i_2 < i_3 < \\dots$ be the indices in $I_d$. For any two consecutive indices $i_s, i_{s+1}$, if their sum were even, let $m=(i_{s+1}-i_s)/2$. The given condition $a_{k+2j}|a_k+a_{k+j}$ with $k=i_s, j=m$ implies $a_{i_{s+1}} | (a_{i_s} + a_{(i_s+i_{s+1})/2})$. Since $d|a_{i_{s+1}}$ and $d|a_{i_s}$, it follows that $d|a_{(i_s+i_{s+1})/2}$. This contradicts the assumption that $i_s, i_{s+1}$ are consecutive indices in $I_d$. Thus, $i_{s+1}-i_s$ must be odd. Now consider three consecutive indices $i_s, i_{s+1}, i_{s+2}$. The difference $i_{s+2}-i_s$ is even. Let $m'=(i_{s+2}-i_s)/2$. Then $a_{i_s+2m'} | (a_{i_s} + a_{i_s+m'})$, which is $a_{i_{s+2}} | (a_{i_s} + a_{(i_s+i_{s+2})/2})$. Since $d|a_{i_{s+2}}$ and $d|a_{i_s}$, it follows that $d|a_{(i_s+i_{s+2})/2}$. As this index is between $i_s$ and $i_{s+2}$, it must be $i_{s+1}$. So, $(i_s+i_{s+2})/2 = i_{s+1}$, which proves the indices form an arithmetic progression.","Show that there exists a positive integer $D$ such that for all sufficiently large $n$, the set of positive divisors of $a_n$ is identical to the set of positive divisors of $a_{n+D}$.","Since the sequence is bounded, the set of values it takes is finite. Consequently, the set $S$ of all positive divisors of all terms in the sequence is finite. There exists an $N_0$ such that for $n>N_0$, any value $a_n$ appears infinitely often. For each $s \\in S$, the set of indices $I_s = \\{n>N_0 \\mid s \text{ divides } a_n\\}$ forms an arithmetic progression with an odd common difference $d_s$. Let $D$ be the product of all these differences $d_s$ for $s \\in S$. For any $n>N_0$ and any $s \\in S$, we have $s|a_n \\iff n \\in I_s$. Since $d_s$ divides $D$, we have $n \\in I_s \\iff n+D \\in I_s$. This means $s|a_n \\iff s|a_{n+D}$. Since any divisor of $a_n$ or $a_{n+D}$ is in $S$, this shows that $a_n$ and $a_{n+D}$ have the same set of positive divisors.","Prove that this sequence is eventually periodic, i.e. there exist positive integers $N$ and $d$ such that $a_{n}=a_{n+d}$ for all $n>N$.","From the previous sub-problem, there exist integers $N$ and $D$ such that for all $n>N$, the set of positive divisors of $a_n$ is identical to the set of positive divisors of $a_{n+D}$. Two positive integers are equal if and only if they have the same set of positive divisors. Therefore, for all $n>N$, we must have $a_n = a_{n+D}$. This shows the sequence is eventually periodic with period $d=D$."
2020a4,"Let $a, b, c, d$ be four real numbers such that $a \geqslant b \geqslant c \geqslant d>0$ and $a+b+c+d=1$. Prove that

$$
(a+2 b+3 c+4 d) a^{a} b^{b} c^{c} d^{d}<1
$$",1,"Let $a, b, c, d$ be four real numbers such that $a \geqslant b \geqslant c \geqslant d>0$ and $a+b+c+d=1$. Prove that

$$
(a+2 b+3 c+4 d) a^{a} b^{b} c^{c} d^{d}<1
$$","The weighted AM-GM inequality with weights $a, b, c, d$ gives

$$
a^{a} b^{b} c^{c} d^{d} \leqslant a \cdot a+b \cdot b+c \cdot c+d \cdot d=a^{2}+b^{2}+c^{2}+d^{2}
$$

so it suffices to prove that $(a+2 b+3 c+4 d)\left(a^{2}+b^{2}+c^{2}+d^{2}\right)<1=(a+b+c+d)^{3}$. This can be done in various ways, for example:

$$
\begin{aligned}
(a+b+c+d)^{3}> & a^{2}(a+3 b+3 c+3 d)+b^{2}(3 a+b+3 c+3 d) \\
& \quad+c^{2}(3 a+3 b+c+3 d)+d^{2}(3 a+3 b+3 c+d) \\
\geqslant & \left(a^{2}+b^{2}+c^{2}+d^{2}\right) \cdot(a+2 b+3 c+4 d)
\end{aligned}
$$",,,,,,
2020a6,"Let $n$ and $k$ be positive integers. Prove that for $a_{1}, \ldots, a_{n} \in\left[1,2^{k}\right]$ one has


\begin{equation*}
\sum_{i=1}^{n} \frac{a_{i}}{\sqrt{a_{1}^{2}+\ldots+a_{i}^{2}}} \leqslant 4 \sqrt{k n} \tag{Iran}
\end{equation*}",2,"Partition the set of indices $\{1,2, \ldots, n\}$ into disjoint subsets $M_{1}, M_{2}, \ldots, M_{k}$ such that $a_{i} \in\left[2^{j-1}, 2^{j}\right]$ for $i \in M_{j}$. Let $p_j = |M_j|$. Prove that for each $j$, $\sum_{i \in M_{j}} \frac{a_{i}}{\sqrt{a_{1}^{2}+\ldots+a_{i}^{2}}} \leqslant 4 \sqrt{p_{j}}$.","Let $p_j = |M_j|$. For any $\ell \in M_j$, $a_\ell \le 2^j$. If we are considering the $i$-th term in the sum over $M_j$ (when the indices are sorted), its denominator $\sqrt{a_1^2 + \dots + a_\ell^2}$ contains at least $i$ terms from $M_j$, each with value at least $2^{j-1}$. Thus, the sum is bounded: $\sum_{\ell \in M_{j}} \frac{a_{\ell}}{\sqrt{a_{1}^{2}+\ldots+a_{\ell}^{2}}} \leqslant \sum_{i=1}^{p_{j}} \frac{2^{j}}{\sqrt{i \cdot (2^{j-1})^2}} = 2 \sum_{i=1}^{p_{j}} \frac{1}{\sqrt{i}}$. Using the inequality $\frac{1}{\sqrt{i}} \le 2(\sqrt{i}-\sqrt{i-1})$, the sum is further bounded by $2 \sum_{i=1}^{p_{j}} 2(\sqrt{i}-\sqrt{i-1}) = 4(\sqrt{p_j} - \sqrt{0}) = 4 \sqrt{p_{j}}$.","Let $n$ and $k$ be positive integers. Prove that for $a_{1}, \ldots, a_{n} \in\left[1,2^{k}\right]$ one has $\sum_{i=1}^{n} \frac{a_{i}}{\sqrt{a_{1}^{2}+\ldots+a_{i}^{2}}} \leqslant 4 \sqrt{k n}$.","Partition the indices $\{1, \ldots, n\}$ into $k$ sets $M_j$ where $i \in M_j$ if $a_i \in [2^{j-1}, 2^j]$. The total sum can be split over these partitions: $\sum_{i=1}^{n} \frac{a_{i}}{\sqrt{a_{1}^{2}+\ldots+a_{i}^{2}}} = \sum_{j=1}^{k} \sum_{i \in M_j} \frac{a_{i}}{\sqrt{a_{1}^{2}+\ldots+a_{i}^{2}}}$. Using the result from the previous sub-problem, this is $\leqslant \sum_{j=1}^{k} 4\sqrt{|M_j|} = 4\sum_{j=1}^{k} \sqrt{|M_j|}$. By the QM-AM inequality, $\sum_{j=1}^{k} \sqrt{|M_j|} \le \sqrt{k \sum_{j=1}^{k} |M_j|}$. Since $\sum_{j=1}^{k} |M_j| = n$, the expression is bounded by $4\sqrt{kn}$.",,,,
2020c2,"In a regular 100-gon, 41 vertices are colored black and the remaining 59 vertices are colored white. Prove that there exist 24 convex quadrilaterals $Q_{1}, \ldots, Q_{24}$ whose corners are vertices of the 100 -gon, so that

\begin{itemize}
  \item the quadrilaterals $Q_{1}, \ldots, Q_{24}$ are pairwise disjoint, and
  \item every quadrilateral $Q_{i}$ has three corners of one color and one corner of the other color.",4,"Let the vertices of a convex 5-gon be colored black and white, with at least one vertex of each color. Prove that there exists a quadrilateral, whose vertices are a subset of the 5-gon's vertices, which has three corners of one color and one corner of the other (is skew-colored).","Let b and w be the number of black and white vertices, respectively. We have b+w=5, b>=1, and w>=1. We want to show that by removing one vertex, the remaining four form a skew-colored quadrilateral, which means they have a (1,3) or (3,1) color split. This is equivalent to the number of black vertices being odd. If the initial number of black vertices, b, is even (i.e., b=2 or b=4), we remove one black vertex. The remaining four vertices will have b-1 black vertices, which is an odd number. If b is odd (i.e., b=1 or b=3), we remove one white vertex. The remaining four vertices will still have b black vertices, which is an odd number. In all cases, we can form a skew-colored quadrilateral.",Let k>=2 be an integer. Let the vertices of a convex (4k+1)-gon be colored with b black and w white vertices such that w > b. Prove that there exist four consecutive vertices forming a skew-colored quadrilateral with three white vertices and one black vertex.,"Since w > b and b+w = 4k+1, it follows that w >= 2k+1. As w < 4k+1, there must be at least one black vertex. Label the vertices V_1, ..., V_{4k+1} such that V_{4k+1} is black. Consider the k disjoint groups of four consecutive vertices: (V_1, V_2, V_3, V_4), ..., (V_{4k-3}, V_{4k-2}, V_{4k-1}, V_{4k}). These 4k vertices contain w white and b-1 black vertices. Since w > b-1, by the pigeonhole principle, at least one group must contain more white than black vertices. Such a group of four can either have 3 white and 1 black vertices (3W, 1B) or 4 white and 0 black vertices (4W, 0B). If the former, we are done. If a group (V_i, ..., V_{i+3}) is all white, let V_j be the first black vertex that appears after this group (one must exist, as V_{4k+1} is black). Then the vertices V_{j-3}, V_{j-2}, V_{j-1} are all white, and V_j is black, forming the desired quadrilateral.","If the vertices of a convex (4k+1)-gon are colored black and white such that each color is used at least k times, prove that there exist k pairwise disjoint skew-colored quadrilaterals whose vertices are vertices of the polygon.","We prove by induction on k. The base case k=1 (a 5-gon) was proven in the first sub-problem. For the inductive step, assume the claim holds for k-1 (with k>=2). Consider a (4k+1)-gon with b black and w white vertices, where b, w >= k. Assume without loss of generality that w >= b. Then w >= 2k+1 > b. By the result of the second sub-problem, we can find a skew-colored quadrilateral Q_1 with 3 white and 1 black vertices. The remaining 4k-3 = 4(k-1)+1 vertices form a convex polygon with b' = b-1 and w' = w-3 vertices. We check the condition for the inductive hypothesis: b' = b-1 >= k-1, and w' = w-3 >= (2k+1)-3 = 2k-2. For k>=2, 2k-2 >= k-1. Thus, the remaining polygon satisfies the conditions for k-1, and we can find k-1 disjoint skew-colored quadrilaterals within it. Together with Q_1, this yields k such quadrilaterals.","In a regular 100-gon, 41 vertices are colored black and the remaining 59 vertices are colored white. Prove that there exist 24 convex quadrilaterals $Q_{1}, \ldots, Q_{24}$ whose corners are vertices of the 100-gon, so that the quadrilaterals are pairwise disjoint, and every quadrilateral has three corners of one color and one corner of the other color.","We apply the theorem from the third sub-problem with k=24. The theorem requires a polygon with 4k+1 = 4(24)+1 = 97 vertices. We remove 3 arbitrary vertices from the 100-gon. The initial coloring is 41 black (B) and 59 white (W). After removing any 3 vertices, the number of remaining black vertices, b, will be in the range [38, 41], and the number of remaining white vertices, w, will be in the range [56, 59]. In all possible cases, b >= 38 > 24 and w >= 56 > 24. The remaining 97 vertices form a convex 97-gon satisfying the condition of the theorem for k=24 (i.e., having at least 24 vertices of each color). Therefore, there exist 24 pairwise disjoint skew-colored quadrilaterals formed by these vertices."
2020c5,"Let $p$ be an odd prime, and put $N=\frac{1}{4}\left(p^{3}-p\right)-1$. The numbers $1,2, \ldots, N$ are painted arbitrarily in two colors, red and blue. For any positive integer $n \leqslant N$, denote by $r(n)$ the fraction of integers in $\{1,2, \ldots, n\}$ that are red.

Prove that there exists a positive integer $a \in\{1,2, \ldots, p-1\}$ such that $r(n) \neq a / p$ for all $n=1,2, \ldots, N$.\\",3,"Assume for contradiction that for every $a \in \{1, 2, \ldots, p-1\}$, there exists an integer $n_a \in \{1, 2, \ldots, N\}$ such that $r(n_a) = a/p$. Show that each $n_a$ must be a multiple of $p$, say $n_a = pm_a$. Further, show that if $m_a < m_b$ for some $a, b \in \{1, 2, \ldots, p-1\}$, then the inequalities $m_b \ge \frac{a}{b}m_a$ and $m_b \ge \frac{p-a}{p-b}m_a$ hold.","The condition $r(n_a) = a/p$ means the number of red integers $R(n_a) = n_a \cdot r(n_a) = n_a a/p$. Since $R(n_a)$ is an integer and $p$ is a prime that does not divide $a \in \{1, \ldots, p-1\}$, $p$ must divide $n_a$. Let $n_a = pm_a$ for some positive integer $m_a$. Then $R(n_a) = am_a$. If $m_a < m_b$, then $n_a < n_b$. The number of red integers is non-decreasing, so $R(n_b) \ge R(n_a)$, which implies $bm_b \ge am_a$, or $m_b \ge \frac{a}{b}m_a$. Similarly, the number of blue integers is $B(n) = n - R(n)$. Thus $B(n_a) = pm_a - am_a = (p-a)m_a$ and $B(n_b) = (p-b)m_b$. Since $n_a < n_b$, $B(n_b) \ge B(n_a)$, which implies $(p-b)m_b \ge (p-a)m_a$, or $m_b \ge \frac{p-a}{p-b}m_a$.","Using the setup from the first sub-problem, show that the existence of the sequence of integers $\{m_a\}_{a=1}^{p-1}$ leads to a contradiction with the bound $m_a < \frac{p^2-1}{4}$ for all $a$.","From $n_a = pm_a \le N = \frac{p^3-p}{4}-1$, we have $m_a < \frac{p^2-1}{4}$. Let $q=(p-1)/2$. We can assume $m_1 < m_{p-1}$ (otherwise, we swap the colors red and blue). We consider two cases. 
Case 1: $m_k < m_{p-1}$ for all $k \in \{1, \ldots, q\}$. Let $m_a$ be the maximum of $\{m_1, \ldots, m_q\}$. Then $m_a < m_{p-1}$ and $m_a \ge q$. Using the inequality from Sub-problem 1, $m_{p-1} \ge \frac{p-a}{p-(p-1)} m_a = (p-a)m_a$. Since $a \le q$, we have $p-a \ge p-q = (p+1)/2$. Thus, $m_{p-1} \ge (p-q)q = \frac{p+1}{2}\frac{p-1}{2} = \frac{p^2-1}{4}$, a contradiction. 
Case 2: There exists $k \in \{1, \ldots, q\}$ with $m_k > m_{p-1}$. Let $k$ be the smallest such index, so $k > 1$. Let $m_a$ be the maximum of $\{m_1, \ldots, m_{k-1}\}$. Then $m_a < m_{p-1} < m_k$. Applying the inequalities, $m_{p-1} \ge (p-a)m_a$ and $m_k \ge \frac{p-1}{k}m_{p-1}$. Since $m_a \ge k-1$ and $a \le k-1$, we get $m_{p-1} \ge (p-(k-1))(k-1)$. Then $m_k \ge \frac{p-1}{k}(p-k+1)(k-1)$. As $k \le q$, $p-k+1 > p-q = (p+1)/2$. Thus $m_k > \frac{p-1}{k} \frac{p+1}{2} (k-1) = \frac{p^2-1}{2} \frac{k-1}{k}$. Since $k \ge 2$, $\frac{k-1}{k} \ge \frac{1}{2}$, so $m_k \ge \frac{p^2-1}{4}$, a contradiction.","Let $p$ be an odd prime, and put $N=\frac{1}{4}\left(p^{3}-p\right)-1$. The numbers $1,2, \ldots, N$ are painted arbitrarily in two colors, red and blue. For any positive integer $n \leqslant N$, denote by $r(n)$ the fraction of integers in $\{1,2, \ldots, n\}$ that are red. Prove that there exists a positive integer $a \in\{1,2, \ldots, p-1\}$ such that $r(n) \neq a / p$ for all $n=1,2, \ldots, N$.","We argue by contradiction. Assume that for every $a \in \{1,2, \ldots, p-1\}$, there exists an integer $n_a \in \{1, \ldots, N\}$ such that $r(n_a) = a/p$. As established in Sub-problem 1, this implies the existence of a sequence of positive integers $\{m_a\}_{a=1}^{p-1}$ where $n_a = pm_a$, and for any $a, b$ with $m_a < m_b$, certain inequalities hold. However, in Sub-problem 2, we showed that the existence of such a sequence $\{m_a\}$ with the property $m_a \le N/p < \frac{p^2-1}{4}$ leads to a logical contradiction in all possible cases. Therefore, the initial assumption must be false. Consequently, there must be at least one $a \in \{1,2, \ldots, p-1\}$ for which no $n \in \{1,2, \ldots, N\}$ satisfies $r(n)=a/p$.",,
2020c6,"$4 n$ coins of weights $1,2,3, \ldots, 4 n$ are given. Each coin is colored in one of $n$ colors and there are four coins of each color. Show that all these coins can be partitioned into two sets with the same total weight, such that each set contains two coins of each color.",3,"Show that the original problem is equivalent to partitioning the $2n$ pairs of coins $\{k, 4n+1-k\}$ for $k=1, \\ldots, 2n$ into two sets of $n$ pairs, such that within each set, every color appears on exactly two coins.","The total weight of all coins is $\\sum_{i=1}^{4n} i = 2n(4n+1)$. For a partition into two sets of equal weight, each set must have a total weight of $n(4n+1)$. The pairs $\{k, 4n+1-k\}$ each have a weight sum of $4n+1$. By partitioning these $2n$ pairs into two groups of $n$ pairs each, the weight condition is automatically satisfied. The problem thus reduces to partitioning these pairs such that the color distribution condition is met, which is that each of the two sets of pairs must contain two coins of each color.",Model the combinatorial problem from the previous step using a multigraph $G$ where vertices represent colors and edges represent the coin pairs. Show that this reduces the problem to partitioning the edges of a 4-regular multigraph into two 2-regular spanning subgraphs.,"Let the $n$ colors be the vertices of a multigraph $G$. For each of the $2n$ coin pairs $\{k, 4n+1-k\}$, add an edge between the vertices corresponding to the colors of the two coins. Since there are exactly four coins of each color, each vertex in $G$ must be an endpoint of four edges, meaning every vertex has degree 4. A partition of the pairs into two sets corresponds to partitioning the edges of $G$ into two subgraphs. The condition that each set contains two coins of each color is equivalent to requiring that in each subgraph, every vertex has degree 2. Thus, the problem is to decompose a 4-regular multigraph into two 2-regular subgraphs.","$4 n$ coins of weights $1,2,3, \\ldots, 4 n$ are given. Each coin is colored in one of $n$ colors and there are four coins of each color. Show that all these coins can be partitioned into two sets with the same total weight, such that each set contains two coins of each color.","As established, the problem reduces to showing that any 4-regular multigraph $G$ can have its edges partitioned into two 2-regular subgraphs. Since all vertices in $G$ have an even degree (4), each connected component of $G$ has an Euler circuit. Traverse the Euler circuit of each component, coloring the edges alternately with two colors. At any vertex, an Euler circuit consists of an equal number of incoming and outgoing edges. The alternating coloring ensures that for each vertex, half its incident edges will be of one color and half of the other. Since the total degree is 4, each vertex will have degree 2 in each color. This provides the desired partition of edges, which solves the coin problem.",,
2020c7,"Consider any rectangular table having finitely many rows and columns, with a real number $a(r, c)$ in the cell in row $r$ and column $c$. A pair $(R, C)$, where $R$ is a set of rows and $C$ a set of columns, is called a saddle pair if the following two conditions are satisfied:\\
(i) For each row $r^{\prime}$, there is $r \in R$ such that $a(r, c) \geqslant a\left(r^{\prime}, c\right)$ for all $c \in C$;\\
(ii) For each column $c^{\prime}$, there is $c \in C$ such that $a(r, c) \leqslant a\left(r, c^{\prime}\right)$ for all $r \in R$.

A saddle pair $(R, C)$ is called a minimal pair if for each saddle pair $\left(R^{\prime}, C^{\prime}\right)$ with $R^{\prime} \subseteq R$ and $C^{\prime} \subseteq C$, we have $R^{\prime}=R$ and $C^{\prime}=C$.

Prove that any two minimal pairs contain the same number of rows.",4,"Let $(R_1, C_1)$ and $(R_2, C_2)$ be two saddle pairs. Prove that there exist maps $\rho: R_1 \rightarrow R_1$ and $\sigma: C_1 \rightarrow C_1$ such that $|\rho(R_1)| \le |R_2|$ and for all $r_1 \in R_1, c_1 \in C_1$, $a(\rho(r_1), c_1) \ge a(r_1, \sigma(c_1))$.","Using the saddle pair property (i) for $(R_2,C_2)$ and $(R_1,C_1)$, define maps $\rho_2: R_1 \rightarrow R_2$ and $\rho_1: R_2 \rightarrow R_1$. Similarly, using property (ii), define maps $\sigma_2: C_1 \rightarrow C_2$ and $\sigma_1: C_2 \rightarrow C_1$. Let $\rho = \rho_1 \circ \rho_2$ and $\sigma = \sigma_1 \circ \sigma_2$. Then $|\rho(R_1)| = |\rho_1(\rho_2(R_1))| \le |\rho_1(R_2)| \le |R_2|$. The inequality $a(\rho(r_1), c_1) \ge a(r_1, \sigma(c_1))$ follows from chaining the inequalities from the maps' definitions: $a(\rho(r_1), c_1) = a(\rho_1(\rho_2(r_1)), c_1) \ge a(\rho_2(r_1), c_1) \ge a(\rho_2(r_1), \sigma_2(c_1)) \ge a(r_1, \sigma_2(c_1)) \ge a(r_1, \sigma_1(\sigma_2(c_1))) = a(r_1, \sigma(c_1))$.","Let $\rho: R \rightarrow R$ and $\sigma: C \rightarrow C$ be maps on finite sets $R, C$. Let $R' = \bigcap_{i \ge 0} \rho^i(R)$ and $C' = \bigcap_{i \ge 0} \sigma^i(C)$. Prove that there exists a positive integer $k$ such that $\rho^k$ and $\sigma^k$ act as identity maps on $R'$ and $C'$, respectively.","Since $R$ is finite, the sequence of nested subsets $R \supseteq \rho(R) \supseteq \rho^2(R) \supseteq \dots$ must stabilize. Let $R'$ be this stable set. Then $\rho(R') = R'$. Since $\rho$ maps the finite set $R'$ to itself, it must be a permutation of $R'$. Any permutation of a finite set has a finite order, so there exists an integer $k_R > 0$ such that $\rho^{k_R}$ is the identity on $R'$. Similarly, there is a $k_C > 0$ for $\sigma$ on $C'$. We can choose $k$ to be the least common multiple of $k_R$ and $k_C$.","Let $(R_1, C_1)$ be a saddle pair. Let $\rho: R_1 \rightarrow R_1, \sigma: C_1 \rightarrow C_1$ be maps such that $a(\rho(r_1), c_1) \ge a(r_1, \sigma(c_1))$ for all $r_1 \in R_1, c_1 \in C_1$. Let $R' = \bigcap_{i \ge 0} \rho^i(R_1)$ and $C' = \bigcap_{i \ge 0} \sigma^i(C_1)$. Prove that $(R', C')$ is a saddle pair.","By Sub-problem 2, there is a $k>0$ with $\rho^k(r')=r'$ and $\sigma^k(c')=c'$ for all $r' \in R', c' \in C'$. The given inequality implies $a(\rho^k(r_1),c_1) \ge a(r_1,\sigma^k(c_1))$.
(i) For any row $r_{any}$, pick $r_1 \in R_1$ from the saddle condition on $(R_1,C_1)$. Let $r^* = \rho^k(r_1) \in R'$. Then for any $c' \in C'$, $a(r^*, c') = a(\rho^k(r_1), c') \ge a(r_1, \sigma^k(c')) = a(r_1, c') \ge a(r_{any}, c')$.
(ii) For any column $c_{any}$, pick $c_1 \in C_1$ similarly. Let $c^* = \sigma^k(c_1) \in C'$. Then for any $r' \in R'$, $a(r', c^*) = a(r', \sigma^k(c_1)) \le a(\rho^k(r'), c_1) = a(r', c_1) \le a(r', c_{any})$.
Thus, $(R', C')$ is a saddle pair.",Prove that any two minimal pairs contain the same number of rows.,"Let $(R_1, C_1)$ and $(R_2, C_2)$ be two minimal saddle pairs. Assume for contradiction $|R_1| > |R_2|$. By Sub-problem 1, there are maps $\rho: R_1 \rightarrow R_1$ and $\sigma: C_1 \rightarrow C_1$ with $|\rho(R_1)| \le |R_2|$. By Sub-problem 3, the pair of stable sets $(R', C')$, with $R' = \bigcap \rho^i(R_1)$, is a saddle pair. We have $R' \subseteq \rho(R_1)$, so $|R'| \le |\rho(R_1)| \le |R_2| < |R_1|$. Since $R' \subseteq R_1$ and $|R'| < |R_1|$, $(R', C')$ is a proper saddle subpair of $(R_1, C_1)$. This contradicts the minimality of $(R_1, C_1)$. Thus, $|R_1|$ cannot be greater than $|R_2|$. By symmetry, $|R_2|$ cannot be greater than $|R_1|$, so $|R_1|=|R_2|$."
2020g1,"Let $A B C$ be an isosceles triangle with $B C=C A$, and let $D$ be a point inside side $A B$ such that $A D<D B$. Let $P$ and $Q$ be two points inside sides $B C$ and $C A$, respectively, such that $\angle D P B=\angle D Q A=90^{\circ}$. Let the perpendicular bisector of $P Q$ meet line segment $C Q$ at $E$, and let the circumcircles of triangles $A B C$ and $C P Q$ meet again at point $F$, different from $C$.

Suppose that $P, E, F$ are collinear. Prove that $\angle A C B=90^{\circ}$.",2,Let $O$ be the circumcenter of triangle $A B C$ and $\ell$ be the perpendicular bisector of $P Q$. Show that $O$ lies on the line $\ell$.,"Let $\omega$ be the circumcircle of $C P Q$. Since $\angle D P B=\angle D Q A=90^{\circ}$, points $P$ and $Q$ lie on the circle with diameter $C D$. Thus, $D$ lies on $\omega$ and $C D$ is a diameter. The line $\ell$ is the perpendicular bisector of the chord $P Q$ of $\omega$, so it is an axis of symmetry for $\omega$. Point $E$ lies on $\ell$ and on line $C Q$. Reflection across $\ell$ maps $Q \to P$ and $E \to E$, so the line $C Q$ is reflected to the line $P E$. Since $P, E, F$ are collinear, this is the line $P F$. The points $C, F$ are on $\omega$. Reflection across $\ell$ maps the set of intersection points of line $C Q$ and $\omega$, which is $\{C, Q\}$, to the set of intersection points of line $P F$ and $\omega$, which is $\{F, P\}$. As $Q$ maps to $P$, $C$ must map to $F$. This implies $\ell$ is the perpendicular bisector of the segment $C F$. Since $C$ and $F$ lie on the circumcircle of $\triangle A B C$, its center $O$ must lie on the perpendicular bisector of the chord $C F$. Therefore, $O$ lies on $\ell$.",Prove that $\angle A C B=90^{\circ}$.,"Let $O$ be the circumcenter of $\triangle A B C$ and $M$ be the midpoint of $A B$. From the previous result, $O$ lies on $\ell$, the perpendicular bisector of $P Q$. Since $\triangle A B C$ is isosceles with $A C=B C$, the line $C M$ is an altitude to $A B$ and the angle bisector of $\angle A C B$. Thus, $\angle C M D=90^{\circ}$. The circumcircle of $C P Q$ passes through $D$ and has $C D$ as a diameter, so $M$ must also lie on this circle. In this circle, since $C M$ bisects $\angle P C Q$, the chords they subtend are equal: $M P=M Q$. This means $M$ is equidistant from $P$ and $Q$, so $M$ lies on the perpendicular bisector $\ell$. Both $O$ and $M$ lie on the line $C M$ (a property of isosceles triangles) and also on the line $\ell$. Since $A D<D B$, $D \neq M$, which implies that $\ell$ and $C M$ are distinct lines. Therefore, their unique intersection point means $O=M$. If the circumcenter of $\triangle A B C$ is the midpoint of side $A B$, then $A B$ is a diameter of the circumcircle, which implies that $\angle A C B=90^{\circ}$.",,,,
2020g2,"Let $A B C D$ be a convex quadrilateral. Suppose that $P$ is a point in the interior of $A B C D$ such that

$$
\angle P A D: \angle P B A: \angle D P A=1: 2: 3=\angle C B P: \angle B A P: \angle B P C .
$$

The internal bisectors of angles $A D P$ and $P C B$ meet at a point $Q$ inside the triangle $A B P$. Prove that $A Q=B Q$.",3,"Let $\varphi = \angle PAD$ and $\psi = \angle CBP$. Define a point $X$ on segment $AD$ such that $\angle XPA = \varphi$, and a point $Y$ on segment $BC$ such that $\angle BPY = \psi$. Show that the internal angle bisector of $\angle ADP$ is the perpendicular bisector of segment $XP$, and similarly, the internal angle bisector of $\angle PCB$ is the perpendicular bisector of segment $PY$.","Given the angle ratios, we have $\angle DPA=3\varphi$. It follows that $\angle DPX = \angle DPA - \angle XPA = 3\varphi - \varphi = 2\varphi$. In $\triangle APX$, the exterior angle at $X$ is $\angle PXD = \angle PAX + \angle XPA = \varphi + \varphi = 2\varphi$. Since $\angle DPX = \angle PXD$, triangle $DPX$ is isosceles with $DP=DX$. The bisector of the vertex angle $\angle PDX$ (which is $\angle ADP$) in an isosceles triangle is also the perpendicular bisector of the base $XP$. A similar argument shows $\triangle CPY$ is isosceles with $CP=CY$ (as $\angle CPY = \angle BPC - \angle BPY = 3\psi - \psi = 2\psi$ and $\angle PYC = \angle PBY + \angle BPY = \psi + \psi = 2\psi$), so the bisector of $\angle PCY$ (which is $\angle PCB$) is the perpendicular bisector of $PY$.","Let $\varphi = \angle PAD$ and $\psi = \angle CBP$. Let $X$ be a point on $AD$ such that $\angle XPA = \varphi$, and $Y$ a point on $BC$ such that $\angle BPY = \psi$. Prove that the five points $A, B, P, X, Y$ are concyclic.","From the given conditions, $\angle PBA=2\varphi$ and $\angle BAP=2\psi$. For point $X$, the exterior angle of $\triangle APX$ is $\angle PXD = \angle PAX + \angle XPA = \varphi+\varphi=2\varphi$. Thus $\angle AXP = 180^\circ - 2\varphi$. In quadrilateral $AXPB$, the sum of opposite angles $\angle AXP + \angle PBA = (180^\circ - 2\varphi) + 2\varphi = 180^\circ$, so $AXPB$ is cyclic. This means $X$ lies on the circumcircle of $\triangle APB$. For point $Y$, the exterior angle of $\triangle BPY$ is $\angle PYC = \angle PBY + \angle BPY = \psi+\psi=2\psi$. Thus $\angle BYP = 180^\circ - 2\psi$. In quadrilateral $ABPY$, $\angle BYP + \angle BAP = (180^\circ - 2\psi) + 2\psi = 180^\circ$, so $ABPY$ is cyclic. This means $Y$ also lies on the circumcircle of $\triangle APB$. Therefore, all five points $A, B, P, X, Y$ are concyclic.",Let $A B C D$ be a convex quadrilateral. Suppose that $P$ is a point in the interior of $A B C D$ such that $\angle P A D: \angle P B A: \angle D P A=1: 2: 3=\angle C B P: \angle B A P: \angle B P C$. The internal bisectors of angles $A D P$ and $P C B$ meet at a point $Q$ inside the triangle $A B P$. Prove that $A Q=B Q$.,"Let $\varphi = \angle PAD$ and $\psi = \angle CBP$. Let $X$ be a point on $AD$ with $\angle XPA = \varphi$, and $Y$ on $BC$ with $\angle BPY = \psi$. The internal bisector of $\angle ADP$ is the perpendicular bisector of $XP$, as $\triangle DPX$ is isosceles ($DP=DX$). Similarly, the internal bisector of $\angle PCB$ is the perpendicular bisector of $PY$, as $\triangle CPY$ is isosceles ($CP=CY$). The point $Q$, being the intersection of these bisectors, is the circumcenter of $\triangle XPY$. The quadrilaterals $AXPB$ and $ABPY$ are cyclic, which implies that the five points $A, B, P, X, Y$ are concyclic. Since $Q$ is the circumcenter of $\triangle XPY$, it is the circumcenter of the circle passing through all five points. As the circumcenter, $Q$ is equidistant from all points on the circle, including $A$ and $B$. Therefore, $AQ = BQ$.",,
2020g3,"Let $A B C D$ be a convex quadrilateral with $\angle A B C>90^{\circ}, \angle C D A>90^{\circ}$, and $\angle D A B=\angle B C D$. Denote by $E$ and $F$ the reflections of $A$ in lines $B C$ and $C D$, respectively. Suppose that the segments $A E$ and $A F$ meet the line $B D$ at $K$ and $L$, respectively. Prove that the circumcircles of triangles $B E K$ and $D F L$ are tangent to each other.",2,Let $A'$ be the reflection of $A$ in the line $BD$. Show that the quadrilaterals $A'BKE$ and $A'DLF$ are cyclic.,"Since $E$ is the reflection of $A$ in line $BC$, we have $\angle B E K=\angle B A K$. Since $A'$ is the reflection of $A$ in line $BD$, we have $\angle B A K=\angle B A' K$. Therefore, $\angle B E K=\angle B A' K$, which implies that the quadrilateral $A'BKE$ is cyclic. Similarly, since $F$ is the reflection of $A$ in $CD$, $\angle D F L=\angle D A L$. Reflection in $BD$ gives $\angle D A L=\angle D A' L$. Thus, $\angle D F L = \angle D A' L$, which implies that the quadrilateral $A'DLF$ is cyclic.",Prove that the circumcircles of triangles $B E K$ and $D F L$ are tangent to each other.,"Let $A'$ be the reflection of $A$ in $BD$. From the first sub-problem, the circumcircles of $\triangle BEK$ and $\triangle DFL$ are the circumcircles of cyclic quadrilaterals $A'BKE$ and $A'DLF$, which meet at $A'$. The circles are tangent at $A'$ if $\angle A'KB + \angle A'LD = \angle BA'D$. The sum of angles in $\triangle A'KL$ gives $\angle A'KB + \angle A'LD = 180^{\circ} - \angle KA'L$. By reflection in $BD$, $\angle KA'L = \angle KAL$. Since $E$ and $F$ are reflections of $A$ in $BC$ and $CD$, $AE \perp BC$ and $AF \perp CD$. This implies $\angle KAL = 180^{\circ} - \angle BCD$. Thus, $\angle A'KB + \angle A'LD = \angle BCD$. Given $\angle BCD = \angle DAB$, and by reflection $\angle DAB = \angle BA'D$, we conclude $\angle A'KB + \angle A'LD = \angle BA'D$, proving tangency at $A'$.",,,,
2020g4,"In the plane, there are $n \geqslant 6$ pairwise disjoint disks $D_{1}, D_{2}, \ldots, D_{n}$ with radii $R_{1} \geqslant R_{2} \geqslant \ldots \geqslant R_{n}$. For every $i=1,2, \ldots, n$, a point $P_{i}$ is chosen in disk $D_{i}$. Let $O$ be an arbitrary point in the plane. Prove that

$$
O P_{1}+O P_{2}+\ldots+O P_{n} \geqslant R_{6}+R_{7}+\ldots+R_{n} .
$$

(A disk is assumed to contain its boundary.)",4,"Let $O, A, B$ be three points in a plane forming a (possibly degenerate) triangle. If $\angle AOB \le 60^\circ$, prove that $AB \le \max(OA, OB)$.","By the Law of Cosines, $AB^2 = OA^2 + OB^2 - 2(OA)(OB)\cos(\angle AOB)$. Since $0^\circ \le \angle AOB \le 60^\circ$, we have $\cos(\angle AOB) \ge 1/2$. Thus, $AB^2 \le OA^2 + OB^2 - (OA)(OB)$. Without loss of generality, assume $OA \ge OB$. Then $OA^2+OB^2-(OA)(OB) = OA^2 - (OA-OB)OB \le OA^2$. Therefore, $AB^2 \le OA^2$, which implies $AB \le OA = \max(OA, OB)$.","Let $D_1, \dots, D_6$ be six pairwise disjoint disks in the plane with radii $R_1, \dots, R_6$. For each $i$, let $P_i$ be a point in $D_i$. For an arbitrary point $O$ in the plane, prove that there exist indices $i, j \in \{1, \dots, 6\}$ such that $OP_i \ge R_j$.","Let $O_i$ be the center of disk $D_i$. The six rays $OO_1, \dots, OO_6$ emanating from $O$ divide the plane into six angular regions with angles summing to $360^\circ$. By the pigeonhole principle, at least one of these angles, say $\angle O_iOO_j$, is at most $360^\circ/6 = 60^\circ$. From the result of Sub-problem 1, we have $O_iO_j \le \max(OO_i, OO_j)$. Assume without loss of generality that $OO_i \ge O_iO_j$. Since the disks $D_i$ and $D_j$ are disjoint, the distance between their centers satisfies $O_iO_j \ge R_i+R_j$. Thus, $OO_i \ge R_i+R_j$. By the triangle inequality, we have $OP_i \ge OO_i - O_iP_i$. Since $P_i$ is in disk $D_i$, $O_iP_i \le R_i$. Therefore, $OP_i \ge (R_i+R_j) - R_i = R_j$.","Let there be $n \ge 6$ pairwise disjoint disks $D_1, \dots, D_n$ with radii sorted as $R_1 \ge R_2 \ge \dots \ge R_n$. For any choice of points $P_i \in D_i$ and any point $O$, prove that there exists an index $i \in \{1, \dots, 6\}$ for which $OP_i \ge R_6$.","Consider the six disks with the largest radii, $D_1, \dots, D_6$. By the lemma in Sub-problem 2 applied to these six disks, there exist indices $i, j \in \{1, \dots, 6\}$ such that $OP_i \ge R_j$. Since the radii are sorted in non-increasing order, for any $j \in \{1, \dots, 6\}$, we have $R_j \ge R_6$. Combining these inequalities gives $OP_i \ge R_j \ge R_6$. Thus, for some $i \in \{1, \dots, 6\}$, we have $OP_i \ge R_6$.","In the plane, there are $n \geqslant 6$ pairwise disjoint disks $D_{1}, D_{2}, \ldots, D_{n}$ with radii $R_{1} \geqslant R_{2} \geqslant \ldots \geqslant R_{n}$. For every $i=1,2, \ldots, n$, a point $P_{i}$ is chosen in disk $D_{i}$. Let $O$ be an arbitrary point in the plane. Prove that $O P_{1}+O P_{2}+\ldots+O P_{n} \geqslant R_{6}+R_{7}+\ldots+R_{n}$.","We use mathematical induction on $n \ge 6$. Base Case ($n=6$): We need to show $\sum_{k=1}^6 OP_k \ge R_6$. From Sub-problem 3, there exists an index $i \in \{1, \dots, 6\}$ such that $OP_i \ge R_6$. Since $OP_k \ge 0$ for all $k$, we have $\sum_{k=1}^6 OP_k \ge OP_i \ge R_6$. The base case holds. Inductive Step: Assume the statement is true for $n-1 \ge 6$. We will prove it for $n$. By Sub-problem 3, there is an index $i \in \{1, \dots, 6\}$ such that $OP_i \ge R_6$. Consider the $n-1$ disks $\{D_k\}_{k \ne i}$. The radii of these disks, when sorted, have their sum from the 6th term onwards equal to $R_7 + \dots + R_n$, because $i \le 6$. Applying the induction hypothesis to these $n-1$ disks, we get $\sum_{k \ne i} OP_k \ge R_7 + \dots + R_n$. Adding the inequality for $OP_i$, we have: $\sum_{k=1}^n OP_k = OP_i + \sum_{k \ne i} OP_k \ge R_6 + (R_7 + \dots + R_n) = \sum_{j=6}^n R_j$. This completes the inductive step."
2020g6,"Let $I$ and $I_{A}$ be the incenter and the $A$-excenter of an acute-angled triangle $A B C$ with $A B<A C$. Let the incircle meet $B C$ at $D$. The line $A D$ meets $B I_{A}$ and $C I_{A}$ at $E$ and $F$, respectively. Prove that the circumcircles of triangles $A I D$ and $I_{A} E F$ are tangent to each other.",2,"Let $\omega$ be the circumcircle of $\triangle I_{A} E F$ and $\Gamma$ be the circle passing through $B, C, I, I_{A}$. Let $T$ be the second intersection of $\omega$ and $\Gamma$. Prove that $T$ lies on the circumcircle of $\triangle A I D$.","Let $\Varangle(p, q)$ denote the directed angle between lines $p$ and $q$. The point $T$ is the Miquel point of the complete quadrilateral formed by lines $BC, BI_A, CI_A,$ and $AD$. Thus, $T$ also lies on the circumcircle of $\triangle BDE$. Using the fact that quadrilaterals $BDET$ and $BII_AT$ are cyclic, we get $\Varangle(D T, D A)=\Varangle(D T, D E)=\Varangle(B T, B E)=\Varangle(B T, B I_{A})=\Varangle(I T, I I_{A})=\Varangle(I T, I A)$. This equality implies that the points $A, I, D, T$ are concyclic. Therefore, $T$ lies on the circumcircle of $\triangle A I D$.",Prove that the circumcircles of triangles $A I D$ and $I_{A} E F$ are tangent to each other.,"Let $\Omega$ be the circumcircle of $\triangle AID$ and $\omega$ be the circumcircle of $\triangle I_AEF$. From the previous sub-problem, they share a point $T$. Let $\ell$ be the tangent to $\omega$ at $T$. By the tangent-chord theorem, $\Varangle(T I_{A}, \ell) = \Varangle(E I_{A}, E T)$. Since $B, D, E, T$ are concyclic, $\Varangle(E I_{A}, E T) = \Varangle(E B, E T) = \Varangle(D B, D T)$. As $T$ lies on the circle with diameter $II_A$, $\angle ITI_A = 90^\circ$. Also, $ID \perp BC$, so $\angle IDB = 90^\circ$. Using directed angles, $\Varangle(T I, \ell) = \Varangle(T I, T I_A) + \Varangle(T I_A, \ell) = 90^\circ + \Varangle(D B, D T)$. Also, $\Varangle(D I, D T) = \Varangle(D I, D B) + \Varangle(D B, D T) = 90^\circ + \Varangle(D B, D T)$. Thus, $\Varangle(T I, \ell) = \Varangle(D I, D T)$, which proves that $\ell$ is also tangent to $\Omega$ at $T$. Since the circles share a common tangent at their intersection point $T$, they are tangent to each other.",,,,
2020g7,"Let $P$ be a point on the circumcircle of an acute-angled triangle $A B C$. Let $D$, $E$, and $F$ be the reflections of $P$ in the midlines of triangle $A B C$ parallel to $B C, C A$, and $A B$, respectively. Denote by $\omega_{A}, \omega_{B}$, and $\omega_{C}$ the circumcircles of triangles $A D P, B E P$, and $C F P$, respectively. Denote by $\omega$ the circumcircle of the triangle formed by the perpendicular bisectors of segments $A D, B E$ and $C F$.

Show that $\omega_{A}, \omega_{B}, \omega_{C}$, and $\omega$ have a common point.",4,"Let $A_1, B_1, C_1$ be the feet of the altitudes from vertices $A, B, C$ in $\triangle ABC$. Show that $A_1$ lies on $\omega_A$, $B_1$ lies on $\omega_B$, and $C_1$ lies on $\omega_C$.","The midline $m_A$ (parallel to $BC$) is the perpendicular bisector of the segment $AA_1$. The circle $\omega_A$ passes through $A, P$, and $D$, where $D$ is the reflection of $P$ in $m_A$. Thus, $\omega_A$ is symmetric with respect to $m_A$. Since $A$ lies on $\omega_A$, its reflection in $m_A$, which is $A_1$, must also lie on $\omega_A$. Similarly, $B_1$ lies on $\omega_B$ and $C_1$ lies on $\omega_C$.","Show that the circles $\omega_{A}, \omega_{B}, \omega_{C}$ have a common point $Q$ other than $P$.","Let $H$ be the orthocenter of $\triangle ABC$. From Sub-problem 1, the feet of the altitudes $A_1, B_1, C_1$ lie on $\omega_A, \omega_B, \omega_C$ respectively. The power of $H$ with respect to $\omega_A$ is $HA \cdot HA_1$. A known property of the orthocenter is $HA \cdot HA_1 = HB \cdot HB_1 = HC \cdot HC_1$. Thus, $H$ has equal power with respect to $\omega_A, \omega_B, \omega_C$, and so lies on their radical axes. Since $P$ is a common point to all three circles, the line $PH$ is their common radical axis. Therefore, the three circles are coaxial and share a second common point $Q$ on the line $PH$.","Let $Q$ be the common point of $\omega_A, \omega_B, \omega_C$ other than $P$. Let $p_A, p_B$ be the perpendicular bisectors of $AD$ and $BE$. Let $Q_A, Q_B$ be the reflections of $Q$ in $p_A, p_B$. Show that $P, Q_A, Q_B$ are collinear.","The perpendicular bisector $p_A$ of $AD$ is an axis of symmetry for circle $\omega_A$. Since $Q$ is on $\omega_A$, its reflection $Q_A$ across $p_A$ is also on $\omega_A$. Using directed angles modulo $180^\circ$, we find $\Varangle(PA, PQ_A) = \Varangle(PQ, PD)$. Since $D$ is the reflection of $P$ in midline $m_A \parallel BC$, we have $PD \perp BC$, so $\Varangle(PA, PQ_A) = \Varangle(PQ, BC) + 90^\circ$. Similarly, $\Varangle(PB, PQ_B) = \Varangle(PQ, CA) + 90^\circ$. Then $\Varangle(PQ_A, PQ_B) = \Varangle(PQ_A, PA) + \Varangle(PA, PB) + \Varangle(PB, PQ_B) = -(\Varangle(PQ, BC)+90^\circ) + \Varangle(CA, CB) + (\Varangle(PQ, CA)+90^\circ) = \Varangle(BC, PQ) + \Varangle(PQ, CA) + \Varangle(CA, CB) = 0$. Therefore, $P, Q_A, Q_B$ are collinear.","Show that $\omega_{A}, \omega_{B}, \omega_{C}$, and $\omega$ have a common point.","From Sub-problem 2, circles $\omega_A, \omega_B, \omega_C$ share a common point $Q$ (other than $P$). Let $p_A, p_B, p_C$ be the perpendicular bisectors forming the triangle whose circumcircle is $\omega$. Let $Q_A, Q_B, Q_C$ be the reflections of $Q$ in lines $p_A, p_B, p_C$. Sub-problem 3 shows that $P, Q_A, Q_B$ are collinear. By symmetry, $P, Q_B, Q_C$ are also collinear. Thus, $Q_A, Q_B, Q_C$ are collinear. By the converse of Simson's theorem, a point lies on the circumcircle of a triangle if its reflections across the triangle's sidelines are collinear. Therefore, $Q$ lies on $\omega$. As $Q$ is already a common point of $\omega_A, \omega_B, \omega_C$, it is the common point for all four circles."
2020g8,"Let $\Gamma$ and $I$ be the circumcircle and the incenter of an acute-angled triangle $A B C$. Two circles $\omega_{B}$ and $\omega_{C}$ passing through $B$ and $C$, respectively, are tangent at $I$. Let $\omega_{B}$ meet the shorter arc $A B$ of $\Gamma$ and segment $A B$ again at $P$ and $M$, respectively. Similarly, let $\omega_{C}$ meet the shorter arc $A C$ of $\Gamma$ and segment $A C$ again at $Q$ and $N$, respectively. The rays $P M$ and $Q N$ meet at $X$, and the tangents to $\omega_{B}$ and $\omega_{C}$ at $B$ and $C$, respectively, meet at $Y$.

Prove that the points $A, X$, and $Y$ are collinear.",4,Let $Y$ be the intersection of the tangent to $\omega_B$ at $B$ and the tangent to $\omega_C$ at $C$. Prove that $Y$ lies on the circumcircle $\Gamma$ of triangle $A B C$.,"Let $\ell$ be the common tangent to $\omega_B$ and $\omega_C$ at $I$. Using directed angles modulo $180^\circ$, the tangency conditions give $\Varangle(BY, BI) = \Varangle(IB, \ell)$ and $\Varangle(CI, CY) = \Varangle(\ell, IC)$. Summing them yields $\Varangle(BY, BI) + \Varangle(CI, CY) = \Varangle(IB, IC)$. For points $A,B,C,Y$ to be concyclic, we need to show $\Varangle(BY, BA) + \Varangle(CA, CY) = 0$. This sum is $\Varangle(BY, BI) + \Varangle(BI, BA) + \Varangle(CA, CI) + \Varangle(CI, CY) = \Varangle(IB, IC) + \Varangle(BC, BI) + \Varangle(CI, CB) = \Varangle(BC, CB) = 0$. Thus, $Y$ lies on $\Gamma$.","Let $E, F$ be the second intersections of the angle bisectors $BI, CI$ with the circumcircle $\Gamma$, respectively. Let $\ell$ be the common tangent to $\omega_B, \omega_C$ at $I$. Let $X$ be the intersection of rays $PM$ and $QN$. Prove that $X$ is the intersection of $\ell$ and the line $EF$.","Let $X_* = \ell \cap EF$. By symmetry, we only need to show $X_* \in QN$. Using directed angles, $\Varangle(IX_*, IQ) = \Varangle(CI, CQ) = \Varangle(CF, CQ) = \Varangle(EF, EQ) = \Varangle(EX_*, EQ)$. This implies that the points $X_*, I, Q, E$ are concyclic. From this concyclicity, we have $\Varangle(QX_*, QI) = \Varangle(EX_*, EI) = \Varangle(EF, EB)$. Since $F$ is the midpoint of arc $AB$, we have arc $AF = BF$, so $\Varangle(EF, EB) = \Varangle(CA, CF)$. Also, $\Varangle(CA, CF) = \Varangle(CN, CI) = \Varangle(QN, QI)$. Thus, $\Varangle(QX_*, QI) = \Varangle(QN, QI)$, which proves that $Q, N, X_*$ are collinear. Therefore, $X = X_*$.","Let $E, F$ be the second intersections of the angle bisectors $BI, CI$ with the circumcircle $\Gamma$, respectively. Prove that point $A$ is the reflection of the incenter $I$ across the line $EF$.","$E$ is the second intersection of $BI$ with $\Gamma$, making it the midpoint of arc $AC$ not containing $B$. Thus $EA=EC$. Also, $\angle EIC = \angle IAC + \angle ICA = A/2 + C/2$. In $\triangle ABC$, $\angle ECI = \angle ECB + \angle BCI = \angle EAB + C/2 = A/2+C/2$. So $\triangle EIC$ is isosceles with $EI=EC$. This gives $EA=EI$. Similarly, $F$ is the midpoint of arc $AB$, so $FA=FB$, and an angle chase shows $FA=FI$. Since both $E$ and $F$ are equidistant from $A$ and $I$, $EF$ is the perpendicular bisector of the segment $AI$. Thus, $A$ is the reflection of $I$ across $EF$.","Prove that the points $A, X$, and $Y$ are collinear.","From the previous sub-problems, $Y \in \Gamma$, $X$ lies on the line $EF$, and $A$ is the reflection of $I$ across $EF$. Let $\ell$ be the common tangent at $I$. The reflection across $EF$ maps $I \to A$ while fixing $X$ and $E$. This reflection reverses the orientation of angles, so using directed angles, $\Varangle(AX, AE) = -\Varangle(IX, IE) = \Varangle(IE, IX)$. The line $IE$ is the same as $BE$, and the line $IX$ is $\ell$ since $X = \ell \cap EF$. Thus, $\Varangle(IE, IX) = \Varangle(BI, \ell)$. From the tangency of $\omega_B$, $\Varangle(BI, \ell) = \Varangle(BY, BI) = \Varangle(BY, BE)$. Since $A, B, Y, E$ are on $\Gamma$, $\Varangle(BY, BE) = \Varangle(AY, AE)$. Combining these equalities, we get $\Varangle(AX, AE) = \Varangle(AY, AE)$, which implies that $A, X, Y$ are collinear."
2020g9,"Prove that there exists a positive constant $c$ such that the following statement is true:

Assume that $n$ is an integer with $n \geqslant 2$, and let $\mathcal{S}$ be a set of $n$ points in the plane such that the distance between any two distinct points in $\mathcal{S}$ is at least 1 . Then there is a line $\ell$ separating $\mathcal{S}$ such that the distance from any point of $\mathcal{S}$ to $\ell$ is at least $c n^{-1 / 3}$.\\
(A line $\ell$ separates a point set $\mathcal{S}$ if some segment joining two points in $\mathcal{S}$ crosses $\ell$.)",4,"Assume that for a set $\mathcal{S}$ of $n$ points with minimum distance 1, any separating line is at a distance less than $\delta$ from some point in $\mathcal{S}$. Show that for any line $m$, the distance between any two adjacent points in the projection $\mathcal{S}_m$ is less than $2\delta$.","Suppose for a contradiction that for some line $m$, there are adjacent projected points $X_m, Y_m$ with distance $2d \ge 2\delta$. The line $\ell$ that is the perpendicular bisector of the segment connecting points $X$ and $Y$ is a separating line. For any point $Z \in \mathcal{S}$, its projection $Z_m$ is not strictly between $X_m$ and $Y_m$ as they are adjacent. Thus, the distance from $Z$ to $\ell$ is at least $d \ge \delta$. This contradicts the assumption that for any separating line, some point is closer than $\delta$. Therefore, for any line $m$, adjacent points in the projection $\mathcal{S}_m$ must be less than $2\delta$ apart.","Let $\mathcal{S}$ be a set of $n$ points with minimum distance 1, and let $M$ be its diameter. Assuming that for any line $m$, the distance between any two adjacent points in the projection $\mathcal{S}_m$ is less than $2\delta$, prove that $M < 2n\delta$.","Let $A, B \in \mathcal{S}$ be two points such that their distance $AB$ is the diameter $M$. Let $\ell$ be the line passing through $A$ and $B$. The projection $\mathcal{S}_\ell$ of the set $\mathcal{S}$ is contained within the segment $AB$ of length $M$. The $n$ points of $\mathcal{S}_\ell$ divide this segment into at most $n-1$ sub-segments. By the assumption, the length of each such sub-segment is less than $2\delta$. Therefore, the total length $M$ must be less than the sum of the maximum lengths of these sub-segments, so $M < (n-1) \cdot 2\delta < 2n\delta$.","Let $\mathcal{S}$ be a set of $n \ge 2$ points with minimum distance 1 and diameter $M \ge 1$. Let $\ell$ be a line containing a diameter. Assume the distance between adjacent points in any projection is less than $2\delta$. Consider a strip of width $1/2$ perpendicular to $\ell$ starting at one end of the diameter. Let $\mathcal{T}$ be the set of points from $\mathcal{S}$ in this strip, and let $t = |\mathcal{T}|$. Prove that $t \ge \frac{1}{4\delta}$ and $t < 4\sqrt{M}$.","Let the diameter be on line $\ell$. Consider a strip $P$ of width $1/2$ perpendicular to $\ell$ starting at one endpoint of the diameter. Let $\mathcal{T} = \mathcal{S} \cap P$. The projection of $\mathcal{T}$ on $\ell$ lies in a segment of length $1/2$. Since adjacent projected points are less than $2\delta$ apart, the number of points $t= |\mathcal{T}|$ must satisfy $t \ge \lceil \frac{1/2}{2\delta} \rceil \ge \frac{1}{4\delta}$. For the upper bound, let $a$ be a line perpendicular to $\ell$. For any two points $X, Y \in \mathcal{T}$, their distance $XY \ge 1$. Their projected distance on $\ell$, $X_\ell Y_\ell$, is at most $1/2$. Their projected distance on $a$ is $X_a Y_a = \sqrt{XY^2 - X_\ell Y_\ell^2} \ge \sqrt{1^2 - (1/2)^2} = \sqrt{3}/2$. The points of $\mathcal{T}$ are contained in a region whose projection onto line $a$ has length less than $2\sqrt{M}$. Since the $t$ projected points on this segment are at least $\sqrt{3}/2$ apart, we have $(t-1)\sqrt{3}/2 < 2\sqrt{M}$, which implies $t < 1 + 4\sqrt{M}/\sqrt{3} < 4\sqrt{M}$ for $M \ge 1$.","Prove that there exists a positive constant $c$ such that the following statement is true: Assume that $n$ is an integer with $n \geqslant 2$, and let $\mathcal{S}$ be a set of $n$ points in the plane such that the distance between any two distinct points in $\mathcal{S}$ is at least 1 . Then there is a line $\ell$ separating $\mathcal{S}$ such that the distance from any point of $\mathcal{S}$ to $\ell$ is at least $c n^{-1 / 3}$.","Let $c=1/8$ and $\delta = c n^{-1/3}$. Assume for contradiction that for any separating line, some point in $\mathcal{S}$ is closer than $\delta$. By Sub-problem 1, for any line $m$, adjacent points in the projection $\mathcal{S}_m$ are less than $2\delta$ apart. Let $M$ be the diameter of $\mathcal{S}$. By Sub-problem 2, $M < 2n\delta$. By Sub-problem 3, there is a subset $\mathcal{T} \subset \mathcal{S}$ of size $t$ with $\frac{1}{4\delta} \le t < 4\sqrt{M}$. Combining these inequalities yields $\frac{1}{4\delta} < 4\sqrt{M} < 4\sqrt{2n\delta}$. This simplifies to $1 < 16\delta \sqrt{2n\delta}$, which after squaring becomes $1 < 512n\delta^3$. Substituting $\delta = \frac{1}{8}n^{-1/3}$, we get $512n(\frac{1}{8}n^{-1/3})^3 = 512n(\frac{1}{512}n^{-1}) = 1$. The resulting inequality $1 < 1$ is a contradiction. Thus, the assumption is false, and the statement holds with $c=1/8$."
2020n1,"Given a positive integer $k$, show that there exists a prime $p$ such that one can choose distinct integers $a_{1}, a_{2}, \ldots, a_{k+3} \in\{1,2, \ldots, p-1\}$ such that $p$ divides $a_{i} a_{i+1} a_{i+2} a_{i+3}-i$ for all $i=1,2, \ldots, k$.\\",3,"Show the existence of a sequence of positive rational numbers $r_1, r_2, \\ldots, r_{k+3}$ such that $r_i r_{i+1} r_{i+2} r_{i+3} = i$ for all $i=1, 2, \\ldots, k$.","Let $r_1, r_2, r_3$ be any three distinct positive rational numbers. Define $r_4 = \frac{1}{r_1 r_2 r_3}$. For $i \\ge 1$, the conditions $r_i r_{i+1} r_{i+2} r_{i+3} = i$ and $r_{i+1} r_{i+2} r_{i+3} r_{i+4} = i+1$ imply the recurrence relation $r_{i+4} = \frac{i+1}{i} r_i$. This recurrence uniquely defines the sequence $r_5, r_6, \\ldots, r_{k+3}$ and satisfies the required product relations.","By choosing $r_1=x, r_2=y, r_3=z$ for distinct primes $x, y, z > k$, show that the rational numbers $r_1, \\ldots, r_{k+3}$ constructed in the previous step are all distinct.","The sequence is defined by $r_1=x, r_2=y, r_3=z$ and the recurrence $r_{i+4} = \frac{i+1}{i} r_i$. The four subsequences $\{r_{4m+j}\\}_{m \\ge 0}$ for $j=1,2,3,4$ are strictly increasing since $r_{i+4} > r_i$, so no values are repeated within a subsequence. When written in irreducible form, the numerators of terms in the subsequence for $j=1$ are divisible by $x$, for $j=2$ by $y$, and for $j=3$ by $z$. Numerators for $j=4$ are not divisible by $x, y,$ or $z$ (since $x,y,z > k$). This prevents any equality between terms from different subsequences. Therefore, all $r_i$ are distinct.","Given a positive integer $k$, show that there exists a prime $p$ such that one can choose distinct integers $a_{1}, a_{2}, \\ldots, a_{k+3} \\in\\{1,2, \\ldots, p-1\\}$ such that $p$ divides $a_{i} a_{i+1} a_{i+2} a_{i+3}-i$ for all $i=1,2, \\ldots, k$.","Construct a sequence of distinct rational numbers $r_i = u_i/v_i$ as in the previous steps. Let $P$ be the finite set of prime factors of all denominators $v_i$ and all non-zero numerators $u_i v_j - u_j v_i$ for $i \neq j$. Choose a prime $p \notin P$. Define $a_i \\in \\{1, \\ldots, p-1\\}$ by $a_i \\equiv u_i (v_i)^{-1} \\pmod p$. This is well-defined as $p \nmid v_i$. The relation $r_i r_{i+1} r_{i+2} r_{i+3} = i$ becomes $a_i a_{i+1} a_{i+2} a_{i+3} \\equiv i \\pmod p$. The integers $a_i$ are distinct because if $a_i \\equiv a_j \\pmod p$, then $u_i v_j - u_j v_i \\equiv 0 \\pmod p$, which implies $p \\in P$, a contradiction.",,
2020n2,"For each prime $p$, there is a kingdom of $p$-Landia consisting of $p$ islands numbered $1,2, \ldots, p$. Two distinct islands numbered $n$ and $m$ are connected by a bridge if and only if $p$ divides $\left(n^{2}-m+1\right)\left(m^{2}-n+1\right)$. The bridges may pass over each other, but cannot cross. Prove that for infinitely many $p$ there are two islands in $p$-Landia not connected by a chain of bridges.",3,"Let $p>3$ be a prime. In $p$-Landia, islands $m$ and $n$ are connected by a bridge if $p$ divides $(n^2 - m + 1)(m^2 - n + 1)$. Show that if there exists an integer $x$ such that $x^2-x+1 \equiv 0 \pmod p$, then there are two islands not connected by a chain of bridges.","The islands and bridges form a graph with $p$ vertices. A bridge between $m$ and $n$ exists if $n \equiv m^2+1 \pmod p$ or $m \equiv n^2+1 \pmod p$. We can bound the number of bridges by counting directed connections (arrows) from $m$ to $n$ if $n \equiv m^2+1 \pmod p$. The number of bridges is at most the number of arrows. For each island $m$, there is exactly one outgoing arrow unless $m^2+1 \equiv m \pmod p$, i.e., $m^2-m+1 \equiv 0 \pmod p$, in which case there are no outgoing arrows. By hypothesis, there is no arrow starting from island $x$. Also, $(1-x)^2-(1-x)+1 = x^2-x+1 \equiv 0 \pmod p$, so no arrow starts from $1-x$ either. For $p>3$, $x \not\equiv 1-x \pmod p$, since $x=1-x$ implies $2x=1$, which together with $x^2-x+1=0$ implies $p|3$, a contradiction. Thus, at least two distinct islands have no outgoing arrows, so the total number of bridges is at most $p-2$. A graph with $p$ vertices and fewer than $p-1$ edges is disconnected. Therefore, there are at least two islands not connected by a chain of bridges.",Prove that there are infinitely many prime numbers $p$ that divide a number of the form $x^2-x+1$ for some integer $x$.,"Assume for contradiction that there is a finite set of such primes, $\{p_1, \ldots, p_k\}$. Let $N = p_1 p_2 \cdots p_k$. Consider the integer $M = N^2 - N + 1$. For any prime $p_i$ in the set, $N$ is a multiple of $p_i$, so $M \equiv 0^2 - 0 + 1 \equiv 1 \pmod{p_i}$. Thus, $M$ is not divisible by any of the primes $p_i$. Since $M > 1$, it must have a prime divisor, say $q$. This prime $q$ cannot be in the set $\{p_1, \ldots, p_k\}$. Since $q$ divides $M = N^2 - N + 1$, $q$ is a prime of the required form (with $x=N$). This contradicts the assumption that the set of such primes is finite. Therefore, there must be infinitely many such primes.",Prove that for infinitely many $p$ there are two islands in $p$-Landia not connected by a chain of bridges.,"From Sub-problem 2, there are infinitely many primes $p$ that divide a number of the form $x^2-x+1$ for some integer $x$. For any such prime $p>3$, Sub-problem 1 shows that the graph of islands in $p$-Landia is not connected. A non-connected graph, by definition, has at least two vertices (islands) that are not connected by a path (a chain of bridges). Since there are infinitely many such primes $p>3$, the statement holds.",,
2020n7,"Let $\mathcal{S}$ be a set consisting of $n \geqslant 3$ positive integers, none of which is a sum of two other distinct members of $\mathcal{S}$. Prove that the elements of $\mathcal{S}$ may be ordered as $a_{1}, a_{2}, \ldots, a_{n}$ so that $a_{i}$ does not divide $a_{i-1}+a_{i+1}$ for all $i=2,3, \ldots, n-1$.",3,"Let $\mathcal{S}$ be a set of positive integers where no element is a sum of two other distinct members. Prove that for any three distinct elements $a, b, c \in \mathcal{S}$ with $b > \max(a, c)$, $b$ does not divide $a+c$.","Assume for contradiction that $b$ divides $a+c$. Since $b \in \mathcal{S}$, by the definition of the set, $b$ cannot be the sum of two other distinct members, so $b \neq a+c$. As $a, b, c$ are positive integers, if $b | (a+c)$, we must have the inequality $b \le (a+c)/2$. However, we are given that $b > a$ and $b > c$. Summing these inequalities gives $2b > a+c$, which implies $b > (a+c)/2$. This contradicts $b \le (a+c)/2$. Therefore, the initial assumption must be false, and $b$ does not divide $a+c$.","Let $\mathcal{S}$ be a set of $n \ge 3$ positive integers as defined in the original problem, and let $a = \max \mathcal{S}$. Let $b$ and $c$ be any two other distinct elements from $\mathcal{S}$. Prove that $a$ does not divide $b+c$ and $a$ does not divide $|b-c|$.","Since $a = \max \mathcal{S}$ and $b, c$ are distinct elements from $\mathcal{S} \setminus \{a\}$, we have $a > b$ and $a > c$. The condition $a > \max(b, c)$ is met. From the result of Sub-problem 1, it follows directly that $a \nmid b+c$. For the second part, since $b$ and $c$ are distinct positive integers, $|b-c|$ is a positive integer. We also have $|b-c| < \max(b,c) < a$. Since $0 < |b-c| < a$, it is impossible for $a$ to divide $|b-c|$.","Let $\mathcal{S}$ be a set consisting of $n \geqslant 3$ positive integers, none of which is a sum of two other distinct members of $\mathcal{S}$. Prove that the elements of $\mathcal{S}$ may be ordered as $a_{1}, a_{2}, \ldots, a_{n}$ so that $a_{i}$ does not divide $a_{i-1}+a_{i+1}$ for all $i=2,3, \ldots, n-1$.","We prove a stronger claim by induction on $n$: there exists an ordering $a_1, \ldots, a_n$ such that $a_i \nmid a_{i-1} \pm a_{i+1}$ for $i=2, \ldots, n-1$. This implies the original statement. The base case $n=2$ is trivial. For $n \ge 3$, assume the claim holds for sets of size $n-1$. Let $a = \max \mathcal{S}$ and $\mathcal{T} = \mathcal{S} \setminus \{a\}$. By the inductive hypothesis, there is a valid ordering $b_1, \ldots, b_{n-1}$ of $\mathcal{T}$. Consider inserting $a$ into this sequence at one of the $n$ possible positions $j$, forming $N_j$. Assume for contradiction that none of the $n$ orderings $N_j$ are valid. Any new violation must involve $a$. By Sub-problem 2, $a$ cannot be the middle element divisor in a violation. Thus, a violation must occur at a neighbor of $a$. For each of the $n$ failed positions $j$, some $b_k \in \mathcal{T}$ must cause a violation. By the pigeonhole principle, some element $b_k$ must be responsible for violations corresponding to two distinct insertion positions. An element $b_k$ can only become a middle element in a new triple if $a$ is inserted adjacent to it, which occurs for insertion positions $j=k$ and $j=k+1$. This implies $b_k | a \pm b_{k+1}$ and $b_k | b_{k-1} \pm a$. From these, we get $a \equiv \mp b_{k+1} \pmod{b_k}$ and $a \equiv \mp b_{k-1} \pmod{b_k}$. This leads to $b_{k-1} \equiv \pm b_{k+1} \pmod{b_k}$, which implies $b_k | b_{k-1} \pm b_{k+1}$. This contradicts the assumption that the ordering of $\mathcal{T}$ was valid. Therefore, at least one of the orderings $N_j$ must be valid, completing the induction.",,
2019a2,"Let $u_{1}, u_{2}, \ldots, u_{2019}$ be real numbers satisfying

$$
u_{1}+u_{2}+\cdots+u_{2019}=0 \quad \text { and } \quad u_{1}^{2}+u_{2}^{2}+\cdots+u_{2019}^{2}=1
$$

Let $a=\min \left(u_{1}, u_{2}, \ldots, u_{2019}\right)$ and $b=\max \left(u_{1}, u_{2}, \ldots, u_{2019}\right)$. Prove that

$$
a b \leqslant-\frac{1}{2019}
$$",3,"Let $u_1, \ldots, u_{2019}$ be real numbers with $\\sum_{i=1}^{2019} u_i = 0$ and $\\sum_{i=1}^{2019} u_i^2=1$. Let $P = \\{i: u_i > 0\\}$ and $N = \\{i: u_i \\le 0\\}$. Prove that $a=\\min(u_i)<0$, $b=\\max(u_i)>0$, and that $\\sum_{i \\in P} u_i = \\sum_{i \\in N} |u_i|$.","Since $\\sum u_i^2=1$, not all $u_i$ can be zero. Since $\\sum u_i=0$, the non-zero terms cannot all be positive or all negative. Therefore, there must be at least one positive term and at least one negative term, which implies $a<0$ and $b>0$. From $\\sum u_i = 0$, we have $\\sum_{i \\in P} u_i + \\sum_{i \\in N} u_i = 0$. For $i \\in N$, $u_i = -|u_i|$. So, $\\sum_{i \\in P} u_i - \\sum_{i \\in N} |u_i| = 0$, which gives the identity $\\sum_{i \\in P} u_i = \\sum_{i \\in N} |u_i|$.","Let $p = |P|$ and $n = |N|$. Using the results from the previous step, prove that $\\sum_{i=1}^{2019} u_i^2 \\le -nab - pab$.","We bound the sums over positive and non-positive terms separately. For $i \\in P$, $0 < u_i \\le b$, so $u_i^2 \\le b u_i$. For $i \\in N$, $a \\le u_i \\le 0$, so $u_i^2 = |u_i|^2 \\le |a||u_i|=-a|u_i|$ because $|a|=-a$ from sub-problem 1. \n $\\sum_{i \\in P} u_i^2 \\le b\\sum_{i \\in P} u_i = b\\sum_{i \\in N} |u_i| \\le b \\sum_{i \\in N} |a| = b \\cdot n \\cdot (-a) = -nab$. \n $\\sum_{i \\in N} u_i^2 \\le |a|\\sum_{i \\in N} |u_i| = |a|\\sum_{i \\in P} u_i \\le |a| \\sum_{i \\in P} b = (-a) \\cdot p \\cdot b = -pab$. \n Adding these inequalities yields $\\sum_{i=1}^{2019} u_i^2 = \\sum_{i \\in P} u_i^2 + \\sum_{i \\in N} u_i^2 \\le -nab - pab$.","Let $u_{1}, u_{2}, \\ldots, u_{2019}$ be real numbers satisfying $\\sum_{i=1}^{2019} u_{i}=0$ and $\\sum_{i=1}^{2019} u_{i}^{2}=1$. Let $a=\\min(u_{1}, \\ldots, u_{2019})$ and $b=\\max(u_{1}, \\ldots, u_{2019})$. Prove that $ab \\leqslant -\frac{1}{2019}$.","From the problem statement, $\\sum_{i=1}^{2019} u_i^2 = 1$. The total number of terms is $p+n=2019$. Using the inequality from Sub-problem 2, we have $1 = \\sum_{i=1}^{2019} u_i^2 \\le -nab - pab = -(n+p)ab = -2019ab$. Therefore, $1 \\le -2019ab$. Since $a<0$ and $b>0$, $ab$ is negative. Dividing by $-2019$ reverses the inequality, yielding $ab \\le -1/2019$.",,
2019a3,"Let $n \geqslant 3$ be a positive integer and let $\left(a_{1}, a_{2}, \ldots, a_{n}\right)$ be a strictly increasing sequence of $n$ positive real numbers with sum equal to 2 . Let $X$ be a subset of $\{1,2, \ldots, n\}$ such that the value of

$$
\left|1-\sum_{i \in X} a_{i}\right|
$$

is minimised. Prove that there exists a strictly increasing sequence of $n$ positive real numbers $\left(b_{1}, b_{2}, \ldots, b_{n}\right)$ with sum equal to 2 such that

$$
\sum_{i \in X} b_{i}=1 .
$$",2,"Let $S_X = \sum_{i \in X} a_i$. Assuming $S_X < 1$, prove that for any index $k$ such that $k \in X$ and $k+1 \in X^c$, the inequality $a_{k+1} - a_k \ge 2(1 - S_X)$ holds.","Let $Y = (X \setminus \{k\}) \cup \{k+1\}$. The sum over $Y$ is $S_Y = S_X - a_k + a_{k+1}$. By the minimality condition on $X$, we have $|1 - S_Y| \ge |1 - S_X|$. Let $\Delta = 1 - S_X > 0$ and $\delta = a_{k+1} - a_k > 0$. The condition is $|1 - (S_X + \delta)| \ge \Delta$, which simplifies to $|(1-S_X) - \delta| \ge \Delta$, or $|\Delta - \delta| \ge \Delta$. As $\delta > 0$, this inequality implies $\Delta - \delta \le -\Delta$, which is equivalent to $\delta \ge 2\Delta$. Thus, $a_{k+1} - a_k \ge 2(1 - S_X)$.","Let $n \geqslant 3$ be a positive integer and let $\left(a_{1}, a_{2}, \ldots, a_{n}\right)$ be a strictly increasing sequence of $n$ positive real numbers with sum equal to 2 . Let $X$ be a subset of $\{1,2, \ldots, n\}$ such that the value of $\left|1-\sum_{i \in X} a_{i}\right|$ is minimised. Prove that there exists a strictly increasing sequence of $n$ positive real numbers $\left(b_{1}, b_{2}, \ldots, b_{n}\right)$ with sum equal to 2 such that $\sum_{i \in X} b_{i}=1 .","Let $S_X = \sum_{i \in X} a_i$. If $S_X=1$, take $b_i=a_i$. WLOG, assume $S_X < 1$. Let $\Delta = 1-S_X > 0$. We construct a new strictly increasing positive sequence $(c_i)$ with $\sum_{i \in X} c_i = \sum_{i \in X^c} c_i$ by modifying $(a_i)$. This requires increasing the sum over $X$ by $2\Delta$ relative to $X^c$. Case 1: $n \in X$. Set $c_n = a_n + 2\Delta$ and $c_i=a_i$ for $i<n$. Case 2: $n \notin X$. There exists $k \in X$ with $k+1 \in X^c$. From sub-problem 1, $\delta = a_{k+1}-a_k \ge 2\Delta$. If $\delta > 2\Delta$, set $c_k = a_k + 2\Delta$ and $c_i=a_i$ for $i \neq k$. If $\delta = 2\Delta$, pick $j \neq k, k+1$ and a small $\epsilon > 0$. If $j \in X$, let $c_k=a_k+2\Delta-\epsilon, c_j=a_j+\epsilon$. If $j \notin X$, let $c_k=a_k+2\Delta, c_{k+1}=a_{k+1}+\epsilon/2, c_j=a_j-\epsilon/2$. In all cases, $(c_i)$ is a valid sequence. Let $C = \sum c_i$. Then $b_i = 2c_i/C$ is the desired sequence, as $\sum_{i \in X} b_i = (2/C)\sum_{i \in X} c_i = (2/C)(C/2) = 1$.",,,,
2019a4,"Let $n \geqslant 2$ be a positive integer and $a_{1}, a_{2}, \ldots, a_{n}$ be real numbers such that

$$
a_{1}+a_{2}+\cdots+a_{n}=0
$$

Define the set $A$ by

$$
A=\left\{(i, j)\left|1 \leqslant i<j \leqslant n,\left|a_{i}-a_{j}\right| \geqslant 1\right\} .\right.
$$

Prove that, if $A$ is not empty, then

$$
\sum_{(i, j) \in A} a_{i} a_{j}<0 .
$$",3,"Let $A = \{(i, j) | 1 \le i < j \le n, |a_i - a_j| \ge 1\}$ and $C = \{(i, j) | 1 \le i, j \le n, |a_i - a_j| < 1\}$. Given $\sum_{k=1}^n a_k = 0$, show that proving $\sum_{(i, j) \in A} a_{i} a_{j} < 0$ is equivalent to proving $\sum_{(i, j) \in C} a_{i} a_{j} > 0$.","Define $B = \{(i, j) | 1 \le i, j \le n, |a_i - a_j| \ge 1\}$. Note that $(i,i) \notin B$, so $\sum_{(i, j) \in A} a_{i} a_{j} = \frac{1}{2}\sum_{(i,j) \in B} a_i a_j$. Since $\sum a_k=0$, we have $(\sum a_k)^2 = \sum_{1 \le i,j \le n} a_i a_j = 0$. The set of all pairs $(i,j)$ is the disjoint union of $B$ and $C$, so $\sum_{(i,j) \in B} a_i a_j + \sum_{(i,j) \in C} a_i a_j = 0$. It follows that $\sum_{(i, j) \in A} a_{i} a_{j} = -\frac{1}{2}\sum_{(i,j) \in C} a_i a_j$. Thus, the inequality $\sum_{(i, j) \in A} a_{i} a_{j} < 0$ is equivalent to $\sum_{(i,j) \in C} a_i a_j > 0$.","Partition the indices $\{1, \ldots, n\}$ into sets $P = \{i | a_i \le -1\}$, $Q = \{i | -1 < a_i \le 0\}$, $R = \{i | 0 < a_i < 1\}$, and $S = \{i | 1 \le a_i\}$. Let $C$ be as defined in the previous part. Prove that $\sum_{(i, j) \in C} a_{i} a_{j} \geqslant \sum_{i \in P \cup S} a_{i}^{2}+\left(\sum_{k \in Q \cup R} a_{k}\right)^{2}$, and show this lower bound is non-negative.","We establish the inequality $\sum_{(i, j) \in C} a_{i} a_{j} \geqslant \sum_{i \in P \cup S} a_{i}^{2}+\sum_{i, j \in Q \cup R} a_{i} a_{j}$. This holds because any negative term $a_ia_j$ in the LHS sum must have $i, j \in Q \cup R$, while all positive or zero-valued terms from the RHS are included in the LHS sum. The right hand side equals $\sum_{i \in P \cup S} a_{i}^{2}+\left(\sum_{k \in Q \cup R} a_{k}\right)^{2}$. As a sum of squares of real numbers, this expression is always non-negative.","Let $n \geqslant 2$ be a positive integer and $a_{1}, a_{2}, \ldots, a_{n}$ be real numbers such that $a_{1}+a_{2}+\cdots+a_{n}=0$. Define the set $A$ by $A=\left\{(i, j)\left|1 \leqslant i<j \leqslant n,\left|a_{i}-a_{j}\right| \geqslant 1\right. \right\}$. Prove that, if $A$ is not empty, then $\sum_{(i, j) \in A} a_{i} a_{j}<0$.","From Part 1, the problem is equivalent to proving $\sum_{(i, j) \in C} a_i a_j > 0$ given $A \neq \emptyset$. From Part 2, we know $\sum_{(i, j) \in C} a_{i} a_{j} \ge \sum_{i \in P \cup S} a_{i}^{2}+\left(\sum_{k \in Q \cup R} a_{k}\right)^{2} \ge 0$. For equality to hold in this chain, we must have $P=S=\emptyset$ (so all $|a_i|<1$), and the first inequality must also be an equality, which requires $|a_i-a_j|<1$ for all $i,j \in Q \cup R$. Together, these conditions imply $|a_i-a_j|<1$ for all pairs $(i,j)$, which means the set $A$ would be empty. This contradicts the given condition that $A$ is not empty. Therefore, the inequality must be strict: $\sum_{(i, j) \in C} a_i a_j > 0$. By Part 1, this proves the claim.",,
2019a5,"Let $x_{1}, x_{2}, \ldots, x_{n}$ be different real numbers. Prove that $$
\sum_{1 \leqslant i \leqslant n} \prod_{j \neq i} \frac{1-x_{i} x_{j}}{x_{i}-x_{j}}= \begin{cases}0, & \text { if } n \text { is even } \\ 1, & \text { if } n \text { is odd }\end{cases}
$$",2,"Let $x_1, \ldots, x_n$ be distinct real numbers and let $S_n = \sum_{1 \leqslant i \leqslant n} \prod_{j \neq i} \frac{1-x_{i} x_{j}}{x_{i}-x_{j}}$. By considering the Lagrange interpolation of the polynomial $f(t) = \prod_{k=1}^{n}(1-x_k t)$ at the nodes $x_1, \ldots, x_n, 1, -1$, prove that $S_n = \frac{1}{2} + \frac{(-1)^{n+1}}{2}$.","Let $f(t) = \prod_{k=1}^{n}(1-x_k t)$. Since $f(t)$ is a polynomial of degree $n$, the coefficient of $t^{n+1}$ in its unique Lagrange interpolation polynomial passing through the $n+2$ distinct points $(x_i, f(x_i))$ for $i=1,\dots,n$, $(1, f(1))$, and $(-1, f(-1))$ must be zero. This coefficient is given by the sum of the leading coefficients of each term in the Lagrange formula:\n$0 = \sum_{i=1}^{n} \frac{f(x_i)}{(x_i^2-1)\prod_{j \neq i}(x_i-x_j)} + \frac{f(1)}{2\prod_{j=1}^{n}(1-x_j)} + \frac{f(-1)}{-2\prod_{j=1}^{n}(-1-x_j)}$.\nWe substitute $f(x_i) = (1-x_i^2)\prod_{j \neq i}(1-x_ix_j)$, $f(1) = \prod_{j=1}^{n}(1-x_j)$, and $f(-1) = \prod_{j=1}^{n}(1+x_j)$.\nThe equation becomes $0 = \sum_{i=1}^{n} \frac{-(1-x_i^2)\prod_{j \neq i}(1-x_ix_j)}{(1-x_i^2)\prod_{j \neq i}(x_i-x_j)} + \frac{1}{2} + \frac{\prod_{j=1}^{n}(1+x_j)}{-2(-1)^n\prod_{j=1}^{n}(1+x_j)}$.\nThis simplifies to $0 = -S_n + \frac{1}{2} + \frac{1}{-2(-1)^n} = -S_n + \frac{1}{2} + \frac{(-1)^{n+1}}{2}$.\nTherefore, $S_n = \frac{1}{2} + \frac{(-1)^{n+1}}{2}$.","Let $x_{1}, x_{2}, \ldots, x_{n}$ be different real numbers. Prove that \n$$ \sum_{1 \leqslant i \leqslant n} \prod_{j \neq i} \frac{1-x_{i} x_{j}}{x_{i}-x_{j}}= \begin{cases}0, & \text { if } n \text { is even } \\ 1, & \text { if } n \text { is odd }\end{cases} $$","Let the sum be $S_n$. From the previous sub-problem, we have the identity $S_n = \frac{1}{2} + \frac{(-1)^{n+1}}{2}$. We examine this based on the parity of $n$.\nCase 1: $n$ is even. Then $n+1$ is odd, so $(-1)^{n+1} = -1$. The sum is $S_n = \frac{1}{2} + \frac{-1}{2} = 0$.\nCase 2: $n$ is odd. Then $n+1$ is even, so $(-1)^{n+1} = 1$. The sum is $S_n = \frac{1}{2} + \frac{1}{2} = 1$.\nThis covers all cases and completes the proof.",,,,
2019a6,"A polynomial $P(x, y, z)$ in three variables with real coefficients satisfies the identities


\begin{equation*}
P(x, y, z)=P(x, y, x y-z)=P(x, z x-y, z)=P(y z-x, y, z) . \tag{*}
\end{equation*}


Prove that there exists a polynomial $F(t)$ in one variable such that

$$
P(x, y, z)=F\left(x^{2}+y^{2}+z^{2}-x y z\right) .
$$",3,"Show that a polynomial $P(x, y, z)$ satisfies the identity $P(x, y, z) = P(x, y, xy-z)$ if and only if it can be expressed as a polynomial in the variables $x, y,$ and $z(xy-z)$.","If $P$ is a polynomial in $x, y,$ and $z(xy-z)$, then $P(x,y,z) = Q(x, y, z(xy-z))$ for some polynomial $Q$. The substitution $z \mapsto xy-z$ yields $Q(x, y, (xy-z)(xy-(xy-z))) = Q(x, y, (xy-z)z) = P(x,y,z)$, so the identity holds. Conversely, assume $P(x, y, z) = P(x, y, xy-z)$. Let $z' = z - xy/2$. The identity becomes $P(x, y, z' + xy/2) = P(x, y, -z' + xy/2)$, which means the polynomial $P_1(x, y, z') = P(x, y, z' + xy/2)$ is an even function of $z'$. Therefore, $P_1$ is a polynomial in $x, y,$ and $(z')^2$. Substituting $z' = z - xy/2$ back, we find that $P(x, y, z)$ is a polynomial in $x, y,$ and $(z - xy/2)^2 = z^2 - xyz + x^2y^2/4 = -z(xy-z) + x^2y^2/4$. As $P$ is a polynomial in $x,y$ and this expression, it must be a polynomial in $x, y,$ and $z(xy-z)$.","Let $P(x, y, z)$ be a polynomial satisfying the three identities $P(x, y, z)=P(x, y, x y-z)$, $P(x, y, z)=P(x, z x-y, z)$, and $P(x, y, z)=P(y z-x, y, z)$. Show that any monomial of the highest total degree in $P(x, y, z)$ must be of the form $\\mu(xyz)^k$ for some constant $\\mu$ and non-negative integer $k$.","Let $x^a y^b z^c$ be a monomial of maximal total degree in $P$. From Sub-problem 1, the identity $P(x, y, z)=P(x, y, x y-z)$ implies $P$ is a polynomial in $x, y,$ and $z(xy-z)$. Expanding $P(x,y,z) = \\sum_{i,j,k} \\mu_{ijk} x^i y^j (z(xy-z))^k$, the highest degree part of $x^i y^j (zxy-z^2)^k$ is $x^{i+k}y^{j+k}z^k$. Thus, for any monomial $x^a y^b z^c$ of maximal degree in $P$, we must have $a \\ge c$ and $b \\ge c$. The other two identities are symmetric. The identity $P(x, y, z)=P(x, z x-y, z)$, by a symmetric argument (swapping roles of $y$ and $z$), implies that for any highest-degree monomial, $a \\ge b$ and $c \\ge b$. Similarly, the third identity $P(x, y, z)=P(y z-x, y, z)$ (swapping $x$ and $z$) implies $b \\ge a$ and $c \\ge a$. Combining all conditions ($a \\ge c, b \\ge c, a \\ge b, c \\ge b, b \\ge a, c \\ge a$) forces $a=b=c$. Therefore, any monomial of the highest total degree must be of the form $\\mu(xyz)^k$.","A polynomial $P(x, y, z)$ in three variables with real coefficients satisfies the identities\n$P(x, y, z)=P(x, y, x y-z)=P(x, z x-y, z)=P(y z-x, y, z)$.\nProve that there exists a polynomial $F(t)$ in one variable such that\n$P(x, y, z)=F\\left(x^{2}+y^{2}+z^{2}-x y z\right)$.","We proceed by induction on the degree of $P$. If $\\deg(P)=0$, $P$ is a constant, so the statement is true. Assume the statement holds for all polynomials satisfying the conditions with degree less than $m > 0$. Let $P$ be such a polynomial with $\\deg(P)=m$. By Sub-problem 2, the highest degree term of $P$ is $\\mu(xyz)^k$ for some $\\mu \neq 0$ and $k \\ge 1$, so $m=3k$. Let $I(x,y,z) = x^2+y^2+z^2-xyz$. This polynomial satisfies the given identities. The highest degree term of $I(x,y,z)^k$ is $(-xyz)^k = (-1)^k(xyz)^k$. Consider the polynomial $P_0(x,y,z) = P(x,y,z) - \\mu(-1)^k I(x,y,z)^k$. $P_0$ also satisfies the given identities. The highest degree term of $P$ is cancelled by the highest degree term of $\\mu(-1)^k I(x,y,z)^k$, so $\\deg(P_0) < m$. By the induction hypothesis, there exists a polynomial $G(t)$ such that $P_0(x,y,z) = G(I(x,y,z))$. Then $P(x,y,z) = G(I(x,y,z)) + \\mu(-1)^k (I(x,y,z))^k$. This is a polynomial in $I(x,y,z)$, so we can define $F(t) = G(t) + \\mu(-1)^k t^k$. This completes the induction.",,
2019a7,"Let $\mathbb{Z}$ be the set of integers. We consider functions $f: \mathbb{Z} \rightarrow \mathbb{Z}$ satisfying

$$
f(f(x+y)+y)=f(f(x)+y)
$$

for all integers $x$ and $y$. For such a function, we say that an integer $v$ is $f$-rare if the set

$$
X_{v}=\{x \in \mathbb{Z}: f(x)=v\}
$$

is finite and nonempty.\\
(a) Prove that there exists such a function $f$ for which there is an $f$-rare integer.\\
(b) Prove that no such function $f$ can have more than one $f$-rare integer.",3,Prove that there exists a function $f: \mathbb{Z} \rightarrow \mathbb{Z}$ satisfying $f(f(x+y)+y)=f(f(x)+y)$ for which there is an $f$-rare integer.,"Let $f(0)=0$ and for $x \neq 0$, let $f(x)$ be the largest power of 2 dividing $2x$. The set $X_0 = \{x \in \mathbb{Z} : f(x)=0\}$ is just $\{0\}$, which is finite and nonempty, so 0 is an $f$-rare integer. To verify the functional equation, note that for any $z \neq 0$, $f(z)$ is an even number. If $y$ is odd, then $f(x+y)+y$ and $f(x)+y$ are both odd (as $f$ maps to evens). The largest power of 2 dividing $2 \times (\text{odd})$ is 2. Thus, $f(f(x+y)+y)=2$ and $f(f(x)+y)=2$. If $y$ is even and $x$ is odd, then $x+y$ is odd. Then $f(x)=2$ and $f(x+y)=2$, so $f(f(x+y)+y)=f(2+y)$ and $f(f(x)+y)=f(2+y)$, making the equation hold. If $x,y$ are both even, the property $f(2z)=2f(z)$ can be used to reduce the problem, and the case $x=y=0$ is trivial.","Let $f$ be a function satisfying the given equation. Let $v$ be an $f$-rare integer, and let $a = \min(X_v)$ and $b = \max(X_v)$. Prove that any $f$-rare integer must be an element of the set $\{a, b\}$.","A simple induction on $k$ shows that $f(f(x+ky)+y)=f(f(x)+y)$ for all integers $x, y, k$. Let $v$ be an $f$-rare integer, $a = \min(X_v)$, and $b = \max(X_v)$. For any $x \in \mathbb{Z}$, substitute $y = a-f(x)$. The equation gives $f(f(x+k(a-f(x))) + a-f(x)) = f(f(x)+a-f(x)) = f(a) = v$. This means $f(x+k(a-f(x))) + a-f(x) \in X_v$. Since $a$ is the minimum of $X_v$, we have $f(x+k(a-f(x))) + a-f(x) \ge a$, which simplifies to $f(x+k(a-f(x))) \ge f(x)$. Similarly, substituting $y=b-f(x)$ shows $f(x+k(b-f(x))) \le f(x)$. Combining these inequalities for the common difference $d=(a-f(x))(b-f(x))$ implies $f(x+kd)=f(x)$ for all $k$. If $f(x) \notin \{a,b\}$, then $d \neq 0$, so $X_{f(x)}$ contains an infinite arithmetic progression and $f(x)$ cannot be $f$-rare. Therefore, any $f$-rare integer must belong to $\{a,b\}$.","Let $f: \mathbb{Z} \rightarrow \mathbb{Z}$ satisfy $f(f(x+y)+y)=f(f(x)+y)$ for all $x, y \in \mathbb{Z}$. An integer $v$ is $f$-rare if $X_v=\{x \in \mathbb{Z}: f(x)=v\}$ is finite and nonempty. (a) Prove that there exists such a function $f$ for which there is an $f$-rare integer. (b) Prove that no such function $f$ can have more than one $f$-rare integer.","Part (a) is proven in Sub-problem 1. For part (b), let $v$ be an f-rare integer. Let $a=\min(X_v)$ and $b=\max(X_v)$. By Sub-problem 2, the set of all f-rare integers, $R$, is a subset of $\{a, b\}$. Let $v' \in R$. Let $a'=\min(X_{v'})$ and $b'=\max(X_{v'})$. By Sub-problem 2 again, $R \subseteq \{a',b'\}$, so $v' \in \{a',b'\}$. This implies $f(v')=v'$, so any f-rare integer is a fixed point of $f$. Suppose there were two distinct f-rare integers $v_1, v_2$. Then $\{v_1, v_2\} \subseteq \{a_1, b_1\}$ where $a_1=\min X_{v_1}, b_1=\max X_{v_1}$. Thus $\{v_1,v_2\}=\{a_1,b_1\}$. Since $a_1, b_1 \in X_{v_1}$, we have $f(a_1)=v_1$ and $f(b_1)=v_1$. This means $f(v_1)=v_1$ and $f(v_2)=v_1$. But since $v_2$ is f-rare, it must be a fixed point, so $f(v_2)=v_2$. This implies $v_1=v_2$, a contradiction. Therefore, at most one f-rare integer can exist.",,
2019c1,"The infinite sequence $a_{0}, a_{1}, a_{2}, \ldots$ of (not necessarily different) integers has the following properties: $0 \leqslant a_{i} \leqslant i$ for all integers $i \geqslant 0$, and

$$
\binom{k}{a_{0}}+\binom{k}{a_{1}}+\cdots+\binom{k}{a_{k}}=2^{k}
$$

for all integers $k \geqslant 0$.\\
Prove that all integers $N \geqslant 0$ occur in the sequence (that is, for all $N \geqslant 0$, there exists $i \geqslant 0$ with $a_{i}=N$ ).",2,"Prove that for any integer $k \ge 0$, the multiset of the first $k+1$ terms of the sequence, $\{a_0, a_1, \ldots, a_k\}$, is the union of the multisets $\{0, 1, \ldots, \ell-1\}$ and $\{0, 1, \ldots, k-\ell\}$ for some integer $\ell$ satisfying $0 \le 2\ell \le k+1$.","We proceed by induction on $k$. For $k=0$, the given equation $\binom{0}{a_0} = 2^0 = 1$ implies $a_0=0$. This matches the claimed form with $\ell=0$. Assume the statement holds for $k=m$. Then the multiset $\{a_0, \dots, a_m\}$ is $\{0, \dots, \ell-1\} \cup \{0, \dots, m-\ell\}$ for some $\ell$ with $2\ell \le m+1$. For $k=m+1$, the equation is $\sum_{i=0}^{m+1} \binom{m+1}{a_i} = 2^{m+1}$. Using the inductive hypothesis, this becomes $\sum_{j=0}^{\ell-1}\binom{m+1}{j} + \sum_{j=0}^{m-\ell}\binom{m+1}{j} + \binom{m+1}{a_{m+1}} = 2^{m+1}$. Using the identity $\binom{n}{j}=\binom{n}{n-j}$ and comparing with the binomial expansion $\sum_{j=0}^{m+1}\binom{m+1}{j} = 2^{m+1}$, we deduce that $\binom{m+1}{a_{m+1}} = \binom{m+1}{\ell}$. Since $0 \le a_{m+1} \le m+1$, this implies $a_{m+1}=\ell$ or $a_{m+1}=m+1-\ell$. In either case, the new multiset $\{a_0, \ldots, a_{m+1}\}$ is again of the claimed form for $k=m+1$, which completes the induction.","Prove that all integers $N \ge 0$ occur in the sequence (that is, for all $N \ge 0$, there exists $i \ge 0$ with $a_{i}=N$).","From the first sub-problem, for any $k \ge 0$, the multiset $\{a_0, \ldots, a_k\}$ is the union of $\{0, \ldots, \ell-1\}$ and $\{0, \ldots, k-\ell\}$ for some integer $\ell$ with $2\ell \le k+1$. Let $N \ge 0$ be any integer. Consider the multiset of terms for $k=2N$. This multiset is $\{a_0, \ldots, a_{2N}\} = \{0, \ldots, \ell-1\} \cup \{0, \ldots, 2N-\ell\}$ for some $\ell$ satisfying $2\ell \le 2N+1$. An integer $N$ is in this multiset if either $N \le \ell-1$ (which means $\ell \ge N+1$) or $N \le 2N-\ell$ (which means $\ell \le N$). Since for any integer $\ell$, it must be that either $\ell \le N$ or $\ell \ge N+1$, $N$ is guaranteed to be in the multiset $\{a_0, \ldots, a_{2N}\}$. Therefore, for any $N \ge 0$, there exists an index $i \le 2N$ such that $a_i = N$.",,,,
2019c2,"You are given a set of $n$ blocks, each weighing at least 1 ; their total weight is $2 n$. Prove that for every real number $r$ with $0 \leqslant r \leqslant 2 n-2$ you can choose a subset of the blocks whose total weight is at least $r$ but at most $r+2$.",2,"Prove the following generalized statement: Given $n$ blocks, each of weight at least 1, and of total weight $s \\le 2n$. Then for every real number $r$ with $-2 \\le r \\le s$, you can choose a subset of the blocks whose total weight is at least $r$ but at most $r+2$.","We prove the claim by induction on $n$. The base case $n=1$ is trivial, as the possible subset sums (0 and $s$, where $s \le 2$) cover the interval $[-2, s]$ for the property. For the inductive step, assume the claim holds for $n-1$. Given $n$ blocks of total weight $s \le 2n$, let $x$ be the largest weight. The other $n-1$ blocks have total weight $s-x$. Since $x$ is at least the average weight $s/n$, we have $s-x \le s(n-1)/n \le 2n(n-1)/n = 2(n-1)$. By the inductive hypothesis, for any $r' \in [-2, s-x]$, there is a subset of these $n-1$ blocks with weight in $[r', r'+2]$. This satisfies the claim for $r \in [-2, s-x]$. By adding the block of weight $x$ to these subsets, we can form sums satisfying the claim for any $r \in [x-2, s]$. The union of these two intervals, $[-2, s-x] \cup [x-2, s]$, covers the entire interval $[-2, s]$ provided that $s-x \ge x-2$, or $2x \le s+2$. Since the other $n-1$ blocks each weigh at least 1, their total weight is at least $n-1$, so $s-x \ge n-1$, which implies $x \le s-n+1$. Then $2x \le 2(s-n+1) = 2s-2n+2$. Since $s \le 2n$, $2s-2n+2 \le s+2$. Thus $2x \le s+2$ holds, completing the induction.","You are given a set of $n$ blocks, each weighing at least 1; their total weight is $2n$. Prove that for every real number $r$ with $0 \le r \le 2n-2$ you can choose a subset of the blocks whose total weight is at least $r$ but at most $r+2$.","This problem is a specific case of the generalized statement proven in the previous sub-problem. We are given $n$ blocks, each with weight at least 1, and a total weight $s = 2n$. These conditions satisfy the premises of the proven statement (with $s \le 2n$). Therefore, we can apply its conclusion: for every real number $r$ with $-2 \le r \le 2n$, there exists a subset of blocks whose total weight is in the interval $[r, r+2]$. The range specified in this problem, $0 \le r \le 2n-2$, is a sub-interval of $[-2, 2n]$. Consequently, the statement holds for the required range of $r$.",,,,
2019c5,"On a certain social network, there are 2019 users, some pairs of which are friends, where friendship is a symmetric relation. Initially, there are 1010 people with 1009 friends each and 1009 people with 1010 friends each. However, the friendships are rather unstable, so events of the following kind may happen repeatedly, one at a time:

Let $A, B$, and $C$ be people such that $A$ is friends with both $B$ and $C$, but $B$ and $C$ are not friends; then $B$ and $C$ become friends, but $A$ is no longer friends with them.

Prove that, regardless of the initial friendships, there exists a sequence of such events after which each user is friends with at most one other user.\\
(Croatia)",4,Show that each 'refriending' operation reduces the total number of edges by one and preserves the parity of every vertex's degree.,"A refriending operation involves a vertex A and two of its non-adjacent neighbors, B and C. The edges AB and AC are removed, and edge BC is added. The net change in the number of edges is -2 + 1 = -1. The degree of A decreases by 2. The degrees of B and C are unchanged, as they each lose neighbor A and gain a new neighbor (the other vertex). All other degrees are unchanged. Since all degree changes are even (by -2 or 0), the parity of every vertex's degree is preserved.",Let P be the property that 'every connected component with at least three vertices is not a complete graph and contains at least one vertex of odd degree'. Show that the initial graph satisfies property P.,"The initial graph has 2019 vertices. Any two vertices u, v have deg(u)+deg(v) >= 1009+1009 = 2018. Since there are only 2017 other vertices, they must share a common neighbor, hence the graph is connected. This single component is not complete, as all degrees would have to be 2018. The initial configuration has 1010 vertices of degree 1009, which is odd. Thus, the initial graph satisfies property P.","Prove that if a graph G satisfies property P and has a vertex with degree at least 2, a refriending operation can be chosen that results in a new graph G' which also satisfies property P.","If a graph G satisfying P has a vertex A with degree 鈮?2, its component is not complete. Thus, A must have two non-adjacent neighbors, B and C. Performing the refriending on (A, B, C) preserves the degree parity of all vertices. If the graph remains connected, P holds as the graph is still not complete (fewer edges) and odd-degree vertices persist. If the graph splits, a case analysis shows that any new component with at least 3 vertices is also not complete and inherits vertices of odd degree from the original component. Thus, property P is preserved.","Prove that, regardless of the initial friendships, there exists a sequence of such events after which each user is friends with at most one other user.","The process of refriending must terminate, as the number of edges decreases with each step (Sub-problem 1). The initial graph satisfies property P (Sub-problem 2), and this property is preserved at every step (Sub-problem 3). A state is terminal when no more operations are possible. An operation is possible if there is a vertex with degree at least 2. Property P ensures that any component containing such a vertex is not complete, guaranteeing that a valid refriending can be found. Therefore, the process can only terminate when no vertex has a degree of 2 or more, meaning the maximum degree in the graph is at most 1."
2019c6,"Let $n>1$ be an integer. Suppose we are given $2 n$ points in a plane such that no three of them are collinear. The points are to be labelled $A_{1}, A_{2}, \ldots, A_{2 n}$ in some order. We then consider the $2 n$ angles $\angle A_{1} A_{2} A_{3}, \angle A_{2} A_{3} A_{4}, \ldots, \angle A_{2 n-2} A_{2 n-1} A_{2 n}, \angle A_{2 n-1} A_{2 n} A_{1}$, $\angle A_{2 n} A_{1} A_{2}$. We measure each angle in the way that gives the smallest positive value (i.e. between $0^{\circ}$ and $180^{\circ}$ ). Prove that there exists an ordering of the given points such that the resulting $2 n$ angles can be separated into two groups with the sum of one group of angles equal to the sum of the other group.",2,"Let $2n$ points in a plane be given, with no three collinear. Show that there exists an ordering of the points, $A_1, A_2, \ldots, A_{2n}$, such that the sum of the signed angles of rotation from each segment $A_{i-1}A_i$ to the next $A_iA_{i+1}$ (indices mod $2n$) is zero.","Let a line $\ell$ separate the points into two groups of $n$. Label points in one group with odd indices $A_1, A_3, \ldots, A_{2n-1}$ and the other with even indices. Consider a line $s$ that traces the path $A_1A_2\dots A_{2n}A_1$ by rotating at each vertex. The total directed rotation of $s$ after returning to its original orientation must be a multiple of $180^\circ$. Since for any $i$, $A_i$ and $A_{i+1}$ are on opposite sides of $\ell$, the segment $A_iA_{i+1}$ is never parallel to $\ell$. We can choose the rotation path at each vertex such that the rotating line is never parallel to $\ell$. This is only possible if the total rotation is exactly $0$.","Let $n>1$ be an integer. Suppose we are given $2 n$ points in a plane such that no three of them are collinear. The points are to be labelled $A_{1}, A_{2}, \ldots, A_{2 n}$ in some order. We then consider the $2 n$ angles $\\angle A_{1} A_{2} A_{3}, \\angle A_{2} A_{3} A_{4}, \ldots, \\angle A_{2 n-2} A_{2 n-1} A_{2 n}, \\angle A_{2 n-1} A_{2 n} A_{1}$, $\\angle A_{2 n} A_{1} A_{2}$. We measure each angle in the way that gives the smallest positive value (i.e. between $0^{\\circ}$ and $180^{\\circ}$ ). Prove that there exists an ordering of the given points such that the resulting $2 n$ angles can be separated into two groups with the sum of one group of angles equal to the sum of the other group.","From the previous step, there exists an ordering $A_1, \ldots, A_{2n}$ where the sum of the signed rotation angles is zero. Let $\alpha_i = \angle A_{i-1}A_iA_{i+1}$ be the angle at vertex $A_i$, a positive value less than $180^\circ$. The signed rotation angle at $A_i$ is either $+\alpha_i$ or $-\alpha_i$. Let $P$ be the set of indices where the rotation is positive and $N$ be the set where it is negative. The zero-sum condition means $\sum_{i \in P} \alpha_i + \sum_{i \in N} (-\alpha_i) = 0$. This implies $\sum_{i \in P} \alpha_i = \sum_{i \in N} \alpha_i$. Thus, the set of $2n$ angles $\{\alpha_1, \ldots, \alpha_{2n}\}$ is separated into two groups, corresponding to the sets $P$ and $N$, with equal sums.",,,,
2019c8,"Alice has a map of Wonderland, a country consisting of $n \geqslant 2$ towns. For every pair of towns, there is a narrow road going from one town to the other. One day, all the roads are declared to be ""one way"" only. Alice has no information on the direction of the roads, but the King of Hearts has offered to help her. She is allowed to ask him a number of questions. For each question in turn, Alice chooses a pair of towns and the King of Hearts tells her the direction of the road connecting those two towns.

Alice wants to know whether there is at least one town in Wonderland with at most one outgoing road. Prove that she can always find out by asking at most $4 n$ questions.",4,"Show that Alice can, in $n-1$ questions, identify a town $T$ with no known outgoing roads, while every other town is known to have exactly one outgoing road.","Alice picks two towns $A, B$ and learns the direction, say $A \to B$. $B$ is the initial candidate town. For each of the remaining $n-2$ towns $X$, she queries the road between the current candidate and $X$. If the road is from the candidate to $X$, then $X$ becomes the new candidate. After $1 + (n-2) = n-1$ questions, one town $T$ remains with no known outgoing roads, and all other $n-1$ towns have one known outgoing road.","After identifying town $T$, describe a procedure to check if $T$ has at most one outgoing road. If not, characterize the state of knowledge and the set of remaining candidate towns, $S$.","Alice queries the unknown roads from $T$. If after at most $n-2$ such queries she does not find a second outgoing road, the answer is ""yes"" and the total questions are at most $(n-1) + (n-2) = 2n-3$. If she finds a second outgoing road after $k$ questions in this phase ($2 \le k \le n-2$), $T$ is eliminated from the set of candidates $S$. Any town $X$ for which she learned $X \to T$ is also eliminated from $S$. Thus, $|S|$ becomes $n-k+1$ after a total of $n-1+k$ questions.","Starting from the state where the initial candidate $T$ has been eliminated, describe an efficient procedure to reduce the set of candidate towns $S$ to a size of at most 2.","Initially, every town in the candidate set $S$ has one known outgoing road. Alice repeatedly queries the road between any two towns $U, V \in S$ not yet queried. The direction determines which of $U$ or $V$ now has a second known outgoing road, and that town is removed from $S$. This process reduces $|S|$ by one town per question, until $|S| \le 2$.",Alice wants to know whether there is at least one town in Wonderland with at most one outgoing road. Prove that she can always find out by asking at most $4n$ questions.,"If the first candidate town $T$ has at most one outgoing road, the process stops with at most $2n-3$ questions. Otherwise, after $n-1+k$ questions, we have a set $S$ of $n-k+1$ candidates. It takes $(n-k+1)-t$ more questions to reduce $|S|$ to $t \in \{1,2\}$, for a total of $2n-t$ questions. Finally, all remaining unknown roads for these $t$ towns are queried. This takes at most $t(n-t)-1$ additional questions. For $t=1$, the total is $\le (2n-1)+(n-2) = 3n-3$. For $t=2$, the total is $\le (2n-2)+(2(n-2)-1) = 4n-7$. Both totals are less than $4n$ for $n \ge 2$."
2019g1,"Let $A B C$ be a triangle. Circle $\Gamma$ passes through $A$, meets segments $A B$ and $A C$ again at points $D$ and $E$ respectively, and intersects segment $B C$ at $F$ and $G$ such that $F$ lies between $B$ and $G$. The tangent to circle $B D F$ at $F$ and the tangent to circle $C E G$ at $G$ meet at point $T$. Suppose that points $A$ and $T$ are distinct. Prove that line $A T$ is parallel to $B C$.",2,Let all points and circles be defined as in the original problem. Prove the angle equalities $\angle TFG = \angle FGA$ and $\angle TGF = \angle GFA$.,"By the tangent-chord theorem on circle $BDF$ at point $F$, we have $\angle TFB = \angle FDB$. Since points $A, D, F, G$ lie on circle $\Gamma$ and $A,D,B$ are collinear, the exterior angle $\angle FDB$ of the cyclic quadrilateral $ADFG$ is equal to the interior opposite angle $\angle FGA$. As $F$ lies on $BC$, $\angle TFB = \angle TFG$. Therefore, $\angle TFG = \angle FGA$. Similarly, by the tangent-chord theorem on circle $CEG$ at point $G$, $\angle TGC = \angle GEC$. Since points $A, E, G, F$ lie on circle $\Gamma$ and $A,E,C$ are collinear, the exterior angle $\angle GEC$ of the cyclic quadrilateral $AEGF$ is equal to the interior opposite angle $\angle GFA$. As $G$ lies on $BC$, $\angle TGC = \angle TGF$. Therefore, $\angle TGF = \angle GFA$.","Let $A B C$ be a triangle. Circle $\Gamma$ passes through $A$, meets segments $A B$ and $A C$ again at points $D$ and $E$ respectively, and intersects segment $B C$ at $F$ and $G$ such that $F$ lies between $B$ and $G$. The tangent to circle $B D F$ at $F$ and the tangent to circle $C E G$ at $G$ meet at point $T$. Suppose that points $A$ and $T$ are distinct. Prove that line $A T$ is parallel to $B C$.","Consider triangles $\triangle FGA$ and $\triangle GFT$. They share the common side $FG$. From the first sub-problem, we have the angle equalities $\angle GFT = \angle FGA$ and $\angle TGF = \angle GFA$. By the Angle-Side-Angle (ASA) congruence criterion, $\triangle FGA \cong \triangle GFT$. This congruence implies that the altitudes from corresponding vertices $A$ and $T$ to the line containing their common base $FG$ (which is line $BC$) are equal. Since $A$ and $T$ are distinct points, and they are equidistant from the line $BC$, the line $AT$ must be parallel to $BC$.",,,,
2019g2,"Let $A B C$ be an acute-angled triangle and let $D, E$, and $F$ be the feet of altitudes from $A, B$, and $C$ to sides $B C, C A$, and $A B$, respectively. Denote by $\omega_{B}$ and $\omega_{C}$ the incircles of triangles $B D F$ and $C D E$, and let these circles be tangent to segments $D F$ and $D E$ at $M$ and $N$, respectively. Let line $M N$ meet circles $\omega_{B}$ and $\omega_{C}$ again at $P \neq M$ and $Q \neq N$, respectively. Prove that $M P=N Q$.",3,"Let $O_B$ and $O_C$ be the centers of circles $\omega_B$ and $\omega_C$, and let their radii be $r_B$ and $r_C$, respectively. Prove that the right-angled triangles $DMO_B$ and $DNO_C$ are similar, and consequently show that $\frac{DN}{DM} = \frac{r_C}{r_B}$.","The quadrilaterals $AFDC$ and $ABDE$ are cyclic, which implies $\angle FDB = \angle BAC$ and $\angle CDE = \angle BAC$. Since $O_B$ and $O_C$ are incenters of $\triangle BDF$ and $\triangle CDE$, the lines $DO_B$ and $DO_C$ bisect angles $\angle FDB$ and $\angle CDE$ respectively. Therefore, $\angle MDO_B = \frac{1}{2}\angle FDB = \frac{1}{2}\angle BAC = \frac{1}{2}\angle CDE = \angle NDO_C$. The triangles $DMO_B$ and $DNO_C$ are right-angled at $M$ and $N$ respectively, as a radius is perpendicular to the tangent at the point of tangency. Since they have an equal acute angle, they are similar ($\triangle DMO_B \sim \triangle DNO_C$). The ratio of corresponding sides gives $\frac{DN}{DM} = \frac{O_C N}{O_B M} = \frac{r_C}{r_B}$.","Let $\varphi = \angle DMN$ and $\psi = \angle MND$. Express the lengths of the chords $MP$ and $NQ$ in terms of the radii $r_B, r_C$ and the angles $\varphi, \psi$.","In circle $\omega_B$, by the Alternate Segment Theorem, the angle subtended by the chord $MP$ at any point on the circumference is equal to the angle between the tangent $DF$ and the chord $MP$, which is $\angle DMN = \varphi$. The length of a chord in a circle is twice the radius times the sine of the angle it subtends at the circumference. Thus, $MP = 2r_B \sin \varphi$. Similarly, in circle $\omega_C$, the angle subtended by chord $NQ$ at the circumference is equal to the angle between the tangent $DE$ and the chord $NQ$, which is $\angle MND = \psi$. Therefore, $NQ = 2r_C \sin \psi$.",Prove that $MP=NQ$.,"From Sub-problem 2, we have $MP = 2r_B \sin \varphi$ and $NQ = 2r_C \sin \psi$. Taking their ratio gives $\frac{MP}{NQ} = \frac{r_B}{r_C} \frac{\sin \varphi}{\sin \psi}$. From Sub-problem 1, we established that $\frac{r_C}{r_B} = \frac{DN}{DM}$, which implies $\frac{r_B}{r_C} = \frac{DM}{DN}$. Applying the Law of Sines to triangle $DMN$, we have $\frac{DN}{DM} = \frac{\sin \varphi}{\sin \psi}$. Combining these relations, we get $\frac{MP}{NQ} = \frac{DM}{DN} \frac{\sin \varphi}{\sin \psi} = \frac{\sin \psi}{\sin \varphi} \frac{\sin \varphi}{\sin \psi} = 1$. Thus, $MP=NQ$.",,
2019g3,"In triangle $A B C$, let $A_{1}$ and $B_{1}$ be two points on sides $B C$ and $A C$, and let $P$ and $Q$ be two points on segments $A A_{1}$ and $B B_{1}$, respectively, so that line $P Q$ is parallel to $A B$. On ray $P B_{1}$, beyond $B_{1}$, let $P_{1}$ be a point so that $\angle P P_{1} C=\angle B A C$. Similarly, on ray $Q A_{1}$, beyond $A_{1}$, let $Q_{1}$ be a point so that $\angle C Q_{1} Q=\angle C B A$. Show that points $P, Q, P_{1}$, and $Q_{1}$ are concyclic.",2,"Let rays $A A_{1}$ and $B B_{1}$ intersect the circumcircle of $\triangle A B C$ at $A_{2}$ and $B_{2}$, respectively. Show that points $P, Q, A_{2}, B_{2}$ are concyclic.","Using oriented angles, the condition $PQ \parallel AB$ implies $\angle Q P A_{2}=\angle B A A_{2}$. Since $A, B, A_2, B_2$ lie on the circumcircle of $\triangle ABC$, we have $\angle B A A_{2}=\angle B B_{2} A_{2}$. Combining these, we get $\angle Q P A_{2}=\angle B B_{2} A_{2} = \angle Q B_{2} A_{2}$. This equality of angles implies that the points $P, Q, A_{2}, B_{2}$ are concyclic.","Show that points $P, Q, P_{1}$, and $Q_{1}$ are concyclic.","Let $\omega$ be the circle passing through $P, Q, A_2, B_2$. We are given $\angle C Q_{1} Q = \angle C B A$. On the circumcircle of $\triangle ABC$, $\angle C B A = \angle C A_2 A$. Therefore, $\angle C Q_{1} A_{1} = \angle C A_{2} A_{1}$, which implies $C, Q_{1}, A_{2}, A_{1}$ are concyclic. From this concyclicity, $\angle Q Q_{1} A_{2} = \angle A_{1} Q_{1} A_{2} = \angle A_{1} C A_{2} = \angle B C A_{2} = \angle B A A_{2}$. Since $PQ \parallel AB$, $\angle B A A_{2} = \angle Q P A_{2}$. Thus, $\angle Q Q_{1} A_{2} = \angle Q P A_{2}$, which proves that $Q_1$ lies on $\omega$. A symmetric argument shows that $P_1$ also lies on $\omega$. Since $P, Q, P_1, Q_1$ all lie on $\omega$, they are concyclic.",,,,
2019g4,"Let $P$ be a point inside triangle $A B C$. Let $A P$ meet $B C$ at $A_{1}$, let $B P$ meet $C A$ at $B_{1}$, and let $C P$ meet $A B$ at $C_{1}$. Let $A_{2}$ be the point such that $A_{1}$ is the midpoint of $P A_{2}$, let $B_{2}$ be the point such that $B_{1}$ is the midpoint of $P B_{2}$, and let $C_{2}$ be the point such that $C_{1}$ is the midpoint of $P C_{2}$. Prove that points $A_{2}, B_{2}$, and $C_{2}$ cannot all lie strictly inside the circumcircle of triangle $A B C$.",3,"Let $P$ be a point inside triangle $A B C$. Prove that at least one of $\angle B P C \ge \pi - \angle B A C$, $\angle C P A \ge \pi - \angle C B A$, $\angle A P B \ge \pi - \angle A C B$ must hold, and therefore at least one of $\sin \angle BPC \le \sin \angle BAC$, $\sin \angle CPA \le \sin \angle CBA$, $\sin \angle APB \le \sin \angle ACB$ must hold.","The sum of the angles around point $P$ is $\angle APB + \angle BPC + \angle CPA = 2\pi$. The sum of the angles in triangle $ABC$ is $\angle BAC + \angle CBA + \angle ACB = \pi$, which implies $(\pi - \angle BAC) + (\pi - \angle CBA) + (\pi - \angle ACB) = 2\pi$. If all three inequalities were false, for example $\angle BPC < \pi - \angle BAC$, summing them would lead to $2\pi < 2\pi$, a contradiction. Thus, at least one inequality must hold. Without loss of generality, assume $\angle BPC \ge \pi - \angle BAC$. Since $P$ is inside $\triangle ABC$, we have $\angle BPC > \angle BAC$. Therefore, $\angle BPC$ is in the interval whose sine is smaller or equal to $\sin(\angle BAC)$, so $\sin\angle BPC \le \sin\angle BAC$.","Let the rays $B P$ and $C P$ intersect the circumcircle $\Omega$ of $\triangle ABC$ at $B_3$ and $C_3$, respectively. Assuming that $\sin \angle B P C \leqslant \sin \angle B A C$, prove that the product of ratios $\frac{P B_{1}}{B_{1} B_{3}} \cdot \frac{P C_{1}}{C_{1} C_{3}} \geqslant 1$.","By considering angles subtended by the same arc $BB_3$ and vertical angles at $B_1$, we find that triangles $C B_{1} B_{3}$ and $B B_{1} A$ are similar. This implies $\frac{C B_{1}}{B_{1} B_{3}}=\frac{B B_{1}}{B_{1} A}$. Using this and the Law of Sines, we derive the ratio $\frac{P B_{1}}{B_{1} B_{3}} = \frac{P B_{1}}{C B_{1}} \cdot \frac{C B_{1}}{B_{1} B_{3}} = \frac{P B_{1}}{C B_{1}} \cdot \frac{B B_{1}}{B_{1} A} = \frac{\sin \angle A C P}{\sin \angle B P C} \cdot \frac{\sin \angle B A C}{\sin \angle P B A}$. By symmetry, swapping $B$ and $C$, we find $\frac{P C_{1}}{C_{1} C_{3}}=\frac{\sin \angle P B A}{\sin \angle B P C} \cdot \frac{\sin \angle B A C}{\sin \angle A C P}$. Multiplying these two expressions, terms cancel to give $\frac{\sin ^{2} \angle B A C}{\sin ^{2} \angle B P C}$. From the hypothesis $\sin \angle B P C \leqslant \sin \angle B A C$, it follows that the product is greater than or equal to 1.","Let $P$ be a point inside triangle $A B C$. Let $A P$ meet $B C$ at $A_{1}$, let $B P$ meet $C A$ at $B_{1}$, and let $C P$ meet $A B$ at $C_{1}$. Let $A_{2}$ be the point such that $A_{1}$ is the midpoint of $P A_{2}$, let $B_{2}$ be the point such that $B_{1}$ is the midpoint of $P B_{2}$, and let $C_{2}$ be the point such that $C_{1}$ is the midpoint of $P C_{2}$. Prove that points $A_{2}, B_{2}$, and $C_{2}$ cannot all lie strictly inside the circumcircle of triangle $A B C$.","Let $\Omega$ be the circumcircle of $\triangle ABC$. A point $X_2$, where $X_1$ is the midpoint of $PX_2$, lies strictly inside $\Omega$ if and only if $PX_2 < PX_3$, where $X_3$ is the other intersection of line $PX_1$ with $\Omega$. This condition is equivalent to $2PX_1 < PX_1 + X_1X_3$, which simplifies to $\frac{PX_1}{X_1X_3} < 1$. If all $A_2, B_2, C_2$ were strictly inside $\Omega$, their corresponding ratios must all be less than 1. From sub-problem 1, we can assume without loss of generality that $\sin \angle BPC \le \sin \angle BAC$. Sub-problem 2 then shows that $\frac{P B_{1}}{B_{1} B_{3}} \cdot \frac{P C_{1}}{C_{1} C_{3}} \ge 1$. This implies it is impossible for both $\frac{PB_1}{B_1B_3} < 1$ and $\frac{PC_1}{C_1C_3} < 1$ to hold simultaneously. Thus, at least one of $B_2$ or $C_2$ cannot lie strictly inside the circumcircle, proving the statement.",,
2019g5,Let $A B C D E$ be a convex pentagon with $C D=D E$ and $\angle E D C \neq 2 \cdot \angle A D B$. Suppose that a point $P$ is located in the interior of the pentagon such that $A P=A E$ and $B P=B C$. Prove that $P$ lies on the diagonal $C E$ if and only if area $(B C D)+\operatorname{area}(A D E)=$ $\operatorname{area}(A B D)+\operatorname{area}(A B P)$.,4,"Let $P'$ be the reflection of $P$ across line $AB$, and let $M$ and $N$ be the midpoints of $P'E$ and $P'C$ respectively. Given that $AP=AE$ and $BP=BC$, prove that point $P$ lies on the line segment $CE$ if and only if the right-angled triangles $\triangle AP'M$ and $\triangle BP'N$ are directly similar.","Let $F$ be the midpoint of $PP'$. $P$ lies on $CE$ if and only if $F$ lies on the segment $MN$. This is equivalent to the equality of signed angles $\angle AFM = \angle BFN$. Since $A$ is on the perpendicular bisector of $P'E$, $\triangle AP'M$ is a right triangle, and $A, P', F, M$ are concyclic on the circle with diameter $AP'$. Similarly, $B, F, P', N$ are concyclic. Thus, $\angle AFM = \angle AP'M$ and $\angle BFN = \angle BP'N$. The collinearity condition is therefore equivalent to $\angle AP'M = \angle BP'N$, which for the right-angled triangles $\triangle AP'M$ and $\triangle BP'N$ implies direct similarity.","Using the construction from the previous sub-problem, show that the condition $\operatorname{area}(B C D)+\operatorname{area}(A D E)=\operatorname{area}(A B D)+\operatorname{area}(A B P)$ is equivalent to $\operatorname{area}(D A M)=\operatorname{area}(D B N)$.","Using signed areas, the area condition is $\operatorname{area}(ADE) + \operatorname{area}(BCD) = \operatorname{area}(ABD) + \operatorname{area}(ABP)$. Since $\operatorname{area}(ABP) = \operatorname{area}(AP'B)$, the right side is $\operatorname{area}(ABD) + \operatorname{area}(AP'B) = \operatorname{area}(AP'BD) = \operatorname{area}(AP'D) + \operatorname{area}(BDP')$. The condition becomes $\operatorname{area}(ADE) - \operatorname{area}(AP'D) = \operatorname{area}(BDP') - \operatorname{area}(BCD)$. This is equivalent to $\operatorname{area}(ADE) + \operatorname{area}(ADP') = \operatorname{area}(BDP') + \operatorname{area}(BDC)$. Since $M$ and $N$ are midpoints of $P'E$ and $P'C$, we have $2\operatorname{area}(ADM) = 2\operatorname{area}(BDN)$, which simplifies to $\operatorname{area}(DAM) = \operatorname{area}(DBN)$.",Show that the condition $\operatorname{area}(D A M)=\operatorname{area}(D B N)$ is equivalent to the direct similarity of the right-angled triangles $\triangle AP'M$ and $\triangle BP'N$.,"Let $G$ and $H$ be the feet of the perpendiculars from $D$ to lines $AM$ and $BN$. The area condition is equivalent to $MA \cdot GD = NB \cdot HD$, using signed lengths. Let $\Gamma$ be the circle centered at $D$ through $E$ and $C$, and let $h$ be the power of $P'$ with respect to $\Gamma$. It can be shown that $GD \cdot P'M = h/4$ and $HD \cdot P'N = h/4$. The condition $\angle EDC \neq 2\angle ADB$ ensures $h \neq 0$. Substituting this into the area equality gives $MA \cdot (h/4P'M) = NB \cdot (h/4P'N)$, which simplifies to the ratio equality $MA/P'M = NB/P'N$. For the right-angled triangles $\triangle AP'M$ and $\triangle BP'N$, this equality of the ratio of legs implies they are directly similar.",Let $A B C D E$ be a convex pentagon with $C D=D E$ and $\angle E D C \neq 2 \cdot \angle A D B$. Suppose that a point $P$ is located in the interior of the pentagon such that $A P=A E$ and $B P=B C$. Prove that $P$ lies on the diagonal $C E$ if and only if area $(B C D)+\operatorname{area}(A D E)=$ $\operatorname{area}(A B D)+\operatorname{area}(A B P)$.,"Let $P'$ be the reflection of $P$ across $AB$, and let $M$ and $N$ be the midpoints of $P'E$ and $P'C$. From Sub-problem 1, P lies on CE if and only if $\triangle AP'M$ and $\triangle BP'N$ are directly similar. From Sub-problems 2 and 3, the condition $\operatorname{area}(BCD)+\operatorname{area}(ADE)=\operatorname{area}(ABD)+\operatorname{area}(ABP)$ is also equivalent to the direct similarity of $\triangle AP'M$ and $\triangle BP'N$. Since both the collinearity condition and the area condition are equivalent to the same third condition, they are equivalent to each other."
2019g7,"The incircle $\omega$ of acute-angled scalene triangle $A B C$ has centre $I$ and meets sides $B C$, $C A$, and $A B$ at $D, E$, and $F$, respectively. The line through $D$ perpendicular to $E F$ meets $\omega$ again at $R$. Line $A R$ meets $\omega$ again at $P$. The circumcircles of triangles $P C E$ and $P B F$ meet again at $Q \neq P$. Prove that lines $D I$ and $P Q$ meet on the external bisector of angle $B A C$.\\",3,"Let $N$ be the midpoint of $EF$, $K$ be the point on the incircle $\omega$ diametrically opposite to $D$, and $S$ be the second point of intersection of line $DN$ and $\omega$. Let $L$ be the intersection of line $DI$ with the external angle bisector of $\\angle BAC$. Show that $L, P, S$ are collinear, thereby reducing the problem to proving that $P, Q, S$ are collinear.","The external bisector of $\\angle BAC$ is the line through $A$ perpendicular to $AI$. Let this line be $l_A$. The midpoint $N$ of $EF$ lies on $AI$. The polar of $N$ with respect to $\\omega$ is $l_A$. It is a known property of this configuration that points $P, N, K$ are collinear. Consider the quadrilateral $DKSP$ inscribed in $\\omega$. Its diagonals $DS$ and $KP$ intersect at $N$. By the properties of a complete quadrilateral, the intersection of opposite sides $(DK, SP)$ must lie on the polar of $N$, which is $l_A$. The point $L$ lies on line $DK$ (since $D, I, K$ are collinear) and on $l_A$ by definition. Therefore, $L$ is the intersection of $DK$ and $SP$. This implies $L, P, S$ are collinear. The original problem asks to prove that $L, P, Q$ are collinear, which is now equivalent to proving that $S, P, Q$ are collinear.",Let $\\Gamma$ be the circumcircle of triangle $BIC$. Prove that the point $Q$ (the second intersection of the circumcircles of $\triangle PCE$ and $\triangle PBF$) lies on $\\Gamma$.,"Using directed angles modulo $\\pi$, we have $\\angle(BQ, QC) = \\angle(BQ, QP) + \\angle(QP, QC)$. Since $P,Q,B,F$ are concyclic, $\\angle(BQ, QP) = \\angle(BF, FP)$. Since $P,Q,C,E$ are concyclic, $\\angle(QP, QC) = \\angle(EP, EC)$. Summing these and using properties of tangents to the incircle ($BF=AB$, $CE=CA$ as lines), $\\angle(BQ, QC) = \\angle(AB, FP) + \\angle(EP, AC) = \\angle(EF, EP) + \\angle(FP, EF) = \\angle(FP, EP)$. As $D,E,F,P$ lie on the incircle $\\omega$, $\\angle(FP, EP) = \\angle(FD, ED)$. It is a known property that $\\angle(FD, ED) = \\angle(BI, IC)$. Therefore, $\\angle(BQ, QC) = \\angle(BI, IC)$, which implies that points $B, Q, I, C$ are concyclic. Thus, $Q$ lies on the circumcircle $\\Gamma$ of $\triangle BIC$.",Prove that lines $DI$ and $PQ$ meet on the external bisector of angle $B A C$.,"From Sub-problem 1, this is equivalent to proving that points $S, P, Q$ are collinear. From Sub-problem 2, $Q$ lies on $\\Gamma$, the circumcircle of $\triangle BIC$. Let $T$ be the second intersection of line $PQ$ with $\\Gamma$; the goal is to show $S, P, T$ are collinear. Let $M$ be the midpoint of segment $DN$. $M$ lies on the radical axis of circles $\\omega$ and $\\Gamma$. Thus, the power of $M$ with respect to both circles is equal: $DM \\cdot MS = IM \\cdot MT$. This implies that points $D, S, I, T$ are concyclic. From this concyclicity, $\\angle(DS, ST) = \\angle(DI, IT)$. It can be shown that line $IT$ is parallel to line $PK$. Thus, $\\angle(DI, IT) = \\angle(DK, KP)$. In circle $\\omega$, angles subtended by the same arc $DP$ are equal: $\\angle(DK, KP) = \\angle(DS, SP)$. Therefore, $\\angle(DS, ST) = \\angle(DS, SP)$, which implies that $S, P, T$ are collinear, completing the proof.",,
2019g8,"Let $\mathcal{L}$ be the set of all lines in the plane and let $f$ be a function that assigns to each line $\ell \in \mathcal{L}$ a point $f(\ell)$ on $\ell$. Suppose that for any point $X$, and for any three lines $\ell_{1}, \ell_{2}, \ell_{3}$ passing through $X$, the points $f\left(\ell_{1}\right), f\left(\ell_{2}\right), f\left(\ell_{3}\right)$ and $X$ lie on a circle.

Prove that there is a unique point $P$ such that $f(\ell)=P$ for any line $\ell$ passing through $P$.",4,"Let the function $h_{P, \alpha}(\ell)$ be the intersection of a line $\ell$ with the line through a fixed point $P$ that makes a directed angle $\alpha$ with $\ell$. Show that for a triangle $ABC$ where the vertices and the points $f(AB), f(BC), f(CA)$ are all distinct, there exists a point $P$ and an angle $\alpha$ such that the three sides of the triangle, $\ell_1=AB, \ell_2=BC, \ell_3=CA$, satisfy $f(\ell_i) = h_{P, \alpha}(\ell_i)$.","Let $D=f(BC), E=f(AC), F=f(AB)$. By the problem's condition, there are circles $g(A)$ through $A,E,F$, $g(B)$ through $B,D,F$, and $g(C)$ through $C,D,E$. Let $P$ be the second intersection of $g(A)$ and $g(B)$. By Miquel's theorem, $g(C)$ also passes through $P$. The cyclic quadrilaterals $AEPF$, $BFDP$, $CDPE$ imply the equality of directed angles $\angle(PE, EA) = \angle(PF, FB) = \angle(PD, DC)$. Let this angle be $\alpha$. This means that for each side $\ell$ of the triangle, $f(\ell)$ is the intersection of $\ell$ with a line through $P$ making angle $\alpha$ with $\ell$, i.e., $f(\ell) = h_{P, \alpha}(\ell)$ for $\ell \in \{AB,BC,CA\}$.","Define a line $\ell$ to be $(P, \alpha)$-good if $f(\ell) = h_{P, \alpha}(\ell)$, and a point $X \neq P$ to be $(P, \alpha)$-good if its associated circle $g(X)$ passes through $P$. Show that if three distinct $(P, \alpha)$-good lines intersect at a point $X \neq P$, then $X$ is $(P, \alpha)$-good.","Let $\ell_1, \ell_2, \ell_3$ be three distinct $(P, \alpha)$-good lines intersecting at $X \neq P$. The points $f(\ell_1), f(\ell_2), f(\ell_3)$ and $X$ lie on a circle $g(X)$. Since the lines are good, $f(\ell_i) = h_{P, \alpha}(\ell_i)$, which implies $\angle(P f(\ell_i), f(\ell_i) X) = \alpha$ for each $i$ such that $f(\ell_i) \neq X$. At most one $f(\ell_i)$ can be $X$. For $f(\ell_1), f(\ell_2)$ distinct from $X$, the condition $\angle(P f(\ell_1), f(\ell_1) X) = \angle(P f(\ell_2), f(\ell_2) X) = \alpha$ implies that $P$ must lie on the circle passing through $X, f(\ell_1), f(\ell_2)$, which is $g(X)$. By definition, $X$ is a $(P, \alpha)$-good point.","Prove that there exists a pair $(P, \alpha)$ such that every line in the plane is $(P, \alpha)$-good.","First, a non-degenerate triangle as described in Sub-problem 1 must exist. By considering a large integer grid, we can find a small triangle in a region free of the values of $f$ for the grid lines, guaranteeing the condition. This establishes the existence of a pair $(P, \alpha)$ and a seed of good lines. Using the result of Sub-problem 2, we can show that all points in a local region are good. For any point $S \neq P$, we can find at least three lines through $S$ that intersect this good region. These lines can be shown to be good, which in turn makes $S$ a good point. Since every point $S \neq P$ is good, the line connecting any two such points must be good. Hence, every line is $(P, \alpha)$-good.",Prove that there is a unique point $P$ such that $f(\ell)=P$ for any line $\ell$ passing through $P$.,"From Sub-problem 3, there exists a pair $(P, \alpha)$ for which every line $\ell$ is $(P, \alpha)$-good, meaning $f(\ell) = h_{P, \alpha}(\ell)$. Consider a line $\ell$ that passes through $P$. The function $h_{P, \alpha}(\ell)$ gives the intersection of $\ell$ with a line $\ell'$ that passes through $P$ at an angle $\alpha$ to $\ell$. As both lines $\ell$ and $\ell'$ pass through $P$, their intersection is $P$. Thus, $f(\ell)=P$ for any line $\ell$ passing through $P$. To prove uniqueness, suppose two points $P_1$ and $P_2$ satisfy the condition. For the line $\ell = P_1P_2$, we must have $f(\ell)=P_1$ because it passes through $P_1$, and $f(\ell)=P_2$ because it passes through $P_2$. This forces $P_1=P_2$, so the point is unique."
2019n5,"Let $a$ be a positive integer. We say that a positive integer $b$ is $a$-good if $\binom{a n}{b}-1$ is divisible by $a n+1$ for all positive integers $n$ with $a n \geqslant b$. Suppose $b$ is a positive integer such that $b$ is $a$-good, but $b+2$ is not $a$-good. Prove that $b+1$ is prime.",3,"Prove that a positive integer $b$ is $a$-good if and only if $b$ is even and for every prime $p \le b$, we have $p \mid a$.","An integer $b$ is $a$-good if $\binom{an}{b} \equiv 1 \pmod{an+1}$.\nNecessity: If a prime $p \le b$ does not divide $a$, we can choose $n$ such that $p \mid an+1$ and $p \mid \binom{an}{b}$, a contradiction. So all primes $p \le b$ must divide $a$. This makes $b!$ coprime to $an+1$. The condition becomes $an(an-1)\cdots(an-b+1) \equiv b! \pmod{an+1}$. Since $an \equiv -1 \pmod{an+1}$, the LHS is $(-1)^b b!$. For $(-1)^b b! \equiv b! \pmod{an+1}$ to hold for arbitrarily large $n$, we must have $(-1)^b=1$, which means $b$ is even.\nSufficiency: If $b$ is even and all primes $p \le b$ divide $a$, then $b!$ is coprime to $an+1$. The condition $\binom{an}{b} \equiv 1 \pmod{an+1}$ is equivalent to $an(an-1)\cdots(an-b+1) \equiv b! \pmod{an+1}$, which is $(-1)^b b! \equiv b! \pmod{an+1}$. As $b$ is even, this holds.","Suppose $b$ is $a$-good, but $b+2$ is not. Using the characterization from the previous step, show that $b$ is even and there exists a prime $q$ such that $b < q \le b+2$ and $q \nmid a$.","Since $b$ is $a$-good, by the characterization from Sub-problem 1, $b$ is even and for every prime $p \le b$, we have $p \mid a$. Since $b+2$ is not $a$-good, the characterization must fail for $k=b+2$. The first condition for being $a$-good is that the number is even. As $b$ is even, $b+2$ is also even, so this condition holds. Thus, the other condition must fail: there must be a prime $q \le b+2$ such that $q \nmid a$. Combining our findings, we have a prime $q$ such that $q \le b+2$ and $q \nmid a$. But we also know that for all primes $p \le b$, $p \mid a$. This implies that $q$ cannot be less than or equal to $b$. Therefore, $q$ must satisfy $b < q \le b+2$.","Let $a$ be a positive integer. We say that a positive integer $b$ is $a$-good if $\binom{a n}{b}-1$ is divisible by $a n+1$ for all positive integers $n$ with $a n \geqslant b$. Suppose $b$ is a positive integer such that $b$ is $a$-good, but $b+2$ is not $a$-good. Prove that $b+1$ is prime.","From Sub-problem 2, we know that $b$ is even and there exists a prime $q$ such that $b < q \le b+2$. The only integers in the interval $(b, b+2]$ are $b+1$ and $b+2$. So, the prime $q$ must be either $b+1$ or $b+2$. Since $b$ is a positive even integer, $b \ge 2$. Thus $b+2$ is an even integer greater than or equal to 4, so it cannot be prime. Therefore, the only possibility is that the prime $q$ is $b+1$. We conclude that $b+1$ is a prime number.",,
2019n6,"Let $H=\left\{\lfloor i \sqrt{2}\rfloor: i \in \mathbb{Z}_{>0}\right\}=\{1,2,4,5,7, \ldots\}$, and let $n$ be a positive integer. Prove that there exists a constant $C$ such that, if $A \subset\{1,2, \ldots, n\}$ satisfies $|A| \geqslant C \sqrt{n}$, then there exist $a, b \in A$ such that $a-b \in H$. (Here $\mathbb{Z}_{>0}$ is the set of positive integers, and $\lfloor z\rfloor$ denotes the greatest integer less than or equal to $z$.)",3,Let $H=\\left\\{\\lfloor i \\sqrt{2}\rfloor: i \\in \\mathbb{Z}_{>0}\right\\}$. Prove that a positive integer $m$ belongs to $H$ if and only if its fractional part satisfies $\{m/\\sqrt{2}\\} > 1 - 1/\\sqrt{2}$.,"A positive integer $m \\in H$ if and only if there exists a positive integer $i$ such that $m = \\lfloor i\\sqrt{2} \rfloor$. This is equivalent to the inequality $m \\le i\\sqrt{2} < m+1$, which can be rewritten as $m/\\sqrt{2} \\le i < m/\\sqrt{2} + 1/\\sqrt{2}$. The existence of such an integer $i$ is equivalent to the interval $(m/\\sqrt{2}, m/\\sqrt{2} + 1/\\sqrt{2})$ containing an integer. Let $m/\\sqrt{2} = I+f$, where $I=\\lfloor m/\\sqrt{2} \rfloor$ and $f=\\{m/\\sqrt{2}\\}$ is the fractional part. The interval is $(I+f, I+f+1/\\sqrt{2})$. It contains an integer (specifically $I+1$) if and only if $I+f < I+1 < I+f+1/\\sqrt{2}$. The left inequality $f<1$ is always true. The right inequality simplifies to $1 < f+1/\\sqrt{2}$, which is equivalent to $f > 1-1/\\sqrt{2}$. Thus, $m \\in H$ if and only if $\\{m/\\sqrt{2}\\} > 1-1/\\sqrt{2}$.","Let $A = \\{a_1 < a_2 < \\dots < a_k\\}$ be a set of integers. Suppose that for any $a, b \\in A$ with $a>b$, the difference $a-b$ is not in $H$. Prove that the fractional parts $\\{a_j/\\sqrt{2}\\}$ form a strictly increasing sequence, i.e., $\\{a_1/\\sqrt{2}\\} < \\{a_2/\\sqrt{2}\\} < \\dots < \\{a_k/\\sqrt{2}\\} < 1 - 1/\\sqrt{2}$ (after a suitable shift of $A$).","Let $A=\\{a_{1}<a_{2}<\\cdots<a_{k}\\}$. We can shift $A$ by $-a_1$ to assume $a_1=0$ without changing the set of differences. The condition $a_j - a_i \notin H$ for $j>i$ implies, by Sub-problem 1, that $\\{(a_j-a_i)/\\sqrt{2}\\} \\le 1-1/\\sqrt{2}$. Let $f_j = \\{a_j/\\sqrt{2}\\}$. If we had $f_j < f_i$ for some $j>i$, then $\\{(a_j-a_i)/\\sqrt{2}\\} = \\{a_j/\\sqrt{2} - a_i/\\sqrt{2}\\} = \\{f_j-f_i\\} = f_j-f_i+1$. Since $a_i = a_i-a_1 \notin H$ (for $i>1$), we have $f_i \\le 1-1/\\sqrt{2}$. This would lead to $\\{(a_j-a_i)/\\sqrt{2}\\} = f_j-f_i+1 > 0 - (1-1/\\sqrt{2})+1 = 1/\\sqrt{2}$. As $1/\\sqrt{2} > 1-1/\\sqrt{2}$, this is a contradiction. Thus, the sequence of fractional parts must be strictly increasing: $0=\\{a_1/\\sqrt{2}\\} < \\{a_2/\\sqrt{2}\\} < \\cdots < \\{a_k/\\sqrt{2}\\}$. The upper bound follows from $a_k = a_k-a_1 \notin H$, so $\\{a_k/\\sqrt{2}\\} \\le 1-1/\\sqrt{2}$.","Let $H=\\left\\{\\lfloor i \\sqrt{2}\rfloor: i \\in \\mathbb{Z}_{>0}\right\\}$, and let $n$ be a positive integer. Prove that there exists a constant $C$ such that, if $A \\subset\\{1,2, \\ldots, n\\}$ satisfies $|A| \\geqslant C \\sqrt{n}$, then there exist $a, b \\in A$ such that $a-b \\in H$.","Assume $A=\\{a_1, \\dots, a_k\\}$ has no differences in $H$. Let $k=|A|$. By Sub-problem 2, we can assume $A=\\{0=a_1 < \\dots < a_k < n\\}$ and $0=\\{a_1/\\sqrt{2}\\} < \\cdots < \\{a_k/\\sqrt{2}\\} < 1-1/\\sqrt{2}$. Let $d_i=a_{i+1}-a_i$. Then $\\{a_k/\\sqrt{2}\\} = \\sum_{i=1}^{k-1}(\\{a_{i+1}/\\sqrt{2}\\}-\\{a_i/\\sqrt{2}\\}) = \\sum_{i=1}^{k-1}\\{d_i/\\sqrt{2}\\}$. Using the Diophantine approximation result that for any integer $d>0$, $\\{d/\\sqrt{2}\\} > \frac{1}{2d\\sqrt{2}}$, we have $1-1/\\sqrt{2} > \\sum_{i=1}^{k-1}\\{d_i/\\sqrt{2}\\} > \\sum_{i=1}^{k-1} \frac{1}{2d_i\\sqrt{2}}$. By the Cauchy-Schwarz inequality, $(\\sum d_i)(\\sum 1/d_i) \\ge (k-1)^2$. Since $\\sum d_i = a_k < n$, we get $\\sum 1/d_i > (k-1)^2/n$. Combining these gives $1-1/\\sqrt{2} > \frac{1}{2\\sqrt{2}}\frac{(k-1)^2}{n}$. Rearranging yields $(k-1)^2 < n(2\\sqrt{2}-2)$, so $k < \\sqrt{2\\sqrt{2}-2}\\sqrt{n}+1$. Thus, if $|A| \\ge C\\sqrt{n}$ for a constant $C > \\sqrt{2\\sqrt{2}-2}$, there must be a difference in $H$.",,
2019n7,Prove that there is a constant $c>0$ and infinitely many positive integers $n$ with the following property: there are infinitely many positive integers that cannot be expressed as the sum of fewer than $c n \log (n)$ pairwise coprime $n^{\text {th }}$ powers.,3,"Let $n$ and $N$ be positive integers, and let $k$ be the number of distinct prime factors of $N$. Suppose that for every prime power $p^e$ that exactly divides $N$, we have $\varphi(p^e) | n$. Show that if $N > m \cdot 2^k$, then there are infinitely many positive integers that cannot be expressed as a sum of at most $m$ pairwise coprime $n^{\text{th}}$ powers.","Let $p^e$ be a prime power exactly dividing $N$. The condition $\varphi(p^e)|n$ implies that for any integer $a$, $a^n \equiv 1 \pmod{p^e}$ if $p \nmid a$, and $a^n \equiv 0 \pmod{p^e}$ if $p|a$ (assuming $n \ge e$). A sum of $j$ pairwise coprime $n^{\text{th}}$ powers has at most one term divisible by $p$, so its value modulo $p^e$ must be $j$ or $j-1$. By the Chinese Remainder Theorem, for a fixed number of terms $j$, there are at most $2^k$ possible residues for the sum modulo $N$. For all sums with at most $m$ terms ($j \le m$), there are at most $m \cdot 2^k$ possible residues. If $N > m \cdot 2^k$, there must exist residue classes modulo $N$ which cannot be represented, meaning infinitely many integers (those in such classes) cannot be expressed in the required form.","Show that there exists a positive absolute constant $C$ such that for infinitely many pairs of integers $(n, N)$, we have (1) $N=pq$ for distinct primes $p$ and $q$, (2) $\varphi(p)|n$ and $\varphi(q)|n$, and (3) $N > C n \log(n)$.","For any integer $t \ge 1$, choose distinct primes $p$ dividing $2^{2^{t-1}}+1$ and $q$ dividing $2^{2^t}+1$. Set $N=pq$. From properties of these primes related to Fermat numbers, we have $2^t | (p-1)$ and $2^{t+1} | (q-1)$. Define $n = \frac{(p-1)(q-1)}{2^t}$. This choice of $n$ is an integer, and it is divisible by both $\varphi(p)=p-1$ and $\varphi(q)=q-1$. For large $t$, we can estimate the sizes of $n$ and $N$. We have $\frac{N}{n} = \frac{pq}{(p-1)(q-1)}2^t > 2^t$, and $\log_2(n) \le 2^{t-1}+2^t-t < 2^{t+1}$. Combining these inequalities gives $2\frac{N}{n} > 2^{t+1} > \log_2(n)$, which rearranges to $N > \frac{1}{2} n \log_2(n) = \frac{1}{2\log 2}n\log(n)$. As $t$ can be arbitrarily large, this constructs infinitely many such pairs $(n, N)$ with $C = \frac{1}{2\log 2}$.",Prove that there is a constant $c>0$ and infinitely many positive integers $n$ with the following property: there are infinitely many positive integers that cannot be expressed as the sum of fewer than $c n \log (n)$ pairwise coprime $n^{\text {th }}$ powers.,"From Sub-problem 2, we can generate an infinite sequence of integers $n$ (by taking $t=1, 2, \dots$) and corresponding integers $N=pq$ (so $k=2$) such that $\varphi(p)|n$, $\varphi(q)|n$, and $N > \frac{1}{2\log 2} n \log(n)$. Let $m_{max}$ be the maximum number of terms in the sum, so $m_{max} < c n \log(n)$. We can take $m_{max} = \lfloor c n \log(n) \rfloor -1$. From Sub-problem 1, if $N > m_{max} \cdot 2^k = m_{max} \cdot 4$, there are infinitely many unrepresentable integers. This condition is satisfied if $N > 4cn \log(n)$. Our construction yields $N > \frac{1}{2\log 2} n \log(n)$. Thus, we need to choose $c$ such that $\frac{1}{2\log 2} n \log(n) > 4cn \log(n)$, which simplifies to $c < \frac{1}{8\log 2}$. Choosing any positive constant $c$ in this range, the property holds for the infinitely many integers $n$ generated by our construction.",,
2019n8,"Let $a$ and $b$ be two positive integers. Prove that the integer

$$
a^{2}+\left\lceil\frac{4 a^{2}}{b}\right\rceil
$$

is not a square. (Here $\lceil z\rceil$ denotes the least integer greater than or equal to $z$.)",2,"Let $b$ be a positive integer. Show that if the equation $\left\lceil\frac{c^{2}}{b}\right\rceil=(c+k) k$ has a solution $(c, k)$ in positive integers, then there exists another solution $(c', k')$ in positive integers such that $k' < k$.","Assume $(c,k)$ is a solution in positive integers. From the given equation, we have the inequalities $\frac{c^2}{b} > \lceil\frac{c^2}{b}\rceil - 1 = ck+k^2-1$ and $\frac{c^2}{b} \le \lceil\frac{c^2}{b}\rceil = (c+k)k$. The first inequality implies $c^2 > b(ck+k^2-1)$. Since $k \ge 1$, $k^2-1 \ge 0$, so $c^2 > bck$, which gives $c > bk$. (Equality $c=bk$ would lead to $k=0$, a contradiction). The second inequality, combined with $\frac{c^2-k^2}{b} < \frac{c^2}{b}$ (since $c>bk\ge k>0$), implies $\frac{(c-k)(c+k)}{b} < (c+k)k$, so $c-k < bk$. We have $bk < c < bk+k$. Thus, we can write $c=bk+r$ for an integer $r$ with $0<r<k$. Substituting this into the original equation: $\lceil\frac{(bk+r)^2}{b}\rceil = (bk+r+k)k$. The left side simplifies to $bk^2+2kr+\lceil\frac{r^2}{b}\rceil$ and the right side to $bk^2+rk+k^2$. Equating them gives $\lceil\frac{r^2}{b}\rceil = k^2-rk = k(k-r)$. Let $c'=r$ and $k'=k-r$. Since $0<r<k$, $c'$ and $k'$ are positive integers and $k'<k$. The equation becomes $\lceil\frac{(c')^2}{b}\rceil = (c'+k')k'$. Thus, $(c', k')$ is another solution with a smaller positive $k'.","Let $a$ and $b$ be two positive integers. Prove that the integer

$$\n a^{2}+\left\lceil\frac{4 a^{2}}{b}\right\rceil
$$

is not a square.","Assume for contradiction that $a^{2}+\left\lceil\frac{4 a^{2}}{b}\right\rceil$ is a square. Since it is greater than $a^2$, it must be of the form $(a+k)^2$ for some integer $k \ge 1$. This implies $\left\lceil\frac{4 a^{2}}{b}\right\rceil = 2ak+k^2 = (2a+k)k$. Let $c=2a$. Then $(c,k)$ is a solution in positive integers to the equation $\left\lceil\frac{c^{2}}{b}\right\rceil=(c+k) k$. The set of positive integers $k$ for which this equation has a positive integer solution $c$ is therefore non-empty. By the well-ordering principle, there must be a smallest such integer, let's call it $k_{min}$. However, from the first sub-problem, for any solution $(c, k)$, there exists another solution $(c', k')$ with a positive integer $k'$ such that $k' < k$. This contradicts the minimality of $k_{min}$. Thus, our initial assumption that such a solution exists must be false. Therefore, $a^{2}+\left\lceil\frac{4 a^{2}}{b}\right\rceil$ cannot be a square.",,,,
2018a3,"Given any set $S$ of positive integers, show that at least one of the following two assertions holds:\\
(1) There exist distinct finite subsets $F$ and $G$ of $S$ such that $\sum_{x \in F} 1 / x=\sum_{x \in G} 1 / x$;\\
(2) There exists a positive rational number $r<1$ such that $\sum_{x \in F} 1 / x \neq r$ for all finite subsets $F$ of $S$.",3,"Assume that for every rational number $r \in [0, 1)$, there exists a unique finite subset $F_r$ of a given set of positive integers $S$ such that $\sum_{x \in F_r} 1/x = r$. Let $x$ be an element of $S$ and $q, r$ be rationals in $[0,1)$ such that $q-r=1/x$. Prove that $x \in F_q$ if and only if $x \notin F_r$.","If $x \in F_q$, then the sum over the set $F_q \setminus \{x\}$ is $\sum_{y \in F_q \setminus \{x\}} 1/y = (\sum_{y \in F_q} 1/y) - 1/x = q - 1/x = r$. By the uniqueness of $F_r$, we must have $F_r = F_q \setminus \{x\}$. Therefore, $x \notin F_r$. Conversely, if $x \notin F_r$, then the sum over the set $F_r \cup \{x\}$ is $\sum_{y \in F_r \cup \{x\}} 1/y = (\sum_{y \in F_r} 1/y) + 1/x = r + 1/x = q$. By the uniqueness of $F_q$, we must have $F_q = F_r \cup \{x\}$. Therefore, $x \in F_q$.","Under the same assumption as in the first sub-problem, prove that for any element $x \in S$ and any rational number $r \in [0, 1)$, $x \in F_r$ if and only if $\lfloor rx \rfloor$ is an odd integer.","Let $n = \lfloor rx \rfloor$. Consider the sequence of rationals $r_k = r - k/x$ for $k = 0, 1, \dots, n$. We have $r_0 = r$ and $0 \le r_n < 1/x$. Since $\sum_{y \in F_{r_n}} 1/y = r_n < 1/x$, the set $F_{r_n}$ cannot contain $x$. From the previous sub-problem, since $r_{k-1} - r_k = 1/x$, we have $x \in F_{r_{k-1}}$ if and only if $x \notin F_{r_k}$. Applying this relationship repeatedly from $k=n$ down to $k=1$, we find that $x \in F_{r_{n-k}}$ if and only if $k$ is odd, given that $x \notin F_{r_n}$. For $k=n$, we get that $x \in F_{r_0} = F_r$ if and only if $n = \lfloor rx \rfloor$ is odd.","Given any set $S$ of positive integers, show that at least one of the following two assertions holds:\\(1) There exist distinct finite subsets $F$ and $G$ of $S$ such that $\sum_{x \in F} 1 / x=\sum_{x \in G} 1 / x$;\\(2) There exists a positive rational number $r<1$ such that $\sum_{x \in F} 1 / x \neq r$ for all finite subsets $F$ of $S$.","Assume for contradiction that both assertions are false. This means for every rational $r \in [0, 1)$, there is a unique finite subset $F_r$ of $S$ with $\sum_{x \in F_r} 1/x = r$. Let's consider $r=2/3$. By the result of the second sub-problem, for any $x \in F_{2/3}$, the integer $\lfloor 2x/3 \rfloor$ must be odd. Since $F_{2/3}$ is a finite set, we can choose a positive rational $\varepsilon$ small enough such that for all $x \in F_{2/3}$, $\lfloor (2/3-\varepsilon)x \rfloor = \lfloor 2x/3 \rfloor$. Let $r' = 2/3 - \varepsilon$. For any $x \in F_{2/3}$, $\lfloor r'x \rfloor = \lfloor 2x/3 \rfloor$ is odd. By the second sub-problem's result, this implies that every element $x$ of $F_{2/3}$ must also be an element of $F_{r'} = F_{2/3-\varepsilon}$. Thus, $F_{2/3} \subseteq F_{2/3-\varepsilon}$. However, $\sum_{y \in F_{2/3}} 1/y = 2/3$ and $\sum_{y \in F_{2/3-\varepsilon}} 1/y = 2/3 - \varepsilon$. Since all elements of $S$ are positive, if $F_{2/3} \subseteq F_{2/3-\varepsilon}$, then $\sum_{y \in F_{2/3}} 1/y \le \sum_{y \in F_{2/3-\varepsilon}} 1/y$. But this would mean $2/3 \le 2/3 - \varepsilon$, which is false for $\varepsilon > 0$. This contradiction proves the original statement.",,
2018a6,"Let $m, n \geqslant 2$ be integers. Let $f\left(x_{1}, \ldots, x_{n}\right)$ be a polynomial with real coefficients such that

$$
f\left(x_{1}, \ldots, x_{n}\right)=\left\lfloor\frac{x_{1}+\ldots+x_{n}}{m}\right\rfloor \quad \text { for every } x_{1}, \ldots, x_{n} \in\{0,1, \ldots, m-1\}
$$

Prove that the total degree of $f$ is at least $n$.",4,"Let $a_{1}, \ldots, a_{n}$ be nonnegative integers and let $G(x)$ be a nonzero polynomial with $\\operatorname{deg} G \\leqslant a_{1}+\\ldots+a_{n}$. Suppose that a polynomial $F\\left(x_{1}, \\ldots, x_{n}\right)$ satisfies $F\\left(x_{1}, \\ldots, x_{n}\right)=G\\left(x_{1}+\\ldots+x_{n}\right)$ for $\\left(x_{1}, \\ldots, x_{n}\right) \\in\\left\\{0,1, \\ldots, a_{1}\right\\} \times \\ldots \times\\left\\{0,1, \\ldots, a_{n}\right\\}$. Prove that $\\operatorname{deg} F \\geqslant \\operatorname{deg} G$.","The proof is by induction on $d = \\operatorname{deg} G$. For $d=0$, $G$ is a non-zero constant, so $F(0, \\ldots, 0)=G(0) \neq 0$, implying $F$ is not the zero polynomial and $\\operatorname{deg} F \\ge 0 = d$. Assume $d \\ge 1$ and the statement holds for polynomials of degree less than $d$. Without loss of generality, let $a_1 \\ge 1$. Let $\\Delta_1 F(\\mathbf{x}) = F(x_1+1, x_2, \\dots, x_n) - F(\\mathbf{x})$ and $\\Delta G(x) = G(x+1)-G(x)$. Then on the smaller grid $\\{0, \\dots, a_1-1\\} \times \\prod_{i=2}^n \\{0, \\dots, a_i\\}$, we have $\\Delta_1 F(\\mathbf{x}) = \\Delta G(x_1+\\dots+x_n)$. Since $\\operatorname{deg} \\Delta G = d-1$, by the induction hypothesis, $\\operatorname{deg}(\\Delta_1 F) \\ge \\operatorname{deg} \\Delta G$. As $\\operatorname{deg} F \\ge \\operatorname{deg}(\\Delta_1 F) + 1$, it follows that $\\operatorname{deg} F \\ge (\\operatorname{deg} G - 1) + 1 = \\operatorname{deg} G$.","Define a unique polynomial $g(x)$ that agrees with the function $\\lfloor k/m \rfloor$ for all integers $k$ in the set $\\{0, 1, \\dots, n(m-1)\\}$. Show that the degree of the given polynomial $f$ is at least the degree of $g$.","The sum $S = x_1 + \\dots + x_n$ with $x_i \\in \\{0, \\dots, m-1\\}$ can take any integer value in the set $K = \\{0, 1, \\dots, n(m-1)\\}$. By polynomial interpolation, there is a unique polynomial $g(x)$ of degree at most $|K|-1 = n(m-1)$ such that $g(k) = \\lfloor k/m \rfloor$ for all $k \\in K$. The problem statement implies $f(x_1, \\dots, x_n) = g(x_1+\\dots+x_n)$ for all $(x_1, \\dots, x_n) \\in \\{0, \\dots, m-1\\}^n$. We apply the lemma from Part 1 with $F=f$, $G=g$, and $a_i = m-1$ for $i=1, \\dots, n$. The condition $\\operatorname{deg} g \\le n(m-1) = \\sum a_i$ holds. Therefore, $\\operatorname{deg} f \\ge \\operatorname{deg} g$.","Let $g(x)$ be the polynomial from Part 2. Define $h(x) = g(x+m)-g(x)-1$. Prove that $h(x)$ has at least $(n-1)(m-1)$ roots, and that $\\operatorname{deg} g = \\operatorname{deg} h + 1$.","For any integer $k \\in \\{0, 1, \\dots, n(m-1)-m\\}$, the identity $\\lfloor (k+m)/m \rfloor = \\lfloor k/m \rfloor + 1$ holds. Since $g(x)$ agrees with $\\lfloor x/m \rfloor$ on this range for both $k$ and $k+m$, we have $g(k+m) = g(k) + 1$. Thus, $h(k) = g(k+m)-g(k)-1 = 0$ for $k=0, 1, \\dots, n(m-1)-m$. This provides $n(m-1)-m+1 = (n-1)(m-1)$ distinct integer roots for $h(x)$. Since $g(0)=\\lfloor 0/m \rfloor=0$ and $g(m)=\\lfloor m/m \rfloor=1$, $g$ is not constant. In fact, $g$ is not linear since $g(1)=\\lfloor 1/m \rfloor=0$ for $m \\ge 2$, so $\\operatorname{deg} g \\ge 2$. For any polynomial $p(x)$ of degree $d \\ge 1$, $\\operatorname{deg}(p(x+c)-p(x)) = d-1$. Thus, $\\operatorname{deg}(g(x+m)-g(x)) = \\operatorname{deg} g - 1 \\ge 1$. This implies $h(x)$ is not the zero polynomial and $\\operatorname{deg} h = \\operatorname{deg} g - 1$, which is equivalent to $\\operatorname{deg} g = \\operatorname{deg} h + 1$.","Let $m, n \\geqslant 2$ be integers. Let $f\\left(x_{1}, \\ldots, x_{n}\right)$ be a polynomial with real coefficients such that\n\n$$\nf\\left(x_{1}, \\ldots, x_{n}\right)=\\left\\lfloor\frac{x_{1}+\\ldots+x_{n}}{m}\right\rfloor \\quad \text { for every } x_{1}, \\ldots, x_{n} \\in\\{0,1, \\ldots, m-1\\}\n$$\n\nProve that the total degree of $f$ is at least $n$.","From Part 2, we have $\\operatorname{deg} f \\ge \\operatorname{deg} g$. From Part 3, we have $\\operatorname{deg} g = \\operatorname{deg} h + 1$ and $h(x)$ is a non-zero polynomial with at least $(n-1)(m-1)$ roots. The degree of a non-zero polynomial is at least the number of its distinct roots, so $\\operatorname{deg} h \\ge (n-1)(m-1)$. Combining these results gives $\\operatorname{deg} f \\ge \\operatorname{deg} g = \\operatorname{deg} h + 1 \\ge (n-1)(m-1) + 1$. Since $m, n \\ge 2$, we have $m-1 \\ge 1$ and $n-1 \\ge 1$. Therefore, $(n-1)(m-1) + 1 \\ge (n-1)(1) + 1 = n$. We conclude that $\\operatorname{deg} f \\ge n$."
2018c1,"Let $n \geqslant 3$ be an integer. Prove that there exists a set $S$ of $2 n$ positive integers satisfying the following property: For every $m=2,3, \ldots, n$ the set $S$ can be partitioned into two subsets with equal sums of elements, with one of subsets of cardinality $m$.\\
(Iceland)\\
Solution. We show that one of possible examples is the set

$$
S=\left\{1 \cdot 3^{k}, 2 \cdot 3^{k}: k=1,2, \ldots, n-1\right\} \cup\left\{1, \frac{3^{n}+9}{2}-1\right\}
$$

It is readily verified that all the numbers listed above are distinct (notice that the last two are not divisible by 3 ).

The sum of elements in $S$ is\\
$\Sigma=1+\left(\frac{3^{n}+9}{2}-1\right)+\sum_{k=1}^{n-1}\left(1 \cdot 3^{k}+2 \cdot 3^{k}\right)=\frac{3^{n}+9}{2}+\sum_{k=1}^{n-1} 3^{k+1}=\frac{3^{n}+9}{2}+\frac{3^{n+1}-9}{2}=2 \cdot 3^{n}$.\\
Hence, in order to show that this set satisfies the problem requirements, it suffices to present, for every $m=2,3, \ldots, n$, an $m$-element subset $A_{m} \subset S$ whose sum of elements equals $3^{n}$.

Such a subset is

$$
A_{m}=\left\{2 \cdot 3^{k}: k=n-m+1, n-m+2, \ldots, n-1\right\} \cup\left\{1 \cdot 3^{n-m+1}\right\}
$$

Clearly, $\left|A_{m}\right|=m$. The sum of elements in $A_{m}$ is

$$
3^{n-m+1}+\sum_{k=n-m+1}^{n-1} 2 \cdot 3^{k}=3^{n-m+1}+\frac{2 \cdot 3^{n}-2 \cdot 3^{n-m+1}}{2}=3^{n}
$$

as required.

Comment. Let us present a more general construction. Let $s_{1}, s_{2}, \ldots, s_{2 n-1}$ be a sequence of pairwise distinct positive integers satisfying $s_{2 i+1}=s_{2 i}+s_{2 i-1}$ for all $i=2,3, \ldots, n-1$. Set $s_{2 n}=s_{1}+s_{2}+$ $\cdots+s_{2 n-4}$.

Assume that $s_{2 n}$ is distinct from the other terms of the sequence. Then the set $S=\left\{s_{1}, s_{2}, \ldots, s_{2 n}\right\}$ satisfies the problem requirements. Indeed, the sum of its elements is

$$
\Sigma=\sum_{i=1}^{2 n-4} s_{i}+\left(s_{2 n-3}+s_{2 n-2}\right)+s_{2 n-1}+s_{2 n}=s_{2 n}+s_{2 n-1}+s_{2 n-1}+s_{2 n}=2 s_{2 n}+2 s_{2 n-1}
$$

Therefore, we have

$$
\frac{\Sigma}{2}=s_{2 n}+s_{2 n-1}=s_{2 n}+s_{2 n-2}+s_{2 n-3}=s_{2 n}+s_{2 n-2}+s_{2 n-4}+s_{2 n-5}=\ldots
$$

which shows that the required sets $A_{m}$ can be chosen as

$$
A_{m}=\left\{s_{2 n}, s_{2 n-2}, \ldots, s_{2 n-2 m+4}, s_{2 n-2 m+3}\right\}
$$

So, the only condition to be satisfied is $s_{2 n} \notin\left\{s_{1}, s_{2}, \ldots, s_{2 n-1}\right\}$, which can be achieved in many different ways (e.g., by choosing properly the number $s_{1}$ after specifying $s_{2}, s_{3}, \ldots, s_{2 n-1}$ ).

The solution above is an instance of this general construction. Another instance, for $n>3$, is the set

$$
\left\{F_{1}, F_{2}, \ldots, F_{2 n-1}, F_{1}+\cdots+F_{2 n-4}\right\}
$$

where $F_{1}=1, F_{2}=2, F_{n+1}=F_{n}+F_{n-1}$ is the usual Fibonacci sequence.",3,"Define the set $S=\left\{1 \cdot 3^{k}, 2 \cdot 3^{k}: k=1,2, \ldots, n-1\right\} \cup\left\{1, \frac{3^{n}+9}{2}-1\right\}$. Prove that the sum of all elements in $S$ is $2 \cdot 3^{n}$.","The sum of elements in $S$ is $\Sigma=1+\left(\frac{3^{n}+9}{2}-1\right)+\sum_{k=1}^{n-1}\left(1 \cdot 3^{k}+2 \cdot 3^{k}\right) = \frac{3^{n}+9}{2}+\sum_{k=1}^{n-1} 3^{k+1}$. The sum of the geometric series is $\sum_{k=1}^{n-1} 3^{k+1} = \sum_{j=2}^{n} 3^j = \frac{3^2(3^{n-1}-1)}{3-1} = \frac{3^{n+1}-9}{2}$. Therefore, the total sum is $\Sigma = \frac{3^{n}+9}{2}+\frac{3^{n+1}-9}{2} = \frac{3^n + 3 \cdot 3^n}{2} = \frac{4 \cdot 3^n}{2} = 2 \cdot 3^{n}$.","For the set $S$ from the previous problem and for each integer $m=2,3, \ldots, n$, define the subset $A_{m}=\left\{2 \cdot 3^{k}: k=n-m+1, \ldots, n-1\right\} \cup\left\{1 \cdot 3^{n-m+1}\right\}$. Prove that $|A_m| = m$ and the sum of its elements is $3^n$.","The set $A_m$ contains $(n-1) - (n-m+1) + 1 = m-1$ elements of the form $2 \cdot 3^k$ and one element $1 \cdot 3^{n-m+1}$, so its cardinality is $(m-1)+1=m$. The sum of its elements is $S_m = 1 \cdot 3^{n-m+1} + \sum_{k=n-m+1}^{n-1} 2 \cdot 3^{k}$. The geometric series sum is $2 \cdot \frac{3^{n-m+1}(3^{m-1}-1)}{3-1} = 3^{n-m+1}(3^{m-1}-1) = 3^n - 3^{n-m+1}$. Thus, the total sum is $S_m = 3^{n-m+1} + (3^n - 3^{n-m+1}) = 3^n$.","Let $n \geqslant 3$ be an integer. Prove that there exists a set $S$ of $2 n$ positive integers satisfying the following property: For every $m=2,3, \ldots, n$ the set $S$ can be partitioned into two subsets with equal sums of elements, with one of subsets of cardinality $m$.","Consider the set $S=\left\{1 \cdot 3^{k}, 2 \cdot 3^{k}: k=1,2, \ldots, n-1\right\} \cup\left\{1, \frac{3^{n}+9}{2}-1\right\}$. This set has $2(n-1)+2 = 2n$ distinct positive integers. From sub-problem 1, the total sum of elements is $\Sigma=2 \cdot 3^{n}$. A partition into two subsets with equal sums requires each subset to sum to $\Sigma/2 = 3^n$. From sub-problem 2, for each $m \in \{2, 3, \ldots, n\}$, there exists a subset $A_m \subset S$ with $|A_m|=m$ and whose elements sum to $3^n$. Therefore, for each such $m$, the pair of subsets $(A_m, S \setminus A_m)$ forms a partition of $S$ where both subsets have a sum of $3^n$ and one has cardinality $m$. This proves the existence of such a set $S$.",,
2018c3,"Let $n$ be a given positive integer. Sisyphus performs a sequence of turns on a board consisting of $n+1$ squares in a row, numbered 0 to $n$ from left to right. Initially, $n$ stones are put into square 0, and the other squares are empty. At every turn, Sisyphus chooses any nonempty square, say with $k$ stones, takes one of those stones and moves it to the right by at most $k$ squares (the stone should stay within the board). Sisyphus' aim is to move all $n$ stones to square $n$.

Prove that Sisyphus cannot reach the aim in less than

$$
\left\lceil\frac{n}{1}\right\rceil+\left\lceil\frac{n}{2}\right\rceil+\left\lceil\frac{n}{3}\right\rceil+\cdots+\left\lceil\frac{n}{n}\right\rceil
$$

turns. (As usual, $\lceil x\rceil$ stands for the least integer not smaller than $x$.)",2,"By labeling the stones from 1 to $n$ and adopting the rule to always move the stone with the largest number from any chosen square, prove that for any $k \in \{1, \dots, n\}$, stone $k$ must be moved at least $\lceil n/k \rceil$ times to get from square 0 to square $n$.","When we move stone $k$, it is, by our adopted rule, the highest-numbered stone in its current square. This implies that all other stones in that square have numbers smaller than $k$. Thus, there are at most $k$ stones in that square (those numbered $1, \dots, k$). According to the game's rules, the maximum distance this stone can be moved is the number of stones in its square, which is at most $k$. To cover the total distance of $n$ from square 0 to square $n$, stone $k$ must therefore be moved at least $\lceil n/k \rceil$ times.",Prove that Sisyphus cannot reach the aim in less than $\left\lceil\frac{n}{1}\right\rceil+\left\lceil\frac{n}{2}\right\rceil+\left\lceil\frac{n}{3}\right\rceil+\cdots+\left\lceil\frac{n}{n}\right\rceil$ turns.,"Each turn consists of moving exactly one stone. Therefore, the total number of turns is the sum of the number of moves made with each individual stone. From the previous sub-problem, we established a lower bound on the number of moves required for each specific stone $k$, regardless of the sequence of chosen squares. Summing these minimum move counts over all stones from $k=1$ to $n$ gives a lower bound for the total number of turns. Thus, the total number of turns must be at least $\sum_{k=1}^{n} \lceil n/k \rceil$.",,,,
2018c6,"Let $a$ and $b$ be distinct positive integers. The following infinite process takes place on an initially empty board.\\
(i) If there is at least a pair of equal numbers on the board, we choose such a pair and increase one of its components by $a$ and the other by $b$.\\
(ii) If no such pair exists, we write down two times the number 0 .

Prove that, no matter how we make the choices in (i), operation (ii) will be performed only finitely many times.",3,"Let $f(k)$ be the number of times the integer $k$ has been written on the board. Suppose operation (ii) has been performed $N$ times. Show that $f(k)$ satisfies the recurrence relation $f(k) = \lfloor f(k-a)/2 \rfloor + \lfloor f(k-b)/2 \rfloor$ for $k>0$, with initial conditions $f(0)=2N$ and $f(k)=0$ for $k<0$.","The number $k$ is written on the board either as a 0 in operation (ii), or as $x+a$ or $x+b$ in operation (i) for some $x$. Let $f(k)$ be the total count of times $k$ has been written. Operation (ii) writes two 0s. If this is performed $N$ times, then $f(0)=2N$. Operation (i) is performed on a pair of equal numbers, say $x$. The total number of pairs of $x$ that can be formed is $\lfloor f(x)/2 \rfloor$. Each time operation (i) is performed on a pair of $x$'s, the numbers $x+a$ and $x+b$ are written. Thus, the number $k$ can be created from a pair of $(k-a)$'s or from a pair of $(k-b)$'s. The total number of times $k$ is created is the sum of times it's created from $k-a$ and from $k-b$. Therefore, for $k>0$, we have $f(k) = \lfloor f(k-a)/2 \rfloor + \lfloor f(k-b)/2 \rfloor$. Since $a, b > 0$, no negative numbers are ever created, so $f(k)=0$ for $k<0$.","For a sequence of non-negative integers $f(k)$ satisfying $f(k) \ge \frac{f(k-a)+f(k-b)}{2}-1$ for $k>0$, and for any integer $x$ expressible as $x = sa+tb$ with non-negative integers $s, t$, prove by induction on $s+t$ that $f(x) > \frac{f(0)}{2^{s+t}} - 2$.","We prove the statement by induction on $v=s+t$. Base case ($v=0$): $s=t=0$, so $x=0$. The inequality is $f(0) > f(0)/2^0 - 2$, which is $f(0) > f(0) - 2$, a true statement. Inductive step: Assume the inequality holds for all $s,t$ with $s+t=v$. Let $x=sa+tb$ with $s+t=v+1$. Assume without loss of generality that $s>0$. The given recurrence implies $f(x) \ge \frac{f(x-a)}{2}-1$ since $f(x-b) \ge 0$. The number $x-a = (s-1)a+tb$ has coefficient sum $(s-1)+t = v$. By the induction hypothesis: $f((s-1)a+tb) > \frac{f(0)}{2^{s+t-1}} - 2$. Substituting this into our inequality for $f(x)$: $f(x) \ge \frac{1}{2} f((s-1)a+tb) - 1 > \frac{1}{2} \left(\frac{f(0)}{2^{s+t-1}} - 2\right) - 1 = \frac{f(0)}{2^{s+t}} - 1 - 1 = \frac{f(0)}{2^{s+t}} - 2$. This completes the induction.","Prove that, no matter how we make the choices in (i), operation (ii) will be performed only finitely many times.","Assume for contradiction that operation (ii) is performed infinitely many times. This means $f(0)=2N$ can be arbitrarily large. Assume $\operatorname{gcd}(a,b)=1$ (otherwise scale all numbers by $\operatorname{gcd}(a,b)$). By the Frobenius Coin Problem, every integer $x > n=ab-a-b$ can be written as $x=sa+tb$ for non-negative integers $s,t$. For any such $x$, the sum $s+t$ is bounded, say by some constant $K_x$. From sub-problem 2, $f(x) > \frac{f(0)}{2^{s+t}} - 2$. We can choose $N$ large enough such that for a set of consecutive integers, e.g., $x \in \{n+1, \dots, n+b\}$, we have $f(x) > 2$, which implies $f(x) \ge 3$. Now we show by induction that $f(k) \ge 2$ for all $k > n$. The base cases are $k=n+1, \dots, n+b$. For $k > n+b$, we have $k-a > n$ and $k-b > n$. By the induction hypothesis, $f(k-a) \ge 2$ and $f(k-b) \ge 2$. Using the recurrence from sub-problem 1: $f(k) = \lfloor f(k-a)/2 \rfloor + \lfloor f(k-b)/2 \rfloor \ge \lfloor 2/2 \rfloor + \lfloor 2/2 \rfloor = 2$. Thus, $f(k) \ge 2$ for all $k > n$. This implies that an infinite number of integers have been written on the board. However, at any finite stage of the process, only a finite number of operations have occurred, so only a finite number of integers can have been written. This is a contradiction. Therefore, operation (ii) must be performed only a finite number of times.",,
2018c7,"Consider 2018 pairwise crossing circles no three of which are concurrent. These circles subdivide the plane into regions bounded by circular edges that meet at vertices. Notice that there are an even number of vertices on each circle. Given the circle, alternately colour the vertices on that circle red and blue. In doing so for each circle, every vertex is coloured twice once for each of the two circles that cross at that point. If the two colourings agree at a vertex, then it is assigned that colour; otherwise, it becomes yellow. Show that, if some circle contains at least 2061 yellow points, then the vertices of some region are all yellow.",4,"Let two circles in the configuration cross at vertices $x$ and $y$. Show that $x$ and $y$ are either both yellow or both non-yellow. Also, let three distinct circles define a triangular region with vertices $v_1, v_2, v_3$. Show that the number of yellow vertices in the set $\{v_1, v_2, v_3\}$ is odd.","For the first part, the numbers of vertices on the two arcs between $x$ and $y$ on one circle have the same parity as the corresponding arcs on the other circle. Since coloring is alternate, the relationship between colors assigned at $x$ and $y$ is the same for both circles, so their agreement status (yellow or not) is identical. For the second part, consider the colors assigned to each vertex $v_i$ by the two circles forming it. The total number of color changes around the cycle of these six color assignments is even, which implies that the number of vertices where the two colors disagree (i.e., yellow vertices) must be odd.","Suppose a given circle $C$ has $k$ yellow vertices, with $n=2018$ total circles. Using the properties from Part 1, establish a lower bound on the total number of yellow vertices, showing it is at least $\frac{k^{2}}{2}-(n-2) k+(n-2)(n-1)$.","From Part 1, the $k$ yellow vertices on $C$ must come in pairs, so $k$ is even. These vertices arise from intersections with a set of $k/2$ circles. The remaining $n-1-k/2$ circles intersect $C$ at non-yellow points. Applying the second property from Part 1 to a vertex formed by two circles from the latter set and a vertex on $C$ shows that the intersection of those two circles must be yellow. A similar argument applies to the first set. Summing the yellow vertices on $C$ ($k$), those from pairs of circles in the first set ($2\binom{k/2}{2}$), and those from pairs in the second set ($2\binom{n-1-k/2}{2}$) gives a lower bound that simplifies to the stated expression.","Assuming that every region in the plane subdivision has at least one non-yellow vertex, show that the total number of yellow vertices is at most $n(n-1)/2 - 1$, where $n=2018$.","By tracing the boundary of any region, we see that the colors of non-yellow vertices must alternate. Therefore, any region must have an even number of non-yellow vertices. The assumption implies each region has at least two. The total number of vertices is $V=n(n-1)$ and regions is $F=n(n-1)+2$. Since each vertex has degree 4, a vertex-face incidence count shows that the total number of non-yellow vertices is at least $2F/4 = F/2 = n(n-1)/2+1$. The number of yellow vertices is then at most $V - (n(n-1)/2+1) = n(n-1)/2-1$.","Consider 2018 pairwise crossing circles no three of which are concurrent. These circles subdivide the plane into regions bounded by circular edges that meet at vertices. Notice that there are an even number of vertices on each circle. Given the circle, alternately colour the vertices on that circle red and blue. In doing so for each circle, every vertex is coloured twice once for each of the two circles that cross at that point. If the two colourings agree at a vertex, then it is assigned that colour; otherwise, it becomes yellow. Show that, if some circle contains at least 2061 yellow points, then the vertices of some region are all yellow.","Let $n=2018$. We prove the contrapositive: if every region has at least one non-yellow vertex, then every circle has at most 2060 yellow points. Assume every region has a non-yellow vertex. By Part 3, the total number of yellow vertices is at most $n(n-1)/2 - 1$. If a circle has $k$ yellow vertices, by Part 2 the total is at least $\frac{k^{2}}{2}-(n-2) k+(n-2)(n-1)$. Combining these gives the inequality $\frac{k^{2}}{2}-(n-2) k+(n-2)(n-1) \\le n(n-1)/2-1$. For $n=2018$, solving for $k$ gives $k \\le n+\\lfloor\\sqrt{n-2}\rfloor-2 = 2018 + 44 - 2 = 2060$. This contradicts the premise that a circle has at least 2061 yellow points. Thus, the assumption is false, and some region must be all yellow."
2018g1,"Let $A B C$ be an acute-angled triangle with circumcircle $\Gamma$. Let $D$ and $E$ be points on the segments $A B$ and $A C$, respectively, such that $A D=A E$. The perpendicular bisectors of the segments $B D$ and $C E$ intersect the small arcs $\wideparen{A B}$ and $\widetilde{A C}$ at points $F$ and $G$ respectively. Prove that $D E \| F G$.",2,"Let $\Gamma$ be the circumcircle of $\triangle ABC$. Let $F$ be a point on arc $\wideparen{AB}$ and $D$ be a point on segment $AB$ such that $F$ lies on the perpendicular bisector of $BD$. Let $K$ be the second intersection of line $FD$ with $\Gamma$. Prove that $\wideparen{AF} = \wideparen{BF} + \wideparen{AK}$ and $AK=AD$. Symmetrically, if $G$ is on arc $\wideparen{AC}$ and $E$ is on segment $AC$ such that $G$ is on the perpendicular bisector of $CE$, and $L$ is the second intersection of line $GE$ with $\Gamma$, then $\wideparen{AG} = \wideparen{CG} + \wideparen{AL}$ and $AL=AE$.","Since F is on the perpendicular bisector of BD, triangle FBD is isosceles with FB = FD, so $\angle FBD = \angle FDB$. By the inscribed angle theorem, $\angle FBD = \angle ABF = \frac{1}{2}\text{measure}(\wideparen{AF})$. By the formula for the angle of intersecting chords (or secants from an interior point), $\angle FDB = \frac{1}{2}(\text{measure}(\wideparen{BF}) + \text{measure}(\wideparen{AK}))$. Equating these gives $\wideparen{AF} = \wideparen{BF} + \wideparen{AK}$. For the second part, note that $\angle AKD = \angle AKF = \angle ABF$ (angles subtended by the same arc $\wideparen{AF}$), and $\angle ADK = \angle FDB$. Since $\angle ABF = \angle FDB$, we have $\angle AKD = \angle ADK$. Thus, triangle ADK is isosceles with $AK=AD$. The same argument applies symmetrically to points G, E, C and L, yielding $\wideparen{AG} = \wideparen{CG} + \wideparen{AL}$ and $AL=AE$.","Let $A B C$ be an acute-angled triangle with circumcircle $\Gamma$. Let $D$ and $E$ be points on the segments $A B$ and $A C$, respectively, such that $A D=A E$. The perpendicular bisectors of the segments $B D$ and $C E$ intersect the small arcs $\wideparen{A B}$ and $\widetilde{A C}$ at points $F$ and $G$ respectively. Prove that $D E \| F G$.","Let $P$ be the midpoint of the arc $\wideparen{BC}$ not containing $A$. The line $AP$ is the angle bisector of $\angle BAC$. Since $AD=AE$, $\triangle ADE$ is isosceles, so its angle bisector $AP$ is also an altitude, which means $AP \perp DE$. To prove $DE \| FG$, we can prove $AP \perp FG$. The chords $AP$ and $FG$ are perpendicular if the sum of the arcs they intercept is $180^\circ$, i.e., $\text{measure}(\wideparen{AF}) + \text{measure}(\wideparen{PG}) = 180^\circ$. The entire circle measures $360^\circ = (\wideparen{AF} + \wideparen{PG}) + (\wideparen{AG} + \wideparen{FP})$. So, it is sufficient to prove $\wideparen{AF} + \wideparen{PG} = \wideparen{AG} + \wideparen{FP}$. As $P$ is the midpoint of arc $\wideparen{BC}$, $\wideparen{PB} = \wideparen{PC}$. The equality is then equivalent to $\wideparen{AF} + \wideparen{CG} = \wideparen{AG} + \wideparen{BF}$. Using the results from the first sub-problem and the given $AD=AE$, we have $\wideparen{AK} = \wideparen{AL}$. Substituting $\wideparen{AF} = \wideparen{BF} + \wideparen{AK}$ and $\wideparen{AG} = \wideparen{CG} + \wideparen{AL}$ into the desired equality gives $(\wideparen{BF} + \wideparen{AK}) + \wideparen{CG} = (\wideparen{CG} + \wideparen{AL}) + \wideparen{BF}$, which is true since $\wideparen{AK} = \wideparen{AL}$. Thus $AP \perp FG$, and therefore $DE \| FG$.",,,,
2018g2,"Let $A B C$ be a triangle with $A B=A C$, and let $M$ be the midpoint of $B C$. Let $P$ be a point such that $P B<P C$ and $P A$ is parallel to $B C$. Let $X$ and $Y$ be points on the lines $P B$ and $P C$, respectively, so that $B$ lies on the segment $P X, C$ lies on the segment $P Y$, and $\angle P X M=\angle P Y M$. Prove that the quadrilateral $A P X Y$ is cyclic.",2,Let $Z$ be the point of intersection of the line $AM$ and the line perpendicular to $PC$ at $Y$. Prove that $\angle PXZ = 90^{\circ}$.,"Since $AM$ is the perpendicular bisector of $BC$, $\angle CMZ=90^\circ$. By definition of $Z$, $\angle CYZ=90^\circ$. Thus, quadrilateral $CYZM$ is cyclic, which implies $\angle CZM = \angle CYM$. By the problem statement, $\angle CYM = \angle PYM = \angle PXM = \angle BXM$. By symmetry with respect to the line $AM$ (which contains $Z$), $\angle CZM = \angle BZM$. Therefore, we have $\angle BXM = \angle BZM$. This implies that the quadrilateral $BXZM$ is cyclic. In cyclic quadrilateral $BXZM$, opposite angles sum to $180^\circ$, so $\angle BXZ = 180^\circ - \angle BMZ$. Since $AM \perp BC$, $\angle BMZ = 90^\circ$. Thus, $\angle PXZ = 90^\circ$.",Prove that the quadrilateral $APXY$ is cyclic.,"Let $Z$ be the point of intersection of the line $AM$ and the line perpendicular to $PC$ at $Y$. From the previous sub-problem, we have established that $\angle PXZ = 90^\circ$. By the definition of $Z$, $\angle PYZ = 90^\circ$. Since $PA \parallel BC$ and $AM \perp BC$, it follows that $PA \perp AM$. As $Z$ lies on the line $AM$, we have $\angle PAZ = 90^\circ$. The points $A$, $X$, and $Y$ all subtend a right angle with the segment $PZ$ (i.e., $\angle PAZ = \angle PXZ = \angle PYZ = 90^\circ$). This means $A$, $X$, and $Y$ all lie on the circle with diameter $PZ$. Therefore, the points $P, A, X, Y$ are concyclic, which proves that the quadrilateral $APXY$ is cyclic.",,,,
2018g4,"A point $T$ is chosen inside a triangle $A B C$. Let $A_{1}, B_{1}$, and $C_{1}$ be the reflections of $T$ in $B C, C A$, and $A B$, respectively. Let $\Omega$ be the circumcircle of the triangle $A_{1} B_{1} C_{1}$. The lines $A_{1} T, B_{1} T$, and $C_{1} T$ meet $\Omega$ again at $A_{2}, B_{2}$, and $C_{2}$, respectively. Prove that the lines $A A_{2}, B B_{2}$, and $C C_{2}$ are concurrent on $\Omega$.",4,Let $A_1$ and $B_1$ be the reflections of a point $T$ across lines $BC$ and $AC$ respectively. Prove that vertex $C$ is the circumcenter of the triangle $TA_1B_1$.,"By the definition of reflection, any point on the line of reflection is equidistant from the original point and its image. Since $A_1$ is the reflection of $T$ across the line $BC$, and $C$ is a point on $BC$, we have $CT = CA_1$. Similarly, since $B_1$ is the reflection of $T$ across the line $AC$, and $C$ is on $AC$, we have $CT = CB_1$. Therefore, $CT = CA_1 = CB_1$, which proves that $C$ is the circumcenter of triangle $TA_1B_1$.","Using directed angles modulo $180^{\circ}$, prove the equalities $\Varangle(CA_1, CB) = \Varangle(C_2A_1, C_2B_2)$ and $\Varangle(BA_1, BC) = \Varangle(B_2A_1, B_2C_2)$.","Since $C$ is the circumcenter of $\triangle TA_1B_1$ (from Sub-problem 1), and $BC$ is the perpendicular bisector of $TA_1$, $CB$ is the angle bisector of $\angle TCA_1$. Thus, $\Varangle(CA_1, CB) = \Varangle(CB, CT)$. From the circle through $T, A_1, B_1$ centered at $C$, we have $\Varangle(CB, CT) = \Varangle(B_1A_1, B_1T)$. As $B_1, T, B_2$ are collinear, $\Varangle(B_1A_1, B_1T) = \Varangle(B_1A_1, B_1B_2)$. Since $A_1, B_1, B_2, C_2$ are concyclic on $\Omega$, $\Varangle(B_1A_1, B_1B_2) = \Varangle(C_2A_1, C_2B_2)$. Chaining these equalities gives the first result. The second equality follows by a symmetrical argument for vertex B.","Show that $\triangle A_1BC$ and $\triangle A_1B_2C_2$ are similar and equioriented, and deduce that $\Varangle(C_2C, C_2A_1) = \Varangle(B_2B, B_2A_1)$.","From the previous step, we have $\Varangle(BC, A_1C) = \Varangle(B_2C_2, A_1C_2)$ and $\Varangle(A_1B, BC) = \Varangle(A_1B_2, B_2C_2)$. Summing these gives $\Varangle(A_1B, A_1C) = \Varangle(A_1B_2, A_1C_2)$. The angle equalities at all three vertices show that $\triangle A_1BC$ and $\triangle A_1B_2C_2$ are similar and equioriented. This implies a spiral similarity centered at $A_1$. Thus, $\triangle A_1BB_2$ is also similar to $\triangle A_1CC_2$. Equating corresponding angles gives $\Varangle(A_1B_2B) = \Varangle(A_1C_2C)$, which is equivalent to $\Varangle(B_2B, B_2A_1) = \Varangle(C_2C, C_2A_1)$.","A point $T$ is chosen inside a triangle $A B C$. Let $A_{1}, B_{1}$, and $C_{1}$ be the reflections of $T$ in $B C, C A$, and $A B$, respectively. Let $\Omega$ be the circumcircle of the triangle $A_{1} B_{1} C_{1}$. The lines $A_{1} T, B_{1} T$, and $C_{1} T$ meet $\Omega$ again at $A_{2}, B_{2}$, and $C_{2}$, respectively. Prove that the lines $A A_{2}, B B_{2}$, and $C C_{2}$ are concurrent on $\Omega$.","Let $K$ be the second intersection of the line $CC_2$ with the circle $\Omega$. To prove concurrency, we show that $K$ also lies on line $BB_2$. Since $A_1, B_2, C_2, K$ are on $\Omega$, the inscribed angle theorem gives $\Varangle(KC_2, C_2A_1) = \Varangle(KB_2, B_2A_1)$. From the previous sub-problem, we know $\Varangle(C_2C, C_2A_1) = \Varangle(B_2B, B_2A_1)$. Since line $C_2C$ is the same as line $KC_2$, we can equate the expressions to get $\Varangle(KB_2, B_2A_1) = \Varangle(B_2B, B_2A_1)$. This implies that the lines $KB_2$ and $BB_2$ are the same. Thus, $K$ lies on $BB_2$. By symmetry, $K$ must also lie on $AA_2$. Therefore, the lines $AA_2, BB_2, CC_2$ are concurrent at point $K$ on $\Omega$."
2018g5,"Let $A B C$ be a triangle with circumcircle $\omega$ and incentre $I$. A line $\ell$ intersects the lines $A I, B I$, and $C I$ at points $D, E$, and $F$, respectively, distinct from the points $A, B, C$, and $I$. The perpendicular bisectors $x, y$, and $z$ of the segments $A D, B E$, and $C F$, respectively determine a triangle $\Theta$. Show that the circumcircle of the triangle $\Theta$ is tangent to $\omega$.",4,"Let $X_0, Y_0, Z_0$ be the second intersection points of lines $AI, BI, CI$ with the circumcircle $\omega$. Let $\Theta=XYZ$ be the triangle formed by the perpendicular bisectors $x, y, z$ of segments $AD, BE, CF$ respectively, where $X = y \cap z, Y = z \cap x, Z = x \cap y$. Show that triangle $XYZ$ is homothetic to triangle $X_0Y_0Z_0$.","The line $x$, the perpendicular bisector of $AD$, is perpendicular to line $AI$. It is a known property that the line $Y_0Z_0$ is the perpendicular bisector of the segment $AI$, so it is also perpendicular to $AI$. Therefore, $x$ is parallel to $Y_0Z_0$. Similarly, $y \parallel Z_0X_0$ and $z \parallel X_0Y_0$. The sides of $\triangle XYZ$ lie on lines $x,y,z$. Since the corresponding sides of $\triangle XYZ$ and $\triangle X_0Y_0Z_0$ are parallel, the two triangles are homothetic.","Let $\\ell_a, \\ell_b, \\ell_c$ be the reflections of the line $\\ell$ in the lines $x, y, z$, respectively. Show that these three lines are concurrent at a point $T$ which lies on the circumcircle $\\omega$.","Using directed angles, the angle between reflections $\\ell_b$ and $\\ell_c$ is $\\Varangle(\\ell_b, \\ell_c) = 2\\Varangle(y, z)$. Since $y \\perp BI$ and $z \\perp CI$, this angle is $2\\Varangle(BI, CI)$, which is equal to the known identity $\\Varangle(BA, AC)$. By definition of reflection, point $A$ is on $\\ell_a$, $B$ on $\\ell_b$, and $C$ on $\\ell_c$. The condition $\\Varangle(\\ell_b, \\ell_c) = \\Varangle(BA, AC)$ implies that the intersection of $\\ell_b$ and $\\ell_c$ lies on $\\omega$. By symmetry, the intersection of any pair of these lines lies on $\\omega$. Assuming the lines are not parallel, they must concur at a single point $T$ on $\\omega$.","Let $T$ be the point of concurrence of $\\ell_a, \\ell_b, \\ell_c$. Show that $T$ is the perspector of triangles $XYZ$ and $X_0Y_0Z_0$, meaning the lines $XX_0, YY_0, ZZ_0$ all pass through $T$.","We prove the collinearity of $X, X_0, T$; the others follow by symmetry. Let $D_b$ and $D_c$ be the reflections of point $D$ in lines $y$ and $z$. The points $X, D_b, T, D_c$ are concyclic. Through a chain of directed angle equalities, we can establish that $\\Varangle(\\ell_b, XT) = \\Varangle(\\ell_b, X_0T)$. This is achieved by showing $\\Varangle(\\ell_b, XT) = 90^\\circ + \\Varangle(BI, CI) = \\Varangle(BA, AI) = \\Varangle(BT, TX_0) = \\Varangle(\\ell_b, TX_0)$. This equality of angles proves that $X, T, X_0$ are collinear.",Let $\\Omega$ be the circumcircle of triangle $\\Theta=XYZ$. Show that $\\Omega$ is tangent to the circumcircle $\\omega$ of triangle $ABC$.,"From sub-problem 1, $\triangle XYZ$ and $\triangle X_0Y_0Z_0$ are homothetic. From sub-problem 3, the lines joining corresponding vertices, $XX_0, YY_0, ZZ_0$, concur at point $T$. Therefore, $T$ is the center of the homothety that maps $\triangle X_0Y_0Z_0$ to $\triangle XYZ$. This homothety also maps the circumcircle of $\triangle X_0Y_0Z_0$, which is $\\omega$, to the circumcircle of $\triangle XYZ$, which is $\\Omega$. From sub-problem 2, the center of homothety $T$ lies on $\\omega$. When the center of a homothety mapping one circle to another lies on the first circle, the circles must be tangent at that center. Thus, $\\Omega$ and $\\omega$ are tangent at $T$."
2018g6,A convex quadrilateral $A B C D$ satisfies $A B \cdot C D=B C \cdot D A$. A point $X$ is chosen inside the quadrilateral so that $\angle X A B=\angle X C D$ and $\angle X B C=\angle X D A$. Prove that $\angle A X B+$ $\angle C X D=180^{\circ}$.,4,"Assume $\\angle AXB + \\angle CXD \neq 180^\\circ$. Let $B'$ be the reflection of $B$ across the angle bisector of $\\angle AXC$, so $X, D, B'$ are not collinear. Construct a point $E$ on the ray $XB'$ such that $XE \\cdot XB = XA \\cdot XC$. Prove that this implies $\triangle AXE \\sim \triangle BXC$ and $\triangle CXE \\sim \triangle BXA$, and consequently that $\\angle XAE = \\angle XDA$ and $\\angle XEC = \\angle XCD$.","By construction, $XA/XB = XE/XC$. Since $E$ is on ray $XB'$ and $B'$ is the reflection of $B$ across the angle bisector of $\\angle AXC$, we have $\\angle AXE = \\angle AXB' = \\angle CXB$. Thus, by SAS similarity, $\triangle AXE \\sim \triangle BXC$. This implies $XC/XE = XB/XA$ and $\\angle CXE = \\angle BXA$ (since they are corresponding angles in a spiral similarity around $X$). Thus, $\triangle CXE \\sim \triangle BXA$. From these similarities and the problem's given angle conditions: $\\angle XAE = \\angle XBC = \\angle XDA$, and $\\angle XEC = \\angle XAB = \\angle XCD$.","Using the similarities from Sub-problem 1 ($\triangle AXE \sim \triangle BXC$ and $\triangle CXE \sim \triangle BXA$) and the given condition $AB \\cdot CD = BC \\cdot DA$, prove the equality $\frac{XA \\cdot DE}{AD \\cdot AE} = \frac{XC \\cdot DE}{CD \\cdot CE}$.","From $\triangle AXE \\sim \triangle BXC$, we get $AE/BC = XA/XB$, which gives $XA \\cdot BC = XB \\cdot AE$. From $\triangle CXE \\sim \triangle BXA$, we get $CE/AB = XC/XB$, which gives $XB \\cdot CE = XC \\cdot AB$. Multiplying these gives $XA \\cdot BC \\cdot CE = XC \\cdot AE \\cdot AB$. The given condition $AB \\cdot CD = BC \\cdot DA$ can be written as $BC/AB = DA/CD$. Substituting this into the previous equation gives $XA \\cdot (DA/CD) \\cdot CE = XC \\cdot AE$. This rearranges to $XA \\cdot DA \\cdot CE = XC \\cdot AE \\cdot CD$, which is equivalent to $\frac{XA}{AE \\cdot AD} = \frac{XC}{CE \\cdot CD}$. Multiplying both sides by $DE$ gives the desired equality.",Let $PQR$ be a triangle and $X$ be a point in the interior of $\\angle QPR$ such that $\\angle QPX = \\angle PRX$. Prove that $X$ lies in the interior of $\triangle PQR$ if and only if $\frac{PX \\cdot QR}{PQ \\cdot PR} < 1$.,"The locus of points $X$ satisfying the angle condition is an arc of a circle $\\gamma$ through $R$ and tangent to $PQ$ at $P$. Let $\\gamma$ intersect line $QR$ at $Y$ (other than $R$). The similarity $\triangle QPY \\sim \triangle QRP$ gives $PY/RP = PQ/QR$, which means $PY = \frac{PQ \\cdot PR}{QR}$. The inequality is thus equivalent to $PX < PY$. A geometric analysis on the position of $Y$ with respect to the segment $QR$ shows that $X$ lies on the arc segment inside $\triangle PQR$ if and only if $PX < PY$.",A convex quadrilateral $A B C D$ satisfies $A B \\cdot C D=B C \\cdot D A$. A point $X$ is chosen inside the quadrilateral so that $\\angle X A B=\\angle X C D$ and $\\angle X B C=\\angle X D A$. Prove that $\\angle A X B+\\angle C X D=180^{\\circ}$.,"Assume, for contradiction, that $\\angle AXB + \\angle CXD \neq 180^\\circ$. Following the construction in Sub-problem 1, we established angle equalities $\\angle XAE = \\angle XDA$ and $\\angle XEC = \\angle XCD$. Sub-problem 2 gives the equality $\frac{XA \\cdot DE}{AD \\cdot AE} = \frac{XC \\cdot DE}{CD \\cdot CE}$. Point $X$ lies inside quadrilateral $EADC$, so it must lie inside exactly one of $\triangle EAD$ or $\triangle ECD$. Applying Sub-problem 3 to $\triangle ADE$ (using $\\angle XAE = \\angle XDA$) and to $\triangle CDE$ (using $\\angle XEC = \\angle XCD$), we find that being inside one triangle but not the other means exactly one of the expressions $\frac{XA \\cdot DE}{AE \\cdot AD}$ and $\frac{XC \\cdot DE}{CD \\cdot CE}$ is less than 1. This contradicts their established equality. The assumption is false, so $\\angle AXB + \\angle CXD = 180^\\circ$."
2018g7,"Let $O$ be the circumcentre, and $\Omega$ be the circumcircle of an acute-angled triangle $A B C$. Let $P$ be an arbitrary point on $\Omega$, distinct from $A, B, C$, and their antipodes in $\Omega$. Denote the circumcentres of the triangles $A O P, B O P$, and $C O P$ by $O_{A}, O_{B}$, and $O_{C}$, respectively. The lines $\ell_{A}, \ell_{B}$, and $\ell_{C}$ perpendicular to $B C, C A$, and $A B$ pass through $O_{A}, O_{B}$, and $O_{C}$, respectively. Prove that the circumcircle of the triangle formed by $\ell_{A}, \ell_{B}$, and $\ell_{C}$ is tangent to the line $O P$.",1,"Let $O$ be the circumcentre, and $\Omega$ be the circumcircle of an acute-angled triangle $A B C$. Let $P$ be an arbitrary point on $\Omega$, distinct from $A, B, C$, and their antipodes in $\Omega$. Denote the circumcentres of the triangles $A O P, B O P$, and $C O P$ by $O_{A}, O_{B}$, and $O_{C}$, respectively. The lines $\ell_{A}, \ell_{B}$, and $\ell_{C}$ perpendicular to $B C, C A$, and $A B$ pass through $O_{A}, O_{B}$, and $O_{C}$, respectively. Prove that the circumcircle of the triangle formed by $\ell_{A}, \ell_{B}$, and $\ell_{C}$ is tangent to the line $O P$.","Solution. As usual, we denote the directed angle between the lines $a$ and $b$ by $\Varangle(a, b)$. We frequently use the fact that $a_{1} \perp a_{2}$ and $b_{1} \perp b_{2}$ yield $\Varangle\left(a_{1}, b_{1}\right)=\Varangle\left(a_{2}, b_{2}\right)$.

Let the lines $\ell_{B}$ and $\ell_{C}$ meet at $L_{A}$; define the points $L_{B}$ and $L_{C}$ similarly. Note that the sidelines of the triangle $L_{A} L_{B} L_{C}$ are perpendicular to the corresponding sidelines of $A B C$. Points $O_{A}, O_{B}, O_{C}$ are located on the corresponding sidelines of $L_{A} L_{B} L_{C}$; moreover, $O_{A}, O_{B}$, $O_{C}$ all lie on the perpendicular bisector of $O P$.\\
\includegraphics[max width=\textwidth, center]{2025_04_29_323b76634e0bd94edb63g-54}

Claim 1. The points $L_{B}, P, O_{A}$, and $O_{C}$ are concyclic.\\
Proof. Since $O$ is symmetric to $P$ in $O_{A} O_{C}$, we have

$$
\Varangle\left(O_{A} P, O_{C} P\right)=\Varangle\left(O_{C} O, O_{A} O\right)=\Varangle(C P, A P)=\Varangle(C B, A B)=\Varangle\left(O_{A} L_{B}, O_{C} L_{B}\right) .
$$

Denote the circle through $L_{B}, P, O_{A}$, and $O_{C}$ by $\omega_{B}$. Define the circles $\omega_{A}$ and $\omega_{C}$ similarly.\\
Claim 2. The circumcircle of the triangle $L_{A} L_{B} L_{C}$ passes through $P$.\\
Proof. From cyclic quadruples of points in the circles $\omega_{B}$ and $\omega_{C}$, we have

$$
\begin{aligned}
\Varangle\left(L_{C} L_{A}, L_{C} P\right) & =\Varangle\left(L_{C} O_{B}, L_{C} P\right)=\Varangle\left(O_{A} O_{B}, O_{A} P\right) \\
& =\Varangle\left(O_{A} O_{C}, O_{A} P\right)=\Varangle\left(L_{B} O_{C}, L_{B} P\right)=\Varangle\left(L_{B} L_{A}, L_{B} P\right) .
\end{aligned}
$$

Claim 3. The points $P, L_{C}$, and $C$ are collinear.\\
Proof. We have $\Varangle\left(P L_{C}, L_{C} L_{A}\right)=\Varangle\left(P L_{C}, L_{C} O_{B}\right)=\Varangle\left(P O_{A}, O_{A} O_{B}\right)$. Further, since $O_{A}$ is the centre of the circle $A O P, \Varangle\left(P O_{A}, O_{A} O_{B}\right)=\Varangle(P A, A O)$. As $O$ is the circumcentre of the triangle $P C A, \Varangle(P A, A O)=\pi / 2-\Varangle(C A, C P)=\Varangle\left(C P, L_{C} L_{A}\right)$. We obtain $\Varangle\left(P L_{C}, L_{C} L_{A}\right)=$ $\Varangle\left(C P, L_{C} L_{A}\right)$, which shows that $P \in C L_{C}$.

Similarly, the points $P, L_{A}, A$ are collinear, and the points $P, L_{B}, B$ are also collinear. Finally, the computation above also shows that

$$
\Varangle\left(O P, P L_{A}\right)=\Varangle(P A, A O)=\Varangle\left(P L_{C}, L_{C} L_{A}\right),
$$

which means that $O P$ is tangent to the circle $P L_{A} L_{B} L_{C}$.

Comment 1. The proof of Claim 2 may be replaced by the following remark: since $P$ belongs to the circles $\omega_{A}$ and $\omega_{C}, P$ is the Miquel point of the four lines $\ell_{A}, \ell_{B}, \ell_{C}$, and $O_{A} O_{B} O_{C}$.

Comment 2. Claims 2 and 3 can be proved in several different ways and, in particular, in the reverse order.

Claim 3 implies that the triangles $A B C$ and $L_{A} L_{B} L_{C}$ are perspective with perspector $P$. Claim 2 can be derived from this observation using spiral similarity. Consider the centre $Q$ of the spiral similarity that maps $A B C$ to $L_{A} L_{B} L_{C}$. From known spiral similarity properties, the points $L_{A}, L_{B}, P, Q$ are concyclic, and so are $L_{A}, L_{C}, P, Q$.

Comment 3. The final conclusion can also be proved it terms of spiral similarity: the spiral similarity with centre $Q$ located on the circle $A B C$ maps the circle $A B C$ to the circle $P L_{A} L_{B} L_{C}$. Thus these circles are orthogonal.

Comment 4. Notice that the homothety with centre $O$ and ratio 2 takes $O_{A}$ to $A^{\prime}$ that is the common point of tangents to $\Omega$ at $A$ and $P$. Similarly, let this homothety take $O_{B}$ to $B^{\prime}$ and $O_{C}$ to $C^{\prime}$. Let the tangents to $\Omega$ at $B$ and $C$ meet at $A^{\prime \prime}$, and define the points $B^{\prime \prime}$ and $C^{\prime \prime}$ similarly. Now, replacing labels $O$ with $I, \Omega$ with $\omega$, and swapping labels $A \leftrightarrow A^{\prime \prime}, B \leftrightarrow B^{\prime \prime}, C \leftrightarrow C^{\prime \prime}$ we obtain the following

Reformulation. Let $\omega$ be the incircle, and let $I$ be the incentre of a triangle $A B C$. Let $P$ be a point of $\omega$ (other than the points of contact of $\omega$ with the sides of $A B C$ ). The tangent to $\omega$ at $P$ meets the lines $A B, B C$, and $C A$ at $A^{\prime}, B^{\prime}$, and $C^{\prime}$, respectively. Line $\ell_{A}$ parallel to the internal angle bisector of $\angle B A C$ passes through $A^{\prime}$; define lines $\ell_{B}$ and $\ell_{C}$ similarly. Prove that the line $I P$ is tangent to the circumcircle of the triangle formed by $\ell_{A}, \ell_{B}$, and $\ell_{C}$.

Though this formulation is equivalent to the original one, it seems more challenging, since the point of contact is now ""hidden"".",,,,,,
2018n2,"Let $n>1$ be a positive integer. Each cell of an $n \times n$ table contains an integer. Suppose that the following conditions are satisfied:\\
(i) Each number in the table is congruent to 1 modulo $n$;\\
(ii) The sum of numbers in any row, as well as the sum of numbers in any column, is congruent to $n$ modulo $n^{2}$.

Let $R_{i}$ be the product of the numbers in the $i^{\text {th }}$ row, and $C_{j}$ be the product of the numbers in the $j^{\text {th }}$ column. Prove that the sums $R_{1}+\cdots+R_{n}$ and $C_{1}+\cdots+C_{n}$ are congruent modulo $n^{4}$.",2,"Let $A_{i,j}$ be the entry in the $i$-th row and $j$-th column. Let $R_i = \prod_{j=1}^n A_{i,j}$ be the product of the numbers in the $i$-th row, and $P = \prod_{i=1}^n \prod_{j=1}^n A_{i,j}$ be the product of all numbers in the table. Show that $\sum_{i=1}^{n} R_{i} \equiv n-1+P \pmod{n^{4}}$.","Let $A_{i,j} = 1 + a_{i,j}$. By condition (i), $n \mid a_{i,j}$. Thus, any product of two or more $a_{i,j}$'s is divisible by $n^2$. We have $R_i = \prod_{j=1}^n(1+a_{i,j}) \equiv 1 + \sum_{j=1}^n a_{i,j} \pmod{n^2}$. The sum is $\sum_{j=1}^n a_{i,j} = (\sum_{j=1}^n A_{i,j}) - n$. By condition (ii), $\sum_{j=1}^n A_{i,j} \equiv n \pmod{n^2}$, so $\sum_{j=1}^n a_{i,j} \equiv n-n = 0 \pmod{n^2}$. Therefore, $R_i \equiv 1 \pmod{n^2}$. Let $R_i = 1+r_i$, where $n^2 \mid r_i$. This implies that any product of two or more $r_i$'s is divisible by $n^4$. The product of all entries is $P = \prod_{i=1}^n R_i = \prod_{i=1}^n(1+r_i) \equiv 1 + \sum_{i=1}^n r_i \pmod{n^4}$. This gives $\sum_{i=1}^n r_i \equiv P-1 \pmod{n^4}$. Finally, we have $\sum_{i=1}^n R_i = \sum_{i=1}^n (1+r_i) = n + \sum_{i=1}^n r_i \equiv n + (P-1) = n-1+P \pmod{n^4}$.","Let $n>1$ be a positive integer. Each cell of an $n \times n$ table contains an integer. Suppose that the following conditions are satisfied:\n(i) Each number in the table is congruent to 1 modulo $n$;\n(ii) The sum of numbers in any row, as well as the sum of numbers in any column, is congruent to $n$ modulo $n^{2}$.\nLet $R_{i}$ be the product of the numbers in the $i^{\text {th }}$ row, and $C_{j}$ be the product of the numbers in the $j^{\text {th }}$ column. Prove that the sums $R_{1}+\cdots+R_{n}$ and $C_{1}+\cdots+C_{n}$ are congruent modulo $n^{4}$.","Let $P$ be the product of all $n^2$ entries in the table. From the previous sub-problem, we have established that $\sum_{i=1}^{n} R_{i} \equiv n-1+P \pmod{n^{4}}$. The problem conditions (i) and (ii) are symmetric with respect to rows and columns. Thus, by applying the same logic from the first sub-problem to the columns instead of the rows, we can derive an analogous result for the sum of column products. This gives $\sum_{j=1}^{n} C_{j} \equiv n-1+P \pmod{n^{4}}$. Since both $\sum_{i=1}^{n} R_{i}$ and $\sum_{j=1}^{n} C_{j}$ are congruent to the same quantity, $n-1+P$, modulo $n^4$, they must be congruent to each other. Therefore, $\sum_{i=1}^{n} R_{i} \equiv \sum_{j=1}^{n} C_{j} \pmod{n^{4}}$.",,,,
2018n3,"Define the sequence $a_{0}, a_{1}, a_{2}, \ldots$ by $a_{n}=2^{n}+2^{\lfloor n / 2\rfloor}$. Prove that there are infinitely many terms of the sequence which can be expressed as a sum of (two or more) distinct terms of the sequence, as well as infinitely many of those which cannot be expressed in such a way.",4,"Let $S_{k} = \sum_{i=0}^{k} a_i$. First, find a closed-form expression for $S_{n-1}$. Second, show that for $n \ge 3$, if an integer $b$ satisfies $S_{n-1} - a_n < b < a_n$, then $b$ can be written as a sum of distinct terms from $\{a_0, ..., a_{n-1}\}$ if and only if $S_{n-1} - b$ can be.","A proof by induction shows that $S_{n-1} = 2^n + 2^{\lceil n/2\rceil} + 2^{\lfloor n/2\rfloor} - 3$. For $n \ge 3$, we have $S_{n-1} - a_n = 2^{\lceil n/2\rceil} - 3 > 0$, so $a_n < S_{n-1}$. If $b$ is a sum of a subset of terms from $\{a_0, \dots, a_{n-1}\}$, then $S_{n-1}-b$ is the sum of the terms in the complementary subset. Since $b < a_n$, any representation of $b$ as a sum of distinct terms of the sequence can only use terms from $\{a_0, \dots, a_{n-1}\}$. The same holds for $S_{n-1}-b$ because $S_{n-1}-b > S_{n-1}-a_n > 0$. The equivalence follows.","Let an integer be 'representable' if it is a sum of distinct terms from the sequence $\{a_i\}$. Show that for $n \ge 3$, the term $a_n$ can be expressed as a sum of two or more distinct terms of the sequence if and only if the number $2^{\lceil n/2 \rceil} - 3$ is representable.","A term $a_n$ is a sum of two or more other distinct terms if and only if it is a sum of a subset of $\{a_0, \dots, a_{n-1}\}$. This is equivalent to $S_{n-1} - a_n$ being representable by a sum of terms from the complementary subset. As $a_n < S_{n-1}$, the complement is non-empty. Using the formula from sub-problem 1, $S_{n-1} - a_n = (2^n + 2^{\lceil n/2\rceil} + 2^{\lfloor n/2\rfloor} - 3) - (2^n + 2^{\lfloor n/2\rfloor}) = 2^{\lceil n/2\rceil} - 3$. As $a_n$ is strictly greater than any $a_i$ for $i<n$, its representation must involve at least two terms. Thus, the condition is equivalent to $2^{\lceil n/2\rceil} - 3$ being representable.","Let 'representable' mean being a sum of distinct terms of the sequence $\{a_i\}$. Prove that for any integer $t \ge 3$, the number $2^t - 3$ is representable if and only if the number $2^{4t-6} - 3$ is representable.","We use the property from sub-problem 1 twice. First, for $n=2t-2$ (and $t \ge 3$), we have $S_{2t-3}-a_{2t-2} = 2^{t-1}-3 < 2^t-3 < a_{2t-2}$. Thus, $2^t-3$ is representable if and only if $S_{2t-3}-(2^t-3) = 2^{2t-2}$ is representable. Second, for $n=4t-6$, we have $S_{4t-7}-a_{4t-6} = 2^{2t-3}-3 < 2^{2t-2} < a_{4t-6}$. Thus, $2^{2t-2}$ is representable if and only if $S_{4t-7}-2^{2t-2} = 2^{4t-6}-3$ is representable. Combining these two equivalences proves the claim.","Prove that there are infinitely many terms of the sequence $a_{n}=2^{n}+2^{\lfloor n / 2\rfloor}$ which can be expressed as a sum of (two or more) distinct terms of the sequence, as well as infinitely many of those which cannot be expressed in such a way.","By sub-problem 2, this is equivalent to finding infinitely many integers $t$ for which $2^t-3$ is representable, and infinitely many for which it is not. Sub-problem 3 provides a map $f(t)=4t-6$ which preserves representability and satisfies $f(t)>t$ for $t>2$. This allows generating infinite sequences with the same representability property from a single seed. 
1. Representable terms: For $t=3$, $2^3-3=5$. Since $a_0+a_1=2+3=5$, $5$ is representable. The sequence $t_0=3, t_{k+1}=f(t_k)$ yields an infinite sequence of $t$ values for which $2^t-3$ is representable, corresponding to an infinite set of representable terms $a_n$ (e.g., those with $\lceil n/2\rceil=t_k$).
2. Non-representable terms: For $t=7$, $2^7-3=125$. Using sub-problem 1, $125$ is representable iff $S_6-125=24$ is, which is representable iff $S_4-24=17$ is, which is representable iff $S_3-17=4$ is. Since the terms of the sequence are $2, 3, 5, \dots$, $4$ is not representable as a sum of distinct terms. Thus, $125$ is not representable. The sequence $t_0=7, t_{k+1}=f(t_k)$ gives an infinite sequence of non-representable numbers $2^{t_k}-3$, corresponding to an infinite set of non-representable terms $a_n$."
2018n4,"Let $a_{1}, a_{2}, \ldots, a_{n}, \ldots$ be a sequence of positive integers such that

$$
\frac{a_{1}}{a_{2}}+\frac{a_{2}}{a_{3}}+\cdots+\frac{a_{n-1}}{a_{n}}+\frac{a_{n}}{a_{1}}
$$

is an integer for all $n \geqslant k$, where $k$ is some positive integer. Prove that there exists a positive integer $m$ such that $a_{n}=a_{n+1}$ for all $n \geqslant m$.",2,"Let $a, b, c$ be positive integers such that $N = \frac{b}{c} + \frac{c-b}{a}$ is an integer. Prove that: (1) If $\operatorname{gcd}(a, c) = 1$, then $c$ divides $b$. (2) If $\operatorname{gcd}(a, b, c) = 1$, then $\operatorname{gcd}(a, b) = 1$.","To prove (1), we rewrite the equation as $aN = ab/c + c - b$, which gives $c(aN + b - c) = ab$. Since $c$ divides the left side and $\operatorname{gcd}(a, c) = 1$, it follows that $c$ must divide $b$. To prove (2), rewrite the equation as $a(cN - b) = c^2 - bc$. This implies that $a$ divides $c^2 - bc$. Let $d = \operatorname{gcd}(a, b)$. Then $d$ divides $a$ and $b$, so $d$ must divide $c^2$. Since $d$ is a common divisor of $a$ and $b$, and $\operatorname{gcd}(a, b, c) = 1$, it follows that $\operatorname{gcd}(d, c) = 1$. As $d$ divides $c^2$ and is coprime to $c$, we must have $d=1$, which means $\operatorname{gcd}(a, b) = 1$.","Let $a_{1}, a_{2}, \ldots, a_{n}, \ldots$ be a sequence of positive integers such that $\frac{a_{1}}{a_{2}}+\frac{a_{2}}{a_{3}}+\cdots+\frac{a_{n-1}}{a_{n}}+\frac{a_{n}}{a_{1}}$ is an integer for all $n \geqslant k$, where $k$ is some positive integer. Prove that there exists a positive integer $m$ such that $a_{n}=a_{n+1}$ for all $n \geqslant m$.","Let $s_n$ be the given sum. For $n \ge k$, the difference $s_{n+1} - s_n = \frac{a_n}{a_{n+1}} + \frac{a_{n+1}-a_n}{a_1}$ is an integer. Let $d_n = \operatorname{gcd}(a_1, a_n)$. Applying the results from the first sub-problem to $a=a_1, b=a_n, c=a_{n+1}$ (after dividing all terms by $\delta_n = \operatorname{gcd}(a_1, a_n, a_{n+1})$), we first deduce from part (2) that $d_n = \delta_n$. This implies $d_n$ divides $a_{n+1}$. Since $d_n$ also divides $a_1$, it must divide $d_{n+1} = \operatorname{gcd}(a_1, a_{n+1})$. Thus, $(d_n)_{n \ge k}$ is a non-decreasing sequence of integers bounded by $a_1$, so it must be eventually constant, say $d_n=d$ for $n \ge \ell$. For $n \ge \ell$, we have $\operatorname{gcd}(a_1/d, a_{n+1}/d)=1$. Applying part (1) of the first sub-problem to $a=a_1/d, b=a_n/d, c=a_{n+1}/d$, we find that $a_{n+1}/d$ divides $a_n/d$, which means $a_{n+1}$ divides $a_n$. Thus, for $n \ge \ell$, $(a_n)$ is a non-increasing sequence of positive integers. Such a sequence must eventually be constant. Therefore, there is an $m$ such that $a_n = a_{n+1}$ for all $n \ge m$.",,,,
2018n6,"Let $f:\{1,2,3, \ldots\} \rightarrow\{2,3, \ldots\}$ be a function such that $f(m+n) \mid f(m)+f(n)$ for all pairs $m, n$ of positive integers. Prove that there exists a positive integer $c>1$ which divides all values of $f$.",4,"Let $S_m = \{n \\in \\mathbb{Z}^+ : m \\mid f(n)\}$. Prove that if $S_m$ is infinite for some integer $m>1$, then there exists a positive integer $d$ such that $S_m = \{kd : k \\in \\mathbb{Z}^+\}$.","Let $d = \\min S_m$. First, we prove $S_m \\subseteq d\\mathbb{Z}^+$. Let $n \\in S_m$. If $n>d$, from the given property $f(n) = f(d+(n-d)) \\mid f(d) + f(n-d)$. Since $n \\in S_m$, $m \\mid f(n)$, so $m \\mid f(d) + f(n-d)$. As $d \\in S_m$, we have $m \\mid f(d)$, which implies $m \\mid f(n-d)$. Thus, $n-d \\in S_m$. Repeating this, any positive integer of the form $n-kd$ is in $S_m$. By the minimality of $d$, the smallest such positive integer must be $d$, so $n$ is a multiple of $d$. Next, we prove $d\\mathbb{Z}^+ \\subseteq S_m$ by induction on $k$. The base case $k=1$ holds as $d \\in S_m$. Assume $kd \\in S_m$. Then $m \\mid f(kd)$. We know $m \\mid f(d)$. From the property $f((k+1)d) = f(kd+d) \\mid f(kd)+f(d)$, it follows that $m \\mid f((k+1)d)$. Thus $(k+1)d \\in S_m$. By induction, $S_m = d\\mathbb{Z}^+$.","Prove that if the function $f$ is bounded, there exists a positive integer $c>1$ which divides all values of $f$.","Since $f$ is bounded, the set of all prime divisors of values of $f$ is finite. A prime $p$ is 'frequent' if $S_p=\{n : p \\mid f(n)\}$ is infinite, and 'sporadic' otherwise. As there are finitely many prime divisors in total, there are only a finite number of integers $n$ for which $f(n)$ has a sporadic prime divisor. Let $N$ be an integer greater than all such $n$. Let $p_1, \\ldots, p_k$ be the frequent primes. By Sub-problem 1, for each $i$, $S_{p_i} = d_i\\mathbb{Z}^+$ for some integer $d_i$. Consider $n = N \\cdot d_1 d_2 \\cdots d_k + 1$. For this $n > N$, any prime divisor of $f(n)$ must be frequent, say $p_j$. This means $n \\in S_{p_j}$, so $d_j \\mid n$. By construction, $n \\equiv 1 \\pmod{d_j}$, which forces $d_j=1$. Therefore, $S_{p_j} = \\mathbb{Z}^+$, meaning $p_j$ divides $f(m)$ for all $m \\in \\mathbb{Z}^+$. Let $c=p_j$. Since $f(m) > 1$ for all $m$, such a frequent prime must exist. As $c$ is prime, $c>1$.","Prove that if the function $f$ is unbounded, there exists a positive integer $c>1$ which divides all values of $f$.","Let $a = f(1)$. Since the codomain of $f$ is $\{2, 3, \\ldots\}$, we have $a > 1$. We will show that $a$ divides $f(n)$ for all $n$. Let $S_a = \{n : a \\mid f(n)\}$. As $1 \\in S_a$, by Sub-problem 1, it's sufficient to prove that $S_a$ is an infinite set. Since $f$ is unbounded, there is an infinite sequence of 'peaks' $1=p_1 < p_2 < \\dots$ where $f(p_k) > \\max_{j<p_k} f(j)$. For any peak $p_i$ and any $k<p_i$, we have $f(p_i) \\mid f(k)+f(p_i-k)$. Since $k, p_i-k < p_i$, we have $f(k), f(p_i-k) < f(p_i)$, so $f(k)+f(p_i-k) < 2f(p_i)$. This implies $f(k)+f(p_i-k) = f(p_i)$. Let $h_k = f(p_k)$. By the pigeonhole principle, there is an infinite subsequence of indices $\{k_i\}_{i=0}^\\infty$ such that $h_{k_i}$ are all congruent modulo $a$. For any $i>0$, since $p_{k_i} > p_{k_0}$, the peak property gives $f(p_{k_i}-p_{k_0}) = f(p_{k_i}) - f(p_{k_0}) = h_{k_i} - h_{k_0}$. As $h_{k_i} \\equiv h_{k_0} \\pmod a$, we get $a \\mid f(p_{k_i}-p_{k_0})$. This implies $\{p_{k_i}-p_{k_0} \\mid i=1,2,\\dots\}$ is an infinite set of elements in $S_a$, so $S_a$ is infinite.","Let $f:\\{1,2,3, \\ldots\\} \rightarrow\\{2,3, \\ldots\\}$ be a function such that $f(m+n) \\mid f(m)+f(n)$ for all pairs $m, n$ of positive integers. Prove that there exists a positive integer $c>1$ which divides all values of $f$.","Any function $f: \\mathbb{Z}^+ \rightarrow \\{2,3,\\ldots\\}$ is either bounded or unbounded. Case 1: $f$ is bounded. As proven in Sub-problem 2, there exists a positive integer $c>1$ which divides all values of $f$. Case 2: $f$ is unbounded. As proven in Sub-problem 3, $c=f(1)$ divides all values of $f$. Since the codomain of $f$ is $\\{2, 3, \\ldots\\}$, we have $c = f(1) > 1$. In both cases, the existence of such an integer $c>1$ is established, which completes the proof."
2018n7,"Let $n \geqslant 2018$ be an integer, and let $a_{1}, a_{2}, \ldots, a_{n}, b_{1}, b_{2}, \ldots, b_{n}$ be pairwise distinct positive integers not exceeding $5 n$. Suppose that the sequence


\begin{equation*}
\frac{a_{1}}{b_{1}}, \frac{a_{2}}{b_{2}}, \ldots, \frac{a_{n}}{b_{n}} \tag{1}
\end{equation*}


forms an arithmetic progression. Prove that the terms of the sequence are equal.",3,"Let the sequence $\frac{a_i}{b_i}$ form an arithmetic progression with a non-zero common difference $\Delta = c/d$, where $c, d$ are coprime integers and $d>0$. Prove that any prime factor of $d$ must be less than or equal to 5.","Let $p$ be a prime factor of $d$, and let $\alpha = v_p(d)$. Consider the set of indices $S_p = \{i \in \{1, \ldots, n\} : v_p(b_i) < \alpha\}$. If $i, j \in S_p$ and $i \not\equiv j \pmod p$, then the $p$-adic valuation of the denominator of the difference $\frac{a_i}{b_i} - \frac{a_j}{b_j}$ is less than $\alpha$. However, this difference is $(i-j)\Delta = \frac{(i-j)c}{d}$, where the $p$-adic valuation of the denominator is exactly $\alpha$ because $p \nmid c$ and $p \nmid (i-j)$. This is a contradiction. Therefore, all indices in $S_p$ must belong to a single residue class modulo $p$, so $|S_p| \le \lceil n/p \rceil$. This implies that for at least $n - \lceil n/p \rceil$ indices, the denominator $b_i$ is divisible by $p$. Since these $b_i$ are distinct, the largest among them is at least $(n - \lceil n/p \rceil) \cdot p > (n(1-1/p)-1)p = (p-1)n-p$. We are given $b_i \le 5n$, so $(p-1)n-p \le 5n$, which means $(p-6)n \le p$. For $n \ge 2018$, this inequality fails for any prime $p \ge 7$. Thus, any prime factor of $d$ must be in $\{2, 3, 5\}$.","Assume the sequence is a non-constant arithmetic progression with common difference $\Delta = c/d$, where prime factors of $d$ are in $\{2,3,5\}$. Show that the number of denominators $b_i$ divisible by $d$ is at least $8\lfloor n/30 \rfloor$, and that $d > \frac{n-2}{20}$.","A denominator $b_i$ is divisible by $d$ if and only if for every prime factor $p$ of $d$, $v_p(b_i) \ge v_p(d)$. From the previous sub-problem, for each $p \in \{2,3,5\}$, the indices $i$ for which $v_p(b_i) < v_p(d)$ lie in a single residue class modulo $p$. An index $i$ corresponds to a $b_i$ divisible by $d$ if $i$ is not in any of these residue classes. In any block of 30 consecutive integers, the number of integers that avoid three specific residue classes modulo 2, 3, and 5 is at least $30(1-1/2)(1-1/3)(1-1/5) = 8$. Thus, in each block of 30 indices, at least 8 correspond to denominators divisible by $d$. Summing over all $\lfloor n/30 \rfloor$ blocks gives at least $8\lfloor n/30 \rfloor$ such denominators. For the second part, note that at least $n - (n/2-1) > n/2$ terms must have $b_i \ge n/2$. For these terms, $a_i/b_i \le 5n/(n/2) = 10$. So at least $n/2$ terms of the progression lie in $(0, 10]$. This implies $(n/2 - 1)|\Delta| < 10$, so $|\Delta| < \frac{20}{n-2}$. Since $|\Delta| = |c/d| \ge 1/d$, we have $d > \frac{n-2}{20}$.","Let $n \geqslant 2018$ be an integer, and let $a_{1}, a_{2}, \ldots, a_{n}, b_{1}, b_{2}, \ldots, b_{n}$ be pairwise distinct positive integers not exceeding $5 n$. Suppose that the sequence $\frac{a_{1}}{b_{1}}, \frac{a_{2}}{b_{2}}, \ldots, \frac{a_{n}}{b_{n}}$ forms an arithmetic progression. Prove that the terms of the sequence are equal.","Assume for contradiction that the terms are not equal, so the common difference is $\Delta=c/d \ne 0$. From Sub-problem 1, the prime factors of $d$ are in $\{2,3,5\}$. From Sub-problem 2, there are at least $N = 8\lfloor n/30 \rfloor$ denominators $b_i$ divisible by $d$, and $d > \frac{n-2}{20}$. These $N$ denominators are distinct multiples of $d$, so the largest among them must be at least $N \cdot d$. All $b_i$ are bounded by $5n$, so $N \cdot d \le 5n$. Substituting the lower bounds for $N$ and $d$: $8(\frac{n}{30}-1) \cdot (\frac{n-2}{20}) < N \cdot d \le 5n$. This implies $\frac{8(n-30)}{30} \frac{n-2}{20} < 5n$, which simplifies to $\frac{(n-30)(n-2)}{75} < 5n$. This further simplifies to $n^2 - 32n + 60 < 375n$, or $n^2 - 407n + 60 < 0$. For $n \ge 2018$, this is false, since $n(n-407)+60 > 0$. The assumption $\Delta \ne 0$ leads to a contradiction. Therefore, the common difference must be zero, and all terms of the sequence are equal.",,
2017a1,"Let $a_{1}, a_{2}, \ldots, a_{n}, k$, and $M$ be positive integers such that

$$
\frac{1}{a_{1}}+\frac{1}{a_{2}}+\cdots+\frac{1}{a_{n}}=k \quad \text { and } \quad a_{1} a_{2} \ldots a_{n}=M .
$$

If $M>1$, prove that the polynomial

$$
P(x)=M(x+1)^{k}-\left(x+a_{1}\right)\left(x+a_{2}\right) \cdots\left(x+a_{n}\right)
$$

has no positive roots.",2,"For any positive integer $a$ and any $x > 0$, prove that $x+a \ge a(x+1)^{1/a}$. Furthermore, show that the inequality is strict if $a > 1$.","We apply the AM-GM inequality to the set of $a$ positive numbers consisting of one copy of $x+1$ and $a-1$ copies of $1$. The arithmetic mean is $\frac{(x+1)+(a-1) \cdot 1}{a} = \frac{x+a}{a}$. The geometric mean is $\sqrt[a]{(x+1) \cdot 1^{a-1}} = (x+1)^{1/a}$. By AM-GM, $\frac{x+a}{a} \ge (x+1)^{1/a}$, which gives $x+a \ge a(x+1)^{1/a}$. Since $x>0$, we have $x+1 \ne 1$. If $a>1$, the numbers are not all equal, so the AM-GM inequality is strict, leading to $x+a > a(x+1)^{1/a}$.","Let $a_{1}, a_{2}, \ldots, a_{n}, k$, and $M$ be positive integers such that $\frac{1}{a_{1}}+\frac{1}{a_{2}}+\cdots+\frac{1}{a_{n}}=k$ and $a_{1} a_{2} \ldots a_{n}=M$. If $M>1$, prove that the polynomial $P(x)=M(x+1)^{k}-\left(x+a_{1}\right)\left(x+a_{2}\right) \cdots\left(x+a_{n}\right)$ has no positive roots.","For any $x>0$ and for each $i=1, \ldots, n$, we have the inequality $x+a_i \ge a_i(x+1)^{1/a_i}$ from the previous step. Multiplying these $n$ inequalities yields $\prod_{i=1}^{n}(x+a_i) \ge \prod_{i=1}^{n} a_i(x+1)^{1/a_i}$. The right side simplifies to $(\prod_{i=1}^{n} a_i) \cdot (x+1)^{\sum_{i=1}^{n} 1/a_i} = M(x+1)^k$. Thus, $\prod_{i=1}^{n}(x+a_i) \ge M(x+1)^k$, which means $P(x) \le 0$. Since $M = a_1 \cdots a_n > 1$, at least one $a_i$ must be greater than 1. For that $a_i$, the inequality is strict: $x+a_i > a_i(x+1)^{1/a_i}$. Therefore, the overall product inequality is also strict, so $\prod_{i=1}^{n}(x+a_i) > M(x+1)^k$. This implies $P(x) < 0$ for all $x>0$. A function that is strictly negative for all positive inputs has no positive roots.",,,,
2017a3,"Let $S$ be a finite set, and let $\mathcal{A}$ be the set of all functions from $S$ to $S$. Let $f$ be an element of $\mathcal{A}$, and let $T=f(S)$ be the image of $S$ under $f$. Suppose that $f \circ g \circ f \neq g \circ f \circ g$ for every $g$ in $\mathcal{A}$ with $g \neq f$. Show that $f(T)=T$.",4,"Show that if $f^n = f$ for some integer $n \ge 2$, then $f(T) = T$, where $T=f(S)$.","Let $t$ be an arbitrary element of $T$. We must show there is some $x \in T$ such that $f(x)=t$. Since $t \in T$, $t=f(s)$ for some $s \in S$. The condition $f^n=f$ implies $t = f(s) = f^n(s) = f^{n-1}(f(s)) = f^{n-1}(t)$. Now, let $x = f^{n-2}(t)$. Since $t \in T=f(S)$, we have $x=f^{n-2}(t) \in f^{n-1}(S)$. As $n \ge 2$, $f^{n-1}(S) \subseteq f(S)=T$, so $x \in T$. Finally, $f(x) = f(f^{n-2}(t)) = f^{n-1}(t) = t$. This shows that $f$ is surjective on $T$, meaning $f(T)=T$.","Show that if an integer $n \ge 2$ exists such that $f^{n+2} = f^{2n+1}$, then the problem's main hypothesis implies that $f^n=f$.","The problem's hypothesis states that for any function $g \in \mathcal{A}$ with $g \neq f$, we have $f \circ g \circ f \neq g \circ f \circ g$. This is logically equivalent to stating that if $f \circ g \circ f = g \circ f \circ g$ for some $g \in \mathcal{A}$, then it must be that $g=f$. Let us consider the specific function $g = f^n$. The condition $f \circ g \circ f = g \circ f \circ g$ becomes $f \circ f^n \circ f = f^n \circ f \circ f^n$, which simplifies to $f^{n+2} = f^{2n+1}$. If this equality holds, the hypothesis forces the conclusion that $g=f$, which in this case means $f^n=f$.",Show that there exists an integer $n \ge 2$ such that $f^{n+2} = f^{2n+1}$.,"Consider the sequence of images $S_m = f^m(S)$ for $m \ge 1$. This forms a descending chain of subsets $S \supseteq S_1 \supseteq S_2 \supseteq \dots$. Since $S$ is a finite set, this chain must stabilize. Thus, there exists an integer $k \ge 1$ such that $S_k = S_{k+1} = \dots = S_\infty$. This implies $f(S_\infty) = S_\infty$, so the restriction $f|_{S_\infty}$ is a surjective map from a finite set to itself, hence a bijection (a permutation). As a permutation, some power of $f$ must be the identity on $S_\infty$; let $f^r = \text{id}_{S_\infty}$ for some integer $r \ge 1$. This implies that $f^{m+r} = f^m$ for all $m \ge k$. We need to find an $n \ge 2$ such that $f^{n+2}=f^{2n+1}$. This equality holds if $n+2 \ge k$ and $(2n+1)-(n+2)$ is a multiple of $r$. The difference is $n-1$. So we need to find $n \ge 2$ such that $n-1=tr$ for some integer $t \ge 1$. We can choose $t$ large enough such that $n=tr+1 \ge 2$ and $n+2=tr+3 \ge k$. For such an $n$, we have $f^{2n+1} = f^{(n+2)+tr} = f^{n+2}$.","Let $S$ be a finite set, and let $\mathcal{A}$ be the set of all functions from $S$ to $S$. Let $f$ be an element of $\mathcal{A}$, and let $T=f(S)$ be the image of $S$ under $f$. Suppose that $f \circ g \circ f \neq g \circ f \circ g$ for every $g$ in $\mathcal{A}$ with $g \neq f$. Show that $f(T)=T$.","From sub-problem 3, there exists an integer $n \ge 2$ such that the equality $f^{n+2} = f^{2n+1}$ holds. From sub-problem 2, this equality, combined with the problem's main hypothesis, implies that $f^n=f$. Finally, from sub-problem 1, the condition $f^n=f$ implies the desired result, $f(T)=T$."
2017a4,"A sequence of real numbers $a_{1}, a_{2}, \ldots$ satisfies the relation

$$
a_{n}=-\max _{i+j=n}\left(a_{i}+a_{j}\right) \quad \text { for all } n>2017 .
$$

Prove that this sequence is bounded, i.e., there is a constant $M$ such that $\left|a_{n}\right| \leqslant M$ for all positive integers $n$.",3,"Let $D=2017$. For $n>D$, define $M_n = \max_{k<n} a_k$ and $m_n = \max_{k<n} (-a_k)$. Prove that for any $n>D$, the term $a_n$ satisfies the inequalities $-2M_n \le a_n \le m_n - M_n$.","By definition, for $n>D$, $a_{n}=-\left(a_{p}+a_{q}\right)$ for some $p, q$ with $p+q=n$. Since $p, q < n$, we have $a_{p} \leqslant M_{n}$ and $a_{q} \leqslant M_{n}$. Thus, $a_{p}+a_{q} \leqslant 2 M_{n}$, which implies $a_{n} \geqslant-2 M_{n}$. Now, choose an index $k<n$ such that $a_{k}=M_{n}$. From the relation, $a_{n}=-\max_{\ell<n}(a_{n-\ell}+a_{\ell}) \leqslant -(a_{n-k}+a_k) = -a_{n-k}-M_n$. Since $-a_{n-k} \leqslant m_n$, it follows that $a_{n} \leqslant m_{n}-M_{n}$. Combining the two inequalities yields $-2 M_{n} \leqslant a_{n} \leqslant m_{n}-M_{n}$.",Let $D=2017$. Define $M_n = \max_{k<n} a_k$ and $m_n = \max_{k<n} (-a_k)$. Prove that the non-decreasing sequences $(M_n)_{n>D}$ and $(m_n)_{n>D}$ are bounded.,"From the previous result, for $n>D$, we have $-2M_n \le a_n \le m_n - M_n$. This gives relations for the non-decreasing sequences $(M_n)$ and $(m_n)$: $M_{n+1} = \max(M_n, a_n) \le \max(M_n, m_n - M_n)$ and $m_{n+1} = \max(m_n, -a_n) \le \max(m_n, 2M_n)$. We consider two cases for $n>D$. Case 1: There exists an $n_0>D$ with $m_{n_0} \le 2M_{n_0}$. Then $M_{n_0+1} \le M_{n_0}$, so $M_{n_0+1}=M_{n_0}$. Also $m_{n_0+1} \le 2M_{n_0}=2M_{n_0+1}$. By induction, for all $k>n_0$, $M_k=M_{n_0}$ and $m_k \le 2M_{n_0}$, so both sequences are bounded. Case 2: For all $n>D$, $m_n > 2M_n$. Then $m_{n+1} \le m_n$, so $m_{n+1}=m_n=m_{D+1}$. Thus $(m_n)$ is bounded. Also, $M_n < m_n/2 = m_{D+1}/2$, so $(M_n)$ is also bounded. In both cases, the sequences are bounded.","A sequence of real numbers $a_{1}, a_{2}, \ldots$ satisfies the relation

$$
a_{n}=-\max _{i+j=n}\left(a_{i}+a_{j}\right) \quad \text { for all } n>2017 .
$$

Prove that this sequence is bounded, i.e., there is a constant $M$ such that $\left|a_{n}\right| \leqslant M$ for all positive integers $n$.","Let $D=2017$. The initial terms $a_1, \dots, a_D$ form a finite set and are thus bounded. For $n>D$, let $M_n = \max_{k<n} a_k$ and $m_n = \max_{k<n} (-a_k)$. As shown in the previous sub-problem, the non-decreasing sequences $(M_n)_{n>D}$ and $(m_n)_{n>D}$ are bounded. Let their upper bounds be $M^*$ and $m^*$ respectively. For any $n>D$, we have $a_n \le M_{n+1} \le M^*$ and $-a_n \le m_{n+1} \le m^*$, which implies $-m^* \le a_n \le M^*$. So the terms for $n>D$ are bounded. Combining the initial segment and the tail of the sequence, the entire sequence $(a_n)$ is bounded.",,
2017a7,"Let $a_{0}, a_{1}, a_{2}, \ldots$ be a sequence of integers and $b_{0}, b_{1}, b_{2}, \ldots$ be a sequence of positive integers such that $a_{0}=0, a_{1}=1$, and

$$
a_{n+1}=\left\{\begin{array}{ll}
a_{n} b_{n}+a_{n-1}, & \text { if } b_{n-1}=1 \\
a_{n} b_{n}-a_{n-1}, & \text { if } b_{n-1}>1
\end{array} \quad \text { for } n=1,2, \ldots .\right.
$$

Prove that at least one of the two numbers $a_{2017}$ and $a_{2018}$ must be greater than or equal to 2017 .",3,Let the sequence $a_n$ be defined as in the problem. Prove that $a_n \ge 1$ for all $n \ge 1$.,"Assume for contradiction that there exists a smallest integer $n \ge 1$ with $a_n \le 0$. Since $a_1=1$, we have $n \ge 2$. By minimality, $a_{n-1} \ge 1$ and $a_{n-2} \ge 0$. For $a_n \le 0$ to hold, the recurrence must be $a_n = a_{n-1}b_{n-1}-a_{n-2}$ with $b_{n-1}>1$. This implies $a_{n-1} \le a_{n-2}$, so we have a decreasing sequence segment $a_{n-2} \ge a_{n-1} \ge a_n$. Let $r$ be the smallest index with $a_r \ge a_{r+1} \ge a_{r+2}$. Such an $r$ exists and $r \le n-2$. One can show $r \ge 2$. By minimality of $r$, $a_{r-1} < a_r$. The condition $a_{r+1} \ge a_{r+2}$ implies that $a_{r+2} = a_{r+1}b_{r+1}-a_r$, so $b_r \ge 2$. Combining these, $a_{r+1} = a_r b_r \pm a_{r-1} \ge 2a_r - a_{r-1} = a_r + (a_r - a_{r-1}) > a_r$. This contradicts the condition $a_r \ge a_{r+1}$. Thus, the initial assumption was false, and $a_n \ge 1$ for all $n \ge 1$.","Prove by induction that for all $n \ge 0$, $\max\{a_n, a_{n+1}\} \ge n$.","The base cases $n=0$ and $n=1$ are easily verified. Assume the statement is true for all non-negative integers strictly less than $n$, for $n \ge 2$. We consider two cases for $b_{n-1}$.
Case 1: $b_{n-1}=1$. Then $a_{n+1} = a_n b_n + a_{n-1} \ge a_n + a_{n-1}$. By the induction hypothesis for $n-1$, $\max\{a_{n-1}, a_n\} \ge n-1$. By the result of the first sub-problem, the other term is at least 1. Thus, $a_{n+1} \ge (n-1) + 1 = n$. 
Case 2: $b_{n-1}>1$. Let $r$ be the largest index $1 \le r \le n-1$ such that $b_{r-1}=1$ (taking $b_0=1$). Then $b_r, \dots, b_{n-1} \ge 2$. We have $a_{r+1}=a_r b_r + a_{r-1} \ge 2a_r+a_{r-1}$. By the induction hypothesis for $r-1$ and the result from sub-problem 1, $a_r+a_{r-1} \ge (r-1)+1=r$. This implies $a_{r+1} > a_r$ and $a_{r+1} \ge r+1$. For $m=r+1, \ldots, n-1$, the recurrence is $a_{m+1}=a_m b_m - a_{m-1}$. An inductive argument shows $a_n > a_{n-1} > \dots > a_{r+1}$. Since $a_{r+1} \ge r+1$, this implies $a_n \ge n$. 
In both cases, $\max\{a_n, a_{n+1}\} \ge n$.",Prove that at least one of the two numbers $a_{2017}$ and $a_{2018}$ must be greater than or equal to 2017.,"From the result of the second sub-problem, we have established that $\max\{a_n, a_{n+1}\} \ge n$ holds for all integers $n \ge 0$. By setting $n=2017$, we directly obtain the inequality $\max\{a_{2017}, a_{2018}\} \ge 2017$. This means that at least one of the numbers $a_{2017}$ or $a_{2018}$ must be greater than or equal to 2017.",,
2017a8,"Assume that a function $f: \mathbb{R} \rightarrow \mathbb{R}$ satisfies the following condition:\\
For every $x, y \in \mathbb{R}$ such that $(f(x)+y)(f(y)+x)>0$, we have $f(x)+y=f(y)+x$.

Prove that $f(x)+y \leqslant f(y)+x$ whenever $x>y$.",4,Let $g(x) = x - f(x)$. Reformulate the given condition and the goal $f(x)+y \leqslant f(y)+x$ for $x>y$ in terms of the function $g$.,"The condition $(f(x)+y)(f(y)+x)>0 \implies f(x)+y=f(y)+x$ is equivalent to: if $g(x) \neq g(y)$, then $x+y$ lies non-strictly between $g(x)$ and $g(y)$. The inequality to be proven, $f(x)+y \leqslant f(y)+x$ for $x>y$, becomes $x-g(x)+y \leqslant y-g(y)+x$, which simplifies to $g(y) \leqslant g(x)$ for $x>y$. This means we need to prove that $g(x)$ is a non-decreasing function.","Let $X=g(x)$. Show that if $g(x) \neq 2x$, then $g$ is constant on a specific open interval. Specifically, if $X < 2x$, $g$ is constant on $(X-x, x)$, and if $X > 2x$, $g$ is constant on $(x, X-x)$.","Assume $X < 2x$. For any $a \in (X-x, x)$ with $g(a) \neq X$, the condition from Part 1 implies $g(a)>X$. If $a, b \in (X-x, x)$ both have $g(a), g(b) \neq X$, then $a+b$ cannot lie between $g(a)$ and $g(b)$, implying $g(a)=g(b)$. Thus $g$ takes at most two values on $(X-x, x)$: $X$ and some constant $Y>X$. If both values are attained, say $g(a)=X$ and $g(b)=Y$, we can find a $u \in (X-x,x)$ small enough such that applying the condition to pairs $(u,a)$ and $(u,b)$ leads to a contradiction. Thus $g$ must be constant on $(X-x, x)$. The case $X > 2x$ follows by a symmetric argument.","Let $X=g(x)$. Show that if $X < 2x$, the constant value of $g$ on $(X-x, x)$ must be $X$. Similarly, if $X > 2x$, the constant value of $g$ on $(x, X-x)$ must be $X$.","Assume $X < 2x$. From Part 2, $g$ is constant on $(X-x, x)$. If this value were $Y \neq X$, then $Y>X$. Pick any $b \in (X-x,x)$, so $g(b)=Y$. The condition from Part 1 applied to $(x,b)$ implies $X \le b+x \le Y$. Also, $g(b)=Y > b+x > 2b$. Applying Part 2 to the point $b$, $g$ must be constant on $(b, Y-b)$. This interval contains $x$ and other points from $(b,x)$. This would imply $g(x)=Y$, which contradicts $g(x)=X$. Thus the constant value must be $X$. The case $X>2x$ follows by symmetry.",Prove that $f(x)+y \leqslant f(y)+x$ whenever $x>y$.,"From Part 1, we must prove $g(x)$ is non-decreasing. Assume for contradiction that $g(x) > g(y)$ for some $x < y$. Let $X=g(x)$ and $Y=g(y)$. The condition from Part 1 implies $X \ge x+y \ge Y$. This means $X > 2x$ (since $y>x$) and $Y < 2y$ (since $x<y$). By Part 3, $g$ is constant with value $X$ on $(x, X-x)$ and constant with value $Y$ on $(Y-y, y)$. The inequalities $X \ge x+y$ and $Y \le x+y$ imply that both intervals contain the non-empty interval $(x, y)$. On this overlapping interval, $g$ must be equal to both $X$ and $Y$, so $X=Y$. This contradicts the assumption $g(x)>g(y)$, so $g$ must be non-decreasing."
2017c1,A rectangle $\mathcal{R}$ with odd integer side lengths is divided into small rectangles with integer side lengths. Prove that there is at least one among the small rectangles whose distances from the four sides of $\mathcal{R}$ are either all odd or all even.,3,"Consider a rectangle with integer side lengths on a checkerboard of green and yellow unit squares. Define a rectangle as 'green' if its corners are all green, 'yellow' if its corners are all yellow, and 'mixed' otherwise. Establish the relationship between the type of rectangle and the difference between the number of green and yellow squares it contains.","Any rectangle with at least one even side length can be perfectly tiled by 1x2 or 2x1 dominoes, each containing one green and one yellow square. Therefore, it contains an equal number of green and yellow squares. A rectangle with both side lengths odd is either 'green' or 'yellow'. The total number of squares is odd, so the counts of green and yellow squares cannot be equal. Such a rectangle contains one more square of its corner color. Thus, a 'green' rectangle has one more green square than yellow, a 'yellow' one has one more yellow than green, and a 'mixed' one has an equal number of each.","A large rectangle $\mathcal{R}$ with odd integer side lengths is tiled by smaller rectangles with integer side lengths. Using a checkerboard coloring where the corners of $\mathcal{R}$ are all colored green, prove that at least one of the small rectangles must also have all four of its corners colored green.","Since the large rectangle $\mathcal{R}$ has odd side lengths, its four corners lie on squares of the same color; let's call this color green. Based on the property from the previous sub-problem, $\mathcal{R}$ contains one more green unit square than yellow. The tiling is a partition of $\mathcal{R}$'s unit squares. The total difference between the number of green and yellow squares in $\mathcal{R}$ is the sum of these differences over all small rectangles. Since this total difference is positive, at least one small rectangle must also have more green squares than yellow. This is only possible if that small rectangle is 'green', i.e., all its corners are colored green.",A rectangle $\mathcal{R}$ with odd integer side lengths is divided into small rectangles with integer side lengths. Prove that there is at least one among the small rectangles whose distances from the four sides of $\mathcal{R}$ are either all odd or all even.,"From the previous sub-problem, there exists a small rectangle $\mathcal{S}$ whose four corners have the same color as the corners of $\mathcal{R}$. We set up a coordinate system with the origin at a corner of $\mathcal{R}$, say $(0,0)$. The color of a unit square at $(i,j)$ is determined by the parity of $i+j$. Since $\mathcal{R}$ has odd side lengths $a,b$, its corner coordinates have sums $(0+0)$, $(a-1+0)$, $(0+b-1)$, and $(a-1+b-1)$, all of which are even. Let the distances of $\mathcal{S}$ from the left, top, right, and bottom sides of $\mathcal{R}$ be $d_L, d_T, d_R, d_B$. The corner coordinates of $\mathcal{S}$ are $(d_L, d_T)$, $(a-1-d_R, d_T)$, $(d_L, b-1-d_B)$, and $(a-1-d_R, b-1-d_B)$. For these corners to have the same color as $\mathcal{R}$'s corners, their coordinate sums must all be even. This implies: 1) $d_L+d_T$ is even, so $d_L$ and $d_T$ have the same parity. 2) $(a-1-d_R)+d_T$ is even, so $d_R$ and $d_T$ have the same parity (as $a-1$ is even). 3) $d_L+(b-1-d_B)$ is even, so $d_L$ and $d_B$ have the same parity (as $b-1$ is even). Together, these conditions imply $d_L, d_T, d_R, d_B$ must all have the same parity.",,
2017c2,"Let $n$ be a positive integer. Define a chameleon to be any sequence of $3 n$ letters, with exactly $n$ occurrences of each of the letters $a, b$, and $c$. Define a swap to be the transposition of two adjacent letters in a chameleon. Prove that for any chameleon $X$, there exists a chameleon $Y$ such that $X$ cannot be changed to $Y$ using fewer than $3 n^{2} / 2$ swaps.",3,"For a chameleon $X$, let $f_{u,v}(X)$ be the number of pairs of positions where letter $u$ appears before letter $v$. Define $f(X) = f_{a,b}(X) + f_{a,c}(X) + f_{b,c}(X)$. Show that if a chameleon $X'$ is obtained from $X$ by a single swap of two adjacent, distinct letters, then $|f(X') - f(X)| = 1$.","Let the swap be between letters $u$ and $v$ at adjacent positions, with $u$ to the left of $v$. This swap only changes the relative order of this specific pair of letters. Thus, for any pair of distinct letters $\{x, y\} \neq \{u, v\}$, the value of $f_{x,y}(X)$ remains unchanged. The value of $f_{u,v}(X)$ decreases by 1, while $f_{v,u}(X)$ increases by 1. The function $f(X)$ sums three such terms. If the swapped pair $\{u, v\}$ is not one of $\{a, b\}$, $\{a, c\}$, or $\{b, c\}$, then $f(X)$ is unchanged (a value of 0). If the swapped pair is one of these, say $\{a, b\}$, then exactly one term in the sum for $f(X)$ changes by 1. For example, if we swap an adjacent 'a' and 'b' ($ab \to ba$), $f_{a,b}$ decreases by 1, while $f_{a,c}$ and $f_{b,c}$ are unchanged. Thus, $f(X)$ changes by exactly 1.","Let $P$ be the chameleon consisting of $n$ letters 'a', followed by $n$ letters 'b', followed by $n$ letters 'c'. Let $Q$ be the chameleon consisting of $n$ letters 'c', followed by $n$ letters 'b', followed by $n$ letters 'a'. Prove that the minimum number of swaps to transform $P$ into $Q$, denoted $d(P, Q)$, is at least $3n^2$.","Let $f(X)$ be the function defined in the previous sub-problem. For chameleon $P$, every 'a' is before every 'b' ($n^2$ pairs), every 'a' is before every 'c' ($n^2$ pairs), and every 'b' is before every 'c' ($n^2$ pairs). So, $f(P) = f_{a,b}(P) + f_{a,c}(P) + f_{b,c}(P) = n^2 + n^2 + n^2 = 3n^2$. For chameleon $Q$, the orders are all reversed, so $f_{a,b}(Q)=0$, $f_{a,c}(Q)=0$, and $f_{b,c}(Q)=0$, which means $f(Q)=0$. Since each swap changes $f(X)$ by at most 1, the number of swaps $d(P, Q)$ must be at least the total change in $f$, which is $|f(P) - f(Q)| = |3n^2 - 0| = 3n^2$.","Let $n$ be a positive integer. Define a chameleon to be any sequence of $3 n$ letters, with exactly $n$ occurrences of each of the letters $a, b$, and $c$. Define a swap to be the transposition of two adjacent letters in a chameleon. Prove that for any chameleon $X$, there exists a chameleon $Y$ such that $X$ cannot be changed to $Y$ using fewer than $3 n^{2} / 2$ swaps.","Let $d(X,Y)$ be the minimum number of swaps to change $X$ to $Y$. This distance function satisfies the triangle inequality: $d(X,Z) \le d(X,Y) + d(Y,Z)$. Let $P$ be the chameleon with all 'a's first, then all 'b's, then all 'c's, and let $Q$ be the chameleon with all 'c's first, then all 'b's, then all 'a's. From the previous sub-problem, $d(P,Q) \ge 3n^2$. For any chameleon $X$, the triangle inequality implies $d(X,P) + d(X,Q) \ge d(P,Q)$. Therefore, $d(X,P) + d(X,Q) \ge 3n^2$. This means that at least one of $d(X,P)$ or $d(X,Q)$ must be greater than or equal to $3n^2/2$. Thus, for any $X$, we can choose $Y$ to be either $P$ or $Q$, and the required number of swaps will be at least $3n^2/2$.",,
2017c4,"Let $N \geqslant 2$ be an integer. $N(N+1)$ soccer players, no two of the same height, stand in a row in some order. Coach Ralph wants to remove $N(N-1)$ people from this row so that in the remaining row of $2 N$ players, no one stands between the two tallest ones, no one stands between the third and the fourth tallest ones, ..., and finally no one stands between the two shortest ones. Show that this is always possible.",3,"Let the $N(N+1)$ players be partitioned into $N$ consecutive blocks of $N+1$ players each. Let $x_{i,j}$ be the height of the $i$-th tallest person in the $j$-th block. Show that it is possible to order the blocks, indexed by $j=1, \\dots, N$, such that for each $k \\in \\{1, \\dots, N-1\\}$, we have $x_{k+1, k} = \\max\\{x_{k+1, j} \\mid j=k, \\dots, N\\}$.","This ordering can be constructed greedily. For $k=1, 2, \\dots, N-1$ sequentially, we determine the block to be placed in the $k$-th position. At step $k$, choose from the remaining $N-k+1$ available blocks the one whose $(k+1)$-th tallest player is the tallest among the $(k+1)$-th tallest players of these remaining blocks. Since all heights are unique, this choice is always unique. The final remaining block is placed in the $N$-th position. This procedure results in the desired ordering of blocks.","Consider the matrix of heights $[x_{i,j}]$ ordered as in Sub-problem 1. Let $S$ be the set of $2N$ players whose heights are $\{x_{k,k}, x_{k+1,k} \\mid k=1, \\dots, N\}$. Prove that for each $k \\in \\{1, \\dots, N\\}$, the player with height $x_{k,k}$ is the $(2k-1)$-th tallest in $S$, and the player with height $x_{k+1,k}$ is the $(2k)$-th tallest in $S$.","From the construction, we have two key inequalities: (1) $x_{i,j} > x_{i+1,j}$ for all $i,j$ (columns are sorted by height), and (2) $x_{k+1,k} > x_{k+1,j}$ for all $j>k$. These imply the chain $x_{k,k} > x_{k+1,k} > x_{k+1,k+1}$. Iterating this shows that for any $j<k$, both players from block $j$ are taller than both players from block $k$. Conversely, for any $j>k$, both players from block $j$ are shorter than both players from block $k$. Thus, for a given $k$, the players in $S$ taller than $x_{k,k}$ are exactly the $2(k-1)$ players from blocks $1, \\dots, k-1$. This makes $x_{k,k}$ the $(2k-1)$-th tallest. Its partner $x_{k+1,k}$ is shorter than $x_{k,k}$ but taller than all players from blocks $j>k$. So, there are $2(k-1)+1=2k-1$ players in $S$ taller than $x_{k+1,k}$, making it the $(2k)$-th tallest.","Let $N \\geqslant 2$ be an integer. $N(N+1)$ soccer players, no two of the same height, stand in a row in some order. Coach Ralph wants to remove $N(N-1)$ people from this row so that in the remaining row of $2 N$ players, no one stands between the two tallest ones, no one stands between the third and the fourth tallest ones, ..., and finally no one stands between the two shortest ones. Show that this is always possible.","First, partition the row of players into $N$ consecutive blocks of $N+1$ players. Conceptually arrange these blocks as columns of a height matrix $[x_{i,j}]$ as constructed in Sub-problem 1. Select the $2N$ players with heights $S = \\{x_{k,k}, x_{k+1,k} \\mid k=1, \\dots, N\\}$, and remove all others. According to Sub-problem 2, for each $k$, the players with heights $x_{k,k}$ and $x_{k+1,k}$ are the $(2k-1)$-th and $(2k)$-th tallest players in the selected group. Since both of these players originated from the same block of $N+1$ consecutive players in the initial row, and all other players from that block have been removed, they must be adjacent in the final row. This holds for all $k=1, \\dots, N$, so the required arrangement is always possible.",,
2017c7,"For any finite sets $X$ and $Y$ of positive integers, denote by $f_{X}(k)$ the $k^{\text {th }}$ smallest positive integer not in $X$, and let

$$
X * Y=X \cup\left\{f_{X}(y): y \in Y\right\}
$$

Let $A$ be a set of $a>0$ positive integers, and let $B$ be a set of $b>0$ positive integers. Prove that if $A * B=B * A$, then


\begin{equation*}
\underbrace{A *(A * \cdots *(A *(A * A)) \ldots)}_{A \text { appears } b \text { times }}=\underbrace{B *(B * \cdots *(B *(B * B)) \ldots)}_{B \text { appears } a \text { times }} 
\end{equation*}",4,"For any finite sets of positive integers $X, Y, Z$, prove that the operation $*$ is associative, i.e., $(X * Y) * Z = X * (Y * Z)$.","First, we show that $f_{X*Y} = f_X \circ f_Y$. The range of $f_{X*Y}$ is $\\mathbb{Z}_{>0} \\setminus (X*Y) = (\\mathbb{Z}_{>0} \\setminus X) \\setminus f_X(Y) = f_X(\\mathbb{Z}_{>0}) \\setminus f_X(Y) = f_X(\\mathbb{Z}_{>0} \\setminus Y) = f_X(f_Y(\\mathbb{Z}_{>0}))$. Since $f_{X*Y}$ and $f_X \\circ f_Y$ are strictly increasing functions with the same range, they are equal. Now, consider the complements of the sets. The complement of $(X*Y)*Z$ is the range of $f_{(X*Y)*Z} = f_{X*Y} \\circ f_Z = (f_X \\circ f_Y) \\circ f_Z$. The complement of $X*(Y*Z)$ is the range of $f_{X*(Y*Z)} = f_X \\circ f_{Y*Z} = f_X \\circ (f_Y \\circ f_Z)$. By associativity of function composition, the complements are the same, so the sets are equal.","Let $X$ and $Y$ be finite sets of positive integers. Prove that if $X * Y = Y * X$ and $|X|=|Y|$, then $X=Y$.","Assume for contradiction that $X \neq Y$. Let $s$ be the largest integer in the symmetric difference $X \\Delta Y$. Without loss of generality, assume $s \\in X \\setminus Y$. From $|X|=|Y|$ and the maximality of $s$, we deduce that for any integer $k \\ge s$, $|X \\cap \\{1,...,k\\}| = |Y \\cap \\{1,...,k\\}|$. Using the identity $f_Z(k) = k + |Z \\cap \\{1, ..., f_Z(k)\\}|$, and since $f_X(s) \\ge s$, we can deduce that $f_X(s) = f_Y(s)$. This leads to a contradiction: since $s \\in X$, we have $f_Y(s) \\in \\{f_Y(x) : x \\in X\\} \\subseteq Y * X$. However, since $s \notin Y$, we have $f_X(s) \notin \\{f_X(y) : y \\in Y\\}$, and by definition $f_X(s) \notin X$, so $f_X(s) \notin X * Y$. This contradicts $X*Y = Y*X$, so we must have $X=Y$.","Define $X^{*k} = X * (X * \\cdots * X)$ ($k$ times). Given that $|A|=a$, $|B|=b$, and $A * B = B * A$, show that the sets $X=A^{*b}$ and $Y=B^{*a}$ satisfy $|X|=|Y|$ and $X*Y = Y*X$.","The set of newly added elements $\{f_X(y): y \in Y\}$ is disjoint from $X$. Thus, $|X*Y| = |X|+|Y|$. By induction, $|A^{*b}| = b|A| = ba$ and $|B^{*a}| = a|B| = ab$. Thus $|A^{*b}| = |B^{*a}|$. From sub-problem 1, the $*$ operation is associative. This allows us to write $A^{*b} * B^{*a}$ as the composition of $b$ $A$'s and $a$ $B$'s without parentheses. Since $A*B=B*A$, we can swap any adjacent pair of $A$ and $B$. By repeated swaps, we can move all $B$'s to the front, showing $A^{*b} * B^{*a} = B^{*a} * A^{*b}$.","Let $A$ be a set of $a>0$ positive integers, and let $B$ be a set of $b>0$ positive integers. Prove that if $A * B=B * A$, then $\\underbrace{A *(A * \\cdots *(A *(A * A)) \\ldots)}_{A \text { appears } b \text { times }}=\\underbrace{B *(B * \\cdots *(B *(B * B)) \\ldots)}_{B \text { appears } a \text { times }}$.","Let $X = A^{*b}$ and $Y = B^{*a}$. From sub-problem 3, we have established that $|X|=|Y|$ (both are equal to $ab$) and that $X*Y = Y*X$. Applying the result from sub-problem 2, which states that if two sets of the same cardinality commute under the $*$ operation then they must be equal, we conclude that $X=Y$. This is the desired result, $A^{*b} = B^{*a}$."
2017g1,"Let $A B C D E$ be a convex pentagon such that $A B=B C=C D, \angle E A B=\angle B C D$, and $\angle E D C=\angle C B A$. Prove that the perpendicular line from $E$ to $B C$ and the line segments $A C$ and $B D$ are concurrent.",3,"Let $I$ be the intersection of the line through $B$ perpendicular to $AC$ and the line through $C$ perpendicular to $BD$. Show that the concurrency of $AC$, $BD$, and the perpendicular from $E$ to $BC$ is equivalent to proving $EI \perp BC$.","Let $H$ be the intersection of $AC$ and $BD$. In $\triangle BIC$, the line $AC$ contains the altitude from $C$ to side $BI$ (since $BI \\perp AC$), and the line $BD$ contains the altitude from $B$ to side $CI$ (since $CI \\perp BD$). Thus, $H$ is the orthocenter of $\triangle BIC$. The third altitude of $\triangle BIC$ lies on the line $IH$ and is perpendicular to $BC$. The problem states that $AC$, $BD$, and the perpendicular from $E$ to $BC$ are concurrent. As $AC$ and $BD$ meet at $H$, this is equivalent to the line $EH$ being perpendicular to $BC$. Since $IH \\perp BC$, this is equivalent to $E$ being on the line $IH$, which means proving $EI \\perp BC$.",Let $I$ be the point defined in sub-problem 1. Show that $I$ is the concurrency point of the internal angle bisectors of the pentagon $A B C D E$.,"Since $AB=BC$, the line through $B$ perpendicular to $AC$ is the perpendicular bisector of $AC$, so $IA=IC$. Since $BC=CD$, the line through $C$ perpendicular to $BD$ is the perpendicular bisector of $BD$, so $IB=ID$. Given $AB=BC=CD$, we have $\triangle IAB \\cong \triangle ICB \\cong \triangle ICD$ by SSS. From these congruences, $IB$ bisects $\\angle ABC$ and $IC$ bisects $\\angle BCD$. Also, $\\angle IAB = \\angle ICB = \frac{1}{2}\\angle BCD = \frac{1}{2}\\angle EAB$ (using $\\angle EAB=\\angle BCD$), so $IA$ bisects $\\angle EAB$. Similarly, $\\angle IDC = \\angle IBC = \frac{1}{2}\\angle ABC = \frac{1}{2}\\angle EDC$ (using $\\angle EDC=\\angle CBA$), so $ID$ bisects $\\angle EDC$. Since $I$ lies on the angle bisectors of $\\angle A, \\angle B, \\angle C, \\angle D$, it is equidistant from the lines containing the sides of the pentagon, and thus must also lie on the angle bisector of $\\angle E$.","Let $A B C D E$ be a convex pentagon such that $A B=B C=C D, \\angle E A B=\\angle B C D$, and $\\angle E D C=\\angle C B A$. Prove that the perpendicular line from $E$ to $B C$ and the line segments $A C$ and $B D$ are concurrent.","From sub-problem 1, the problem is equivalent to proving $EI \\perp BC$. From sub-problem 2, $I$ is the concurrency point of the pentagon's internal angle bisectors. Let the internal angles be $\\angle A, \\angle B, \\angle C, \\angle D, \\angle E$. We have $\\angle A = \\angle C$ and $\\angle B = \\angle D$. The sum of angles in a pentagon is $540^\\circ$, so $\\angle E = 540^\\circ - 2\\angle A - 2\\angle B$. In quadrilateral $ABIE$, the sum of angles is $360^\\circ$. So, $\\angle BIE = 360^\\circ - \\angle A - \\angle ABI - \\angle AEI = 360^\\circ - \\angle A - \frac{1}{2}\\angle B - \frac{1}{2}\\angle E$. Substituting for $\\angle E$, we get $\\angle BIE = 360^\\circ - \\angle A - \frac{1}{2}\\angle B - (270^\\circ - \\angle A - \\angle B) = 90^\\circ + \frac{1}{2}\\angle B$. As $IB$ bisects $\\angle B$, $\\angle IBC = \frac{1}{2}\\angle B$. The relation $\\angle BIE = 90^\\circ + \\angle IBC$ implies that line $EI$ is perpendicular to line $BC$, which completes the proof.",,
2017g2,"Let $R$ and $S$ be distinct points on circle $\Omega$, and let $t$ denote the tangent line to $\Omega$ at $R$. Point $R^{\prime}$ is the reflection of $R$ with respect to $S$. A point $I$ is chosen on the smaller arc $R S$ of $\Omega$ so that the circumcircle $\Gamma$ of triangle $I S R^{\prime}$ intersects $t$ at two different points. Denote by $A$ the common point of $\Gamma$ and $t$ that is closest to $R$. Line $A I$ meets $\Omega$ again at $J$. Show that $J R^{\prime}$ is tangent to $\Gamma$.",2,"Show that triangles $\triangle SJR$ and $\triangle ARR'$ are similar, and as a consequence, establish the relation $\frac{R'R}{RJ} = \frac{AR'}{SR}$.","In circle $\Omega$, the points $I, J, R, S$ are concyclic, so $\angle JRS = \angle JIS$. In circle $\Gamma$, the points $I, S, R', A$ are concyclic, so $\angle JIS = \angle AR'S$. Therefore, $\angle JRS = \angle AR'S$. As $R, S, R'$ are collinear, this implies $\angle JRS = \angle AR'R$.
Line $t=AR$ is tangent to $\Omega$ at $R$. By the tangent-chord theorem, $\angle SRA = \angle SJR$. Since $R, S, R'$ are collinear, $\angle SRA$ is the same as $\angle ARR'$. Thus, $\angle ARR' = \angle SJR$.
Having two pairs of equal angles, we conclude that $\triangle SJR \sim \triangle ARR'$. From this similarity, the ratio of corresponding sides is equal: $\frac{JR}{RR'} = \frac{SR}{AR'}$. Rearranging this gives the desired relation $\frac{R'R}{RJ} = \frac{AR'}{SR}$.",Show that $J R^{\prime}$ is tangent to $\Gamma$.,"From the first sub-problem, we have the proportion $\frac{R'R}{RJ} = \frac{AR'}{SR}$. Since $R'$ is the reflection of $R$ with respect to $S$, $S$ is the midpoint of $RR'$, so $SR=SR'$. The proportion becomes $\frac{R'R}{RJ} = \frac{AR'}{SR'}$, which can be rearranged to $\frac{AR'}{R'R} = \frac{SR'}{RJ}$.
We also know from the angle chasing in the first part that $\angle AR'S = \angle JRS$. As $R, S, R'$ are collinear, $\angle JRS = \angle JRR'$, so $\angle AR'S = \angle JRR'$.
Now, consider triangles $\triangle ASR'$ and $\triangle R'JR$. We have an equal angle $\angle AR'S = \angle JRR'$ and the ratio of including sides is equal: $\frac{AR'}{R'R} = \frac{SR'}{RJ}$. By the Side-Angle-Side similarity criterion, $\triangle ASR' \sim \triangle R'JR$. 
This similarity implies the equality of corresponding angles, specifically $\angle SAR' = \angle JR'R$. Since $R,S,R'$ are collinear, $\angle JR'R = \angle JR'S$. Therefore, $\angle SAR' = \angle JR'S$. By the converse of the tangent-chord theorem, this equality implies that the line $JR'$ is tangent to the circle $\Gamma$ at point $R'$.",,,,
2017g3,"Let $O$ be the circumcenter of an acute scalene triangle $A B C$. Line $O A$ intersects the altitudes of $A B C$ through $B$ and $C$ at $P$ and $Q$, respectively. The altitudes meet at $H$. Prove that the circumcenter of triangle $P Q H$ lies on a median of triangle $A B C$.",2,"Let $O$ be the circumcenter of an acute scalene triangle $A B C$. Line $O A$ intersects the altitudes of $A B C$ through $B$ and $C$ at $P$ and $Q$, respectively. The altitudes meet at $H$. Let $\omega$ be the circumcircle of triangle $P Q H$. Prove that triangle $H P Q$ is similar to triangle $A B C$ and that line $A H$ is tangent to $\omega$.","Let the altitudes from $B$ and $C$ be $BE$ and $CF$. $P$ is on $BE$, $Q$ on $CF$, and line $PQ$ is line $OA$. In right triangle $\triangle AFQ$, $\angle AQF = 90^\circ - \angle FAQ = 90^\circ - \angle OAB$. Since $\triangle OAB$ is isosceles ($OA=OB$), $\angle OAB = 90^\circ - \angle C$. Thus $\angle PQH = \angle C$. Similarly, $\angle QPH = \angle B$. Therefore, $\triangle HPQ \sim \triangle ABC$. To show tangency, we prove $\angle AHP = \angle HQP$. We know $\angle HQP = \angle C$. In right triangle $\triangle AEH$, $\angle AHE = 90^\circ - \angle EAH = 90^\circ - (90^\circ - \angle C) = \angle C$. Thus $\angle AHP = \angle HQP$. By the tangent-chord theorem, $AH$ is tangent to $\omega$ at $H$.","Let $O$ be the circumcenter of an acute scalene triangle $A B C$. Line $O A$ intersects the altitudes of $A B C$ through $B$ and $C$ at $P$ and $Q$, respectively. The altitudes meet at $H$. Prove that the circumcenter of triangle $P Q H$ lies on a median of triangle $A B C$.","Let $T$ be the circumcenter of $\triangle PQH$. Let line $AT$ intersect $BC$ at $M$. We use the facts that $\triangle HPQ \sim \triangle ABC$ and line $AH$ is tangent to the circumcircle of $\triangle PQH$ at $H$. Let $\Omega$ be the circumcircle of $\triangle ABC$. Let $S$ be a point on $BC$ such that $AS$ is tangent to $\Omega$ at $A$. The similarity of the geometric configurations implies that the triplet of points $(A, T, H)$ relative to $\triangle PQH$ corresponds to the triplet $(S, O, A)$ relative to $\triangle ABC$. This similarity preserves angles between corresponding lines. Thus, the angle between $AT$ and $AO$ equals the angle between $SO$ and $BC$. This means $\angle OAM = \angle(SO, BC)$, implying $S, A, O, M$ are concyclic. Since $AS$ is tangent to $\Omega$ at $A$, $OA \perp AS$, so $\angle OAS = 90^\circ$. In cyclic quadrilateral $SAOM$, $\angle OMS = 180^\circ - \angle OAS = 90^\circ$. So $OM \perp BC$. As $O$ is the circumcenter, $M$ must be the midpoint of $BC$. Thus, $T$ lies on the median $AM$.",,,,
2017g4,"In triangle $A B C$, let $\omega$ be the excircle opposite $A$. Let $D, E$, and $F$ be the points where $\omega$ is tangent to lines $B C, C A$, and $A B$, respectively. The circle $A E F$ intersects line $B C$ at $P$ and $Q$. Let $M$ be the midpoint of $A D$. Prove that the circle $M P Q$ is tangent to $\omega$.",3,"Let $\omega$ be the excircle of $\triangle ABC$ opposite to $A$, tangent to $BC$ at $D$, $CA$ at $E$, and $AB$ at $F$. Let the line $AD$ intersect $\omega$ again at $T$, and let $N$ be the midpoint of $DT$. Prove that $N$ lies on the circle $AEF$.","Let $A'$ be the center of $\omega$. Since $A'E \perp AE$ and $A'F \perp AF$, the circle passing through $A, E, F$ is the circle with diameter $AA'$. Let's call this circle $\Omega$. In $\triangle A'DT$, $A'D = A'T$ are radii of $\omega$, so it is an isosceles triangle. Since $N$ is the midpoint of the base $DT$, $A'N$ is the altitude, so $A'N \perp DT$. As $A, D, T$ are collinear, this implies $\angle A'NA = 90^\circ$. Therefore, $N$ must lie on the circle with diameter $AA'$, which is the circle $AEF$.","Let the circle $AEF$ intersect line $BC$ at $P$ and $Q$. Let $M$ be the midpoint of $AD$, and let $T$ be the other intersection of line $AD$ with $\omega$. Prove that the points $P, Q, M, T$ are concyclic.","From the previous sub-problem, the point $N$ (midpoint of $DT$) lies on the circle $AEF$, which we denote as $\Omega$. The points $P$ and $Q$ also lie on $\Omega$ by definition. Applying the power of point $D$ with respect to circle $\Omega$, we have $DP \cdot DQ = DA \cdot DN$. Since $M$ is the midpoint of $AD$ and $N$ is the midpoint of $DT$, we can write $DA = 2DM$ and $DN = DT/2$. Substituting these into the equation gives $DP \cdot DQ = (2DM) \cdot (DT/2) = DM \cdot DT$. By the converse of the power of a point theorem, this implies that the points $P, Q, M, T$ are concyclic.","In triangle $A B C$, let $\omega$ be the excircle opposite $A$. Let $D, E$, and $F$ be the points where $\omega$ is tangent to lines $B C, C A$, and $A B$, respectively. The circle $A E F$ intersects line $B C$ at $P$ and $Q$. Let $M$ be the midpoint of $A D$. Prove that the circle $M P Q$ is tangent to $\omega$.","Let $\gamma$ be the circle $MPQ$. From the previous sub-problem, the point $T$ (the second intersection of $AD$ with $\omega$) lies on $\gamma$. Let the tangent line to $\omega$ at $T$ meet line $BC$ at a point $R$. As tangents from $R$ to $\omega$, $RT = RD$. Let $A'$ be the center of $\omega$. Since $A'D=A'T$ and $RD=RT$, $A'R$ is the perpendicular bisector of $DT$. As $A, D, T$ are collinear, $AD \perp A'R$. Thus, in the right triangle $A'RD$ (right-angled at $D$), $DN$ is the altitude to the hypotenuse $A'R$. By the geometric mean theorem, $RD^2 = RN \cdot RA'$. The points $P,Q,N,A'$ all lie on the circle $AEF$. By the power of point $R$ with respect to this circle, $RP \cdot RQ = RN \cdot RA'$. Therefore, $RT^2 = RD^2 = RP \cdot RQ$. By the converse of the tangent-secant theorem, the line $RT$ is also tangent to the circle $\gamma$ at $T$. Since $RT$ is a common tangent at $T$, the circle $MPQ$ is tangent to $\omega$.",,
2017g5,"Let $A B C C_{1} B_{1} A_{1}$ be a convex hexagon such that $A B=B C$, and suppose that the line segments $A A_{1}, B B_{1}$, and $C C_{1}$ have the same perpendicular bisector. Let the diagonals $A C_{1}$ and $A_{1} C$ meet at $D$, and denote by $\omega$ the circle $A B C$. Let $\omega$ intersect the circle $A_{1} B C_{1}$ again at $E \neq B$. Prove that the lines $B B_{1}$ and $D E$ intersect on $\omega$.",3,"Let $L$ be the common perpendicular bisector of $AA_1, BB_1, CC_1$. Let $D = AC_1 \cap A_1C$. Show that line $L$ passes through $D$ and is the external angle bisector of $\angle ADC$.","Let $\\sigma_L$ be the reflection across line $L$. By definition, $\\sigma_L(A)=A_1$ and $\\sigma_L(C)=C_1$. The line $A_1C$ is the reflection of $AC_1$ across $L$. Their intersection point $D$ must therefore be fixed by the reflection, which means $D$ lies on the line $L$. To show $L$ is the external angle bisector of $\\angle ADC$, we can use coordinates. Let $L$ be the y-axis, with $A=(x_A,y_A)$ and $C=(x_C,y_C)$. Then $A_1=(-x_A,y_A)$ and $C_1=(-x_C,y_C)$. The intersection $D$ of line $A_1C$ and $AC_1$ lies on the y-axis. The slopes of $DA$ and $DC$ are $m_{DA}=(y_A-y_D)/x_A$ and $m_{DC}=(y_C-y_D)/x_C$. A calculation of $y_D$ from the line intersection equations shows that $y_D(x_A+x_C) = x_Ay_C+x_Cy_A$. Substituting this into the sum of slopes gives $m_{DA}+m_{DC}=0$, which proves that $L$ is an external angle bisector of $\\angle ADC$.","Let $R=AC \\cap A_1C_1$. Let $F$ be the second point of intersection of the line containing $D$ and $R$ with the circumcircle of $\triangle ACD$. Prove that the points $B, E, D, F$ are concyclic.","Let $\\omega=(ABC)$, $\\omega'=(A_1BC_1)$, and $\\gamma$ be the circumcircle of the symmetric trapezoid $ACC_1A_1$. The line $AC$ is the radical axis of $\\omega$ and $\\gamma$. The line $A_1C_1$ is the radical axis of $\\omega'$ and $\\gamma$. Their intersection, $R$, is the radical center of the three circles. This implies $R$ also lies on the radical axis of $\\omega$ and $\\omega'$, which is the line $BE$. Let $\\Omega_{ACD}$ be the circumcircle of $\triangle ACD$. The power of $R$ with respect to $\\omega$ is $P_\\omega(R) = \\overline{RA} \\cdot \\overline{RC} = \\overline{RB} \\cdot \\overline{RE}$ since $R,B,E$ are collinear. The power of $R$ with respect to $\\Omega_{ACD}$ is $P_{\\Omega_{ACD}}(R) = \\overline{RA} \\cdot \\overline{RC} = \\overline{RD} \\cdot \\overline{RF}$ since $R,D,F$ are collinear. Equating these gives $\\overline{RB} \\cdot \\overline{RE} = \\overline{RD} \\cdot \\overline{RF}$, which is the condition for the points $B, E, D, F$ to be concyclic.",Prove that the lines $B B_{1}$ and $D E$ intersect on $\\omega$.,"Let $X$ be the second intersection of line $DE$ with circle $\\omega$. We show $X$ lies on line $BB_1$. From Sub-problem 1, the line $DF$ is the common perpendicular bisector $L$ of $BB_1$, so $BB_1 \\perp DF$. Let $M$ be the point on $\\omega$ diametrically opposite to $B$. Since $AB=BC$, $BM$ is the perpendicular bisector of $AC$. From Sub-problem 1, line $DF=L$ is the external angle bisector of $\\angle ADC$. This bisector intersects the circumcircle of $\triangle ACD$ at $F$, which implies $FA=FC$. Thus $F$ lies on the perpendicular bisector of $AC$. Therefore, $B,F,M$ are collinear. In circle $\\omega$, since $BM$ is a diameter, $BX \\perp MX$. From the concyclicity of $B,E,D,F$ (Sub-problem 2), we have $\\angle FDE = 180^\\circ - \\angle FBE$. In $\\omega$, $\\angle EXM = 180^\\circ - \\angle EBM = 180^\\circ - \\angle FBE$. Therefore, $\\angle EXM = \\angle FDE$, which implies $MX \\parallel DF$. Since $BB_1 \\perp DF$ and $MX \\parallel DF$, we have $BB_1 \\perp MX$. Both $BX$ and $BB_1$ pass through $B$ and are perpendicular to $MX$, so they must be the same line. Thus, $X$ lies on line $BB_1$.",,
2017g6,"Let $n \geqslant 3$ be an integer. Two regular $n$-gons $\mathcal{A}$ and $\mathcal{B}$ are given in the plane. Prove that the vertices of $\mathcal{A}$ that lie inside $\mathcal{B}$ or on its boundary are consecutive.\\
(That is, prove that there exists a line separating those vertices of $\mathcal{A}$ that lie inside $\mathcal{B}$ or on its boundary from the other vertices of $\mathcal{A}$.)",4,Reduce the problem about two arbitrary regular n-gons $\mathcal{A}$ and $\mathcal{B}$ to a problem about an inscribed polygon $\mathcal{C}$ and a geometric transformation $T$.,"Construct a regular n-gon $\mathcal{C}$ with vertices on the boundary of $\mathcal{B}$ and oriented the same as $\mathcal{A}$. This is done by choosing a vertex $A_1$ of $\mathcal{A}$ and a point $C_1$ on the boundary of $\mathcal{B}$ such that $\vec{O_B C_1}$ is co-directional with $\vec{O_A A_1}$ (where $O_A, O_B$ are centers), and then rotating $C_1$ around $O_B$. Then $\mathcal{A}$ is the image of $\mathcal{C}$ under a homothety $T$ (a translation is a generalized homothety). The problem is now to show that the vertices $C_i$ of $\mathcal{C}$ for which $T(C_i) \in \mathcal{B}$ form a consecutive set.","Prove that for any regular polygon $\mathcal{P}$ and any convex set $\mathcal{K}$, the vertices of $\mathcal{P}$ that lie in $\mathcal{K}$ are consecutive.","The vertices of a regular polygon $\mathcal{P}$ lie on its circumcircle. The intersection of this circle with the convex set $\mathcal{K}$ must be a single continuous arc (or empty, or the whole circle). The vertices of the regular polygon $\mathcal{P}$ that fall within this arc are therefore consecutive.",Show that the set of vertices of the constructed polygon $\mathcal{C}$ whose images under the transformation $T$ lie in $\mathcal{B}$ are consecutive.,"The vertices of $\mathcal{C}$ whose images $T(C_i)$ are in $\mathcal{B}$ are precisely the vertices of $\mathcal{C}$ that lie in the set $T^{-1}(\mathcal{B})$. Since $\mathcal{B}$ is a regular n-gon, it is a convex set. A homothety $T$ and its inverse $T^{-1}$ map convex sets to convex sets. Thus, $T^{-1}(\mathcal{B})$ is a convex set. By the result from the previous sub-problem, the vertices of the regular polygon $\mathcal{C}$ inside the convex set $T^{-1}(\mathcal{B})$ must be consecutive.",Let $n \geqslant 3$ be an integer. Two regular $n$-gons $\mathcal{A}$ and $\mathcal{B}$ are given in the plane. Prove that the vertices of $\mathcal{A}$ that lie inside $\mathcal{B}$ or on its boundary are consecutive.,"First, construct a regular $n$-gon $\mathcal{C}$ inscribed in $\mathcal{B}$ such that $\mathcal{A}=T(\mathcal{C})$ for some homothety $T$. The vertices of $\mathcal{A}$ in $\mathcal{B}$ correspond to vertices of $\mathcal{C}$ in the set $T^{-1}(\mathcal{B})$. Since $\mathcal{B}$ is convex, $T^{-1}(\mathcal{B})$ is also convex. As proven before, the vertices of a regular polygon lying in a convex set must be consecutive. Therefore, the vertices of $\mathcal{A}$ inside $\mathcal{B}$ are consecutive."
2017g7,"A convex quadrilateral $A B C D$ has an inscribed circle with center $I$. Let $I_{a}, I_{b}, I_{c}$, and $I_{d}$ be the incenters of the triangles $D A B, A B C, B C D$, and $C D A$, respectively. Suppose that the common external tangents of the circles $A I_{b} I_{d}$ and $C I_{b} I_{d}$ meet at $X$, and the common external tangents of the circles $B I_{a} I_{c}$ and $D I_{a} I_{c}$ meet at $Y$. Prove that $\angle X I Y=90^{\circ}$.",4,"Let $I_a, I_b, I_c, I_d$ be the incenters of triangles $DAB, ABC, BCD, CDA$ respectively. Prove that the line segment $I_b I_d$ is perpendicular to the diagonal $AC$, and the line segment $I_a I_c$ is perpendicular to the diagonal $BD$.","Let the incircles of $\triangle ABC$ and $\triangle ADC$ be tangent to the diagonal $AC$ at points $T_b$ and $T_d$, respectively. The distance from vertex $A$ to the tangency point along $AC$ is given by $AT_b = \frac{AB+AC-BC}{2}$ in $\triangle ABC$ and $AT_d = \frac{AD+AC-CD}{2}$ in $\triangle ADC$. Since the quadrilateral $ABCD$ has an inscribed circle, it is a tangential quadrilateral, so $AB+CD = BC+AD$, which implies $AB-BC = AD-CD$. Therefore, $AT_b = AT_d$, so the points of tangency coincide, say at $T$. Since $I_bT \perp AC$ and $I_dT \perp AC$, the line $I_bI_d$ is perpendicular to $AC$. The proof for $I_aI_c \perp BD$ is analogous.","Let $O_a, O_b, O_c, O_d$ be the circumcenters of the circles $(AI_bI_d), (BI_aI_c), (CI_bI_d), (DI_aI_c)$ respectively. Prove that $O_a, O_b, O_c, O_d$ lie on the lines $AI, BI, CI, DI$ respectively.","By symmetry, it suffices to prove that $O_a$ lies on line $AI$. In $\triangle AI_bI_d$, the altitude from vertex $A$ to the side $I_bI_d$ lies on the line $AC$, because $AC \perp I_bI_d$ as established in the first sub-problem. In any triangle, the altitude and the circumdiameter from the same vertex are isogonal conjugates. Thus, the line $AO_a$ (circumdiameter) is isogonal to the line $AC$ (altitude) with respect to $\angle I_bAI_d$. This means $\angle CAI_b = \angle I_dAO_a$. Since $I_b$ and $I_d$ are incenters, $AI_b$ and $AI_d$ are the angle bisectors of $\angle BAC$ and $\angle DAC$. So, $\angle DAO_a = \angle DAI_d + \angle I_dAO_a = \angle DAI_d + \angle CAI_b = \frac{1}{2}\angle DAC + \frac{1}{2}\angle BAC = \frac{1}{2}\angle DAB$. This shows that $AO_a$ is the angle bisector of $\angle DAB$, which is the line $AI$. Therefore, $O_a$ lies on $AI$.",Let $X$ be the meeting point of the common external tangents of circles $(AI_bI_d)$ and $(CI_bI_d)$. Prove that the line $IX$ is the external angle bisector of $\angle AIC$ and the internal angle bisector of $\angle BID$.,"Let $\omega_a = (AI_bI_d)$ and $\omega_c = (CI_bI_d)$, with centers $O_a, O_c$ and radii $r_a, r_c$. The line of centers $O_aO_c$ is the perpendicular bisector of the common chord $I_bI_d$. From sub-problem 1, $I_bI_d \perp AC$, so $O_aO_c \parallel AC$. From sub-problem 2, $O_a$ lies on $AI$ and $O_c$ lies on $CI$. The parallelism implies $\triangle IO_aO_c \sim \triangle IAC$, so $IO_a/IO_c = IA/IC$. From this similarity and the fact that $r_a=O_aA$ and $r_c=O_cC$, we can derive $r_a/r_c = IO_a/IO_c$. As $X$ is the external similitude center, $XO_a/XO_c = r_a/r_c$. Thus, $XO_a/XO_c = IO_a/IO_c$, which by the external angle bisector theorem means $IX$ is the external bisector of $\angle O_aIO_c = \angle AIC$. Furthermore, points $I, I_b, I_d$ lie on the Apollonius circle of $O_a, O_c$. The diameter of this circle containing $X$ is the perpendicular bisector of the chord $I_bI_d$. This implies that $IX$ bisects $\angle I_bII_d = \angle BID$. Based on the geometry of the centers of similitude, $IX$ is the internal bisector.","A convex quadrilateral $A B C D$ has an inscribed circle with center $I$. Let $I_{a}, I_{b}, I_{c}$, and $I_{d}$ be the incenters of the triangles $D A B, A B C, B C D$, and $C D A$, respectively. Suppose that the common external tangents of the circles $A I_{b} I_{d}$ and $C I_{b} I_{d}$ meet at $X$, and the common external tangents of the circles $B I_{a} I_{c}$ and $D I_{a} I_{c}$ meet at $Y$. Prove that $\angle X I Y=90^{\circ}$.","From the result of sub-problem 3, the line $IX$ is the internal angle bisector of $\angle BID$. By applying a symmetric argument to the circles $(BI_aI_c)$ and $(DI_aI_c)$ and their external similitude center $Y$, we conclude that the line $IY$ is the external angle bisector of $\angle BID$. The internal and external bisectors of an angle are always perpendicular to each other. Therefore, $IX \perp IY$, which means $\angle XIY = 90^{\circ}$."
2017n2,"Let $p \geqslant 2$ be a prime number. Eduardo and Fernando play the following game making moves alternately: in each move, the current player chooses an index $i$ in the set $\{0,1, \ldots, p-1\}$ that was not chosen before by either of the two players and then chooses an element $a_{i}$ of the set $\{0,1,2,3,4,5,6,7,8,9\}$. Eduardo has the first move. The game ends after all the indices $i \in\{0,1, \ldots, p-1\}$ have been chosen. Then the following number is computed:

$$
M=a_{0}+10 \cdot a_{1}+\cdots+10^{p-1} \cdot a_{p-1}=\sum_{j=0}^{p-1} a_{j} \cdot 10^{j} .
$$

The goal of Eduardo is to make the number $M$ divisible by $p$, and the goal of Fernando is to prevent this.

Prove that Eduardo has a winning strategy.",3,"Show that Eduardo has a winning strategy for $p=2$ and $p=5$. For primes $p \notin \{2, 5\}$, establish Eduardo's first move and a pairing strategy for the remaining indices.","If $p=2$ or $p=5$, Eduardo chooses $(i,a_i)=(0,0)$ on his first turn. The resulting number $M$ will be a multiple of 10, thus divisible by $p$. If $p \notin \{2, 5\}$, Eduardo's first move is $(p-1, 0)$. His goal is to make $\sum_{j=0}^{p-2} a_j 10^j$ divisible by $p$. The remaining $p-1$ indices $\{0, 1, \ldots, p-2\}$ are partitioned into pairs $\{i, i+(p-1)/2\}$ for $i=0, \ldots, (p-3)/2$. Whenever Fernando chooses one index from a pair, Eduardo chooses the other in his next turn.","For a prime $p \notin \{2, 5\}$, show that $10^{(p-1)/2} \equiv \pm 1 \pmod p$. Based on this, define Eduardo's strategy for choosing a digit $a_j$ in response to Fernando's choice $(i, a_i)$ within a pair $\{i, j\}$.","By Fermat's Little Theorem, $10^{p-1} \equiv 1 \pmod p$. Since $p$ is prime, this implies $10^{(p-1)/2} \equiv \pm 1 \pmod p$. Let $j$ be the index paired with $i$. Eduardo's responsive digit choice depends on the case:
Case A: If $10^{(p-1)/2} \equiv -1 \pmod p$, Eduardo chooses $a_j = a_i$.
Case B: If $10^{(p-1)/2} \equiv 1 \pmod p$, Eduardo chooses $a_j = 9-a_i$. This is a valid choice as $a_j$ remains in $\{0, 1, \ldots, 9\}$.","Let $p \geqslant 2$ be a prime number. Eduardo and Fernando play the following game making moves alternately: in each move, the current player chooses an index $i$ in the set $\{0,1, \ldots, p-1\}$ that was not chosen before by either of the two players and then chooses an element $a_{i}$ of the set $\{0,1,2,3,4,5,6,7,8,9\}$. Eduardo has the first move. The game ends after all the indices $i \in\{0,1, \ldots, p-1\}$ have been chosen. Then the following number is computed: $M=\sum_{j=0}^{p-1} a_{j} \cdot 10^{j}$. The goal of Eduardo is to make the number $M$ divisible by $p$, and the goal of Fernando is to prevent this. Prove that Eduardo has a winning strategy.","For $p=2, 5$, the strategy from Part 1 ensures Eduardo wins. For $p \notin \{2, 5\}$, Eduardo applies the strategy from Parts 1 and 2. We analyze the sum $M \pmod p$ based on the two cases from Part 2.
Case A: $10^{(p-1)/2} \equiv -1 \pmod p$. The contribution to $M$ from each pair $\{i, j\}$ is $a_i 10^i + a_j 10^j \equiv a_i 10^i + a_i 10^{i+(p-1)/2} \equiv a_i 10^i - a_i 10^i \equiv 0 \pmod p$. The total sum is $M \equiv 0 \pmod p$.
Case B: $10^{(p-1)/2} \equiv 1 \pmod p$. The contribution from each pair is $a_i 10^i + a_j 10^j \equiv a_i 10^i + (9-a_i) 10^{i+(p-1)/2} \equiv a_i 10^i + (9-a_i) 10^i \equiv 9 \cdot 10^i \pmod p$. The total sum over all pairs is $M \equiv \sum_{i=0}^{(p-3)/2} 9 \cdot 10^i = 10^{(p-1)/2} - 1 \equiv 1-1 \equiv 0 \pmod p$. Thus, Eduardo can always force $M$ to be divisible by $p$.",,
2017n7,"Say that an ordered pair $(x, y)$ of integers is an irreducible lattice point if $x$ and $y$ are relatively prime. For any finite set $S$ of irreducible lattice points, show that there is a homogenous polynomial in two variables, $f(x, y)$, with integer coefficients, of degree at least 1 , such that $f(x, y)=1$ for each $(x, y)$ in the set $S$.

Note: A homogenous polynomial of degree $n$ is any nonzero polynomial of the form

\begin{equation*}
f(x, y)=a_{0} x^{n}+a_{1} x^{n-1} y+a_{2} x^{n-2} y^{2}+\cdots+a_{n-1} x y^{n-1}+a_{n} y^{n} . \tag{U.S.A.}
\end{equation*}",3,"For any prime power $a = p^k$, show that there exists a homogeneous polynomial $f_a(x, y)$ with integer coefficients and degree at least 1, such that $f_a(x, y) \equiv 1 \pmod{a}$ for all irreducible lattice points $(x, y)$.","If $p$ is an odd prime, let $P(x,y)=x^{p-1}+y^{p-1}$. For any irreducible point $(x,y)$, $\gcd(x,y)=1$, so $p$ cannot divide both $x$ and $y$. This implies $p$ does not divide $P(x,y)$. If $p=2$, let $P(x,y)=x^2+xy+y^2$. For $\gcd(x,y)=1$, $P(x,y)$ is always odd, so not divisible by 2. In both cases, $\gcd(P(x,y), p)=1$. By Euler's totient theorem, $f_a(x,y) = P(x,y)^{\phi(a)} \equiv 1 \pmod{a}$. This polynomial is homogeneous and has degree at least 1.","For any integer $a > 1$, show that there exists a homogeneous polynomial $f_a(x, y)$ with integer coefficients and degree at least 1, such that $f_a(x, y) \equiv 1 \pmod{a}$ for all irreducible lattice points $(x, y)$.","Let $a = q_1 \cdots q_k$ be its prime power factorization. From sub-problem 1, for each $q_i$, there is a homogeneous polynomial $f_{q_i}$ such that $f_{q_i}(x,y) \equiv 1 \pmod{q_i}$. Let $F_{q_i}$ be powers of $f_{q_i}$ such that all $F_{q_i}$ have the same degree $D$. Let $m_i = a/q_i$. Since $\gcd(m_1, \dots, m_k) = 1$, there exist integers $c_i$ with $\sum c_i m_i = 1$. The polynomial $f_a(x,y) = \sum_{i=1}^k c_i m_i F_{q_i}(x,y)$ is homogeneous of degree $D$. Modulo $q_j$, this sum reduces to $c_j m_j F_{q_j}(x,y) \equiv 1 \cdot 1 = 1 \pmod{q_j}$. By the Chinese Remainder Theorem, $f_a(x,y) \equiv 1 \pmod a$.","For any finite set $S$ of irreducible lattice points, show that there is a homogenous polynomial in two variables, $f(x, y)$, with integer coefficients, of degree at least 1, such that $f(x, y)=1$ for each $(x, y)$ in the set $S$.","We may assume no two points in $S = \{(x_1, y_1), \dots, (x_n, y_n)\}$ are collinear with the origin, as a polynomial $g$ that works for a reduced set provides a solution $g^2$ for the original set. For each $i \in \{1, \dots, n\}$, define the homogeneous polynomial $g_i(x,y) = \prod_{j \neq i} (y_j x - x_j y)$. Let $a_i = g_i(x_i, y_i)$, which is a non-zero integer. Let $a = \text{lcm}(|a_1|, \dots, |a_n|)$. By sub-problem 2, there is a homogeneous polynomial $F(x,y)$ of degree $N \ge n-1$ such that $F(u,v) \equiv 1 \pmod a$. This implies $F(x_i, y_i) = 1 + c_i a_i$ for some integers $c_i$. Let $H_i(x,y)$ be homogeneous polynomials of degree $N$ with $H_i(x_j, y_j) = a_i \delta_{ij}$. The polynomial $f(x,y) = F(x,y) - \sum_{i=1}^n c_i H_i(x,y)$ is homogeneous with degree at least 1 and satisfies $f(x_j, y_j) = (1+c_j a_j) - c_j a_j = 1$ for all $j$.",,
2017n8,"Let $p$ be an odd prime number and $\mathbb{Z}_{>0}$ be the set of positive integers. Suppose that a function $f: \mathbb{Z}_{>0} \times \mathbb{Z}_{>0} \rightarrow\{0,1\}$ satisfies the following properties:

\begin{itemize}
  \item $f(1,1)=0$;
  \item $f(a, b)+f(b, a)=1$ for any pair of relatively prime positive integers $(a, b)$ not both equal to 1 ;
  \item $f(a+b, b)=f(a, b)$ for any pair of relatively prime positive integers $(a, b)$.
\end{itemize}

Prove that

$$
\sum_{n=1}^{p-1} f\left(n^{2}, p\right) \geqslant \sqrt{2 p}-2
$$",3,"Let $(a,b)$ be a pair of coprime positive integers. For such a pair, there is a unique pair of integers $(u,v)$ such that $ua+vb=1$ and $-b/2 < u \le b/2$. Prove that $f(a,b)=1$ if and only if $u>0$.","We prove this by induction on $s=a+b$. The base case $a=b=1$ holds, as $(u,v)=(0,1)$ and $f(1,1)=0$. For the induction step, assume the claim holds for sums less than $s$. \nIf $a>b$, then $f(a,b)=f(a-b,b)$. The unique integer $u \\in (-b/2, b/2]$ satisfying $ua \\equiv 1 \\pmod b$ also satisfies $u(a-b) \\equiv 1 \\pmod b$. By induction, $f(a-b,b)=1 \\iff u>0$, so the claim holds for $(a,b)$.\nIf $a<b$, then $f(a,b)=1-f(b,a)=1-f(b-a,a)$. The unique pair for $(b,a)$ is $(v,u)$ where $v \\in (-a/2, a/2]$. The first component of the pair for $(b-a,a)$ is $v$. By induction, $f(b-a,a)=1 \\iff v>0$. So $f(a,b)=1 \\iff v\\le 0$. Since $ua+vb=1$ and $a,b>0$, $v\\le 0 \\iff ua\\ge 1 \\iff u>0$. This completes the induction.","Let $QR_p$ be the set of non-zero quadratic residues modulo $p$. Using the result from Sub-problem 1, show that $\\sum_{n=1}^{p-1} f\\left(n^{2}, p\right) = 2 \\left|\\left\\{k \\in QR_p \\mid 1 \\le k < p/2 \right\\}\right|$.","From Sub-problem 1, $f(a,p)=1$ if and only if the standard modular inverse of $a \\pmod p$ in $\{1, \\dots, p-1\}$ is in $\{1, \\dots, (p-1)/2\}$. Let $inv(x)$ be this inverse. The sum is $\\sum_{n=1}^{p-1} [inv(n^2) \\le (p-1)/2]$, where $[\cdot]$ is the Iverson bracket. The list of values $(n^2 \\pmod p)_{n=1}^{p-1}$ contains each non-zero quadratic residue (QR) exactly twice. Since $inv(n^2) = (inv(n))^2$ and $n \\mapsto inv(n)$ is a permutation of $\{1, \\dots, p-1\}$, the list $(inv(n^2) \\pmod p)_{n=1}^{p-1}$ is the same multiset. Thus, the sum is equal to $\\sum_{n=1}^{p-1} [n^2 \\pmod p \\le (p-1)/2]$. Let $S = \\{k \\in QR_p \\mid 1 \\le k < p/2\\}$. Each $k \\in S$ appears twice in the list of squares. Thus, the sum is $2|S|$.","Prove that $\\sum_{n=1}^{p-1} f\\left(n^{2}, p\right) \\geqslant \\sqrt{2 p}-2$.","From Sub-problem 2, the sum is $2 \\left|\\left\\{k \\in QR_p \\mid 1 \\le k < p/2 \right\\}\right|$. Let this set be $S$. To find a lower bound for $|S|$, consider the set of perfect squares $P = \\{m^2 \\mid m \\in \\mathbb{Z}_{>0}, m^2 < p/2\\}$. Every element of $P$ is an integer in the range $[1, p/2)$ and is a quadratic residue modulo $p$. Thus, $P \\subseteq S$. The size of $P$ is the number of positive integers $m$ with $m < \\sqrt{p/2}$, which is $|P| = \\lfloor\\sqrt{p/2}\rfloor$. Therefore, $|S| \\ge |P| = \\lfloor\\sqrt{p/2}\rfloor$. The sum is at least $2\\lfloor\\sqrt{p/2}\rfloor$. Using the inequality $\\lfloor x \rfloor > x-1$, we have: $\\sum_{n=1}^{p-1} f\\left(n^{2}, p\right) \\ge 2\\lfloor\\sqrt{p/2}\rfloor > 2(\\sqrt{p/2}-1) = \\sqrt{2p}-2$. This implies the required inequality.",,
2016a1,"Let $a, b$ and $c$ be positive real numbers such that $\min \{a b, b c, c a\} \geqslant 1$. Prove that


\begin{equation*}
\sqrt[3]{\left(a^{2}+1\right)\left(b^{2}+1\right)\left(c^{2}+1\right)} \leqslant\left(\frac{a+b+c}{3}\right)^{2}+1 \tag{1}
\end{equation*}",2,"For any positive real numbers $x, y$ with $x y \geqslant 1$, prove that $\left(x^{2}+1\right)\left(y^{2}+1\right) \leqslant\left(\left(\frac{x+y}{2}\right)^{2}+1\right)^{2}$.","The inequality expands to $(x y-1)^{2}+(x+y)^{2} \leqslant \left(\left(\frac{x+y}{2}\right)^{2}+1\right)^{2}$. From $xy \ge 1$ and AM-GM, we have $\left(\frac{x+y}{2}\right)^{2} \ge xy$, which implies $\left(\frac{x+y}{2}\right)^{2}-1 \ge xy-1 \ge 0$. Squaring this gives $\left(\left(\frac{x+y}{2}\right)^{2}-1\right)^{2} \ge (xy-1)^2$. The required inequality follows because $\left(x^{2}+1\right)\left(y^{2}+1\right)=(x y-1)^{2}+(x+y)^{2} \leqslant\left(\left(\frac{x+y}{2}\right)^{2}-1\right)^{2}+(x+y)^{2}=\left(\left(\frac{x+y}{2}\right)^{2}+1\right)^{2}$.","Let $a, b$ and $c$ be positive real numbers such that $\min \{a b, b c, c a\} \geqslant 1$. Prove that $\sqrt[3]{\left(a^{2}+1\right)\left(b^{2}+1\right)\left(c^{2}+1\right)} \leqslant\left(\frac{a+b+c}{3}\right)^{2}+1$.","Let $d=\frac{a+b+c}{3}$. The condition $\min \{a b, b c, c a\} \geqslant 1$ implies $a,b,c \ge 1$, which ensures $ad \ge 1$. Using the result from the first sub-problem, since $bc \ge 1$ and $ad \ge 1$, we can write $\left(b^{2}+1\right)\left(c^{2}+1\right) \le \left(\left(\frac{b+c}{2}\right)^{2}+1\right)^{2}$ and $\left(a^{2}+1\right)\left(d^{2}+1\right) \le \left(\left(\frac{a+d}{2}\right)^{2}+1\right)^{2}$. Multiplying these gives $\left(a^{2}+1\right)\left(b^{2}+1\right)\left(c^{2}+1\right)\left(d^{2}+1\right) \leqslant \left(\left(\frac{a+d}{2}\right)^{2}+1\right)^{2}\left(\left(\frac{b+c}{2}\right)^{2}+1\right)^{2}$. Since $\frac{a+d}{2} \cdot \frac{b+c}{2} \geqslant \sqrt{ad} \sqrt{bc} \ge 1$, we apply the first result again to the right side, yielding $\left(\left(\frac{a+b+c+d}{4}\right)^{2}+1\right)^{4}$. As $\frac{a+b+c+d}{4} = \frac{3d+d}{4} = d$, we get $\left(a^{2}+1\right)\left(b^{2}+1\right)\left(c^{2}+1\right)\left(d^{2}+1\right) \le (d^2+1)^4$. Dividing by $d^2+1$ gives $\left(a^{2}+1\right)\left(b^{2}+1\right)\left(c^{2}+1\right) \leqslant (d^2+1)^3$. Taking the cube root completes the proof.",,,,
2016a5,"(a) Prove that for every positive integer $n$, there exists a fraction $\frac{a}{b}$ where $a$ and $b$ are integers satisfying $0<b \leqslant \sqrt{n}+1$ and $\sqrt{n} \leqslant \frac{a}{b} \leqslant \sqrt{n+1}$.\\
(b) Prove that there are infinitely many positive integers $n$ such that there is no fraction $\frac{a}{b}$ where $a$ and $b$ are integers satisfying $0<b \leqslant \sqrt{n}$ and $\sqrt{n} \leqslant \frac{a}{b} \leqslant \sqrt{n+1}$.",2,Let $r$ be a positive integer and $b$ be an integer satisfying $1 \le b \le r$. Prove that there is no integer $a$ such that $b^2(r^2+1) \le a^2 \le b^2(r^2+2)$.,"We analyze the interval $[b^2(r^2+1), b^2(r^2+2)]$. The lower bound is $b^2(r^2+1) = b^2r^2+b^2 = (br)^2+b^2$. Since $b \ge 1$, $b^2 \ge 1$, so $b^2(r^2+1) > (br)^2$. The upper bound is $b^2(r^2+2) = b^2r^2+2b^2$. Since $b$ is a positive integer and $b \le r$, we have $2b^2 \le 2br < 2br+1$. Therefore, $b^2r^2+2b^2 < b^2r^2+2br+1 = (br+1)^2$. So, we have shown $(br)^2 < b^2(r^2+1) \le a^2 \le b^2(r^2+2) < (br+1)^2$. This implies $a^2$ is an integer strictly between two consecutive squares, $(br)^2$ and $(br+1)^2$, which is impossible. Thus, no such integer $a$ exists.","(a) Prove that for every positive integer $n$, there exists a fraction $\frac{a}{b}$ where $a$ and $b$ are integers satisfying $0<b \leqslant \sqrt{n}+1$ and $\sqrt{n} \leqslant \frac{a}{b} \leqslant \sqrt{n+1}$.\n(b) Prove that there are infinitely many positive integers $n$ such that there is no fraction $\frac{a}{b}$ where $a$ and $b$ are integers satisfying $0<b \leqslant \sqrt{n}$ and $\sqrt{n} \leqslant \frac{a}{b} \leqslant \sqrt{n+1}$.","For part (a), let $r = \lfloor \sqrt{n} \rfloor$ and $n=r^2+s$, with $0 \le s \le 2r$. We consider two cases based on the parity of $s$. If $s$ is even, we choose $\frac{a}{b} = r+\frac{s}{2r} = \frac{r^2+s/2}{r}$. Then $b=r \le \sqrt{n} < \sqrt{n}+1$. The square $(\frac{a}{b})^2 = n+(\frac{s}{2r})^2$ is in $[n, n+1]$ as $s \le 2r$. If $s$ is odd, we choose $\frac{a}{b} = r+1-\frac{2r+1-s}{2(r+1)} = \frac{r^2+r+(s+1)/2}{r+1}$. Then $b=r+1 \le \sqrt{n}+1$ since $r \le \sqrt{n}$. The square $(\frac{a}{b})^2 = n+(\frac{2r+1-s}{2(r+1)})^2$ is in $[n, n+1]$ as $1 \le s \le 2r-1$ implies $0 < (\frac{2r+1-s}{2(r+1)})^2 < 1$. In both cases, $\sqrt{n} \le \frac{a}{b} \le \sqrt{n+1}$ holds for a fraction with a valid denominator.\nFor part (b), consider the infinite set of integers $n=r^2+1$ for $r=1, 2, 3, \dots$. Suppose a fraction $\frac{a}{b}$ exists for such an $n$. The condition on the denominator is $0<b \le \sqrt{n} = \sqrt{r^2+1}$. Since $b$ is an integer, this implies $b \le r$. The condition on the fraction, $\sqrt{n} \le \frac{a}{b} \le \sqrt{n+1}$, becomes $\sqrt{r^2+1} \le \frac{a}{b} \le \sqrt{r^2+2}$. Squaring all parts gives $b^2(r^2+1) \le a^2 \le b^2(r^2+2)$. From the first sub-problem, we know that for $1 \le b \le r$, there is no integer $a$ satisfying this condition. This is a contradiction. Thus, for the infinitely many integers of the form $n=r^2+1$, no such fraction exists.",,,,
2016c3,Let $n$ be a positive integer relatively prime to 6 . We paint the vertices of a regular $n$-gon with three colours so that there is an odd number of vertices of each colour. Show that there exists an isosceles triangle whose three vertices are of different colours.,3,"Let $A$ and $B$ be two distinct vertices of a regular $n$-gon, where $n$ is an integer such that $(n, 6)=1$. Prove that there are exactly three distinct isosceles triangles having $A$ and $B$ as vertices.","Let the vertices be $v_i$ and $v_j$. An isosceles triangle $v_i v_j v_k$ can have one of three vertices as the apex. 
1. Apex at $v_k$: $v_k$ is on the perpendicular bisector of segment $v_i v_j$. Since $n$ is odd, this bisector passes through a unique vertex. 
2. Apex at $v_i$: The third vertex $v_k$ must satisfy distance($v_i, v_k$) = distance($v_i, v_j$). This gives the vertex $v_k$ with index $k 鈮?2i-j \pmod n$. 
3. Apex at $v_j$: Similarly, the third vertex $v_k$ has index $k 鈮?2j-i \pmod n$. 
These three choices for $v_k$ are distinct because $(n,3)=1$. For example, if $2i-j 鈮?2j-i \pmod n$, then $3(i-j) 鈮?0 \pmod n$, which implies $i=j$, a contradiction. Thus, there are exactly three such distinct triangles.","Let the vertices of a regular $n$-gon be painted with three colours, where $(n,6)=1$. Let $b,c,d$ be the number of vertices of each colour, and $a_k$ be the number of isosceles triangles with exactly $k$ colours. Assuming $a_3=0$, derive a relationship between $a_2$, $b$, $c$, and $d$ by counting pairs $(\triangle, E)$ where $\triangle$ is an isosceles triangle and $E$ is a side of $\triangle$ with endpoints of different colours.","We count the number of such pairs $(\triangle, E)$ in two ways. 
1. Counting via triangles: Since we assume $a_3=0$, any such triangle $\triangle$ must have exactly two colours. An isosceles triangle with two colours has two sides with endpoints of different colours and one side with endpoints of the same colour. Thus, each of the $a_2$ such triangles contributes 2 pairs. The total count is $2a_2$. 
2. Counting via sides: The number of pairs of vertices with different colours is $bc+cd+db$. From the result of sub-problem 1, for each such pair of vertices, there are exactly three isosceles triangles having them as vertices. Each of these triangles forms a valid pair $(\triangle, E)$ with the edge defined by the two vertices. Thus, the total count is $3(bc+cd+db)$. 
Equating both counts gives the relationship $2a_2 = 3(bc+cd+db)$.",Let $n$ be a positive integer relatively prime to 6. We paint the vertices of a regular $n$-gon with three colours so that there is an odd number of vertices of each colour. Show that there exists an isosceles triangle whose three vertices are of different colours.,"Let $b, c, d$ be the number of vertices of each colour. By the problem statement, $b, c, d$ are all odd integers. Assume for contradiction that there are no isosceles triangles with vertices of three different colours ($a_3=0$). From the result of sub-problem 2, we have the relation $2a_2 = 3(bc+cd+db)$, where $a_2$ is the number of two-coloured isosceles triangles. The left side, $2a_2$, is an even integer. On the right side, since $b, c, d$ are odd, the products $bc, cd, db$ are also odd. The sum of three odd numbers, $bc+cd+db$, is odd. Therefore, $3(bc+cd+db)$ is an odd number. This leads to the contradiction that an even number is equal to an odd number. Thus, our initial assumption must be false, and there must exist at least one isosceles triangle with three different colours.",,
2016c6,"There are $n \geqslant 3$ islands in a city. Initially, the ferry company offers some routes between some pairs of islands so that it is impossible to divide the islands into two groups such that no two islands in different groups are connected by a ferry route.

After each year, the ferry company will close a ferry route between some two islands $X$ and $Y$. At the same time, in order to maintain its service, the company will open new routes according to the following rule: for any island which is connected by a ferry route to exactly one of $X$ and $Y$, a new route between this island and the other of $X$ and $Y$ is added.

Suppose at any moment, if we partition all islands into two nonempty groups in any way, then it is known that the ferry company will close a certain route connecting two islands from the two groups after some years. Prove that after some years there will be an island which is connected to all other islands by ferry routes.",3,"Define a network on a set of islands $S$ as a partition of $S$ into non-empty sets $\mathcal{A}$ and $\mathcal{B}$ where every island in $\mathcal{A}$ is connected to every island in $\mathcal{B}$. Show that if a route between $A \in \mathcal{A}$ and $B \in \mathcal{B}$ is closed, the set $S$ can be re-partitioned to form a new network.","Let the network on $S$ be $(\mathcal{A}, \mathcal{B})$. When the route $(A,B)$ for $A \in \mathcal{A}, B \in \mathcal{B}$ is closed, consider any island $C \in S \setminus \{A,B\}$. If $C \in \mathcal{A}$, it is connected to $B$. After the operation, if $C$ was not connected to $A$, it becomes connected. So $C$ is now connected to both $A$ and $B$. Similarly, if $C \in \mathcal{B}$, it is connected to $A$ and will also be connected to $B$. Therefore, every island in $S \setminus \{A,B\}$ is connected to both $A$ and $B$. We define a new network on $S$ with partitions $\mathcal{A}'=\{A,B\}$ and $\mathcal{B}'=S \setminus \{A,B\}$. Since $|S| \ge 3$, $\mathcal{B}'$ is non-empty.","Show that eventually, the set of all $n$ islands can be partitioned into two non-empty sets $\mathcal{A}$ and $\mathcal{B}$ forming a network.","The initial graph is connected and $n \ge 3$, so there exists a path $C-A-B$. This gives an initial network on $\{A,B,C\}$ with $\mathcal{A}_0=\{A\}, \mathcal{B}_0=\{B,C\}$. Let $S$ be the set of islands in the current network. If $S$ does not contain all islands, the problem states a route between $S$ and its complement $N \setminus S$ must eventually be closed. Let this be $(X,D)$ where $X \in \mathcal{A} \subset S$ and $D \notin S$. For any island $Y \in \mathcal{B}$, $Y$ is connected to $X$. The rule ensures $Y$ becomes connected to $D$. We can then add $D$ to $\mathcal{A}$ to form a larger network $(\mathcal{A} \cup \{D\}, \mathcal{B})$ on $S \cup \{D\}$. This process repeats until all islands are included.",Prove that after some years there will be an island which is connected to all other islands by ferry routes.,"By Sub-problem 2, all $n$ islands eventually form a network $(\mathcal{A}, \mathcal{B})$. A route between $A \in \mathcal{A}$ and $B \in \mathcal{B}$ must eventually be closed. By Sub-problem 1, this creates a new network $(\mathcal{A}', \mathcal{B}')$ with $\mathcal{A}'=\{A,B\}$ and $\mathcal{B}'$ as the other islands. This relation must again be broken by closing a route between the new partitions, say between $A \in \mathcal{A}'$ and $C \in \mathcal{B}'$. Consider island $B$. Before this operation, $B$ is connected to $C$ (as $B \in \mathcal{A}', C \in \mathcal{B}'$), but the route $(A,B)$ has been closed. Thus $B$ is connected to exactly one of $\{A,C\}$, namely $C$. The rule adds a route $(B,A)$. Since $B$ was already connected to all islands in $\mathcal{B}'$, $B$ is now connected to $A$ and all of $\mathcal{B}'$, which constitutes all other $n-1$ islands.",,
2016c7,"Let $n \geqslant 2$ be an integer. In the plane, there are $n$ segments given in such a way that any two segments have an intersection point in the interior, and no three segments intersect at a single point. Jeff places a snail at one of the endpoints of each of the segments and claps his hands $n-1$ times. Each time when he claps his hands, all the snails move along their own segments and stay at the next intersection points until the next clap. Since there are $n-1$ intersection points on each segment, all snails will reach the furthest intersection points from their starting points after $n-1$ claps.\\
(a) Prove that if $n$ is odd then Jeff can always place the snails so that no two of them ever occupy the same intersection point.\\
(b) Prove that if $n$ is even then there must be a moment when some two snails occupy the same intersection point no matter how Jeff places the snails.",3,"Extend the $n$ segments to lines $l_i$, intersecting the boundary of a large disk at points $\{A_i, B_i\}$. For two snails starting at endpoints $S_i$ and $S_j$ on lines $l_i$ and $l_j$ (which intersect at $P$), prove that the sum of the number of intersections on the segments $S_iP$ and $S_jP$, denoted $N(S_iP) + N(S_jP)$, has the same parity as the number of endpoints of other lines on the shorter circular arc between $S_i$ and $S_j$.","A snail collision at $P$ occurs if and only if the number of intersections on segment $S_iP$ equals the number on $S_jP$. Consider a third line $l_k$. If one of its endpoints lies on the arc between $S_i$ and $S_j$ and the other does not, $l_k$ must cross exactly one of the segments $S_iP$ or $S_jP$. If both endpoints of $l_k$ lie outside this arc, $l_k$ must cross both or neither of $S_iP$ and $S_jP$. Thus, each endpoint on the shorter arc between $S_i$ and $S_j$ contributes 1 (modulo 2) to the total count of intersections $N(S_iP) + N(S_jP)$. The sum's parity is therefore determined by the number of endpoints on this arc.","Using the circular arrangement of $2n$ endpoints from Sub-problem 1, prove that: (1) if $n$ is odd, we can choose starting points $\{S_i\}_{i=1}^n$ such that for any pair $S_i, S_j$, the number of endpoints on the arc between them is odd; (2) if $n$ is even, for any choice of starting points, there must exist a pair $S_i, S_j$ that are adjacent on the circle.","(1) If $n$ is odd, label the $2n$ endpoints on the circle alternately 'start' and 'end'. Since the number of points on an arc between any line's endpoints $A_i$ and $B_i$ is $n-1$ (even), they receive opposite labels. We choose all 'start' labeled points as a valid configuration. For any two 'start' points, the number of endpoints between them is odd. (2) If $n$ is even, let starting points be labeled 'start' and others 'end'. There are $n$ of each. If there were no adjacent 'start' points, the labels must alternate. But for any line $l_i$, its endpoints $A_i, B_i$ are separated by $n-1$ (odd) points, which means they would have to get the same label in an alternating scheme. This contradicts one being 'start' and one 'end'. So there must be an adjacent pair of identical labels. By symmetry, we can assume there is an adjacent 'start'-'start' pair.",(a) Prove that if $n$ is odd then Jeff can always place the snails so that no two of them ever occupy the same intersection point.\n(b) Prove that if $n$ is even then there must be a moment when some two snails occupy the same intersection point no matter how Jeff places the snails.,"(a) For odd $n$, choose starting points as in Sub-problem 2(1). For any pair of snails starting at $S_i, S_j$, the number of endpoints on the arc between them is odd. By Sub-problem 1, $N(S_iP) + N(S_jP)$ is odd, which implies $N(S_iP) \neq N(S_jP)$. Thus, no two snails collide. (b) For even $n$, any choice of starting points must, by Sub-problem 2(2), contain an adjacent pair $S_i, S_j$. The number of endpoints on the arc between them is 0. By Sub-problem 1, $N(S_iP) + N(S_jP)$ is even. Since the arc is empty, any other line $l_k$ crosses $S_iP$ if and only if it crosses $S_jP$, so $N(S_iP) = N(S_jP)$. The snails will therefore collide.",,
2016g1,"In a convex pentagon $A B C D E$, let $F$ be a point on $A C$ such that $\angle F B C=90^{\circ}$. Suppose triangles $A B F, A C D$ and $A D E$ are similar isosceles triangles with


\begin{equation*}
\angle F A B=\angle F B A=\angle D A C=\angle D C A=\angle E A D=\angle E D A . \tag{1}
\end{equation*}


Let $M$ be the midpoint of $C F$. Point $X$ is chosen such that $A M X E$ is a parallelogram. Show that $B D, E M$ and $F X$ are concurrent.",2,"Let all notations be as in the original problem. Show that points $E, F, B$ are collinear, and that points $E, D, X$ are collinear.","Let the common angle in the similar isosceles triangles be $\theta$. The similarity $\triangle A B F \sim \triangle A C D$ implies $A B / A C=A F / A D$. Since $\angle B A C=\angle F A D=\theta$, we have $\triangle A B C \sim \triangle A F D$. Thus $\angle A F D = \angle A B C = \angle ABF + \angle FBC = \theta+90^{\circ}$. In $\triangle A D E$, $\angle A E D=180^{\circ}-2 \theta$, so $\angle A F D=180^{\circ}-\frac{1}{2} \angle A E D$. This geometric condition implies that $F$ lies on the circle with center $E$ and radius $E A=E D$. Hence $E F=E A$. This makes $\triangle EFA$ isosceles, with $\angle E F A = \angle E A F = \angle E A D+\angle D A C=2 \theta$. Since $A,F,C$ are collinear, $\angle B F C=180^{\circ}-\angle A F B = 180^{\circ}-(180^{\circ}-2 \theta)=2 \theta$. As $B$ and $E$ are on opposite sides of line $AC$, $\angle E F A=\angle B F C$ implies that $E, F, B$ are collinear. For the second collinearity, since $\angle E D A=\theta$ and $\angle D A C=\theta$, the alternate interior angles between lines $ED$, $AC$ with transversal $AD$ are equal, so $ED \parallel AC$. Since $M$ lies on line segment $CF$ and $F$ is on $AC$, $M$ is on line $AC$. Thus $ED \parallel AM$. As $A M X E$ is a parallelogram, $A M \parallel E X$. Therefore, $E D \parallel E X$, which implies $E, D, X$ are collinear.","Show that $B D, E M$ and $F X$ are concurrent.","In right-angled triangle $C B F$, $M$ is the midpoint of the hypotenuse $C F$, so $M B=M F$. From the given conditions, $\triangle ABF$ is isosceles with $AF=BF$. Consider isosceles triangles $\triangle EFA$ ($EF=EA$) and $\triangle MFB$ ($MF=MB$). We have $\angle EFA = 2\theta$ and $\angle MFB = \angle BFC = 2\theta$. The sides opposite the third angle in these triangles are $AF$ and $BF$, which are equal. Thus, by AAS congruence, $\triangle EFA \cong \triangle MFB$. This congruence implies $EA=MF$ and $EF=MB$. From the parallelogram $AMXE$, we have $AE=XM$ and $AM=EX$. Combining these equalities, we get $BM=MF=EA=XM$, so $BM=XM$. Furthermore, using the collinearity of $E,F,B$ and $A,F,M$, we have $BE = BF+FE = AF+MB = AF+MF = AM$. Since $AM=EX$, we get $BE=EX$. Now, in triangles $\triangle EMB$ and $\triangle EMX$, we have a common side $EM$, $MB=MX$, and $EB=EX$. By SSS congruence, $\triangle EMB \cong \triangle EMX$. This means $EM$ is the angle bisector of $\angle BEX$ and the perpendicular bisector of $BX$. Let $S$ be the reflection across line $EM$. Then $S(B)=X$. From the first sub-problem, $F$ is on line $EB$, $D$ is on line $EX$, and $EF=ED$. This means $S(F)=D$. Consequently, the reflection of the line $BD$ is the line $XF$. Since these two lines are reflections of each other, they must intersect on the line of symmetry, $EM$. Thus, the three lines $BD, EM, FX$ are concurrent.",,,,
2016g2,Let $A B C$ be a triangle with circumcircle $\Gamma$ and incentre $I$. Let $M$ be the midpoint of side $B C$. Denote by $D$ the foot of perpendicular from $I$ to side $B C$. The line through $I$ perpendicular to $A I$ meets sides $A B$ and $A C$ at $F$ and $E$ respectively. Suppose the circumcircle of triangle $A E F$ intersects $\Gamma$ at a point $X$ other than $A$. Prove that lines $X D$ and $A M$ meet on $\Gamma$.,3,"Let $Y$ be the point where the median $AM$ meets the circumcircle $\Gamma$ again, and let the line $XY$ intersect $BC$ at $D'$. Show that $\frac{B D^{\\prime}}{C D^{\\prime}}=\frac{X B}{X C} \\cdot \frac{A C}{A B}$.","Let $Y$ be the intersection of $AM$ and $\\Gamma$. In the cyclic quadrilateral $ABYC$, the diagonals $AY$ and $BC$ intersect at $M$. The ratio of segments of diagonals in a cyclic quadrilateral can be related by areas: $\frac{BM}{MC} = \frac{[ABY]}{[ACY]} = \frac{AB \\cdot BY}{AC \\cdot CY}$. Since $M$ is the midpoint of $BC$, $\frac{BM}{MC}=1$, which implies $\frac{BY}{CY} = \frac{AC}{AB}$. Let $D'$ be the intersection of $XY$ and $BC$. By the Sine Rule in $\triangle XBD'$ and $\triangle XCD'$, $\frac{BD'}{CD'} = \frac{XB}{XC} \frac{\\sin \\angle BXD'}{\\sin \\angle CXD'}$. Since $X,B,Y,C$ are concyclic, $\\angle BXD'=\\angle BXY=\\angle BCY$ and $\\angle CXD'=\\angle CXY=\\angle CBY$. By the Sine Rule in $\triangle BCY$, $\frac{\\sin\\angle BCY}{\\sin\\angle CBY} = \frac{BY}{CY}$. Combining these, $\frac{BD'}{CD'} = \frac{XB}{XC}\frac{BY}{CY} = \frac{XB}{XC}\frac{AC}{AB}$.","Let the line through the incenter $I$ perpendicular to $AI$ meet sides $AB$ and $AC$ at $F$ and $E$ respectively. Let $X$ be the intersection of the circumcircle of $\triangle AEF$ and the circumcircle of $\triangle ABC$, other than $A$. Show that $\frac{X B}{X C} = \frac{B I^2}{C I^2}$.","As points $X,A,E,F$ are concyclic and $X,A,B,C$ are concyclic, angle chasing shows $\\angle XBF = \\angle XBA = \\angle XCA = \\angle XCE$ and $\\angle XFB = \\angle XFA = \\angle XEA = \\angle XEC$. Thus, $\triangle XBF$ and $\triangle XCE$ are similar, which gives the ratio $\frac{XB}{XC} = \frac{BF}{CE}$. The line $FE$ is perpendicular to the angle bisector $AI$. This gives $\\angle FIB = \\angle AIB - 90^\\circ = (180^\\circ - \frac{A+B}{2}) - 90^\\circ = \frac{C}{2} = \\angle ICB$. Since $\\angle FBI = \\angle IBC$, we have $\triangle FBI \\sim \triangle ICB$. Similarly, $\triangle EIC \\sim \triangle IBC$. From these similarities, $FB = BI^2/BC$ and $EC = IC^2/BC$. Therefore, $\frac{BF}{CE} = \frac{BI^2}{CI^2}$, and we conclude $\frac{XB}{XC} = \frac{BI^2}{CI^2}$.",Let $A B C$ be a triangle with circumcircle $\\Gamma$ and incentre $I$. Let $M$ be the midpoint of side $B C$. Denote by $D$ the foot of perpendicular from $I$ to side $B C$. The line through $I$ perpendicular to $A I$ meets sides $A B$ and $A C$ at $F$ and $E$ respectively. Suppose the circumcircle of triangle $A E F$ intersects $\\Gamma$ at a point $X$ other than $A$. Prove that lines $X D$ and $A M$ meet on $\\Gamma$.,"Let $AM$ meet $\\Gamma$ again at $Y$. We need to show that $X, D, Y$ are collinear. Let the line $XY$ meet $BC$ at $D'$; we will show $D'=D$. From Sub-problem 1, $\frac{B D^{\\prime}}{C D^{\\prime}}=\frac{X B}{X C} \\cdot \frac{A C}{A B}$. From Sub-problem 2, $\frac{X B}{X C} = \frac{B I^2}{C I^2}$. Thus, $\frac{B D^{\\prime}}{C D^{\\prime}}=\frac{B I^2}{C I^2} \\cdot \frac{A C}{A B}$. Since $D$ is the foot of the perpendicular from the incenter $I$ to $BC$, it is the tangency point of the incircle with side $BC$. A standard identity relates $BI, CI$ to the sides and segments $BD, CD$: $\frac{BI^2}{CI^2} = \frac{AB}{AC}\frac{BD}{CD}$. This can be shown using the Law of Sines on $\triangle AIB, \triangle AIC$ and half-angle formulas. Substituting this identity into our expression for $\frac{B D^{\\prime}}{C D^{\\prime}}$, we get $\frac{B D^{\\prime}}{C D^{\\prime}} = \\left(\frac{AB}{AC}\frac{BD}{CD}\right) \frac{AC}{AB} = \frac{BD}{CD}$. Since both $D$ and $D'$ lie on the segment $BC$, this implies $D'=D$. Thus, $X, D, Y$ are collinear, meaning lines $XD$ and $AM$ meet at $Y$ on $\\Gamma$.",,
2016g3,"Let $B=(-1,0)$ and $C=(1,0)$ be fixed points on the coordinate plane. A nonempty, bounded subset $S$ of the plane is said to be nice if\\
(i) there is a point $T$ in $S$ such that for every point $Q$ in $S$, the segment $T Q$ lies entirely in $S$; and\\
(ii) for any triangle $P_{1} P_{2} P_{3}$, there exists a unique point $A$ in $S$ and a permutation $\sigma$ of the indices $\{1,2,3\}$ for which triangles $A B C$ and $P_{\sigma(1)} P_{\sigma(2)} P_{\sigma(3)}$ are similar.

Prove that there exist two distinct nice subsets $S$ and $S^{\prime}$ of the set $\{(x, y): x \geqslant 0, y \geqslant 0\}$ such that if $A \in S$ and $A^{\prime} \in S^{\prime}$ are the unique choices of points in (ii), then the product $B A \cdot B A^{\prime}$ is a constant independent of the triangle $P_{1} P_{2} P_{3}$.",3,"Define the set $S = \{(x, y) : (x+1)^2+y^2 \le 4, x \ge 0, y \ge 0\}$. Prove that $S$ is a nice subset of the plane.","The set $S$ is defined such that for any point $A(x,y) \in S$, the sides of triangle $ABC$ satisfy $BC \ge AB \ge AC$. The set $S$ is the intersection of a closed disk and the first quadrant, so it is bounded and convex, which satisfies condition (i). For condition (ii), given any triangle $P_1P_2P_3$ with side lengths $p_1 \ge p_2 \ge p_3$, the requirement of similarity where $BC$ corresponds to the longest side $p_1$ uniquely determines the side lengths $AB = BC \cdot (p_2/p_1)$ and $AC = BC \cdot (p_3/p_1)$. This uniquely determines the point $A$ in the first quadrant. Since $p_1 \ge p_2$, we have $BC \ge AB$, which means $A$ lies in $S$. Thus, existence and uniqueness of $A$ in $S$ are guaranteed, and $S$ is nice.","Define the set $S' = \{(x, y) : (x+1)^2+y^2 \ge 4, (x-1)^2+y^2 \le 4, x \ge 0, y \ge 0\}$. Prove that $S'$ is a nice subset of the plane.","The set $S'$ is defined such that for any point $A'(x,y) \in S'$, the sides of triangle $A'BC$ satisfy $A'B \ge BC \ge A'C$. The set $S'$ is bounded as it lies within the disk $(x-1)^2+y^2 \le 4$. It is star-shaped with respect to $T=(1,2) \in S'$, satisfying condition (i). For condition (ii), given any triangle $P_1P_2P_3$ with side lengths $p_1 \ge p_2 \ge p_3$, the requirement of similarity where $BC$ corresponds to the second-longest side $p_2$ uniquely determines the side lengths $A'B = BC \cdot (p_1/p_2)$ and $A'C = BC \cdot (p_3/p_2)$. This uniquely determines the point $A'$ in the first quadrant. Since $p_1 \ge p_2 \ge p_3$, we have $A'B \ge BC \ge A'C$, which means $A'$ lies in $S'$. Thus, $S'$ is nice.","Let $S$ and $S'$ be the two distinct nice subsets defined previously. Show that if $A \in S$ and $A' \in S'$ are the unique choices of points corresponding to a triangle $P_{1} P_{2} P_{3}$, then the product $BA \cdot BA'$ is a constant independent of the triangle $P_{1} P_{2} P_{3}$.","Let a given triangle have side lengths ordered as $p_1 \ge p_2 \ge p_3$. For the point $A \in S$, the similarity $\triangle ABC \sim \triangle P_{\sigma(1)}P_{\sigma(2)}P_{\sigma(3)}$ is such that $BC$ corresponds to the longest side $p_1$, and $AB$ corresponds to the second-longest side $p_2$. From the ratio of corresponding sides, we have $\frac{BA}{BC} = \frac{p_2}{p_1}$. For the point $A' \in S'$, the similarity is such that $BC$ corresponds to the second-longest side $p_2$, and $A'B$ corresponds to the longest side $p_1$. This gives $\frac{BA'}{BC} = \frac{p_1}{p_2}$. The product of the lengths is $BA \cdot BA' = \left(BC \cdot \frac{p_2}{p_1}\right) \cdot \left(BC \cdot \frac{p_1}{p_2}\right) = BC^2$. Since $B=(-1,0)$ and $C=(1,0)$, the distance $BC = 2$. Therefore, $BA \cdot BA' = 2^2 = 4$, which is a constant independent of the triangle.",,
2016g4,"Let $A B C$ be a triangle with $A B=A C \neq B C$ and let $I$ be its incentre. The line $B I$ meets $A C$ at $D$, and the line through $D$ perpendicular to $A C$ meets $A I$ at $E$. Prove that the reflection of $I$ in $A C$ lies on the circumcircle of triangle $B D E$.",2,Let $E$ be the intersection of the line through $D$ perpendicular to $A C$ and the line $A I$. Let $I'$ be the reflection of $I$ in $A C$. Prove that $E B=E I'$.,"Since $E$ lies on $AI$, the angle bisector of $\angle BAC$ in an isosceles triangle $ABC$ with $AB=AC$, $E$ lies on the perpendicular bisector of $BC$, so $EB=EC$. Let $\Gamma$ be the circle centered at $E$ passing through $B$ and $C$. Since $ED \perp AC$, the reflection of $C$ in $D$, let's call it $F$, also lies on $\Gamma$ because $ED$ is the perpendicular bisector of $CF$, so $EC=EF$. The line $AC$ is tangent to the circumcircle of $\triangle IBC$ at $C$, which gives the power of a point relation $DC^2 = DI \cdot DB$. Let $J$ be the reflection of $I$ in $D$. This power relation implies that $B, C, J, F$ are concyclic. Since $B, C, F$ are on $\Gamma$, $J$ must also lie on $\Gamma$. $ICJF$ is a parallelogram as its diagonals bisect each other at $D$. Thus, $\angle FI'C = \angle FIC = \angle FJC$. This implies $I'$ lies on the circumcircle of $\triangle FJC$, which is $\Gamma$. Therefore, $EI' = EB$.",Prove that the reflection of $I$ in $A C$ lies on the circumcircle of triangle $B D E$.,"From the first sub-problem, we have $EB = EI'$. The line $AC$ is the internal angle bisector of $\angle BDI'$, because $I'$ is the reflection of $I$ across $AC$ and $B, I, D$ are collinear, which implies $\angle BDC = \angle IDC = \angle I'DC$. Since $DE \perp AC$, $DE$ is the external angle bisector of $\angle BDI'$. A point $E$ on the external angle bisector of $\angle D$ of $\triangle BDI'$ lies on the circumcircle of $\triangle BDI'$ if and only if it is equidistant from the other two vertices, $B$ and $I'$. As we have established $EB=EI'$, it follows that $E$ lies on the circumcircle of $\triangle BDI'$. Therefore, the points $B, D, E, I'$ are concyclic, which means $I'$ lies on the circumcircle of $\triangle BDE$.",,,,
2016g5,"Let $D$ be the foot of perpendicular from $A$ to the Euler line (the line passing through the circumcentre and the orthocentre) of an acute scalene triangle $A B C$. A circle $\omega$ with centre $S$ passes through $A$ and $D$, and it intersects sides $A B$ and $A C$ at $X$ and $Y$ respectively. Let $P$ be the foot of altitude from $A$ to $B C$, and let $M$ be the midpoint of $B C$. Prove that the circumcentre of triangle $X S Y$ is equidistant from $P$ and $M$.",4,"Let $H$ and $O$ be the orthocentre and circumcentre of $\triangle ABC$. Let $Q$ be the midpoint of $AH$, $N$ be the nine-point center, and $M$ be the midpoint of $BC$. Let the perpendicular from $S$ to $XY$ intersect the line $QM$ at $S'$. Let the perpendicular from $N$ to $BC$ intersect the line $SS'$ at $O_1$. Prove that $S S' \cdot S O_1 = S D^2$.","By showing $\measuredangle S D Q = \measuredangle S S' Q$ through angle chasing, we establish that $D, S', S, Q$ are concyclic. Similarly, by showing $\measuredangle D S' O_1 = \measuredangle D N O_1$, we establish that $D, O_1, S', N$ are concyclic. From these concyclicities, we deduce that $SD$ is tangent to the circle passing through $D, O_1, S', N$. The power of point $S$ with respect to this circle gives the desired result: $S S' \cdot S O_1 = S D^2$.","Using the definitions from the previous sub-problem, prove that $S'$ is the reflection of $S$ across the line $XY$.","The line $SS'$ is perpendicular to $XY$ by construction of $S'$. We can calculate the length of $SS'$ using the Law of Sines and known properties of the Euler line configuration, yielding $SS' = 2SA \cos A$. This length is exactly twice the distance from $S$ (the center of circle $\omega$) to its chord $XY$. Since it can be shown that $S$ and $S'$ lie on opposite sides of line $XY$, $S'$ must be the reflection of $S$.",Prove that the point $O_1$ is the circumcenter of triangle $XSY$.,"From sub-problem 1 and the fact that $SD=SX$ (as radii of $\omega$), we have $SS' \cdot SO_1 = SX^2$. From sub-problem 2, $S'$ is the reflection of $S$ in the line $XY$. For a triangle with a vertex reflected over the opposite side, the circumdiameter $d$ is given by $d = 2 \frac{SX^2}{SS'}$. Combining these two relations gives $d = 2SO_1$. The circumcenter of $\triangle XSY$ lies on the perpendicular bisector of $XY$, which is the line $SS'O_1$. Since its distance to vertex $S$ is $SO_1$ (the radius), this center must be $O_1$ itself.","Let $P$ be the foot of altitude from $A$ to $B C$, and let $M$ be the midpoint of $B C$. Prove that the circumcentre of triangle $X S Y$ is equidistant from $P$ and $M$.","From sub-problem 3, the circumcenter of $\triangle XSY$ is $O_1$. By its construction, $O_1$ lies on the line that passes through the nine-point center $N$ and is perpendicular to $BC$. The points $P$ and $M$ both lie on the nine-point circle, which is centered at $N$. Therefore, $N$ is equidistant from $P$ and $M$ ($NP=NM$) and must lie on the perpendicular bisector of the segment $PM$. Since the line segment $PM$ is on line $BC$, its perpendicular bisector is the line perpendicular to $BC$ that passes through $N$. This is precisely the line on which $O_1$ lies. Therefore, $O_1$ is equidistant from $P$ and $M$."
2016g6,"Let $A B C D$ be a convex quadrilateral with $\angle A B C=\angle A D C<90^{\circ}$. The internal angle bisectors of $\angle A B C$ and $\angle A D C$ meet $A C$ at $E$ and $F$ respectively, and meet each other at point $P$. Let $M$ be the midpoint of $A C$ and let $\omega$ be the circumcircle of triangle $B P D$. Segments $B M$ and $D M$ intersect $\omega$ again at $X$ and $Y$ respectively. Denote by $Q$ the intersection point of lines $X E$ and $Y F$. Prove that $P Q \perp A C$.",3,"Let $\omega_1$ be the circumcircle of $\triangle ABC$ and let $M$ be the midpoint of $AC$. Let $Y$ be the second intersection of line $DM$ with $\omega$, the circumcircle of $\triangle BPD$. Prove that $Y$ lies on $\omega_1$.","Define a point $Y'$ on ray $MD$ such that $MY' \cdot MD = MA^2$. Since $M$ is the midpoint of $AC$, $MA=MC$, so $MY' \cdot MD = MC^2$. This implies that $\triangle MAY' \sim \triangle MDA$ and $\triangle MCY' \sim \triangle MDC$ (oppositely similar). Using directed angles, $\measuredangle AY'C = \measuredangle AY'M + \measuredangle MY'C = \measuredangle MAD + \measuredangle DCM = \measuredangle CDA$. Given $\angle ADC = \angle ABC$, we have $\angle AY'C = \angle ABC$, which means $Y'$ lies on $\omega_1$. Let $Z = BC \cap AD$. Since $\angle PBZ = \angle ABC/2 = \angle ADC/2 = \angle PDZ$, quadrilateral $BPZD$ is cyclic, so $Z$ is on $\omega$. Also, $\measuredangle Y'BZ = \measuredangle Y'BC = \measuredangle Y'AC = \measuredangle Y'AM = \measuredangle Y'DA = \measuredangle Y'DZ$. This implies $Y'$ is also on $\omega$. As $Y'$ lies on line $MD$ and is distinct from $D$ (since $\angle ADC < 90^\circ$), $Y'$ must be the second intersection of line $MD$ with $\omega$. Thus, $Y' = Y$ and $Y$ lies on $\omega_1$.","Using the fact that $Y$ lies on the circumcircle of $\triangle ABC$, prove that $FY$ is the internal angle bisector of $\angle AYC$.","By the Angle Bisector Theorem in $\triangle ADC$, we have $FA/FC = AD/CD$. From the previous sub-problem, the similarity relations $\triangle MAY \sim \triangle MDA$ and $\triangle MCY \sim \triangle MDC$ hold. These give $AD/AM = AY/MY$ and $CD/CM = CY/MY$. Since $M$ is the midpoint of $AC$, $AM=CM$. Dividing the two similarity ratios gives $AD/CD = AY/CY$. Therefore, $FA/FC = AY/CY$. By the converse of the Angle Bisector Theorem in $\triangle AYC$, this implies that $FY$ is the internal angle bisector of $\angle AYC$.","Let $A B C D$ be a convex quadrilateral with $\angle A B C=\angle A D C<90^{\circ}$. The internal angle bisectors of $\angle A B C$ and $\angle A D C$ meet $A C$ at $E$ and $F$ respectively, and meet each other at point $P$. Let $M$ be the midpoint of $A C$ and let $\omega$ be the circumcircle of triangle $B P D$. Segments $B M$ and $D M$ intersect $\omega$ again at $X$ and $Y$ respectively. Denote by $Q$ the intersection point of lines $X E$ and $Y F$. Prove that $P Q \perp A C$.","Let $\omega_1$ be the circumcircle of $\triangle ABC$. Let $B'$ be the second intersection of the angle bisector $BE$ with $\omega_1$. $B'$ is the midpoint of arc $AC$. For any point $Y$ on $\omega_1$, $YB'$ is the external angle bisector of $\angle AYC$. Since $FY$ is the internal angle bisector of $\angle AYC$ (from Sub-problem 2), we have $FY \perp YB'$. Let $l$ be the line through $P$ parallel to $AC$, and let $S$ be the intersection of $l$ with line $YB'$. An angle chase shows $\measuredangle PSY = \measuredangle PBY$, which implies $S$ lies on $\omega$. By symmetry between the $(B, E)$ and $(D, F)$ setups, the line through $X$ perpendicular to $XE$ also passes through $S$. Thus, we have $YS \perp YF$ (i.e. $YQ$) and $XS \perp XE$ (i.e. $XQ$). These conditions, $\angle SYQ=90^{\circ}$ and $\angle SXQ=90^{\circ}$, imply that $Q$ lies on $\omega$ and $QS$ is a diameter. Since $P$ also lies on $\omega$, we have $\angle QPS = 90^{\circ}$, so $PQ \perp PS$. As $PS$ was constructed parallel to $AC$, we conclude $PQ \perp AC$.",,
2016g7,"Let $I$ be the incentre of a non-equilateral triangle $A B C, I_{A}$ be the $A$-excentre, $I_{A}^{\prime}$ be the reflection of $I_{A}$ in $B C$, and $l_{A}$ be the reflection of line $A I_{A}^{\prime}$ in $A I$. Define points $I_{B}, I_{B}^{\prime}$ and line $l_{B}$ analogously. Let $P$ be the intersection point of $l_{A}$ and $l_{B}$.\\
(a) Prove that $P$ lies on line $O I$ where $O$ is the circumcentre of triangle $A B C$.\\
(b) Let one of the tangents from $P$ to the incircle of triangle $A B C$ meet the circumcircle at points $X$ and $Y$. Show that $\angle X I Y=120^{\circ}$.",3,"Let $A'$ be the reflection of vertex $A$ in the side $BC$. Let $I$ be the incenter, $I_A$ be the A-excenter, and $O$ be the circumcenter of $\triangle ABC$. Prove that triangles $A A' I_A$ and $A I O$ are similar.","The triangles $\triangle ABA'$ and $\triangle AOC$ are both isosceles. Since $\angle ABA' = 2\angle ABC$ and $\angle AOC = 2\angle ABC$, they are similar, which gives $\frac{AA'}{AB} = \frac{AC}{AO}$. Also, by angle-angle similarity, $\triangle ABI_A \sim \triangle AIC$, which gives $\frac{AB}{AI_A} = \frac{AI}{AC}$. Combining these results, we get the ratio of sides $\frac{AA'}{AI_A} = \frac{AA'}{AB} \cdot \frac{AB}{AI_A} = \frac{AC}{AO} \cdot \frac{AI}{AC} = \frac{AI}{AO}$. Furthermore, it can be shown that the included angles are equal: $\angle A'AI_A = \angle IAO$. Therefore, by SAS similarity, $\triangle AA'I_A \sim \triangle AIO$.","Prove that the intersection point $P$ of lines $l_A$ and $l_B$ lies on the line $OI$, where $O$ is the circumcenter of triangle $ABC$.","Let $M$ be the second intersection of the angle bisector $AI$ with the circumcircle. From the definition of $l_A$ and the similarity proved in the first sub-problem, angle chasing reveals that $\measuredangle MAP = \measuredangle MOP$. This implies that the points $M, O, A, P$ are concyclic. The power of the incenter $I$ with respect to the circle passing through these four points is given by $IO \cdot IP = -IA \cdot IM$. Using Euler's theorem ($OI^2=R(R-2r)$) and the fact that $IA \cdot IM = 2Rr$, we have $IA \cdot IM = R^2 - OI^2$. This yields $IP = \frac{OI^2 - R^2}{OI}$. Since this expression for the position of $P$ on line $OI$ is symmetric with respect to all vertices of $\triangle ABC$, the line $l_B$ must intersect $OI$ at the same point. Thus, $P$ lies on the line $OI$.",Let one of the tangents from $P$ to the incircle of triangle $ABC$ meet the circumcircle at points $X$ and $Y$. Show that $\angle X I Y=120^{\circ}$.,"Let the tangent from $P$ be the line $XY$, let $D$ be the midpoint of the segment $XY$, and let $T$ be the point where $XY$ touches the incircle. Since $OD \perp XY$ and $IT \perp XY$, triangles $\triangle POD$ and $\triangle PIT$ are similar. This gives the relation $OD = IT \cdot OP/IP = r \cdot OP/IP$. As established in the second sub-problem, $P$ lies on line $OI$, and we can compute the ratio $OP/IP = R/(2r)$. Therefore, $OD = r \cdot (R/(2r)) = R/2$. In the right-angled triangle $\triangle ODX$, we have $OX=R$, so $\cos(\angle DOX) = OD/OX = (R/2)/R = 1/2$, which means $\angle DOX = 60^{\circ}$ and thus $\angle XOY = 120^{\circ}$. By Poncelet's porism, the other tangents from $X$ and $Y$ to the incircle will meet at a point $Z$ on the circumcircle. The angle at the circumference $\angle XZY$ subtends the same arc as $\angle XOY$, so $\angle XZY = \frac{1}{2} \angle XOY = 60^{\circ}$. Since $I$ is the incenter of $\triangle XYZ$, the angle at the incenter is given by $\angle XIY = 90^{\circ} + \frac{1}{2} \angle XZY = 90^{\circ} + 30^{\circ} = 120^{\circ}$.",,
2016g8,"Let $A_{1}, B_{1}$ and $C_{1}$ be points on sides $B C, C A$ and $A B$ of an acute triangle $A B C$ respectively, such that $A A_{1}, B B_{1}$ and $C C_{1}$ are the internal angle bisectors of triangle $A B C$. Let $I$ be the incentre of triangle $A B C$, and $H$ be the orthocentre of triangle $A_{1} B_{1} C_{1}$. Show that

$$
A H+B H+C H \geqslant A I+B I+C I .
$$",4,"Show that triangle $A_{1} B_{1} C_{1}$ is acute. Assuming $\angle A \leqslant \angle B \leqslant \angle C$, determine the location of its orthocenter $H$ relative to the angle bisectors of $\triangle ABC$.","By comparing ratios from the Angle Bisector Theorem with side lengths in a constructed parallel line setup, we show $\angle B B_{1} A_{1}<\frac{1}{2} \angle B B_{1} C$ and $\angle B B_{1} C_{1}<\frac{1}{2} \angle B B_{1} A$. Summing these gives $\angle A_{1} B_{1} C_{1}<90^{\circ}$. By symmetry, $\triangle A_{1} B_{1} C_{1}$ is acute. The condition $\angle A \le \angle C$ implies $a \le c$, which leads to $BA_1 \le BC_1$ and $\angle BC_1A_1 \le \angle BA_1C_1$. As $BB_1$ bisects $\angle A_1BC_1$, its intersection $F$ with $A_1C_1$ has $\angle BFA_1 \le 90^\circ$. This geometry forces the orthocenter $H$ of $\triangle A_1B_1C_1$ to lie on the same side of the line $BB_1$ as $C_1$. By symmetry with other vertices, $H$ lies inside triangles $BB_{1} C_{1}$, $CC_{1} B_{1}$ and $A A_{1} C_{1}$.","Using a $60^\circ$ rotation around vertex $A$ that maps points $B, I, H$ to $B', I', H'$ respectively, express the sums $AI+BI+CI$ and $AH+BH+CH$ as lengths of polygonal chains.","The rotation creates equilateral triangles $\triangle AII'$ and $\triangle AHH'$, so $AI = I'I$ and $AH = H'H$. Since rotation is an isometry, $BI = B'I'$ and $BH = B'H'$. Substituting these equalities into the sums gives: $AI+BI+CI = I'I + B'I' + CI$, which is the length of the polygonal path $B'I'IC$. Similarly, $AH+BH+CH = H'H + B'H' + CH$, which is the length of the polygonal path $B'H'HC$.","Assume a $60^\circ$ rotation around $A$ is performed as in the previous sub-problem. Under the condition that $\angle AIB \ge 120^\circ$ and $\angle AIC \ge 120^\circ$, show that the convex quadrilateral $B'I'IC$ is contained within the quadrilateral $B'H'HC$.","The conditions $\angle AIB \ge 120^\circ$ and $\angle AIC \ge 120^\circ$ imply, after rotation, that $\angle AI'B' \ge 120^\circ$ and $\angle AIC \ge 120^\circ$. Together with $\angle AI'I = \angle AII' = 60^\circ$, this ensures the path $B'I'IC$ forms a convex quadrilateral. From Sub-problem 1, $H$ lies inside $\triangle ACC_1$. The rotation places $H'$ inside the image of $\triangle ABI$, which is $\triangle AB'I'$. These locations for $H$ and $H'$ are outside the convex region defined by $B'I'IC$. Therefore, the convex quadrilateral $B'I'IC$ is contained within the polygon $B'H'HC$.","Let $A_{1}, B_{1}$ and $C_{1}$ be points on sides $B C, C A$ and $A B$ of an acute triangle $A B C$ respectively, such that $A A_{1}, B B_{1}$ and $C C_{1}$ are the internal angle bisectors of triangle $A B C$. Let $I$ be the incentre of triangle $A B C$, and $H$ be the orthocentre of triangle $A_{1} B_{1} C_{1}$. Show that $A H+B H+C H \geqslant A I+B I+C I$.","Assume without loss of generality that $\angle A \le \angle B \le \angle C$. This implies that at least one of $\angle B$ or $\angle C$ is at least $60^\circ$. Consequently, at least one of $\angle AIC = 90^\circ + \beta/2$ or $\angle AIB = 90^\circ + \gamma/2$ is at least $120^\circ$. We can choose a vertex (say, A, if $\beta \ge 60^\circ$) to perform a $60^\circ$ rotation, satisfying the conditions of Sub-problem 3. From Sub-problem 2, the sums $AI+BI+CI$ and $AH+BH+CH$ are equal to the lengths of the paths $B'I'IC$ and $B'H'HC$. From Sub-problem 3, the convex path $B'I'IC$ is contained within the path $B'H'HC$. The length of an enclosed convex polygonal chain cannot exceed the length of the enclosing chain. Therefore, $AI+BI+CI \le AH+BH+CH$. If the conditions for rotating around $A$ are not met, an analogous argument with rotation around another vertex holds."
2016n4,"Let $n, m, k$ and $l$ be positive integers with $n \neq 1$ such that $n^{k}+m n^{l}+1$ divides $n^{k+l}-1$. Prove that

\begin{itemize}
  \item $m=1$ and $l=2 k$; or
  \item $l \mid k$ and $m=\frac{n^{k-l}-1}{n^{l}-1}$.
\end{itemize}",2,"Let $n, m, k, l$ be positive integers with $n \neq 1$ and $l \ge k$. If $n^{k}+m n^{l}+1$ divides $n^{k+l}-1$, prove that $m=1$ and $l=2k$.","The condition $n^{k}+m n^{l}+1 \mid n^{k+l}-1$ implies $n^{k}+m n^{l}+1 \mid (n^{k+l}-1) + (n^{k}+m n^{l}+1) = n^{k+l}+n^{k}+m n^{l}$. Since $\gcd(n^{k}+m n^{l}+1, n) = 1$ and $l \ge k$, we can divide by $n^k$ to get $n^{k}+m n^{l}+1 \mid n^{l}+m n^{l-k}+1$. This requires the inequality $n^{k}+m n^{l}+1 \le n^{l}+m n^{l-k}+1$. For $m \ge 2$, with $n \ge 2$ and $k \ge 1$, this inequality leads to a contradiction. Thus we must have $m=1$. The divisibility then becomes $n^{k}+n^{l}+1 \mid n^{l}+n^{l-k}+1$. As the dividend is positive and strictly less than $2(n^{k}+n^{l}+1)$, equality must hold: $n^{k}+n^{l}+1=n^{l}+n^{l-k}+1$. This yields $n^k=n^{l-k}$, which implies $l=2k$.","Let $n, m, k$ and $l$ be positive integers with $n \neq 1$ such that $n^{k}+m n^{l}+1$ divides $n^{k+l}-1$. Prove that
- $m=1$ and $l=2 k$; or
- $l \mid k$ and $m=\frac{n^{k-l}-1}{n^{l}-1}$.","We analyze the problem by considering two cases based on the relationship between $k$ and $l$.
Case 1: $l \ge k$. From the first sub-problem, this case implies $m=1$ and $l=2k$.
Case 2: $l < k$. The condition $n^{k}+m n^{l}+1 \mid n^{k+l}-1$ implies $n^{k}+m n^{l}+1 \mid n^{k}+n^{k-l}+m$. This leads to the inequality $m \le \frac{n^{k-l}-1}{n^{l}-1}$. On the other hand, from $n^{k+l}-1=t(n^{k}+m n^{l}+1)$, we can deduce that the integer quotient $t$ must satisfy $t \le n^l-1$. This implies the reverse inequality $m \ge \frac{n^{k-l}-1}{n^{l}-1}$. Therefore, we must have $m = \frac{n^{k-l}-1}{n^{l}-1}$. For $m$ to be an integer, it is necessary that $n^l-1$ divides $n^{k-l}-1$, which implies $l \mid (k-l)$, and therefore $l \mid k$.
Combining the results from both cases proves the statement.",,,,
2016n5,"Let $a$ be a positive integer which is not a square number. Denote by $A$ the set of all positive integers $k$ such that


\begin{equation*}
k=\frac{x^{2}-a}{x^{2}-y^{2}} \tag{1}
\end{equation*}


for some integers $x$ and $y$ with $x>\sqrt{a}$. Denote by $B$ the set of all positive integers $k$ such that (1) is satisfied for some integers $x$ and $y$ with $0 \leqslant x<\sqrt{a}$. Prove that $A=B$.",3,"Let $k$ be a positive integer such that $k=\frac{x^{2}-a}{x^{2}-y^{2}}$ for some integers $x, y$. Define a new pair of numbers $(x_1, y_1)$ by $x_{1}=\frac{1}{2}\left(x-y+\frac{(x-y)^{2}-4 a}{x+y}\right)$ and $y_{1}=\frac{1}{2}\left(x-y-\frac{(x-y)^{2}-4 a}{x+y}\right)$. Show that $x_1$ and $y_1$ are integers and that they also satisfy the relation $k=\frac{x_{1}^{2}-a}{x_{1}^{2}-y_{1}^{2}}$.","The expression for $x_1$ can be rewritten as $x_1 = -x + \frac{2(x^2-a)}{x+y} = -x+2k(x-y)$. Since $x,y,k$ are integers, $x_1$ is an integer. As $x_1+y_1 = x-y$, it follows that $y_1=(x-y)-x_1$ is also an integer. Let $u=x+y$ and $v=x-y$. The relation $k=\frac{x^2-a}{x^2-y^2}$ is equivalent to the quadratic equation $u^2-(4k-2)uv+(v^2-4a)=0$. By Vieta's formulas, for a fixed $v$, if $u$ is a root, then $u_2=\frac{v^2-4a}{u}$ also yields a valid solution. A new solution $(x', y')$ can be formed with $x'+y' = u_2$ and $x'-y' = v$. This gives $x' = \frac{1}{2}(v+u_2) = x_1$ and $y'=\frac{1}{2}(u_2-v) = -y_1$. Since the equation for $k$ only involves $y^2$, if $(x_1, -y_1)$ is a solution, so is $(x_1, y_1)$, which proves the claim.",Let $A$ and $B$ be the sets defined in the problem. Prove that $B \subset A$.,"Let $k \in B$. There exist integers $x,y$ with $0 \le x < \sqrt{a}$ satisfying the equation. As $x^2-a<0$ and $k>0$, we must have $x^2-y^2<0$, so $|x|<|y|$. We can assume $y>0$. From $k(y^2-x^2)=a-x^2$ and $k \ge 1$, we get $y^2-x^2 \le a-x^2$, so $y^2 \le a$. Since $a$ is not a square, $y<\sqrt{a}$. Thus $0 \le x < y < \sqrt{a}$. Consider the new integer solution $(x_1, y_1)$ from sub-problem 1. Let $x_1' = \frac{1}{2}\left|x-y+\frac{(x-y)^2-4a}{x+y}\right|$. For $0 \le x<y<\sqrt{a}$, the term inside the absolute value is negative. So, $x_1' = -\frac{1}{2}\left(x-y+\frac{(x-y)^2-4a}{x+y}\right) = \frac{x(y-x)+2a}{x+y}$. Since $x(y-x) \ge 0$, we have $x_1' \ge \frac{2a}{x+y}$. As $x+y < 2\sqrt{a}$, it follows that $x_1' > \frac{2a}{2\sqrt{a}}=\sqrt{a}$. This provides a solution where the first component's magnitude is greater than $\sqrt{a}$, so $k \in A$. Thus $B \subset A$.",Let $a$ be a positive integer which is not a square number. Denote by $A$ the set of all positive integers $k$ such that $k=\frac{x^{2}-a}{x^{2}-y^{2}}$ for some integers $x$ and $y$ with $x>\sqrt{a}$. Denote by $B$ the set of all positive integers $k$ such that this relation is satisfied for some integers $x$ and $y$ with $0 \leqslant x<\sqrt{a}$. Prove that $A=B$.,"From sub-problem 2, we have $B \subset A$. We now show $A \subset B$. Let $k \in A$. Choose an integer solution $(x,y)$ with $x > \sqrt{a}$ and $y \ge 0$ which minimizes the sum $x+y$. Since $k>0$ and $x^2-a>0$, we have $x^2>y^2$, so $x>y$. Since $a$ is not a square, $k\neq 1$. For $k>1$, $ky^2=(k-1)x^2+a > (k-1)a+a=ka$, so $y^2>a$, which means $y>\sqrt{a}$. Let $(x_1,y_1)$ be the new integer solution from sub-problem 1, and let $(x',y')$ be a corresponding non-negative integer solution. The new sum $x'+y'$ corresponds to $|u_2|=|\frac{(x-y)^2-4a}{x+y}|$. This sum is strictly smaller than the original sum $x+y$ because $|(x-y)^2-4a|<(x+y)^2$, which is equivalent to $4a<2(x^2+y^2)$ for $x,y>\sqrt{a}$. The new solution $(x',y')$ with a smaller sum $x'+y'$ contradicts the minimality of $x+y$ unless it does not satisfy the condition for $A$. Therefore, we must have $0 \le x' < \sqrt{a}$, which implies $k \in B$. Thus $A \subset B$. As both inclusions hold, $A=B$.",,
2016n7,"Let $n$ be an odd positive integer. In the Cartesian plane, a cyclic polygon $P$ with area $S$ is chosen. All its vertices have integral coordinates, and the squares of its side lengths are all divisible by $n$. Prove that $2 S$ is an integer divisible by $n$.",4,"Let $T$ be a triangle with integer coordinate vertices and area $S$. If the squares of its side lengths are divisible by an odd positive integer $n$, prove that $2S$ is an integer divisible by $n$.","Let the side lengths be $l_1, l_2, l_3$. We are given $l_i^2 = n a_i$ for integers $a_i$. By Heron's formula, $16S^2 = (l_1^2+l_2^2+l_3^2)^2 - 2(l_1^4+l_2^4+l_3^4) = n^2((a_1+a_2+a_3)^2 - 2(a_1^2+a_2^2+a_3^2))$. Thus $n^2 | 16S^2$. Since vertices have integer coordinates, $2S$ is an integer. Let $X=2S$. Then $n^2 | 4X^2$. As $n$ is odd, $\gcd(n^2, 4)=1$, so $n^2 | X^2$, which implies $n | X$. Therefore, $n | 2S$.","Let $P$ be a cyclic polygon with $k \ge 4$ vertices having integral coordinates. Let the squares of its side lengths be divisible by an odd integer $n$. Assume that for any cyclic polygon with fewer than $k$ vertices satisfying these conditions, its area $S'$ multiplied by 2 is divisible by $n$. Prove that if $P$ has a diagonal $d$ such that $d^2$ is divisible by $n$, then $2S$ is divisible by $n$, where $S$ is the area of $P$.","The diagonal $d$ splits the polygon $P$ into two smaller cyclic polygons, $P_1$ and $P_2$, with areas $S_1$ and $S_2$. The vertices of $P_1$ and $P_2$ have integral coordinates as they are vertices of $P$. The sides of $P_1$ and $P_2$ are either sides of $P$ or the diagonal $d$. In all cases, the squares of their side lengths are divisible by $n$. By the induction hypothesis, $2S_1$ and $2S_2$ are divisible by $n$. Since $S=S_1+S_2$, we have $2S=2S_1+2S_2$, which is also divisible by $n$.","Let $n = p^t$ where $p$ is an odd prime. Let $P=A_1...A_k$ be a cyclic polygon ($k \ge 4$) such that for every side $A_iA_{i+1}$, $\nu_p(A_iA_{i+1}^2) \ge t$, and for every diagonal $A_iA_j$, $\nu_p(A_iA_j^2) < t$. Prove that this situation leads to a contradiction.","By assumption, $\nu_p(A_1A_2^2) \ge t > \nu_p(A_1A_3^2)$. Using induction on $m$ and Ptolemy's Theorem on the cyclic quadrilateral $A_1A_{m-1}A_mA_{m+1}$ for $m=3, \dots, k-1$, we can show that $\nu_p(A_1A_m^2) > \nu_p(A_1A_{m+1}^2)$. This creates a strictly decreasing sequence of integers: $t > \nu_p(A_1A_3^2) > \nu_p(A_1A_4^2) > \dots > \nu_p(A_1A_k^2)$. However, $A_1A_k$ is a side of the polygon, so its square length is divisible by $n$, meaning $\nu_p(A_1A_k^2) \ge t$. This implies $\nu_p(A_1A_3^2) > \nu_p(A_1A_k^2) \ge t$, which contradicts the initial condition that $\nu_p(A_1A_3^2) < t$.","Let $n$ be an odd positive integer. In the Cartesian plane, a cyclic polygon $P$ with area $S$ is chosen. All its vertices have integral coordinates, and the squares of its side lengths are all divisible by $n$. Prove that $2 S$ is an integer divisible by $n$.","By the Shoelace Formula, $2S$ is an integer. We prove $n|2S$ by induction on the number of vertices, $k$. It suffices to prove for $n=p^t$ where $p$ is an odd prime. The base case $k=3$ is proven in sub-problem 1. For the inductive step ($k \ge 4$), assume the statement holds for polygons with fewer than $k$ vertices. If there exists a diagonal whose length squared is divisible by $n$, then by sub-problem 2, $2S$ is divisible by $n$. If no such diagonal exists, sub-problem 3 shows this leads to a contradiction. Therefore, such a diagonal must exist, and the proof is complete."
2015a1,"Suppose that a sequence $a_{1}, a_{2}, \ldots$ of positive real numbers satisfies


\begin{equation*}
a_{k+1} \geqslant \frac{k a_{k}}{a_{k}^{2}+(k-1)} \tag{1}
\end{equation*}


for every positive integer $k$. Prove that $a_{1}+a_{2}+\cdots+a_{n} \geqslant n$ for every $n \geqslant 2$.",3,"Let $S_m = a_1 + a_2 + \cdots + a_m$. Prove that for any positive integer $m$, the sequence satisfies $S_m \geqslant \frac{m}{a_{m+1}}$.","The given inequality $a_{k+1} \geqslant \frac{k a_{k}}{a_{k}^{2}+(k-1)}$ can be rearranged. Taking the reciprocal and multiplying by $k$ gives $\frac{k}{a_{k+1}} \leqslant \frac{a_{k}^{2}+(k-1)}{a_{k}} = a_{k}+\frac{k-1}{a_{k}}$. This implies $a_{k} \geqslant \frac{k}{a_{k+1}}-\frac{k-1}{a_{k}}$. Summing this inequality from $k=1$ to $m$, we get a telescoping sum: $\sum_{k=1}^{m} a_k \geqslant \sum_{k=1}^{m} \left(\frac{k}{a_{k+1}}-\frac{k-1}{a_{k}}\right) = \left(\frac{1}{a_{2}}-\frac{0}{a_{1}}\right)+\left(\frac{2}{a_{3}}-\frac{1}{a_{2}}\right)+\cdots+\left(\frac{m}{a_{m+1}}-\frac{m-1}{a_{m}}\right) = \frac{m}{a_{m+1}}$.",Prove that $a_1 + a_2 \geqslant 2$.,"Using the given inequality for $k=1$, we have $a_{2} \geqslant \frac{1 \cdot a_{1}}{a_{1}^{2}+(1-1)} = \frac{a_1}{a_1^2} = \frac{1}{a_1}$. Therefore, the sum $a_1 + a_2 \geqslant a_1 + \frac{1}{a_1}$. By the AM-GM inequality, for any positive real number $x$, $x + \frac{1}{x} \geqslant 2$. Thus, $a_1 + a_2 \geqslant 2$.",Prove that $a_{1}+a_{2}+\cdots+a_{n} \geqslant n$ for every $n \geqslant 2$.,"We use induction on $n$. The base case $n=2$ is established in Sub-problem 2. Assume the statement holds for some $n \geqslant 2$, i.e., $a_1 + \dots + a_n \geqslant n$. We need to show $a_1 + \dots + a_{n+1} \geqslant n+1$. We consider two cases for $a_{n+1}$. Case 1: If $a_{n+1} \geqslant 1$, then by the induction hypothesis, $a_1 + \dots + a_{n+1} = (a_1 + \dots + a_n) + a_{n+1} \geqslant n + a_{n+1} \geqslant n+1$. Case 2: If $a_{n+1} < 1$, we use the result from Sub-problem 1 with $m=n$: $a_1 + \dots + a_n \geqslant \frac{n}{a_{n+1}}$. Then $a_1 + \dots + a_{n+1} \geqslant \frac{n}{a_{n+1}} + a_{n+1} = \frac{n-1}{a_{n+1}} + (\frac{1}{a_{n+1}} + a_{n+1})$. Since $a_{n+1} < 1$, we have $\frac{n-1}{a_{n+1}} > n-1$ and by AM-GM, $\frac{1}{a_{n+1}} + a_{n+1} > 2$. Thus, $a_1 + \dots + a_{n+1} > (n-1)+2 = n+1$. In both cases, the inequality holds for $n+1$, completing the induction.",,
2015a6,"Let $n$ be a fixed integer with $n \geqslant 2$. We say that two polynomials $P$ and $Q$ with real coefficients are block-similar if for each $i \in\{1,2, \ldots, n\}$ the sequences

$$
\begin{aligned}
& P(2015 i), P(2015 i-1), \ldots, P(2015 i-2014) \quad \text { and } \\
& Q(2015 i), Q(2015 i-1), \ldots, Q(2015 i-2014)
\end{aligned}
$$

are permutations of each other.\\
(a) Prove that there exist distinct block-similar polynomials of degree $n+1$.\\
(b) Prove that there do not exist distinct block-similar polynomials of degree $n$.",4,Prove that there exist distinct block-similar polynomials of degree $n+1$.,"Let $k=2015$. Consider the polynomials $P(x)=\prod_{i=0}^{n}(x-i k)$ and $Q(x)=P(x-1)$. They are distinct and have degree $n+1$. For any $i \in \{1, \ldots, n\}$, the set of values for $P(x)$ in the $i$-th block is $\{P(ik), P(ik-1), \ldots, P(ik-k+1)\}$. Since $P(ik)=0$, this set is $\{0, P(ik-1), \ldots, P(ik-k+1)\}$. The set of values for $Q(x)$ is $\{Q(ik), \ldots, Q(ik-k+1)\} = \{P(ik-1), \ldots, P(ik-k)\}$. Since $P((i-1)k)=0$, this set is $\{P(ik-1), \ldots, P(ik-k+1), 0\}$. The two sets of values are identical, so the polynomials are block-similar.","Let $T(x)=\prod_{i=0}^{n}(x-i k)$ where $k=2015$. For a non-zero polynomial $F(x)$, let $\Sigma_F(x)$ be the unique polynomial of degree $\deg F+1$ such that $\Sigma_F(m)=\sum_{j=1}^m F(j)$ for all integers $m \ge 1$. If $\Sigma_F(x)$ has roots $0, k, 2k, \ldots, nk$, prove that $\deg F \ge n$ and there exists a polynomial $G(x)$ with $\deg G = \deg F - n$ such that $F(x) = T(x)G(x) - T(x-1)G(x-1)$.","The polynomial $\Sigma_F(x)$ has $\deg F + 1$ degree. Since it has at least $n+1$ roots ($0, k, \ldots, nk$), we must have $\deg F+1 \ge n+1$, so $\deg F \ge n$. This implies we can write $\Sigma_F(x) = T(x)G(x)$ for some polynomial $G(x)$. Comparing degrees gives $\deg F + 1 = (n+1) + \deg G$, so $\deg G = \deg F - n$. Let $F_1(x) = T(x)G(x) - T(x-1)G(x-1)$. The sum polynomial $\Sigma_{F_1}(m) = \sum_{j=1}^m F_1(j)$ is a telescoping sum equal to $T(m)G(m) - T(0)G(0)$. As $T(0)=0$, $\Sigma_{F_1}(m) = T(m)G(m) = \Sigma_F(m)$. Since $\Sigma_{F-F_1}(m)=0$ for infinitely many integers $m$, the polynomial $\Sigma_{F-F_1}$ must be zero, which implies $F(x)=F_1(x)$.","Let $P(x)$ and $Q(x)$ be distinct block-similar polynomials of degree $n$. Show that $P(x)+Q(x)$ is a constant and $P(x)-Q(x)=\alpha(T(x)-T(x-1))$ for a non-zero constant $\alpha$, where $T(x)=\prod_{i=0}^{n}(x-i k)$.","Let $R_1(x)=P(x)-Q(x)$ and $R_2(x)=P(x)^2-Q(x)^2$. Block similarity implies that $\Sigma_{R_1}$ and $\Sigma_{R_2}$ have roots at $0, k, \ldots, nk$. Since $\deg R_1 \le n$ and $R_1 \ne 0$, by the lemma in sub-problem 2, we must have $\deg R_1=n$ and $R_1(x)=\alpha(T(x)-T(x-1))$ for some constant $\alpha \ne 0$. Let $S(x)=P(x)+Q(x)$. Assume $S(x)$ is not constant. Then $R_2(x)=R_1(x)S(x)$ is non-zero. Applying the lemma to $R_2$ gives $R_2(x)=T(x)G(x)-T(x-1)G(x-1)$ with $\deg G>0$. Since $R_1$ divides $R_2$ and $\gcd(R_1(x), T(x))=\gcd(\alpha(T(x)-T(x-1)), T(x))=1$, we must have $R_1(x) | (G(x)-G(x-1))$. This is a contradiction as $\deg R_1=n$ while $\deg(G(x)-G(x-1)) < \deg G = \deg R_2 - n = \deg S \le n$. Thus, $S(x)$ must be a constant.",Prove that there do not exist distinct block-similar polynomials of degree $n$.,"Assume such polynomials $P, Q$ exist. From sub-problem 3, we can assume without loss of generality that $P(x) = T(x)-T(x-1)$ and $Q(x)=-P(x)$. For these to be block-similar, the multiset of values $\{P(1), \ldots, P(k)\}$ must be the same as $\{-P(1), \ldots, -P(k)\}$. Since $k=2015$ is odd, this implies that some $P(m)=0$ for $m \in \{1, \ldots, k\}$. The polynomial $P(x)$ of degree $n$ has exactly one root in each of the $n$ intervals $[(i-1)k+1, ik]$. Thus, the sequence $P(1), \ldots, P(k)$ changes sign exactly once. For the number of positive and negative terms to be equal, the integer root must be at the center, $m=(k+1)/2$. So $P((k+1)/2)=0$, which implies $T((k+1)/2)=T((k-1)/2)$. Let $\ell=(k-1)/2$. This is $T(\ell+1)=T(\ell)$. However, a direct comparison for $n \ge 2$ shows $|T(\ell+1)| = |\prod_{i=0}^n(\ell+1-ik)| < |\prod_{i=0}^n(\ell-ik)| = |T(\ell)|$, which is a contradiction."
2015c1,"In Lineland there are $n \geqslant 1$ towns, arranged along a road running from left to right. Each town has a left bulldozer (put to the left of the town and facing left) and a right bulldozer (put to the right of the town and facing right). The sizes of the $2 n$ bulldozers are distinct. Every time when a right and a left bulldozer confront each other, the larger bulldozer pushes the smaller one off the road. On the other hand, the bulldozers are quite unprotected at their rears; so, if a bulldozer reaches the rear-end of another one, the first one pushes the second one off the road, regardless of their sizes.

Let $A$ and $B$ be two towns, with $B$ being to the right of $A$. We say that town $A$ can sweep town $B$ away if the right bulldozer of $A$ can move over to $B$ pushing off all bulldozers it meets. Similarly, $B$ can sweep $A$ away if the left bulldozer of $B$ can move to $A$ pushing off all bulldozers of all towns on its way.

Prove that there is exactly one town which cannot be swept away by any other one.",2,"Let the towns be $T_1, \\ldots, T_n$ from left to right. Consider the set of 'internal' bulldozers, which excludes the left bulldozer of $T_1$ and the right bulldozer of $T_n$. Let the largest bulldozer in this set belong to town $T_k$. Prove that if this bulldozer is the right one, $R_k$, then $T_k$ sweeps all towns to its right, and no town to the right of $T_k$ can sweep $T_k$ or any town to its left. A symmetric statement holds if the largest bulldozer is the left one, $L_k$.","Assume the largest internal bulldozer is $R_k$, the right bulldozer of town $T_k$ (so $k<n$). As $R_k$ moves right, it confronts left bulldozers $L_j$ for $j > k$. Since $R_k$ is the largest among all internal bulldozers, it is larger than any $L_j$ (for $j>1$) and pushes them off. $R_k$ also hits the rear of any right bulldozers $R_j$ (for $k<j<n$), pushing them off. Thus, $T_k$ sweeps all towns to its right. For any town $T_j$ with $j>k$ to sweep $T_k$, its bulldozer $L_j$ must confront $R_k$. As $R_k$ is larger than $L_j$, $L_j$ is pushed off, so $T_j$ cannot sweep $T_k$ or any town to the left of $T_k$. The case for $L_k$ being the largest is symmetric.","In Lineland there are $n \\geqslant 1$ towns, arranged along a road running from left to right. Each town has a left bulldozer and a right bulldozer. The sizes of the $2 n$ bulldozers are distinct. When a right and a left bulldozer confront each other, the larger pushes the smaller one off the road. If a bulldozer reaches the rear-end of another one, the first one pushes the second one off the road, regardless of their sizes. Town $A$ can sweep town $B$ away if the right bulldozer of $A$ can move to $B$ pushing off all bulldozers it meets. Similarly, $B$ can sweep $A$ away if the left bulldozer of $B$ can move to $A$. Prove that there is exactly one town which cannot be swept away by any other one.","We use strong induction on the number of towns, $n$. The base case $n=1$ is trivial. Assume the claim holds for any configuration with fewer than $n$ towns. Consider the largest internal bulldozer (excluding $L_1$ and $R_n$). Without loss of generality, let it be $R_k$, the right bulldozer of town $T_k$. By Sub-problem 1, $T_k$ sweeps all towns $T_{k+1}, \\ldots, T_n$, and none of these towns can sweep any town in $\{T_1, \\ldots, T_k\}$. This means the unique unsweepable town must be in the set $\{T_1, \\ldots, T_k\}$. The interactions between these $k$ towns are unaffected by the towns to the right. By the induction hypothesis, there is a unique town $T_u$ in $\{T_1, \\ldots, T_k\}$ which cannot be swept away by another town in that set. Since no town from $\{T_{k+1}, \\ldots, T_n\}$ can sweep $T_u$ either, $T_u$ is the unique unsweepable town in the original configuration of $n$ towns.",,,,
2015c5,"Consider an infinite sequence $a_{1}, a_{2}, \ldots$ of positive integers with $a_{i} \leqslant 2015$ for all $i \geqslant 1$. Suppose that for any two distinct indices $i$ and $j$ we have $i+a_{i} \neq j+a_{j}$.

Prove that there exist two positive integers $b$ and $N$ such that

$$
\left|\sum_{i=m+1}^{n}\left(a_{i}-b\right)\right| \leqslant 1007^{2}
$$

whenever $n>m \geqslant N$.",3,"Define a graph structure on the positive integers $\mathbb{Z}^+$ where directed edges are given by $i \to i+a_i$. Prove that this structure partitions $\mathbb{Z}^+$ into a finite number of disjoint paths (rays), and that the number of rays, $b$, satisfies $1 \le b \le 2015$.","Consider a directed graph on $\mathbb{Z}^+$ with edges $i \to i+a_i$. The condition $i+a_i \neq j+a_j$ for $i \neq j$ implies each integer has an in-degree of at most 1. Vertices with in-degree 0 are starting points. Since $a_i \ge 1$, following edges from any vertex generates a strictly increasing sequence, a ray. The set of all vertices $\mathbb{Z}^+$ is thus partitioned into a set of disjoint rays. Let $b$ be the number of rays. If $b \ge 2016$, let $n$ be an integer larger than all starting points. Each of the $b$ rays must have a member in the interval $[n, n+2014]$, as step lengths $a_i \le 2015$. This implies at least 2016 distinct integers must exist in an interval containing 2015 integers, a contradiction. Thus, $b \le 2015$. Since $j+a_j > 1$ for all $j$, the integer 1 must be a starting point, so $b \ge 1$.","Let $b$ be the number of rays and $N$ be an integer larger than all starting points. For any $n > m \ge N$, show that $\sum_{i=m+1}^{n} (a_i - b) = \sum_{j=1}^{b}(y_j - n) - \sum_{j=1}^{b}(x_j - m)$, where for each ray $j \in \{1, \dots, b\}$, $x_j$ is its first integer greater than $m$, and $y_j$ is its first integer greater than $n$.","The sum $\sum_{i=m+1}^{n} a_i$ is the sum of edge lengths for all vertices from $m+1$ to $n$. Since $m \ge N$, all these vertices belong to one of the $b$ rays. The sum of the lengths of arrows on ray $j$ with starting points in $\{m+1, ..., n\}$ is $y_j-x_j$. Summing over all $b$ rays gives $\sum_{i=m+1}^{n} a_i = \sum_{j=1}^{b} (y_j - x_j)$. Then, $\sum_{i=m+1}^{n} (a_i - b) = \sum_{i=m+1}^{n} a_i - b(n-m) = \sum_{j=1}^{b} (y_j - x_j) - b(n-m)$. Rearranging gives $\sum_{j=1}^{b} (y_j - n) - \sum_{j=1}^{b} (x_j - m)$.",Prove that there exist two positive integers $b$ and $N$ such that $\left|\sum_{i=m+1}^{n}\left(a_{i}-b\right)\right| \leqslant 1007^{2}$ whenever $n>m \geqslant N$.,"From Sub-problem 1, let $b$ be the number of rays ($1 \le b \le 2015$) and $N$ be an integer larger than all starting points. For $n > m \ge N$, the sum is given by $\sum_{j=1}^{b}(y_j - n) - \sum_{j=1}^{b}(x_j - m)$ from Sub-problem 2. Let's analyze the term $X_m = \sum_{j=1}^{b}(x_j - m)$. The set of values $\{x_j - m\}_{j=1}^b$ are $b$ distinct members of $\{1, 2, \ldots, 2015\}$. Since $m \ge N$, $m+1$ is not a starting point and belongs to some ray, so $x_k = m+1$ for some $k$, which implies $1$ is in the set. Thus, the minimum value of $X_m$ is $L_b=1+\sum_{j=1}^{b-1}(j+1)$ and the maximum value is $U_b=1+\sum_{j=1}^{b-1}(2016-b+j)$. The same bounds apply to $Y_n = \sum_{j=1}^{b}(y_j-n)$. The value $|\sum_{i=m+1}^{n}(a_i - b)| = |Y_n-X_m|$ is bounded by the range of possible values, i.e., $U_b - L_b = (b-1)(2015-b)$. By AM-GM, $(b-1)(2015-b) \le \left(\frac{(b-1)+(2015-b)}{2}\right)^2 = 1007^2$.",,
2015c6,Let $S$ be a nonempty set of positive integers. We say that a positive integer $n$ is clean if it has a unique representation as a sum of an odd number of distinct elements from $S$. Prove that there exist infinitely many positive integers that are not clean.,4,Assume there exists an integer $N$ such that every integer $n>N$ is clean. Prove that any positive integer $n$ has at most one odd representation and at most one even representation as a sum of distinct elements from $S$.,"Assume for contradiction that some integer $n$ has two distinct even representations. Since $S$ must be infinite (otherwise the set of representable numbers is finite), we can choose an element $x \in S$ such that $x > \\max\\{n, N\\}$. Adding $x$ to each of the two even representations of $n$ yields two distinct odd representations of $n+x$. But $n+x > N$, so it must be clean, a contradiction. Thus, any $n$ has at most one even representation. Similarly, to prove uniqueness for odd representations, assume $n$ has two distinct odd representations. Choose two distinct elements $y, z \\in S$ such that $y, z > \\max\\{n, N\\}$. Adding $y+z$ to each odd representation of $n$ yields two distinct odd representations of $n+y+z$. This contradicts that $n+y+z > N$ is clean. Thus, any $n$ has at most one odd representation.","Assume that for some $N$, every integer $n > N$ is clean. Prove that every sufficiently large integer also has an even representation.","By the first sub-problem, any integer has at most one even representation. We now show existence for sufficiently large integers. Fix $s \\in S$. Suppose $n > N$ has no even representation. The unique odd representation of $n+s$ cannot contain $s$, because if it did, removing $s$ would yield an even representation for $n$. Adding $s$ to this odd representation of $n+s$ gives an even representation for $n+2s$. This implies that for any arithmetic progression $A_r = \\{r+2as : a \\ge 0\\}$ (where $r \\in \\{1, 2, \\dots, 2s\\}$), there can be at most one element greater than $N$ with no even representation. Since the set of positive integers is a finite union of such progressions $A_r$, there can only be finitely many integers with no even representation.","Assume that for a sufficiently large integer $N$, every integer $n > N$ has exactly one odd and one even representation. Prove that for any two elements $s, t \\in S$ with $N < s < t$, the even representation of $t$ must contain $s$.","Let $s, t \\in S$ with $N < s < t$. Let $E_x$ denote the set of elements in the unique even representation of an integer $x$. Consider the integer $n = s+t$. Since $n > N$, it has a unique odd representation. We can form two potential odd representations for $s+t$: $O_1 = \\{s\\} \\cup E_t$ and $O_2 = \\{t\\} \\cup E_s$. By uniqueness, these must be the same set of elements. Suppose, for contradiction, that $s \notin E_t$. Then $s$ is an element of the representation $O_1$. However, $s$ cannot be an element of $O_2$, since $s \ne t$ and $s \notin E_s$ (as representations are of distinct elements). Since $s \\in O_1$ but $s \notin O_2$, the representations are distinct, which is a contradiction. Therefore, the assumption $s \notin E_t$ must be false, so the even representation of $t$ contains $s$.",Let $S$ be a nonempty set of positive integers. We say that a positive integer $n$ is clean if it has a unique representation as a sum of an odd number of distinct elements from $S$. Prove that there exist infinitely many positive integers that are not clean.,"Assume for contradiction that only finitely many integers are not clean. Then there exists an $N$ such that for any $n>N$, $n$ is clean. By the preceding sub-problems, we can choose $N$ large enough so that every $n>N$ has exactly one odd and one even representation, and for any $s, t \\in S$ with $N<s<t$, the even representation of $t$ contains $s$. Let $s_k$ be the smallest element of $S$ greater than $N$. Then for any $i > k$, the even representation of $s_i$ must contain all of $s_k, s_{k+1}, \\dots, s_{i-1}$. This implies $s_i = \\sum_{j=k}^{i-1} s_j + R_i$, where $R_i$ is a sum of elements from $\\{s_1, \\dots, s_{k-1}\\}$. This recurrence-like relation implies that the elements of $S$ grow very rapidly. For a sufficiently large $p>k$, we have $s_{p+1} > 2s_p$. Consider the number $2s_p > N$; it must have a unique even representation. This representation cannot contain any $s_j$ with $j>p$ since $s_{p+1} > 2s_p$. Furthermore, for large $p$, $2s_p > \\sum_{j=1}^{p-1} s_j$, so the representation must contain $s_p$. Removing $s_p$ from this representation gives an odd representation for $s_p$. But $\\{s_p\\}$ itself is also an odd representation. These two representations are distinct because the former is a sum of elements strictly smaller than $s_p$. This contradicts that $s_p > N$ is clean."
2015c7,"In a company of people some pairs are enemies. A group of people is called unsociable if the number of members in the group is odd and at least 3, and it is possible to arrange all its members around a round table so that every two neighbors are enemies. Given that there are at most 2015 unsociable groups, prove that it is possible to partition the company into 11 parts so that no two enemies are in the same part.",4,"Let $G=(V, E)$ be a graph with an odd chromatic number $k \ge 3$. If we consider a 'leximinimal' proper $k$-coloring $V=V_{1} \sqcup \cdots \sqcup V_{k}$ (where the tuple of class sizes $(|V_1|, ..., |V_k|)$ is lexicographically minimal), prove that $G$ contains an odd cycle that visits every color class $V_1, ..., V_k$.","Let $v \in V_1$. Define a marking process: mark neighbors of $v$ in $V_2$, then their unmarked neighbors in $V_3$, and so on cyclically ($V_{k+1}=V_2$). The leximinimality of the coloring implies there must be a vertex $w \in V_k$ adjacent to $v$ that is reachable from $v$ by a directed path through marked vertices in $V_2, \dots, V_k$. If not, a lexicographically smaller coloring could be constructed. This path's length is a multiple of $k-1$ (an even number, as $k$ is odd). Appending the edge $(w,v)$ creates an odd cycle that visits all $k$ color classes.","Let $G$ be a graph with chromatic number $k$ and a leximinimal $k$-coloring $V=V_{1} \sqcup \cdots \sqcup V_{k}$. For any subset of color indices $C \subseteq \{1, ..., k\}$ with $|C|$ odd and $|C| \ge 3$, prove that there exists an odd cycle in $G$ that visits precisely the color classes $\{V_c\}_{c \in C}$.","Let $V_C = \bigcup_{c \in C} V_c$ and let $G_C$ be the subgraph of $G$ induced by $V_C$. The existing coloring restricted to $V_C$ is a proper $|C|$-coloring of $G_C$. This coloring must be leximinimal for $G_C$; otherwise, a lexicographically smaller coloring for $G_C$ would lead to a lexicographically smaller coloring for the entire graph $G$, a contradiction. Since $|C|$ is odd and $\ge 3$, we apply the result of Sub-problem 1 to $G_C$ to find an odd cycle visiting exactly its color classes, which are precisely $\{V_c\}_{c \in C}$.",Prove that a graph $G$ with chromatic number $k \ge 3$ contains at least $2^{k-1} - k$ distinct odd cycles of length at least 3.,"Consider a leximinimal $k$-coloring of $G$. From Sub-problem 2, for each subset of color indices $C \subseteq \{1, ..., k\}$ where $|C|$ is odd and $|C| \ge 3$, there is a corresponding odd cycle visiting exactly the color classes indexed by $C$. These cycles must be distinct, as they visit distinct sets of color classes. The number of such subsets $C$ is the total number of odd-sized subsets of a $k$-element set ($2^{k-1}$) minus the number of subsets of size 1 (which is $k$). Thus, there are at least $2^{k-1} - k$ distinct odd cycles.","In a company of people some pairs are enemies. A group of people is called unsociable if the number of members in the group is odd and at least 3, and it is possible to arrange all its members around a round table so that every two neighbors are enemies. Given that there are at most 2015 unsociable groups, prove that it is possible to partition the company into 11 parts so that no two enemies are in the same part.","Model the company as a graph $G$ where people are vertices and enemy pairs are edges. An 'unsociable group' corresponds to an odd cycle of length $\ge 3$. A partition into 11 enemy-free parts is a proper 11-coloring, meaning the chromatic number $\chi(G) \le 11$. Assume for contradiction that $\chi(G) \ge 12$. By Sub-problem 3, the number of odd cycles in $G$ is at least $2^{\chi(G)-1} - \chi(G)$. For $\chi(G)=12$, this bound is $2^{11} - 12 = 2048 - 12 = 2036$. Since $f(k)=2^{k-1}-k$ is increasing for $k \ge 2$, if $\chi(G) > 12$, the number of odd cycles would be even larger. This contradicts the given information that there are at most 2015 unsociable groups. Therefore, the assumption is false, and we must have $\chi(G) \le 11$."
2015g1,Let $A B C$ be an acute triangle with orthocenter $H$. Let $G$ be the point such that the quadrilateral $A B G H$ is a parallelogram. Let $I$ be the point on the line $G H$ such that $A C$ bisects $H I$. Suppose that the line $A C$ intersects the circumcircle of the triangle $G C I$ at $C$ and $J$. Prove that $I J=A H$.,2,"Let $A B C$ be an acute triangle with orthocenter $H$, and let $G$ be a point such that $ABGH$ is a parallelogram. Let the line $AC$ intersect the circumcircle of $\triangle GCI$ at $C$ and $J$. Prove that $\angle CJI = \angle HAC$.","Since $ABGH$ is a parallelogram, we have $GH \| AB$ and $BG \| AH$. As $H$ is the orthocenter of $\triangle ABC$, we know $AH \perp BC$ and $CH \perp AB$. From these parallel and perpendicular relations, it follows that $BG \perp BC$ and $CH \perp GH$. This implies that $\angle GBC = 90^\circ$ and $\angle CHG = 90^\circ$, so the quadrilateral $BGCH$ is cyclic. By the problem statement, the quadrilateral $CGIJ$ is also cyclic. Using the property of angles subtended by the same arc in these cyclic quadrilaterals, we get $\angle CJI = \angle CGH = \angle CBH$. In $\triangle ABC$, both $\angle CBH$ and $\angle HAC$ are equal to $90^\circ - \angle C$. Therefore, $\angle CJI = \angle HAC$.",Let $A B C$ be an acute triangle with orthocenter $H$. Let $G$ be the point such that the quadrilateral $A B G H$ is a parallelogram. Let $I$ be the point on the line $G H$ such that $A C$ bisects $H I$. Suppose that the line $A C$ intersects the circumcircle of the triangle $G C I$ at $C$ and $J$. Prove that $I J=A H$.,"Let $M$ be the intersection of $AC$ and $GH$. Since $AC$ bisects $HI$, $M$ is the midpoint of $HI$, so $IM = MH$. From the previous sub-problem, we have $\angle CJI = \angle HAC$. As $A, J, M$ are all on the line $AC$, this can be written as $\angle MJI = \angle HAM$. Also, $\angle IMJ$ and $\angle AMH$ are vertically opposite angles, so $\angle IMJ = \angle AMH$. Now, consider $\triangle IMJ$ and $\triangle AMH$. By the Law of Sines in $\triangle IMJ$, we have $\frac{IJ}{\sin(\angle IMJ)} = \frac{IM}{\sin(\angle MJI)}$. In $\triangle AMH$, we have $\frac{AH}{\sin(\angle AMH)} = \frac{MH}{\sin(\angle HAM)}$. Using the equalities $IM=MH$, $\angle IMJ = \angle AMH$, and $\angle MJI = \angle HAM$, the expressions for $IJ$ and $AH$ become identical, which proves that $IJ=AH$.",,,,
2015g2,"Let $A B C$ be a triangle inscribed into a circle $\Omega$ with center $O$. A circle $\Gamma$ with center $A$ meets the side $B C$ at points $D$ and $E$ such that $D$ lies between $B$ and $E$. Moreover, let $F$ and $G$ be the common points of $\Gamma$ and $\Omega$. We assume that $F$ lies on the arc $A B$ of $\Omega$ not containing $C$, and $G$ lies on the arc $A C$ of $\Omega$ not containing $B$. The circumcircles of the triangles $B D F$ and $C E G$ meet the sides $A B$ and $A C$ again at $K$ and $L$, respectively. Suppose that the lines $F K$ and $G L$ are distinct and intersect at $X$. Prove that the points $A, X$, and $O$ are collinear.",2,Prove that $\angle K F A=\angle A G L$.,"We prove the equality by showing both angles are equal to the expression $\angle C E G - \angle C B G$. First, for $\angle KFA$, we use angle chasing to establish $\angle KFA = \angle DFG + \angle GFA - \angle DFK$. From circle $\Gamma$, $\angle DFG = \angle CEG$. From circle $\Omega$, $\angle GFA = \angle GBA$. From the circumcircle of $BDF$, $\angle DFK = \angle DBK$. Substituting these gives $\angle KFA = \angle CEG + \angle GBA - \angle DBK$, which simplifies to $\angle CEG - \angle CBG$. Second, for $\angle AGL$, since $A,L,C$ are collinear, the exterior angle theorem on $\triangle AGL$ gives $\angle AGL = \angle CLG - \angle CAG$. From the circumcircle of $CEG$, $\angle CLG = \angle CEG$, and from circle $\Omega$, $\angle CAG = \angle CBG$. Thus, $\angle AGL = \angle CEG - \angle CBG$. As both angles are equal to the same expression, we conclude $\angle KFA = \angle AGL$.","Prove that the points $A, X$, and $O$ are collinear.","From the first sub-problem, we have $\angle KFA = \angle AGL$. Points $F$ and $G$ are on circle $\Gamma$ with center $A$, so $AF = AG$. In circle $\Omega$, since the chords $AF$ and $AG$ are equal, the line $AO$ is the axis of symmetry for the points $F$ and $G$. Consequently, the lines $AF$ and $AG$ are symmetric with respect to the line $AO$. The equality $\angle KFA = \angle AGL$ implies that the lines $FK$ and $GL$ are also symmetric with respect to $AO$. As $X$ is the intersection of the distinct lines $FK$ and $GL$, it must lie on their axis of symmetry, the line $AO$. Therefore, the points $A, X,$ and $O$ are collinear.",,,,
2015g3,"Let $A B C$ be a triangle with $\angle C=90^{\circ}$, and let $H$ be the foot of the altitude from $C$. A point $D$ is chosen inside the triangle $C B H$ so that $C H$ bisects $A D$. Let $P$ be the intersection point of the lines $B D$ and $C H$. Let $\omega$ be the semicircle with diameter $B D$ that meets the segment $C B$ at an interior point. A line through $P$ is tangent to $\omega$ at $Q$. Prove that the lines $C Q$ and $A D$ meet on $\omega$.",2,"Let $K$ be the projection of $D$ onto the line $AB$, and $L$ be the projection of $Q$ onto the line $DB$. Prove that $\frac{AH}{HB} = \frac{DL}{LB}$.","Since $CH$ bisects $AD$ and $CH \perp AB$, let $M$ be the midpoint of $AD$. In $\triangle ADK$, $DK$ is parallel to $CH$ (as both are perpendicular to $AB$). Since $M$ is the midpoint of $AD$ and lies on $CH$, by the intercept theorem, $H$ must be the midpoint of $AK$, so $AH=HK$. In $\triangle BDK$, since $PH \\parallel DK$, by Thales' theorem we have $\frac{PD}{PB} = \frac{HK}{HB}$. Substituting $HK=AH$, we get $\frac{PD}{PB} = \frac{AH}{HB}$.\nNow, as $PQ$ is tangent to the semicircle $\\omega$ at $Q$, by the tangent-chord theorem, $\\angle PQD = \\angle QBD$. In the right-angled triangle $BDQ$ ($\u2220 BQD=90^\\circ$), $QL$ is the altitude to the hypotenuse, so $\\angle DQL = \\angle QBD$. Thus, $\\angle PQD = \\angle DQL$, which means $QD$ is the internal angle bisector of $\\angle PQL$. Since $\\angle BQD=90^\\circ$, $QB$ must be the external angle bisector. By the Angle Bisector Theorem on $\triangle PQL$, we have $\frac{PD}{DL} = \frac{PB}{BL}$, which rearranges to $\frac{PD}{PB} = \frac{DL}{LB}$.\nEquating the two expressions for $\frac{PD}{PB}$ gives $\frac{AH}{HB} = \frac{DL}{LB}$.",Prove that the lines $CQ$ and $AD$ meet on $\\omega$.,"From the first sub-problem, we have the relation $\frac{AH}{HB} = \frac{DL}{LB}$. This implies $\frac{AH+HB}{HB} = \frac{DL+LB}{LB}$, so $\frac{AB}{HB} = \frac{DB}{LB}$, which gives $\frac{DB}{AB} = \frac{LB}{HB}$. Consider the spiral similarity $\tau$ centered at $B$ that maps $A$ to $D$. The scaling factor is $DB/AB$ and the rotation angle is $\\angle ABD$. This similarity maps $H$ to $L$. \nSince $\\angle ACB = 90^\\circ$, $C$ lies on the semicircle with diameter $AB$. The similarity $\tau$ maps this semicircle to the semicircle with diameter $BD$, which is $\\omega$. Also, since $CH \\perp AB$ and $QL \\perp DB$, $\tau$ maps the line $CH$ to the line $QL$. Therefore, $\tau$ maps $C$ to $Q$. The existence of this similarity centered at $B$ mapping $A \to D$ and $C \to Q$ implies that $\triangle ABD$ is similar to $\triangle CBQ$. This similarity gives $\\angle ADB = \\angle CQB$. Let $T$ be the intersection of lines $AD$ and $CQ$. The angle equality means $\\angle BDT = \\angle BQT$, so the points $B, Q, T, D$ are concyclic. The circle passing through $B, Q, D$ is the one on which $\\omega$ lies. Therefore, $T$ lies on $\\omega$.",,,,
2015g5," Let $A B C$ be a triangle with $C A \neq C B$. Let $D, F$, and $G$ be the midpoints of the sides $A B, A C$, and $B C$, respectively. A circle $\Gamma$ passing through $C$ and tangent to $A B$ at $D$ meets the segments $A F$ and $B G$ at $H$ and $I$, respectively. The points $H^{\prime}$ and $I^{\prime}$ are symmetric to $H$ and $I$ about $F$ and $G$, respectively. The line $H^{\prime} I^{\prime}$ meets $C D$ and $F G$ at $Q$ and $M$, respectively. The line $C M$ meets $\Gamma$ again at $P$. Prove that $C Q=Q P$.",1," Let $A B C$ be a triangle with $C A \neq C B$. Let $D, F$, and $G$ be the midpoints of the sides $A B, A C$, and $B C$, respectively. A circle $\Gamma$ passing through $C$ and tangent to $A B$ at $D$ meets the segments $A F$ and $B G$ at $H$ and $I$, respectively. The points $H^{\prime}$ and $I^{\prime}$ are symmetric to $H$ and $I$ about $F$ and $G$, respectively. The line $H^{\prime} I^{\prime}$ meets $C D$ and $F G$ at $Q$ and $M$, respectively. The line $C M$ meets $\Gamma$ again at $P$. Prove that $C Q=Q P$.","We may assume that $C A>C B$. Observe that $H^{\prime}$ and $I^{\prime}$ lie inside the segments $C F$ and $C G$, respectively. Therefore, $M$ lies outside $\triangle A B C$ (see Figure 1).

Due to the powers of points $A$ and $B$ with respect to the circle $\Gamma$, we have

$$
C H^{\prime} \cdot C A=A H \cdot A C=A D^{2}=B D^{2}=B I \cdot B C=C I^{\prime} \cdot C B .
$$

Therefore, $C H^{\prime} \cdot C F=C I^{\prime} \cdot C G$. Hence, the quadrilateral $H^{\prime} I^{\prime} G F$ is cyclic, and so $\angle I^{\prime} H^{\prime} C=$ $\angle C G F$.

Let $D F$ and $D G$ meet $\Gamma$ again at $R$ and $S$, respectively. We claim that the points $R$ and $S$ lie on the line $H^{\prime} I^{\prime}$.

Observe that $F H^{\prime} \cdot F A=F H \cdot F C=F R \cdot F D$. Thus, the quadrilateral $A D H^{\prime} R$ is cyclic, and hence $\angle R H^{\prime} F=\angle F D A=\angle C G F=\angle I^{\prime} H^{\prime} C$. Therefore, the points $R, H^{\prime}$, and $I^{\prime}$ are collinear. Similarly, the points $S, H^{\prime}$, and $I^{\prime}$ are also collinear, and so all the points $R, H^{\prime}, Q, I^{\prime}, S$, and $M$ are all collinear.\\

Then, $\angle R S D=\angle R D A=\angle D F G$. Hence, the quadrilateral $R S G F$ is cyclic (see Figure 2). Therefore, $M H^{\prime} \cdot M I^{\prime}=M F \cdot M G=M R \cdot M S=M P \cdot M C$. Thus, the quadrilateral $C P I^{\prime} H^{\prime}$ is also cyclic. Let $\omega$ be its circumcircle.

Notice that $\angle H^{\prime} C Q=\angle S D C=\angle S R C$ and $\angle Q C I^{\prime}=\angle C D R=\angle C S R$. Hence, $\triangle C H^{\prime} Q \sim \triangle R C Q$ and $\triangle C I^{\prime} Q \sim \triangle S C Q$, and therefore $Q H^{\prime} \cdot Q R=Q C^{2}=Q I^{\prime} \cdot Q S$.

We apply the inversion with center $Q$ and radius $Q C$. Observe that the points $R, C$, and $S$ are mapped to $H^{\prime}, C$, and $I^{\prime}$, respectively. Therefore, the circumcircle $\Gamma$ of $\triangle R C S$ is mapped to the circumcircle $\omega$ of $\triangle H^{\prime} C I^{\prime}$. Since $P$ and $C$ belong to both circles and the point $C$ is preserved by the inversion, we have that $P$ is also mapped to itself. We then get $Q P^{2}=Q C^{2}$. Hence, $Q P=Q C$.
",,,,,,
2015g6,"Let $A B C$ be an acute triangle with $A B>A C$, and let $\Gamma$ be its circumcircle. Let $H$, $M$, and $F$ be the orthocenter of the triangle, the midpoint of $B C$, and the foot of the altitude from $A$, respectively. Let $Q$ and $K$ be the two points on $\Gamma$ that satisfy $\angle A Q H=90^{\circ}$ and $\angle Q K H=90^{\circ}$. Prove that the circumcircles of the triangles $K Q H$ and $K F M$ are tangent to each other.",1,"Let $A B C$ be an acute triangle with $A B>A C$, and let $\Gamma$ be its circumcircle. Let $H$, $M$, and $F$ be the orthocenter of the triangle, the midpoint of $B C$, and the foot of the altitude from $A$, respectively. Let $Q$ and $K$ be the two points on $\Gamma$ that satisfy $\angle A Q H=90^{\circ}$ and $\angle Q K H=90^{\circ}$. Prove that the circumcircles of the triangles $K Q H$ and $K F M$ are tangent to each other.","Let $A^{\prime}$ be the point diametrically opposite to $A$ on $\Gamma$. Since $\angle A Q A^{\prime}=90^{\circ}$ and $\angle A Q H=90^{\circ}$, the points $Q, H$, and $A^{\prime}$ are collinear. Similarly, if $Q^{\prime}$ denotes the point on $\Gamma$ diametrically opposite to $Q$, then $K, H$, and $Q^{\prime}$ are collinear. Let the line $A H F$ intersect $\Gamma$ again at $E$; it is known that $M$ is the midpoint of the segment $H A^{\prime}$ and that $F$ is the midpoint of $H E$. Let $J$ be the midpoint of $H Q^{\prime}$.

Consider any point $T$ such that $T K$ is tangent to the circle $K Q H$ at $K$ with $Q$ and $T$ lying on different sides of $K H$ (see Figure 1). Then $\angle H K T=\angle H Q K$ and we are to prove that $\angle M K T=\angle C F K$. Thus it remains to show that $\angle H Q K=\angle C F K+\angle H K M$. Due to $\angle H Q K=90^{\circ}-\angle Q^{\prime} H A^{\prime}$ and $\angle C F K=90^{\circ}-\angle K F A$, this means the same as $\angle Q^{\prime} H A^{\prime}=$ $\angle K F A-\angle H K M$. Now, since the triangles $K H E$ and $A H Q^{\prime}$ are similar with $F$ and $J$ being the midpoints of corresponding sides, we have $\angle K F A=\angle H J A$, and analogously one may obtain $\angle H K M=\angle J Q H$. Thereby our task is reduced to verifying

$$
\angle Q^{\prime} H A^{\prime}=\angle H J A-\angle J Q H .
$$

To avoid confusion, let us draw a new picture at this moment (see Figure 2). Owing to $\angle Q^{\prime} H A^{\prime}=\angle J Q H+\angle H J Q$ and $\angle H J A=\angle Q J A+\angle H J Q$, we just have to show that $2 \angle J Q H=\angle Q J A$. To this end, it suffices to remark that $A Q A^{\prime} Q^{\prime}$ is a rectangle and that $J$, being defined to be the midpoint of $H Q^{\prime}$, has to lie on the mid parallel of $Q A^{\prime}$ and $Q^{\prime} A$.

",,,,,,
2015g7,"Let $A B C D$ be a convex quadrilateral, and let $P, Q, R$, and $S$ be points on the sides $A B, B C, C D$, and $D A$, respectively. Let the line segments $P R$ and $Q S$ meet at $O$. Suppose that each of the quadrilaterals $A P O S, B Q O P, C R O Q$, and $D S O R$ has an incircle. Prove that the lines $A C, P Q$, and $R S$ are either concurrent or parallel to each other.",4,"Given that the quadrilaterals APOS, BQOP, CROQ, and DSOR each have an incircle, prove that the quadrilateral ABCD also has an incircle.","For a quadrilateral to have an incircle, the sums of its opposite sides must be equal. The given conditions imply: 1) AP + OS = AS + OP; 2) BQ + OP = BP + OQ; 3) CR + OQ = CQ + OR; 4) DS + OR = DR + OS. Summing these four equations and cancelling common terms (OP, OQ, OR, OS) from both sides gives AP+BQ+CR+DS = AS+BP+CQ+DR. Rearranging terms according to the sides of ABCD yields (AP+BP) + (CR+DR) = (AS+DS) + (BQ+CQ), which simplifies to AB+CD = AD+BC. By Pitot's theorem, this condition implies that ABCD has an incircle.","For each vertex of the quadrilateral ABCD, for instance A, show that the condition that APOS has an incircle implies the existence of a corresponding circle $\omega_A$ tangent to the four lines AB, AD, the line through P parallel to QS, and the line through S parallel to PR.","The fact that APOS has an incircle means AP+OS = AS+OP, or AP-AS = OP-OS. Let A' be the point such that A'SOP is a parallelogram. Then A'S is parallel to and equal in length to OP, and A'P is parallel to and equal in length to OS. The condition becomes AP-AS = A'S-A'P. A known geometric theorem states that a circle tangent to the four lines AB, AD, the line through P parallel to QS (line A'P), and the line through S parallel to PR (line A'S) exists if and only if this relation holds. Therefore, such a circle $\omega_A$ exists. By symmetry, similar circles $\omega_B$, $\omega_C$, and $\omega_D$ exist for the other three vertices.","Let $\Omega$ be the incircle of ABCD and $\omega_A, \omega_B, \omega_C, \omega_D$ be the circles from the previous step. Using Monge's theorem on centers of homothety, prove that the lines AC, PQ, and RS are either concurrent or parallel.","Let X be the center of homothety that maps circle $\omega_A$ to $\omega_C$. (1) Lines AB and AD are common tangents to circles $\Omega$ and $\omega_A$, so their intersection A is a center of homothety. Similarly, C is a center of homothety for $\Omega$ and $\omega_C$. By Monge's theorem for circles ($\Omega, \omega_A, \omega_C$), the points A, C, and X are collinear. (2) Lines AB and the line through P parallel to QS are common tangents to $\omega_A$ and $\omega_B$, so P is a center of homothety. Similarly, Q is a center of homothety for $\omega_B$ and $\omega_C$. By Monge's theorem for ($\omega_A, \omega_B, \omega_C$), points P, Q, and X are collinear. (3) By a similar argument for circles ($\omega_A, \omega_D, \omega_C$), points S, R, and X are collinear. Therefore, the three lines AC, PQ, and RS all pass through X. If the radii of $\omega_A$ and $\omega_C$ are different, X is a finite point and the lines are concurrent. If the radii are equal, X is at infinity, and the lines are parallel.","Let ABCD be a convex quadrilateral, and let P, Q, R, and S be points on the sides AB, BC, CD, and DA, respectively. Let the line segments PR and QS meet at O. Suppose that each of the quadrilaterals APOS, BQOP, CROQ, and DSOR has an incircle. Prove that the lines AC, PQ, and RS are either concurrent or parallel to each other.","The proof is a composition of the previous steps. First, as shown in sub-problem 1, the conditions on the four small quadrilaterals imply that the large quadrilateral ABCD has an incircle, $\Omega$. Second, as shown in sub-problem 2, for each vertex, we can define an auxiliary circle, giving us $\omega_A, \omega_B, \omega_C, \omega_D$. Finally, as established in sub-problem 3 by applying Monge's theorem on appropriate triplets of these circles, the lines AC, PQ, and RS must all pass through the center of homothety X of circles $\omega_A$ and $\omega_C$. This implies the lines are either concurrent (if X is a finite point) or parallel (if X is at infinity)."
2015g8,"A triangulation of a convex polygon $\Pi$ is a partitioning of $\Pi$ into triangles by diagonals having no common points other than the vertices of the polygon. We say that a triangulation is a Thaiangulation if all triangles in it have the same area.

Prove that any two different Thaiangulations of a convex polygon $\Pi$ differ by exactly two triangles. (In other words, prove that it is possible to replace one pair of triangles in the first Thaiangulation with a different pair of triangles so as to obtain the second Thaiangulation.)",4,"Prove that a triangulation of a convex polygon cannot contain two distinct parallelograms, where a parallelogram is defined as the union of two triangles in the triangulation that share a common diagonal.","Assume for contradiction that a triangulation $\mathcal{T}$ contains two parallelograms $P_1$ and $P_2$. Case 1: $P_1$ and $P_2$ share a triangle. Let $P_1 = \triangle ABC \cup \triangle ADC$ and $P_2 = \triangle ADC \cup \triangle CDE$. Then $ABCD$ and $ADEC$ are parallelograms, which implies $BC \parallel AD \parallel CE$. This makes the vertices $B, C, E$ of the convex polygon collinear, a contradiction. Case 2: $P_1$ and $P_2$ are disjoint. Let $P_1 = ABCD$. $P_2$ must lie in a region bounded by a side of $P_1$, say $AD$. This configuration forms a larger convex polygon, but the sum of the external angles at the vertices of $P_1$ and $P_2$ would exceed $360^{\circ}$, which is impossible for a convex polygon.",Prove that every triangle in a Thaiangulation of a convex polygon $\Pi$ must contain at least one side of $\Pi$.,"Assume for contradiction that a triangle $\triangle ABC$ in a Thaiangulation $\mathcal{T}$ has no side on the boundary of $\Pi$. Apply an affine transformation that makes $\triangle ABC$ equilateral; this preserves the Thaiangulation property. Since $AB, BC, CA$ are not sides of $\Pi$, they are adjacent to other triangles, say $\triangle ABZ, \triangle BCX, \triangle CAY$. The polygon $AZBXCY$ is convex. The sum of the exterior angles at $X, Y, Z$ is less than $360^{\circ}$, so at least one, say at $Z$, is less than $120^{\circ}$, which implies $\angle AZB > 60^{\circ}$. For a fixed base $AB$, a vertex angle greater than $60^{\circ}$ means the triangle's altitude is less than that of an equilateral triangle. Thus, $[\triangle ABZ] < [\triangle ABC]$, contradicting that the triangulation is a Thaiangulation.","Let $\mathcal{T}_1$ and $\mathcal{T}_2$ be two different Thaiangulations of a convex polygon. Suppose an ear $\triangle ABC$ of $\mathcal{T}_1$ (with $AB, BC$ being sides of the polygon) is adjacent to $\triangle ACD$ in $\mathcal{T}_1$ (with $CD$ also being a side of the polygon). If $\triangle ABC$ is not in $\mathcal{T}_2$ but $\triangle BCD$ is in $\mathcal{T}_2$, prove that the quadrilateral $ABCD$ is a parallelogram.","Let $S$ be the area of any triangle in the Thaiangulations. From $\mathcal{T}_1$, we have $[ABC] = S$ and $[ACD] = S$. From $\mathcal{T}_2$, we have $[BCD] = S$. The area of quadrilateral $ABCD$ is $[ABC] + [ACD] = 2S$. Then the area of $\triangle ABD$ is $[ABCD] - [BCD] = 2S - S = S$. Since $[ABC] = [BCD] = S$ and they share base $BC$, the heights from vertices $A$ and $D$ to the line $BC$ are equal. As the polygon is convex, this implies $AD \parallel BC$. Similarly, since $[ACD] = [ABD] = S$ and they share base $AD$, the heights from $C$ and $B$ to line $AD$ are equal, implying $BC \parallel AD$. A quadrilateral with two pairs of parallel opposite sides is a parallelogram.",Prove that any two different Thaiangulations of a convex polygon $\Pi$ differ by exactly two triangles.,"Argue by contradiction, assuming $\Pi$ is a counterexample with the minimum possible number of sides. Let $\mathcal{T}_1$ and $\mathcal{T}_2$ be two Thaiangulations of $\Pi$ not differing by two triangles. Let $ABC$ be an ear in $\mathcal{T}_1$. By minimality, $ABC \notin \mathcal{T}_2$. Let $ACD$ be adjacent to $ABC$ in $\mathcal{T}_1$. By Sub-problem 2, we can assume $CD$ is a side of $\Pi$. One can show $\mathcal{T}_2$ must contain $\triangle BCD$. By Sub-problem 3, $ABCD$ is a parallelogram. Let $\mathcal{T}'$ be the triangulation obtained from $\mathcal{T}_1$ by replacing diagonal $AC$ with $BD$. $\mathcal{T}'$ and $\mathcal{T}_1$ differ by two triangles, so $\mathcal{T}' \neq \mathcal{T}_2$. Both $\mathcal{T}'$ and $\mathcal{T}_2$ share the ear $BCD$. Removing this ear leads to a smaller polygon where, by minimality, the remaining triangulations differ by two triangles, forming a parallelogram $P_2$. Thus, $\mathcal{T}'$ contains two distinct parallelograms ($ABCD$ and $P_2$), contradicting Sub-problem 1."
2015n2,Let $a$ and $b$ be positive integers such that $a!b!$ is a multiple of $a!+b!$. Prove that $3 a \geqslant 2 b+2$.,2,"Let $a, b$ be positive integers with $a < b$ such that $a!b!$ is a multiple of $a!+b!$. Let $c = b-a$ and $M = \frac{b!}{a!}$. Prove that $1+M$ divides $\frac{a!}{c!}$.","The condition $a!+b! \mid a!b!$ implies $1+\frac{b!}{a!} \mid b!$ after dividing by $a!$. With $M = \frac{b!}{a!}$, this is $1+M \mid a!M$. Since $\gcd(1+M, M)=1$, we must have $1+M \mid a!$. Note that $M = (a+1)(a+2)\cdots(a+c)$ is a product of $c$ consecutive integers, so it is divisible by $c!$. This implies $M \equiv 0 \pmod{c!}$, so $\gcd(1+M, c!)=1$. Combining $1+M \mid a!$ and $\gcd(1+M, c!)=1$, we conclude that $1+M \mid \frac{a!}{c!}$.",Let $a$ and $b$ be positive integers such that $a!b!$ is a multiple of $a!+b!$. Prove that $3 a \geqslant 2 b+2$.,"If $a > b$, the inequality holds as $3a > 2a+a > 2b+b \ge 2b+1$. If $a=b$, the divisibility condition holds for all $a$, but the inequality $3a \ge 2a+2$ requires $a \ge 2$. The case $a=b=1$ fails the divisibility ($2 \nmid 1$), so $a \ge 2$ holds. Now assume $a<b$ and let $c=b-a$. The inequality becomes $a \ge 2c+2$. We assume $a \le 2c+1$ for contradiction. Let $M=(a+1)\cdots(a+c)$. By the first sub-problem, $1+M \mid \frac{a!}{c!}$, which implies $1+M \le \frac{a!}{c!}$. This is impossible if $a \le 2c$, since $M$ is a product of $c$ integers each greater than $a$, while $\frac{a!}{c!}$ is a product of $a-c \le c$ integers each at most $a$. The remaining case is $a=2c+1$. Here $a+1=2(c+1)$, so $c+1 \mid M$, meaning $\gcd(1+M, c+1)=1$. The condition $1+M \mid \frac{a!}{c!} = (c+1)\cdots a$ then implies $1+M \mid (c+2)\cdots a$. This is also impossible, as $M$ is larger than the product $(c+2)\cdots a$. Therefore, the assumption $a \le 2c+1$ must be false.",,,,
2015n3,"Let $m$ and $n$ be positive integers such that $m>n$. Define $x_{k}=(m+k) /(n+k)$ for $k=$ $1,2, \ldots, n+1$. Prove that if all the numbers $x_{1}, x_{2}, \ldots, x_{n+1}$ are integers, then $x_{1} x_{2} \cdots x_{n+1}-1$ is divisible by an odd prime.",3,"Let $S = \{n+1, n+2, \ldots, 2n+1\}$. Prove that there exists a unique element in $S$, say $n+\ell$, which is a power of 2, say $2^c$, and that for any other element $n+k \in S$ with $k \ne \ell$, its 2-adic valuation $v_2(n+k)$ is less than $c$.","Let $2^c$ be the largest power of 2 such that $2^c \le 2n+1$. By definition, $2^{c+1} > 2n+1$, which implies $2^c > n + 1/2$. Since $n$ is an integer, $2^c \ge n+1$. Thus, the power of two $2^c$ is in the set $S = [n+1, 2n+1]$. Any other multiple of $2^c$ in $S$ would have to be at least $2 \cdot 2^c = 2^{c+1}$, which is greater than $2n+1$. Therefore, $2^c$ is the unique multiple of $2^c$ in $S$. Let $\ell$ be the index such that $n+\ell = 2^c$. For any $k \neq \ell$, $n+k$ is not a multiple of $2^c$, so its 2-adic valuation $v_2(n+k)$ must be strictly less than $c$.",Let $P = x_1 x_2 \cdots x_{n+1} - 1$. Let $d=v_2(m-n)$ and let $c$ be the integer defined in sub-problem 1 such that $n+\ell=2^c$. Prove that $v_2(P) = d-c$.,"Define $a_k = x_k-1 = \frac{m-n}{n+k}$. Since $x_k$ are integers, $a_k$ are positive integers. The 2-adic valuation of $a_k$ is $v_2(a_k) = v_2(m-n) - v_2(n+k) = d - v_2(n+k)$. From sub-problem 1, there is a unique $\ell$ such that $v_2(n+\ell)=c$ and for all $k \ne \ell$, $v_2(n+k)<c$. Thus, $v_2(a_\ell) = d-c$, and for $k \ne \ell$, $v_2(a_k) = d-v_2(n+k) > d-c$. This implies $v_2(a_k) \ge d-c+1$ for $k \ne \ell$. We have $P = (1+a_1)\cdots(1+a_{n+1})-1$. Consider this expression modulo $2^{d-c+1}$. For $k \ne \ell$, $a_k \equiv 0 \pmod{2^{d-c+1}}$. So, $P \equiv (1+a_\ell) \cdot \prod_{k \ne \ell}(1+0) - 1 \equiv a_\ell \pmod{2^{d-c+1}}$. This means $v_2(P-a_\ell) \ge d-c+1$. Since $v_2(a_\ell)=d-c$, we have $v_2(P) = v_2(a_\ell + (P-a_\ell)) = \min(v_2(a_\ell), v_2(P-a_\ell)) = d-c$.","Let $m$ and $n$ be positive integers such that $m>n$. Define $x_{k}=(m+k) /(n+k)$ for $k=$ $1,2, \ldots, n+1$. Prove that if all the numbers $x_{1}, x_{2}, \ldots, x_{n+1}$ are integers, then $x_{1} x_{2} \cdots x_{n+1}-1$ is divisible by an odd prime.","Let $P = x_1 x_2 \cdots x_{n+1} - 1$. We must show $P$ has an odd prime factor, which is equivalent to showing $P$ is not a power of 2. From sub-problem 2, the 2-adic valuation of $P$ is $v_2(P) = d-c$. Let $a_k = x_k-1$. For any $k \ne \ell$, we established in sub-problem 2 that $v_2(a_k) \ge d-c+1$. Since $a_k$ is a positive integer, $a_k \ge 2^{d-c+1}$. The product $P = (1+a_1)\cdots(1+a_{n+1})-1$ is greater than any individual $a_k$. Thus, for any $k \ne \ell$, we have $P > a_k \ge 2^{d-c+1}$. We have both $P > 2^{d-c+1}$ and $v_2(P) = d-c$. Let $P = Q \cdot 2^{d-c}$ for some odd integer $Q$. Then $Q \cdot 2^{d-c} > 2^{d-c+1}$, which simplifies to $Q > 2$. Since $Q$ is an odd integer greater than 2, it must have an odd prime factor. This odd prime factor also divides $P$. Therefore, $P$ is divisible by an odd prime.",,
2015n4,"Suppose that $a_{0}, a_{1}, \ldots$ and $b_{0}, b_{1}, \ldots$ are two sequences of positive integers satisfying $a_{0}, b_{0} \geqslant 2$ and

$$
a_{n+1}=\operatorname{gcd}\left(a_{n}, b_{n}\right)+1, \quad b_{n+1}=\operatorname{lcm}\left(a_{n}, b_{n}\right)-1
$$

for all $n \geqslant 0$. Prove that the sequence $\left(a_{n}\right)$ is eventually periodic; in other words, there exist integers $N \geqslant 0$ and $t>0$ such that $a_{n+t}=a_{n}$ for all $n \geqslant N$.",3,Let $s_n = a_n + b_n$. Define $W_n = \{m \in \mathbb{Z}_{>0}: m \ge a_n \text{ and } m \nmid s_n\}$ and its minimum $w_n = \min W_n$. Prove that the sequence $(w_n)_{n \ge 0}$ is non-increasing and thus eventually constant.,"If $a_n | b_n$, then $s_{n+1} = s_n$ and $a_{n+1} = a_n + 1$. As $a_n | s_n$, we have $a_n \notin W_n$, so $w_n > a_n$. This implies $w_n \ge a_n+1 = a_{n+1}$. By definition, $w_n \nmid s_n = s_{n+1}$. Thus, $w_n \in W_{n+1}$, which means $w_{n+1} = \min W_{n+1} \le w_n$. If $a_n \nmid b_n$, then $a_n \nmid s_n$, so $a_n \in W_n$ and $w_n = a_n$. The recurrences give $a_{n+1} = \operatorname{gcd}(a_n, b_n)+1 \le a_n$ and $s_{n+1} = \operatorname{gcd}(a_n, b_n) + \operatorname{lcm}(a_n, b_n)$. Since $\operatorname{lcm}(a_n, b_n)$ is a multiple of $a_n$ but $\operatorname{gcd}(a_n, b_n)$ is not, $a_n \nmid s_{n+1}$. So $a_n \in W_{n+1}$, which implies $w_{n+1} = \min W_{n+1} \le a_n = w_n$. In both cases, $w_{n+1} \le w_n$. Since $(w_n)$ is a non-increasing sequence of positive integers, it must be eventually constant.","Let $N$ be an integer such that $w_n = w$ for all $n \ge N$. Define $g_n = \operatorname{gcd}(w, s_n)$. Show that the sequence $(g_n)_{n \ge N}$ is constant.","For any $n \ge N$: If $a_n | b_n$, then $s_{n+1} = s_n$, so $g_{n+1} = \operatorname{gcd}(w, s_{n+1}) = \operatorname{gcd}(w, s_n) = g_n$. If $a_n \nmid b_n$, then $a_n=w$. We have $g_n = \operatorname{gcd}(w, s_n)$. The recurrences yield $s_{n+1} = \operatorname{gcd}(w, s_n) + \operatorname{lcm}(w, s_n-w) = g_n + \frac{w(s_n-w)}{g_n}$. Let $w = g_n l$ and $s_n = g_n k$ where $\operatorname{gcd}(l, k)=1$. Then $s_{n+1} = g_n + \frac{g_nl(g_nk - g_nl)}{g_n} = g_n(1 + lk - l^2)$. So $g_{n+1} = \operatorname{gcd}(w, s_{n+1}) = \operatorname{gcd}(g_n l, g_n(1+lk-l^2)) = g_n \operatorname{gcd}(l, 1+lk-l^2) = g_n \operatorname{gcd}(l, 1) = g_n$. In both cases, $g_{n+1}=g_n$. Thus, the sequence $(g_n)$ is constant for $n \ge N$.","Suppose that $a_{0}, a_{1}, \ldots$ and $b_{0}, b_{1}, \ldots$ are two sequences of positive integers satisfying $a_{0}, b_{0} \geqslant 2$ and $a_{n+1}=\operatorname{gcd}\left(a_{n}, b_{n}\right)+1, b_{n+1}=\operatorname{lcm}\left(a_{n}, b_{n}\right)-1$ for all $n \geqslant 0$. Prove that the sequence $\left(a_{n}\right)$ is eventually periodic.","From the previous sub-problems, there exists an integer $N$ such that for all $n \ge N$, $w_n=w$ and $g_n=g$ for some constants $w, g$. For $n \ge N$: if $a_n < w$, then $a_n$ must divide $s_n$, otherwise $w_n \le a_n < w$, a contradiction. So $a_n|b_n$, which gives $a_{n+1} = a_n+1$. The sequence $(a_n)$ increases by 1 until it reaches $w$. If $a_n=w$, then $a_n \nmid s_n$ by definition of $w=w_n$. This implies $a_n \nmid b_n$, so $a_{n+1} = \operatorname{gcd}(a_n, b_n)+1 = \operatorname{gcd}(w,s_n)+1 = g_n+1 = g+1$. Since $g=\operatorname{gcd}(w,s_n)$, we have $g<w$, so $g+1 \le w$. Thus, for $n \ge N$, the sequence $(a_n)$ follows the cycle $g+1, g+2, \ldots, w, g+1, \ldots$. Therefore, $(a_n)$ is eventually periodic.",,
2015n6,"Let $\mathbb{Z}_{>0}$ denote the set of positive integers. Consider a function $f: \mathbb{Z}_{>0} \rightarrow \mathbb{Z}_{>0}$. For any $m, n \in \mathbb{Z}_{>0}$ we write $f^{n}(m)=\underbrace{f(f(\ldots f}_{n}(m) \ldots))$. Suppose that $f$ has the following two properties:\\
(i) If $m, n \in \mathbb{Z}_{>0}$, then $\frac{f^{n}(m)-m}{n} \in \mathbb{Z}_{>0}$;\\
(ii) The set $\mathbb{Z}_{>0} \backslash\left\{f(n) \mid n \in \mathbb{Z}_{>0}\right\}$ is finite.

Prove that the sequence $f(1)-1, f(2)-2, f(3)-3, \ldots$ is periodic.",4,"Show that $f$ is injective and that $\mathbb{Z}_{>0}$ is a disjoint union of a finite number of sequences $S_i = \\{a_i, f(a_i), f^2(a_i), \\ldots\\}$, where $\\{a_1, \\ldots, a_k\\} = \\mathbb{Z}_{>0} \\setminus f(\\mathbb{Z}_{>0})$.","If $f(m)=f(k)$, property (i) implies $\frac{k-m}{n} = \frac{f^n(m)-m}{n} - \frac{f^n(k)-k}{n}$ is an integer for all $n$. For $n>|k-m|$, this forces $k-m=0$, so $f$ is injective. By property (ii), the set $A = \\mathbb{Z}_{>0} \\setminus f(\\mathbb{Z}_{>0})$ is finite. By property (i) with $n=1$, $f(m)>m$. Any $x \\in \\mathbb{Z}_{>0}$ has a unique chain of pre-images $x, f^{-1}(x), f^{-2}(x), \\ldots$ which must terminate at an element of $A$. Thus every integer belongs to exactly one sequence $S_i$ starting with an element $a_i \\in A$.","Let the sequences partitioning $\\mathbb{Z}_{>0}$ be $S_1, \\ldots, S_k$. Show that at least one of these sequences is an arithmetic progression.","Assume for contradiction none are arithmetic progressions. A density argument shows at least one sequence, say $S_x$ starting with $a_x$, must be 'dense', meaning $f^d(a_x) \\le C \\cdot d$ for an infinite set of integers $d$ and some constant $C$. For these $d$, the integer $\beta_d = \frac{f^d(a_x)-a_x}{d}$ is bounded, so for an infinite subset $Y$, $\beta_d$ must be a constant $T_x$. Thus $f^d(a_x)=a_x+d T_x$ for all $d \\in Y$. For any $j>0$, pick $y \\in Y$ such that $y-j > |f^j(a_x) - (a_x+jT_x)|$. By property (i), $y-j$ divides $f^y(a_x)-f^j(a_x)$. It also divides $(y-j)T_x = f^y(a_x)-(a_x+jT_x)$. So $y-j$ must divide their difference, $f^j(a_x)-(a_x+jT_x)$, forcing the difference to be 0. Thus $S_x$ is an arithmetic progression, a contradiction.","Show that all of the sequences $S_1, \\ldots, S_k$ are arithmetic progressions.","Assume for contradiction that only $t$ of the $k$ sequences are arithmetic progressions, where $1 \\le t < k$. Let $T$ be the LCM of their common differences. The set of numbers in the remaining $k-t$ non-AP sequences has a constant positive density in large intervals. The density argument from the previous step can be applied to this subset of numbers and sequences. It shows that at least one of these $k-t$ sequences must also be an arithmetic progression. This contradicts our assumption. Therefore, all $k$ sequences must be arithmetic progressions.","Prove that the sequence $f(1)-1, f(2)-2, f(3)-3, \\ldots$ is periodic.","From the previous step, each sequence $S_i$ is an arithmetic progression with some common difference $T_i$. Any $n \\in \\mathbb{Z}_{>0}$ belongs to exactly one $S_i$, so $f(n)-n=T_i$. Let $T=\text{lcm}(T_1, \\ldots, T_k)$. If $n \\in S_i$, its form is $n=a_i+jT_i$ for some $j \\ge 0$. Then $n+T = a_i+jT_i+T = a_i+(j+T/T_i)T_i$, so $n+T$ is also in $S_i$. Therefore, $f(n+T)-(n+T) = T_i$. Since $f(n)-n=T_i$ as well, we have $f(n+T)-(n+T) = f(n)-n$ for all $n \\in \\mathbb{Z}_{>0}$. The sequence is periodic with period $T$."
2014a1,"Let $z_{0}<z_{1}<z_{2}<\cdots$ be an infinite sequence of positive integers. Prove that there exists a unique integer $n \geqslant 1$ such that

\begin{equation*}
z_{n}<\frac{z_{0}+z_{1}+\cdots+z_{n}}{n} \leqslant z_{n+1} . \tag{1}
\end{equation*}",2,"Let $z_0, z_1, z_2, \dots$ be a strictly increasing sequence of positive integers. Define a new sequence $d_n = (z_0 + z_1 + \dots + z_n) - n z_n$ for $n \ge 1$. Show that the inequalities in the original problem, $z_{n}<\frac{z_{0}+z_{1}+\cdots+z_{n}}{n} \leqslant z_{n+1}$, are equivalent to the condition $d_n > 0 \ge d_{n+1}$. Furthermore, prove that the sequence $(d_n)_{n \ge 1}$ is a strictly decreasing sequence of integers with $d_1 > 0$.","The first inequality $z_{n}<\frac{z_{0}+z_{1}+\cdots+z_{n}}{n}$ is equivalent to $nz_n < z_0 + \dots + z_n$, which is $(z_0 + \dots + z_n) - nz_n > 0$, or $d_n > 0$. The second inequality $\frac{z_{0}+z_{1}+\cdots+z_{n}}{n} \leqslant z_{n+1}$ is equivalent to $z_0 + \dots + z_n \le nz_{n+1}$. Adding $z_{n+1}$ to both sides and rearranging gives $(z_0 + \dots + z_{n+1}) - (n+1)z_{n+1} \le 0$, which is $d_{n+1} \le 0$. Thus, the original inequalities are equivalent to $d_n > 0 \ge d_{n+1}$.
Now, we analyze the sequence $d_n$. Since all $z_i$ are integers, each $d_n$ is an integer. For $n=1$, $d_1 = (z_0+z_1)-1\cdot z_1 = z_0$. Since $z_0$ is a positive integer, $d_1 > 0$. To see that the sequence is strictly decreasing, consider the difference $d_{n+1} - d_n = ((z_0 + \dots + z_{n+1}) - (n+1)z_{n+1}) - ((z_0 + \dots + z_n) - nz_n) = z_{n+1} - (n+1)z_{n+1} + nz_n = n(z_n - z_{n+1})$. Since the sequence $(z_i)$ is strictly increasing, $z_n < z_{n+1}$, so $z_n - z_{n+1} < 0$. For $n \ge 1$, this means $d_{n+1} - d_n < 0$, so $d_{n+1} < d_n$.","Let $z_{0}<z_{1}<z_{2}<\cdots$ be an infinite sequence of positive integers. Prove that there exists a unique integer $n \geqslant 1$ such that

\begin{equation*}
z_{n}<\frac{z_{0}+z_{1}+\cdots+z_{n}}{n} \leqslant z_{n+1} .
\end{equation*}","From the first sub-problem, the problem is equivalent to proving there exists a unique integer $n \ge 1$ such that $d_n > 0 \ge d_{n+1}$, where $d_n = (z_0 + z_1 + \dots + z_n) - n z_n$. We have established that $(d_n)_{n \ge 1}$ is a strictly decreasing sequence of integers, and its first term $d_1 = z_0$ is positive. A strictly decreasing sequence of integers that starts with a positive value must eventually become non-positive. Because the sequence is strictly decreasing (i.e., $d_{n+1} < d_n$ for all $n$), there must be a unique index $n$ for which $d_n$ is the last positive term in the sequence. For this unique $n$, we have $d_n > 0$ and $d_{n+1} \le 0$. Therefore, there exists a unique integer $n \ge 1$ satisfying the condition.",,,,
2014a2,"Define the function $f:(0,1) \rightarrow(0,1)$ by

$$
f(x)= \begin{cases}x+\frac{1}{2} & \text { if } x<\frac{1}{2} \\ x^{2} & \text { if } x \geqslant \frac{1}{2}\end{cases}
$$

Let $a$ and $b$ be two real numbers such that $0<a<b<1$. We define the sequences $a_{n}$ and $b_{n}$ by $a_{0}=a, b_{0}=b$, and $a_{n}=f\left(a_{n-1}\right), b_{n}=f\left(b_{n-1}\right)$ for $n>0$. Show that there exists a positive integer $n$ such that

$$
\left(a_{n}-a_{n-1}\right)\left(b_{n}-b_{n-1}\right)<0
$$",3,"Let $I_1 = (0, 1/2)$ and $I_2 = [1/2, 1)$. Show that the inequality $(a_n - a_{n-1})(b_n - b_{n-1}) < 0$ holds if and only if $a_{n-1}$ and $b_{n-1}$ lie in different subintervals $I_1$ and $I_2$.","The expression $(a_n - a_{n-1})(b_n - b_{n-1})$ is equal to $(f(a_{n-1}) - a_{n-1})(f(b_{n-1}) - b_{n-1})$. We analyze the sign of $g(x) = f(x) - x$. For $x \in I_1=(0, 1/2)$, $g(x) = (x + 1/2) - x = 1/2 > 0$. For $x \in I_2=[1/2, 1)$, $g(x) = x^2 - x = x(x-1) < 0$. The product $g(a_{n-1})g(b_{n-1})$ is negative if and only if one term is positive and the other is negative, which requires $a_{n-1}$ and $b_{n-1}$ to be in different subintervals.","Assume for the sake of contradiction that for all $k \ge 0$, $a_k$ and $b_k$ lie in the same subinterval ($I_1$ or $I_2$). Let $d_k = |a_k - b_k|$. Show that this assumption implies that $d_{k+2} \ge d_k(1+d_0)$ for all $k \ge 0$.","First, we show that $d_k$ is non-decreasing. If $a_k, b_k \in I_1$, $d_{k+1} = |(a_k+1/2) - (b_k+1/2)| = d_k$. If $a_k, b_k \in I_2$, $d_{k+1} = |a_k^2 - b_k^2| = d_k(a_k+b_k) \ge d_k(1/2+1/2) = d_k$. So $d_k \ge d_{k-1} \ge \dots \ge d_0$. Now, consider two cases. Case 1: $a_k, b_k \in I_1$. Then $a_{k+1}, b_{k+1} \in [1/2, 1) = I_2$ and $d_{k+1}=d_k$. Then $d_{k+2} = d_{k+1}(a_{k+1}+b_{k+1}) \ge d_{k+1}(1+d_{k+1}) = d_k(1+d_k) \ge d_k(1+d_0)$. Case 2: $a_k, b_k \in I_2$. Then $d_{k+1} \ge d_k(1+d_k) \ge d_k(1+d_0)$. Since $d_{k+2} \ge d_{k+1}$, it follows that $d_{k+2} \ge d_k(1+d_0)$. In both cases, the inequality holds.",Show that there exists a positive integer $n$ such that $(a_n - a_{n-1})(b_n - b_{n-1}) < 0$.,"From Sub-problem 1, we need to show that there exists an $n$ such that $a_{n-1}$ and $b_{n-1}$ lie in different subintervals. Assume the contrary: for all $k \ge 0$, $a_k$ and $b_k$ are in the same subinterval. By Sub-problem 2, this implies $d_{k+2} \ge d_k(1+d_0)$, where $d_k = |a_k-b_k|$. By induction, this leads to $d_{2m} \ge d_0(1+d_0)^m$. Since $d_0 = b-a > 0$, the term $(1+d_0)^m$ grows to infinity as $m \to \infty$. Thus, for a large enough $m$, $d_{2m}$ will be greater than 1. However, $a_{2m}$ and $b_{2m}$ both belong to the interval $(0,1)$, so their distance $d_{2m} = |a_{2m}-b_{2m}|$ must be less than 1. This is a contradiction. Therefore, the assumption must be false, and there exists an $n$ such that $a_{n-1}$ and $b_{n-1}$ are in different subintervals.",,
2014c1,Let $n$ points be given inside a rectangle $R$ such that no two of them lie on a line parallel to one of the sides of $R$. The rectangle $R$ is to be dissected into smaller rectangles with sides parallel to the sides of $R$ in such a way that none of these rectangles contains any of the given points in its interior. Prove that we have to dissect $R$ into at least $n+1$ smaller rectangles.,3,Let a rectangle $R$ be dissected into $k$ smaller rectangles with sides parallel to the sides of $R$. Let $b$ be the number of vertices of the dissection that are corners for exactly two of the smaller rectangles (T-junctions). Prove that $b \le 2k - 2$.,"The total number of corners, counting multiplicity, across all $k$ rectangles is $4k$. The vertices of the dissection are of three types: the 4 corners of $R$ (each a corner for 1 rectangle), $b$ T-junctions (each a corner for 2 rectangles), and $c$ crossings (each a corner for 4 rectangles). Summing the corners based on this classification gives the identity $4k = 4 \\cdot 1 + b \\cdot 2 + c \\cdot 4 = 4 + 2b + 4c$. Since the number of crossings $c$ must be non-negative ($c \\ge 0$), we have the inequality $4k \\ge 4 + 2b$. Rearranging gives $4k - 4 \\ge 2b$, which simplifies to $b \\le 2k - 2$.","In the given dissection, each of the $n$ points lies on a boundary line segment. Given that no two of the $n$ points lie on a line parallel to one of the sides of $R$, prove that the number of T-junctions, $b$, must be at least $2n$.","Each of the $n$ points must lie on a line segment forming part of the dissection, as it cannot be in the interior of a small rectangle. Consider the maximal straight line segment of the dissection containing such a point. This segment must have two endpoints. Each endpoint is either on the boundary of the large rectangle $R$ or is an intersection with a perpendicular segment. In either case, it forms a T-junction. Thus, each of the $n$ points is associated with a segment that has two T-junctions as endpoints. The condition that no two points lie on the same line parallel to the sides of $R$ implies these $n$ segments are all distinct. An endpoint cannot be shared by two such segments, as that would form a crossing, not a T-junction. Therefore, we have identified $2n$ distinct T-junctions, and so $b \\ge 2n$.",Let $n$ points be given inside a rectangle $R$ such that no two of them lie on a line parallel to one of the sides of $R$. The rectangle $R$ is to be dissected into smaller rectangles with sides parallel to the sides of $R$ in such a way that none of these rectangles contains any of the given points in its interior. Prove that we have to dissect $R$ into at least $n+1$ smaller rectangles.,"Let $k$ be the number of smaller rectangles and $b$ be the number of T-junctions. From our first sub-problem, we established the relationship $b \\le 2k - 2$. From our second sub-problem, the conditions on the $n$ points imply $b \\ge 2n$. Combining these two inequalities, we have $2k - 2 \\ge b \\ge 2n$. This gives the inequality $2k - 2 \\ge 2n$, which simplifies to $k - 1 \\ge n$, or $k \\ge n+1$. Thus, the rectangle must be dissected into at least $n+1$ smaller rectangles.",,
2014c2,"We have $2^{m}$ sheets of paper, with the number 1 written on each of them. We perform the following operation. In every step we choose two distinct sheets; if the numbers on the two sheets are $a$ and $b$, then we erase these numbers and write the number $a+b$ on both sheets. Prove that after $m 2^{m-1}$ steps, the sum of the numbers on all the sheets is at least $4^{m}$.",4,"Let $P$ be the product of all numbers on the sheets. If we choose two sheets with numbers $a$ and $b$ and perform the operation, let the new product be $P'$. Show that $P' \ge 4P$.","The operation replaces the numbers $a$ and $b$ with $a+b$ on both sheets. The product of the numbers on these two sheets changes from $ab$ to $(a+b)^2$. All other numbers on the remaining sheets are unchanged. Thus, the new total product is $P' = P \cdot \frac{(a+b)^2}{ab}$. The inequality $P' \ge 4P$ is equivalent to showing $\frac{(a+b)^2}{ab} \ge 4$, which is $(a+b)^2 \ge 4ab$. This simplifies to $a^2 + 2ab + b^2 \ge 4ab$, or $(a-b)^2 \ge 0$, which is always true.","Let $P_k$ be the product of the numbers on the sheets after $k$ steps. Given that initially all $2^m$ numbers are 1, prove that $P_k \ge 4^k$ for all integers $k \ge 0$.","We use induction on $k$. For the base case $k=0$, the product is $P_0 = 1^{2^m} = 1$. The inequality $P_0 \ge 4^0=1$ holds. For the inductive step, assume $P_k \ge 4^k$ for some $k \ge 0$. In step $k+1$, from the previous sub-problem, we know $P_{k+1} \ge 4P_k$. Using the induction hypothesis, we get $P_{k+1} \ge 4 \cdot 4^k = 4^{k+1}$. Therefore, the statement holds for all $k \ge 0$ by induction.",Let $S_k$ be the sum and $P_k$ be the product of the $2^m$ numbers on the sheets after $k$ steps. Establish a lower bound for $S_k$ in terms of $P_k$ and $m$.,"By the Arithmetic Mean-Geometric Mean (AM-GM) inequality on the $N=2^m$ non-negative numbers on the sheets, their arithmetic mean is greater than or equal to their geometric mean: $\frac{S_k}{N} \ge \sqrt[N]{P_k}$. Substituting $N=2^m$, this gives $\frac{S_k}{2^m} \ge \sqrt[2^m]{P_k}$, which implies the lower bound $S_k \ge 2^m \sqrt[2^m]{P_k}$.","Prove that after $m 2^{m-1}$ steps, the sum of the numbers on all the sheets is at least $4^{m}$.","Let $k = m 2^{m-1}$. From the second sub-problem, the product of the numbers is $P_k \ge 4^k = 4^{m 2^{m-1}}$. From the third sub-problem, the sum is $S_k \ge 2^m \sqrt[2^m]{P_k}$. Combining these results, we have $S_k \ge 2^m \sqrt[2^m]{4^{m 2^{m-1}}}$. We simplify the right-hand side: $2^m \cdot (4^{m 2^{m-1}})^{1/2^m} = 2^m \cdot 4^{(m 2^{m-1})/2^m} = 2^m \cdot 4^{m/2} = 2^m \cdot (2^2)^{m/2} = 2^m \cdot 2^m = 4^m$. Thus, the sum is at least $4^m$."
2014c5,"Consider $n \geqslant 3$ lines in the plane such that no two lines are parallel and no three have a common point. These lines divide the plane into polygonal regions; let $\mathcal{F}$ be the set of regions having finite area. Prove that it is possible to colour $\lceil\sqrt{n / 2}\rceil$ of the lines blue in such a way that no region in $\mathcal{F}$ has a completely blue boundary. (For a real number $x,\lceil x\rceil$ denotes the least integer which is not smaller than $x$.)",4,Let $L$ be the set of $n$ lines. Let $B \subseteq L$ be a maximal set of lines that can be colored blue such that no finite region has a completely blue boundary. Let a line $\\ell \\in L \\setminus B$ be colored red. Show that there must exist a finite region whose boundary consists of the red line $\\ell$ and some blue lines from $B$.,"By the maximality of $B$, if we were to color the red line $\\ell$ blue, there would be a finite region $A$ with a completely blue boundary. The boundary of this region $A$ must be formed by $\\ell$ and some lines from the original set $B$. Therefore, before coloring $\\ell$ blue, $A$ is a finite region whose boundary is composed of the red line $\\ell$ and some blue lines from $B$. Thus, such a region exists.","For any red line $\\ell$, show that there is at least one 'blue point' (an intersection of two blue lines) that is a vertex of a finite region $A$ whose only red side lies on $\\ell$.","From the previous sub-problem, for any red line $\\ell$, there exists a finite region $A$ whose only red side lies on $\\ell$. Since $n \\ge 3$, any finite region is a polygon with at least 3 sides. As $A$ has only one red side, it must have at least two blue sides. The vertex where these two blue sides meet is an intersection of two blue lines, which is by definition a blue point. Thus, $A$ has at least one blue point as a vertex.","Show that any given blue point is a vertex of at most four finite regions. Hence, it can be associated with at most four red lines through the association defined in the previous step.","A blue point is the intersection of two blue lines. These two lines divide the plane into four angular sectors. A region having this point as a vertex must lie entirely within one of these sectors. Therefore, a blue point can be a vertex of at most four regions in total. Since the association in the previous step links a red line to a blue point via a specific finite region, a single blue point can be associated with at most four red lines.",Consider $n \\geqslant 3$ lines in the plane such that no two lines are parallel and no three have a common point. These lines divide the plane into polygonal regions; let $\\mathcal{F}$ be the set of regions having finite area. Prove that it is possible to colour $\\lceil\\sqrt{n / 2}\rceil$ of the lines blue in such a way that no region in $\\mathcal{F}$ has a completely blue boundary.,"Let $B$ be a maximal set of blue lines satisfying the condition, with $|B|=k$. The remaining $n-k$ lines are red. For each of the $n-k$ red lines, we can associate at least one blue point (intersection of two blue lines), as shown in sub-problem 2. The total number of blue points is $\binom{k}{2}$. From sub-problem 3, each blue point can be associated with at most four red lines. This implies that the total number of red lines is at most four times the total number of blue points. We get the inequality: $n-k \\leqslant 4\binom{k}{2} = 4\frac{k(k-1)}{2} = 2k(k-1)$. This simplifies to $n \\leqslant 2k^2-2k+k = 2k^2-k$. Since $2k^2-k < 2k^2$, we have $n < 2k^2$, which means $k^2 > n/2$, so $k > \\sqrt{n/2}$. As $k$ must be an integer, $k \\geqslant \\lceil\\sqrt{n/2}\rceil$. The existence of such a maximal set $B$ proves the statement."
2014c7,"Let $M$ be a set of $n \geqslant 4$ points in the plane, no three of which are collinear. Initially these points are connected with $n$ segments so that each point in $M$ is the endpoint of exactly two segments. Then, at each step, one may choose two segments $A B$ and $C D$ sharing a common interior point and replace them by the segments $A C$ and $B D$ if none of them is present at this moment. Prove that it is impossible to perform $n^{3} / 4$ or more such moves.",4,"Define a 'red line' as a line passing through any two points of M. Define the 'value' of a segment as the number of red lines intersecting its interior, and the 'value of a set of segments' as the sum of their individual values. Prove that the value of the initial set of n segments is less than n^3/2.","There are exactly_nC2_ lines passing through pairs of points in M, so the number of red lines is n(n-1)/2 < n^2/2. The value of any single segment is the number of red lines intersecting its interior, which is strictly less than the total number of red lines, so its value is less than n^2/2. The initial set consists of n segments, so their total value is less than n * (n^2/2) = n^3/2.",Consider a move where two intersecting segments AB and CD are replaced by AC and BD. Let X_{PQ} denote the set of red lines intersecting the segment PQ in its interior. Prove the inequality |X_{AC} U X_{BD}| <= |X_{AB} U X_{CD}| - 2.,"Let S be the intersection of AB and CD. Any red line intersecting segment AC in its interior must pass through the interior of triangle ACS. To exit the triangle, it must intersect either segment AS or CS in their interiors, meaning it must belong to X_{AB} or X_{CD}. Thus, X_{AC} is a subset of X_{AB} U X_{CD}. Similarly, X_{BD} is a subset of X_{AB} U X_{CD}. Therefore, X_{AC} U X_{BD} is a subset of X_{AB} U X_{CD}. Furthermore, the red line defined by points C and D intersects segment AB, and the red line defined by A and B intersects segment CD. These two lines are in X_{AB} U X_{CD} but not in X_{AC} U X_{BD} (as they pass through endpoints). This proves the inequality.","With the same setup as the previous sub-problem, prove that the total value of the set of segments decreases by at least 2 with each move. That is, show |X_{AC}| + |X_{BD}| <= |X_{AB}| + |X_{CD}| - 2.","From the previous sub-problem, we have |X_{AC} U X_{BD}| <= |X_{AB} U X_{CD}| - 2. Additionally, any red line that intersects both AC and BD must cross the interior of the quadrilateral ACBD, and therefore must intersect both of the original diagonals AB and CD. This means X_{AC} n X_{BD} is a subset of X_{AB} n X_{CD}, which implies |X_{AC} n X_{BD}| <= |X_{AB} n X_{CD}|. Using the principle of inclusion-exclusion, |U|+|V| = |U U V| + |U n V|, we add the two inequalities to get |X_{AC}| + |X_{BD}| <= |X_{AB}| + |X_{CD}| - 2.","Let M be a set of n >= 4 points in the plane, no three of which are collinear. Initially these points are connected with n segments so that each point in M is the endpoint of exactly two segments. Then, at each step, one may choose two segments AB and CD sharing a common interior point and replace them by the segments AC and BD if none of them is present at this moment. Prove that it is impossible to perform n^3/4 or more such moves.","Let V_k be the total value of the set of segments after k moves. From our first sub-problem, the initial value V_0 is less than n^3/2. From our third sub-problem, each move decreases the value by at least 2, so V_k <= V_0 - 2k. Since the value of a segment is a count, it cannot be negative, so V_k >= 0. Combining these, we have 0 <= V_k <= V_0 - 2k, which implies 2k <= V_0 < n^3/2. Therefore, k < n^3/4, meaning the number of moves must be less than n^3/4."
2014c9,"There are $n$ circles drawn on a piece of paper in such a way that any two circles intersect in two points, and no three circles pass through the same point. Turbo the snail slides along the circles in the following fashion. Initially he moves on one of the circles in clockwise direction. Turbo always keeps sliding along the current circle until he reaches an intersection with another circle. Then he continues his journey on this new circle and also changes the direction of moving, i.e. from clockwise to anticlockwise or vice versa.

Suppose that Turbo's path entirely covers all circles. Prove that $n$ must be odd.",4,Define an operation called 'flipping a cross' and prove that it changes the number of snail orbits by exactly one.,"At an intersection (a 'cross'), the snail's path connects the four incoming circle arcs in pairs. 'Flipping' means changing this pairing. Let the arcs be $a, b$ on the first circle and $c, d$ on the second. The original path might connect $a-c$ and $b-d$. A flip would change this to $a-d$ and $b-c$. Depending on how the arcs are connected by the orbits outside the cross, this operation either merges two separate orbits into one (decreasing the orbit count by 1) or splits a single orbit into two (increasing the orbit count by 1). A case where arcs on the same circle are connected externally is impossible by the Jordan Curve Theorem. Thus, flipping a cross always changes the number of orbits by \pm 1.",Show that the parity of the number of orbits in the original configuration is the same as the parity of the number of orbits in a configuration where every cross has been flipped.,"Any two circles intersect at two points, so for $n$ circles, the total number of crosses is $2 \binom{n}{2} = n(n-1)$, which is always an even number. From the previous sub-problem, each flip changes the parity of the number of orbits. Since we perform an even number of flips to get from the original configuration to the all-flipped configuration, the final parity of the orbit count must be the same as the initial parity.","In the 'all-flipped' configuration, where the direction of movement (e.g., clockwise) is preserved when changing circles, prove that the number of orbits has the same parity as $n$.","Let's compute the total curvature of all orbits in the all-flipped configuration. Each orbit is a simple closed curve, so its curvature is $\pm 2\pi$. If there are $P$ orbits with positive curvature and $N$ with negative, the total curvature is $(P-N)2\pi$. Alternatively, the sum of curvatures along the $n$ circles is $n \cdot 2\pi$, and in this all-flipped state, the turns at intersections cancel out. Equating the two expressions gives $(P-N)2\pi = n \cdot 2\pi$, which implies $P-N=n$. The total number of orbits is $P+N$. Since $(P+N) - (P-N) = 2N$ is even, $P+N$ and $P-N$ have the same parity. Therefore, the number of orbits has the same parity as $n$.","There are $n$ circles drawn on a piece of paper in such a way that any two circles intersect in two points, and no three circles pass through the same point. A snail's path, defined by switching circles and reversing direction at each intersection, entirely covers all circles. Prove that $n$ must be odd.","From Sub-problem 2, the parity of the number of orbits in the original configuration is the same as in the all-flipped configuration. From Sub-problem 3, the number of orbits in the all-flipped configuration has the same parity as $n$. Therefore, the original number of orbits has the same parity as $n$. The condition that the path entirely covers all circles means there is exactly one orbit. Setting the number of orbits to 1, we have $1 \equiv n \pmod{2}$. This implies that $n$ must be odd."
2014g1,"The points $P$ and $Q$ are chosen on the side $B C$ of an acute-angled triangle $A B C$ so that $\angle P A B=\angle A C B$ and $\angle Q A C=\angle C B A$. The points $M$ and $N$ are taken on the rays $A P$ and $A Q$, respectively, so that $A P=P M$ and $A Q=Q N$. Prove that the lines $B M$ and $C N$ intersect on the circumcircle of the triangle $A B C$.",2,Let all points be defined as in the original problem. Prove that triangle $BPM$ is similar to triangle $QNC$.,"Let $\beta = \angle CBA$ and $\gamma = \angle ACB$. The given conditions are $\angle PAB = \gamma$ and $\angle QAC = \beta$. In $\triangle ABP$ and $\triangle CAQ$, we have $\angle ABP = \beta$, $\angle PAB = \gamma$ and $\angle ACQ = \gamma$, $\angle QAC = \beta$. Thus, by AA similarity, $\triangle ABP \sim \triangle CAQ$. This implies the ratio of corresponding sides is equal: $\frac{BP}{AQ} = \frac{AP}{CQ}$. Using the given conditions $AP=PM$ and $AQ=QN$, this becomes $\frac{BP}{QN} = \frac{PM}{CQ}$, which rearranges to $\frac{BP}{PM} = \frac{QN}{CQ}$. In $\triangle ABP$, $\angle APB = 180^\circ - (\beta+\gamma)$, and since M is on the ray AP, $\angle BPM = 180^\circ - \angle APB = \beta+\gamma$. Similarly, $\angle CQN = \beta+\gamma$. With proportional sides and equal included angles ($\angle BPM = \angle CQN$), we have $\triangle BPM \sim \triangle QNC$ by SAS similarity.",Prove that the lines $B M$ and $C N$ intersect on the circumcircle of the triangle $A B C$.,"Let $S$ be the intersection of lines $BM$ and $CN$. From the similarity $\triangle BPM \sim \triangle QNC$ established previously, we have that corresponding angles are equal, so $\angle PMB = \angle QCN$. As $S$ lies on $BM$ and $CN$, this means $\angle SMB = \angle SCB$. Now, consider $\triangle BPM$ and $\triangle BSC$. They share the angle at B, so $\angle PBM = \angle SBC$. Since we also have $\angle PMB = \angle SCB$ (which is $\angle PMB = \angle QCN$), we conclude that $\triangle BPM \sim \triangle BSC$ by AA similarity. Therefore, their third angles must be equal: $\angle BSC = \angle BPM$. We have already shown that $\angle BPM = \angle CBA + \angle ACB = 180^\circ - \angle BAC$. So, $\angle BSC = 180^\circ - \angle BAC$, which implies $\angle BSC + \angle BAC = 180^\circ$. This is the condition for the quadrilateral $ABSC$ to be cyclic, meaning $S$ lies on the circumcircle of $\triangle ABC$.",,,,
2014g2,"Let $A B C$ be a triangle. The points $K, L$, and $M$ lie on the segments $B C, C A$, and $A B$, respectively, such that the lines $A K, B L$, and $C M$ intersect in a common point. Prove that it is possible to choose two of the triangles $A L M, B M K$, and $C K L$ whose inradii sum up to at least the inradius of the triangle $A B C$.",3,"Let $K, L, M$ be points on the sides $BC, CA, AB$ of $\triangle ABC$ respectively, such that $AK, BL, CM$ are concurrent. Show that it is possible to relabel the vertices of $\triangle ABC$ such that the segments satisfy the inequalities $\frac{AM}{MB} \le \frac{LA}{CL}$ and $\frac{MB}{AM} \le \frac{BK}{KC}$.","Define the ratios $a = BK/KC$, $b = CL/LA$, and $c = AM/MB$. By Ceva's Theorem, $abc=1$. This implies that at least one ratio is $\ge 1$ and at least one is $\le 1$. By cyclically relabeling the vertices, we can assume without loss of generality that $a \ge 1$ and $b \le 1$. From $abc=1$, it follows that $bc=1/a \le 1$ and $ca=1/b \ge 1$. The inequality $bc \le 1$ is equivalent to $\frac{CL}{LA}\frac{AM}{MB} \le 1$, which gives $\frac{AM}{MB} \le \frac{LA}{CL}$. The inequality $ca \ge 1$ is equivalent to $\frac{AM}{MB}\frac{BK}{KC} \ge 1$, which gives $\frac{BK}{KC} \ge \frac{MB}{AM}$.","Let $M$ be a point on side $AB$ of $\triangle ABC$, $L$ on $AC$, and $K$ on $BC$, satisfying $\frac{AM}{MB} \le \frac{LA}{CL}$ and $\frac{MB}{AM} \le \frac{BK}{KC}$. Let $r_{ALM}$ and $r_{BMK}$ be the respective inradii. Show that $r_{ALM} + r_{BMK} \ge r_{AMX} + r_{BMY}$, where $X$ is on $AC$ with $MX \parallel BC$, and $Y$ is on $BC$ with $MY \parallel AC$.","By Thales' theorem, the condition $\frac{AM}{MB} \le \frac{LA}{CL}$ implies that $X$, the intersection of the line through $M$ parallel to $BC$ with $AC$, lies on the segment $AL$. This geometric arrangement implies $r_{ALM} \ge r_{AMX}$. Similarly, the condition $\frac{MB}{AM} \le \frac{BK}{KC}$ implies that $Y$, the intersection of the line through $M$ parallel to $AC$ with $BC$, lies on segment $BK$. This implies $r_{BMK} \ge r_{BMY}$. Summing these two inequalities gives the desired result.","Let $A B C$ be a triangle. The points $K, L$, and $M$ lie on the segments $B C, C A$, and $A B$, respectively, such that the lines $A K, B L$, and $C M$ intersect in a common point. Prove that it is possible to choose two of the triangles $A L M, B M K$, and $C K L$ whose inradii sum up to at least the inradius of the triangle $A B C$.","By Part 1, we can select two triangles, WLOG $\triangle ALM$ and $\triangle BMK$, that satisfy the conditions of Part 2. Let $r$ be the inradius of $\triangle ABC$. By Part 2, $r_{ALM} + r_{BMK} \ge r_{AMX} + r_{BMY}$. Since $MX \parallel BC$, $\triangle AMX$ is homothetic to $\triangle ABC$ from center $A$, which implies $\frac{r_{AMX}}{r} = \frac{AM}{AB}$. Similarly, $MY \parallel AC$ implies $\triangle BMY$ is homothetic to $\triangle BAC$ from center $B$, so $\frac{r_{BMY}}{r} = \frac{MB}{AB}$. Adding these gives $r_{AMX} + r_{BMY} = r(\frac{AM}{AB} + \frac{MB}{AB}) = r(\frac{AM+MB}{AB}) = r$. Therefore, $r_{ALM} + r_{BMK} \ge r$.",,
2014g3,"Let $\Omega$ and $O$ be the circumcircle and the circumcentre of an acute-angled triangle $A B C$ with $A B>B C$. The angle bisector of $\angle A B C$ intersects $\Omega$ at $M \neq B$. Let $\Gamma$ be the circle with diameter $B M$. The angle bisectors of $\angle A O B$ and $\angle B O C$ intersect $\Gamma$ at points $P$ and $Q$, respectively. The point $R$ is chosen on the line $P Q$ so that $B R=M R$. Prove that $B R \| A C$. (Here we always assume that an angle bisector is a ray.)",3,"Let $K$ be the midpoint of $BM$ and $N$ be the second intersection of the circle $\Gamma$ (with diameter $BM$) and the line $OM$. Show that the point $R$ is the intersection of lines $PQ$ and $OK$, and that the condition $BR \parallel AC$ is equivalent to the collinearity of points $B, R, N$.","The condition $BR=MR$ implies $R$ lies on the perpendicular bisector of the segment $BM$. As $B$ and $M$ are on the circumcircle $\Omega$ with center $O$, the line through the center $O$ and the midpoint $K$ of the chord $BM$ is its perpendicular bisector. Thus, the line $OK$ is the perpendicular bisector of $BM$. Since $R$ is on $PQ$ by definition, $R$ is the intersection of $PQ$ and $OK$. The line $OM$ is the perpendicular bisector of the chord $AC$ (since $M$ is the midpoint of arc $AC$), so $OM \perp AC$. Since $N$ lies on the circle $\Gamma$ with diameter $BM$, we have $\angle BNM = 90^\circ$, which implies $BN \perp OM$. As both $BN$ and $AC$ are perpendicular to $OM$, they are parallel. Thus, $BR \parallel AC$ if and only if $R$ lies on the line $BN$.","Let $\omega$ be the circle with diameter $BO$ and let $K$ be the midpoint of $BM$. Prove that the points $O, K, P, Q$ are concyclic.","Let $E$ and $D$ be the midpoints of $AB$ and $BC$. Lines $OP$ and $OQ$ are the angle bisectors of $\angle AOB$ and $\angle BOC$, so they pass through $E$ and $D$ respectively. Since $O$ is the circumcenter, $OE \perp AB$ and $OD \perp BC$, thus $E$ and $D$ lie on $\omega$. As shown in the previous part, $OK \perp BM$, so $\angle OKB = 90^\circ$ and $K$ also lies on $\omega$. In circle $\omega$, we have $\angle POK = \angle EOK = \angle EBK$ and $\angle QOK = \angle DOK = \angle DBK$. Since $BM$ bisects $\angle ABC$, $\angle EBK = \angle DBK$, which implies $\angle POK = \angle QOK$. So, $OK$ bisects $\angle POQ$. As $K$ is the center of $\Gamma$ and $P,Q \in \Gamma$, we have $KP=KQ$. A point on the angle bisector of $\angle POQ$ and equidistant from $P$ and $Q$ must lie on the circumcircle of $\triangle POQ$. Therefore, $O, K, P, Q$ are concyclic.","Let $\Omega$ and $O$ be the circumcircle and the circumcentre of an acute-angled triangle $A B C$ with $A B>B C$. The angle bisector of $\angle A B C$ intersects $\Omega$ at $M \neq B$. Let $\Gamma$ be the circle with diameter $B M$. The angle bisectors of $\angle A O B$ and $\angle B O C$ intersect $\Gamma$ at points $P$ and $Q$, respectively. The point $R$ is chosen on the line $P Q$ so that $B R=M R$. Prove that $B R \| A C$.","From sub-problem 1, the goal is to show that $B, R, N$ are collinear, where $R = PQ \cap OK$. We use the Radical Axis Theorem on three circles: $\Gamma$ (diameter $BM$), $\omega$ (diameter $BO$), and $\gamma$ (the circumcircle of $OPQK$, which exists by sub-problem 2). The radical axis of $\Gamma$ and $\gamma$ is their common chord, $PQ$. The radical axis of $\omega$ and $\gamma$ is their common chord, $OK$. For $\Gamma$ and $\omega$: $B$ is on both. From sub-problem 1, $BN \perp OM$, so $\angle BNO = 90^\circ$, which means $N$ lies on $\omega$. Thus, the line $BN$ is the radical axis of $\Gamma$ and $\omega$. By the Radical Axis Theorem, the three axes $PQ$, $OK$, and $BN$ are concurrent. Since $R$ is the intersection of $PQ$ and $OK$, $R$ must also lie on $BN$. The collinearity of $B, R, N$ implies $BR \parallel AC$, as established in sub-problem 1.",,
2014g4,"Consider a fixed circle $\Gamma$ with three fixed points $A, B$, and $C$ on it. Also, let us fix a real number $\lambda \in(0,1)$. For a variable point $P \notin\{A, B, C\}$ on $\Gamma$, let $M$ be the point on the segment $C P$ such that $C M=\lambda \cdot C P$. Let $Q$ be the second point of intersection of the circumcircles of the triangles $A M P$ and $B M C$. Prove that as $P$ varies, the point $Q$ lies on a fixed circle.",3,"Let $\omega_A$ be the circumcircle of $\triangle AMP$ and $\omega_B$ be the circumcircle of $\triangle BMC$. Show that the lines $AP$, $BC$, and $MQ$ are the radical axes of the three circles $\Gamma$, $\omega_A$, and $\omega_B$, taken pairwise, and therefore are either parallel or concurrent.","The line $AP$ is the radical axis of $\Gamma$ and $\omega_A$ as they both pass through $A$ and $P$. The line $BC$ is the radical axis of $\Gamma$ and $\omega_B$ as they both pass through $B$ and $C$. The line $MQ$ is the radical axis of $\omega_A$ and $\omega_B$ as they both pass through $M$ and $Q$. By the Radical Axis Theorem for three circles, these three lines must be either parallel or concurrent.","Define a fixed point $D$ on the segment $AB$ such that $BD = \lambda \cdot BA$. In the case where the radical axes $AP, BC, MQ$ are concurrent at a point $X$, prove that the points $Q, D$, and $Y$ are collinear, where $Y$ is the reflection of $X$ across the perpendicular bisector of $AB$.","The concurrency at $X$ and the cyclic quadrilaterals $AMPQ$ and $BMCQ$ imply that points $A, B, Q, X$ are concyclic. Let $Y$ be the reflection of $X$ across the perpendicular bisector of $AB$; $Y$ lies on the circumcircle of $\triangle ABQ$. The triangles $\triangle XPC$ and $\triangle YAB$ are similar with the same orientation. Since $CM/CP = BD/BA = \lambda$, points $M$ and $D$ are corresponding points in this similarity, which implies the directed angle equality $\Varangle(DY, YA) = \Varangle(MX, XP)$. From the concyclicity of $A, Q, Y, X$ and the collinearity of $M, Q, X$, we have $\Varangle(QY, YA) = \Varangle(QX, XA) = \Varangle(MX, XP)$. Therefore, $\Varangle(QY, YA) = \Varangle(DY, YA)$, which proves that $Y, D, Q$ are collinear.","Prove that as $P$ varies, the point $Q$ lies on a fixed circle.","Let $D$ be the fixed point on segment $AB$ such that $BD = \lambda \cdot BA$. If the radical axes $AP, BC, MQ$ are parallel, a reflection argument shows that $Q=D$, a fixed point. If the axes are concurrent at $X$, we use the collinearity of $Y, D, Q$ from the previous step. An angle chase shows $\Varangle(DQ, QB) = \Varangle(YQ, QB) = \Varangle(YA, AB)$. The reflection property gives $\Varangle(YA, AB) = \Varangle(BA, XB)$. As $X, B, C$ are collinear, this is $\Varangle(BA, BC)$, a constant angle. The condition $\Varangle(DQ, QB) = \text{constant}$ means $Q$ lies on a fixed circle through the fixed points $D$ and $B$. Both cases place $Q$ on this circle.",,
2014g5,"Let $A B C D$ be a convex quadrilateral with $\angle B=\angle D=90^{\circ}$. Point $H$ is the foot of the perpendicular from $A$ to $B D$. The points $S$ and $T$ are chosen on the sides $A B$ and $A D$, respectively, in such a way that $H$ lies inside triangle $S C T$ and

$$
\angle S H C-\angle B S C=90^{\circ}, \quad \angle T H C-\angle D T C=90^{\circ} .
$$

Prove that the circumcircle of triangle $S H T$ is tangent to the line $B D$.",4,"Let $K$ and $L$ be the circumcenters of triangles $S H C$ and $T H C$, respectively. Show that point $K$ lies on the line $A B$ and point $L$ lies on the line $A D$.","Let the line through $C$ perpendicular to $SC$ intersect line $AB$ at $Q$. Then $\angle SCQ = 90^\circ$. In $\triangle BSQ$, $\angle SQC = 90^\circ - \angle BSC$. From the given condition $\angle SHC - \angle BSC = 90^\circ$, we get $\angle BSC = \angle SHC - 90^\circ$. Substituting this, we have $\angle SQC = 90^\circ - (\angle SHC - 90^\circ) = 180^\circ - \angle SHC$. This implies that the points $C, H, S, Q$ are concyclic. Since $\angle SCQ = 90^\circ$, $SQ$ is a diameter of this circle. The circumcenter $K$ of $\triangle SHC$ is the midpoint of $SQ$. As $S$ and $Q$ both lie on line $AB$, $K$ must also lie on $AB$. A symmetric argument shows that the circumcenter $L$ of $\triangle THC$ lies on line $AD$.","With $K$ and $L$ defined as the circumcenters of $\triangle SHC$ and $\triangle THC$, prove the relation $\frac{A K}{K H}=\frac{A L}{L H}$.","Since $K$ is the circumcenter of $\triangle SHC$, $KH = KC$. Similarly, $LH=LC$. Let the lines $KL$ and $HC$ intersect at $M$. The line $KL$ is the perpendicular bisector of the segment $HC$. Let $O$ be the midpoint of $AC$. Since $\angle B = \angle D = 90^\circ$, $O$ is the circumcenter of quadrilateral $ABCD$. In $\triangle AHC$, $OM$ connects the midpoints of $AC$ and $HC$ (by Thales' theorem), so $OM \parallel AH$. Since $AH \perp BD$, we have $OM \perp BD$. As $O$ is the circumcenter of $ABCD$, $OB=OD$, so $OM$ is the perpendicular bisector of $BD$, which implies $BM=DM$. Since $\angle KMC = 90^\circ$ and $\angle KBC=90^\circ$, points $B, C, M, K$ are concyclic. Similarly, $L, C, M, D$ are concyclic. By the Law of Sines in $\triangle AKL$, we have $\frac{AK}{AL} = \frac{\sin\angle ALK}{\sin\angle AKL} = \frac{\sin\angle DCM}{\sin\angle BCM} = \frac{DM/LC}{BM/KC} = \frac{KC}{LC}$. Using $KC=KH$ and $LC=LH$, we get $\frac{AK}{AL} = \frac{KH}{LH}$, which is equivalent to $\frac{AK}{KH} = \frac{AL}{LH}$.",Show that the circumcenter of triangle $SHT$ lies on the line $AH$.,"The circumcenter of $\triangle SHT$ is the intersection of the perpendicular bisectors of its sides, $HS$ and $HT$. From the proof of the first sub-problem, $K$ is the circumcenter of the circle passing through $S, H, C, Q$. Therefore, $KH = KS$. This means $K$ lies on the perpendicular bisector of $HS$. Since $A,S,K$ are collinear on line $AB$, the perpendicular bisector of $HS$ in the isosceles triangle $KHS$ is also the angle bisector of $\angle AKH$. Similarly, the perpendicular bisector of $HT$ is the angle bisector of $\angle ALH$. Let the intersection of these two bisectors be $P$. Let the angle bisector of $\angle AKH$ intersect $AH$ at $P_1$. By the Angle Bisector Theorem in $\triangle AKH$, $\frac{AP_1}{P_1H} = \frac{AK}{KH}$. Similarly, let the angle bisector of $\angle ALH$ intersect $AH$ at $P_2$. In $\triangle ALH$, $\frac{AP_2}{P_2H} = \frac{AL}{LH}$. From the second sub-problem, we know $\frac{AK}{KH}=\frac{AL}{LH}$. Thus, $P_1=P_2$, which means the two angle bisectors intersect on the line $AH$. Therefore, the circumcenter of $\triangle SHT$ lies on $AH$.",Prove that the circumcircle of triangle $S H T$ is tangent to the line $B D$.,"Let $O_{SHT}$ be the circumcenter of $\triangle SHT$. From the third sub-problem, $O_{SHT}$ lies on the line $AH$. The segment $O_{SHT}H$ is a radius of the circumcircle of $\triangle SHT$. By the problem statement, $H$ is the foot of the perpendicular from $A$ to $BD$, which means the line $AH$ is perpendicular to the line $BD$. Since the radius $O_{SHT}H$ lies on the line $AH$, it is perpendicular to the line $BD$ at point $H$. A line that is perpendicular to a radius at its endpoint on the circle is tangent to the circle. Therefore, the line $BD$ is tangent to the circumcircle of $\triangle SHT$ at point $H$."
2014g6,"Let $A B C$ be a fixed acute-angled triangle. Consider some points $E$ and $F$ lying on the sides $A C$ and $A B$, respectively, and let $M$ be the midpoint of $E F$. Let the perpendicular bisector of $E F$ intersect the line $B C$ at $K$, and let the perpendicular bisector of $M K$ intersect the lines $A C$ and $A B$ at $S$ and $T$, respectively. We call the pair $(E, F)$ interesting, if the quadrilateral $K S A T$ is cyclic.

Suppose that the pairs $\left(E_{1}, F_{1}\right)$ and $\left(E_{2}, F_{2}\right)$ are interesting. Prove that

$$
\frac{E_{1} E_{2}}{A B}=\frac{F_{1} F_{2}}{A C} .
$$",4,"Let $(E, F)$ be an interesting pair. Prove that the corresponding triangle $EFK$ satisfies $\angle KEF = \angle KFE = \angle A$.","Let $\omega$ be the circumcircle of the cyclic quadrilateral $KSAT$. The line $ST$ is the perpendicular bisector of $MK$, and the line $KM$ is on the perpendicular bisector of $EF$. This implies $ST \parallel EF$. Using properties of symmetry and the cyclic quadrilateral, it can be shown that points $K, G, E, S$ are concyclic, where $G$ is a specific point on line $EF$. From this cyclic quadrilateral, $\angle KEF = \angle KGS$. Let $N$ be the midpoint of $ST$. Let $G$ be the reflection of $K$ across $N$. Then $KSTG$ is a parallelogram, so $\angle KGS = 180^\circ - \angle SKT = \angle SAT = \angle A$. As $K$ lies on the perpendicular bisector of $EF$, $KE=KF$, making $\triangle KEF$ isosceles. Thus, $\angle KFE = \angle KEF = \angle A$.","For an interesting pair $(E, F)$, prove that $\frac{AE}{AB} + \frac{AF}{AC} = 2 \cos A$.","Let $\omega_1$ be the circumcircle of $\triangle AEF$. The condition $\angle KEF = \angle A$ implies that line $KE$ is tangent to $\omega_1$. Let $Y = BE \cap CF$. By Pascal's theorem on a degenerate hexagon inscribed in $\omega_1$, $Y$ must lie on $\omega_1$. By considering the power of points $B$ and $C$ with respect to $\omega_1$ and other circles derived from Miquel's theorem, one can establish the identity $AB \cdot (AB - AF) + AC \cdot (AC - AE) = BC^2$. Using the Law of Cosines for $\triangle ABC$, which states $BC^2 = AB^2 + AC^2 - 2AB \cdot AC \cos A$, and substituting this into the identity, we simplify it to $AB \cdot AF + AC \cdot AE = 2AB \cdot AC \cos A$. Dividing by $AB \cdot AC$ yields the desired relation.","Let $(E_1, F_1)$ and $(E_2, F_2)$ be two interesting pairs. Show that $\frac{AE_1 - AE_2}{AB} = \frac{AF_2 - AF_1}{AC}$.","From the previous sub-problem, the linear relationship $\frac{AE}{AB} + \frac{AF}{AC} = 2 \cos A$ holds for any interesting pair $(E,F)$. Applying this to $(E_1, F_1)$ gives $\frac{AE_1}{AB} + \frac{AF_1}{AC} = 2 \cos A$. Applying it to $(E_2, F_2)$ gives $\frac{AE_2}{AB} + \frac{AF_2}{AC} = 2 \cos A$. Subtracting the second equation from the first yields $\frac{AE_1 - AE_2}{AB} + \frac{AF_1 - AF_2}{AC} = 0$. Rearranging this equation gives the required result: $\frac{AE_1 - AE_2}{AB} = \frac{AF_2 - AF_1}{AC}$.","Suppose that the pairs $(E_1, F_1)$ and $(E_2, F_2)$ are interesting. Prove that $\frac{E_1 E_2}{AB} = \frac{F_1 F_2}{AC}$.","From the previous sub-problem, we have the equality $\frac{AE_1 - AE_2}{AB} = \frac{AF_2 - AF_1}{AC}$. Since points $E_1, E_2$ lie on the line $AC$, the distance $E_1 E_2$ is equal to $|AE_1 - AE_2|$. Similarly, since $F_1, F_2$ lie on the line $AB$, the distance $F_1 F_2$ is equal to $|AF_1 - AF_2|$. Taking the absolute value of both sides of the derived equality, we get $\frac{|AE_1 - AE_2|}{AB} = \frac{|AF_2 - AF_1|}{AC}$. This is equivalent to $\frac{E_1 E_2}{AB} = \frac{F_1 F_2}{AC}$, which completes the proof."
2014g7,"Let $A B C$ be a triangle with circumcircle $\Omega$ and incentre $I$. Let the line passing through $I$ and perpendicular to $C I$ intersect the segment $B C$ and the arc $B C$ (not containing $A$ ) of $\Omega$ at points $U$ and $V$, respectively. Let the line passing through $U$ and parallel to $A I$ intersect $A V$ at $X$, and let the line passing through $V$ and parallel to $A I$ intersect $A B$ at $Y$. Let $W$ and $Z$ be the midpoints of $A X$ and $B C$, respectively. Prove that if the points $I, X$, and $Y$ are collinear, then the points $I, W$, and $Z$ are also collinear.",1,"Let $A B C$ be a triangle with circumcircle $\Omega$ and incentre $I$. Let the line passing through $I$ and perpendicular to $C I$ intersect the segment $B C$ and the arc $B C$ (not containing $A$ ) of $\Omega$ at points $U$ and $V$, respectively. Let the line passing through $U$ and parallel to $A I$ intersect $A V$ at $X$, and let the line passing through $V$ and parallel to $A I$ intersect $A B$ at $Y$. Let $W$ and $Z$ be the midpoints of $A X$ and $B C$, respectively. Prove that if the points $I, X$, and $Y$ are collinear, then the points $I, W$, and $Z$ are also collinear.","We start with some general observations. Set $\alpha=\angle A / 2, \beta=\angle B / 2, \gamma=\angle C / 2$. Then obviously $\alpha+\beta+\gamma=90^{\circ}$. Since $\angle U I C=90^{\circ}$, we obtain $\angle I U C=\alpha+\beta$. Therefore $\angle B I V=\angle I U C-\angle I B C=\alpha=\angle B A I=\angle B Y V$, which implies that the points $B, Y, I$, and $V$ lie on a common circle (see Figure 1).

Assume now that the points $I, X$ and $Y$ are collinear. We prove that $\angle Y I A=90^{\circ}$.\\
Let the line $X U$ intersect $A B$ at $N$. Since the lines $A I, U X$, and $V Y$ are parallel, we get

$$
\frac{N X}{A I}=\frac{Y N}{Y A}=\frac{V U}{V I}=\frac{X U}{A I},
$$

implying $N X=X U$. Moreover, $\angle B I U=\alpha=\angle B N U$. This implies that the quadrilateral BUIN is cyclic, and since $B I$ is the angle bisector of $\angle U B N$, we infer that $N I=U I$. Thus in the isosceles triangle NIU, the point $X$ is the midpoint of the base $N U$. This gives $\angle I X N=90^{\circ}$, i.e., $\angle Y I A=90^{\circ}$.\\
\includegraphics[max width=\textwidth, center]{2025_04_30_430645cb6b343bf2b1ddg-65}

Figure 1\\
Let $S$ be the midpoint of the segment $V C$. Let moreover $T$ be the intersection point of the lines $A X$ and $S I$, and set $x=\angle B A V=\angle B C V$. Since $\angle C I A=90^{\circ}+\beta$ and $S I=S C$, we obtain

$$
\angle T I A=180^{\circ}-\angle A I S=90^{\circ}-\beta-\angle C I S=90^{\circ}-\beta-\gamma-x=\alpha-x=\angle T A I,
$$

which implies that $T I=T A$. Therefore, since $\angle X I A=90^{\circ}$, the point $T$ is the midpoint of $A X$, i.e., $T=W$.

To complete our solution, it remains to show that the intersection point of the lines $I S$ and $B C$ coincide with the midpoint of the segment $B C$. But since $S$ is the midpoint of the segment $V C$, it suffices to show that the lines $B V$ and $I S$ are parallel.

Since the quadrilateral $B Y I V$ is cyclic, $\angle V B I=\angle V Y I=\angle Y I A=90^{\circ}$. This implies that $B V$ is the external angle bisector of the angle $A B C$, which yields $\angle V A C=\angle V C A$. Therefore $2 \alpha-x=2 \gamma+x$, which gives $\alpha=\gamma+x$. Hence $\angle S C I=\alpha$, so $\angle V S I=2 \alpha$.

On the other hand, $\angle B V C=180^{\circ}-\angle B A C=180^{\circ}-2 \alpha$, which implies that the lines $B V$ and $I S$ are parallel. This completes the solution.",,,,,,
2014n3,"A coin is called a Cape Town coin if its value is $1 / n$ for some positive integer $n$. Given a collection of Cape Town coins of total value at most $99+\frac{1}{2}$, prove that it is possible to split this collection into at most 100 groups each of total value at most 1 .",3,"Let a collection of Cape Town coins be 'irreducible' if no subset of coins can be replaced by a single Cape Town coin of the same total value. For an irreducible collection, establish the maximum number of coins of value $1/k$ for any integer $k > 1$.","For an irreducible collection, there can be at most one coin of value $1/k$ if $k$ is even, because two such coins would merge into a single coin of value $2/k = 1/(k/2)$. There can be at most $k-1$ coins of value $1/k$ if $k$ is odd and greater than 1, because $k$ such coins would merge into a coin of value $k/k = 1$.","Let $N$ be a positive integer. Consider an irreducible collection of Cape Town coins with values $1/m$ for $m \in \\{2, 3, \\dots, 2N\\}$. Show that these coins can be partitioned into $N$ groups, such that the sum of values in each group is less than 1.","For each $k=1, \\dots, N$, form a group $G_k$ consisting of all available coins of values $1/(2k-1)$ and $1/(2k)$. For $k=1$, group $G_1$ contains only coins of value $1/2$. As 2 is even, there is at most one such coin, so the group's value is at most $1/2 < 1$. For $k>1$, since the collection is irreducible, the value of group $G_k$ is at most $(2k-2) \\cdot \frac{1}{2k-1} + 1 \\cdot \frac{1}{2k} = 1 - \frac{1}{2k-1} + \frac{1}{2k} < 1$.","A coin is called a Cape Town coin if its value is $1/n$ for some positive integer $n$. Given a collection of Cape Town coins of total value at most $99+\frac{1}{2}$, prove that it is possible to split this collection into at most 100 groups each of total value at most 1.","Let $N=100$. First, make the collection irreducible by merging coins where possible. Put each coin of value 1 in its own group and reduce $N$ and the total value accordingly. For the remaining coins, partition those with values $1/m$ for $m \\in \\{2, \\dots, 2N\\}$ into $N$ groups as described in Sub-problem 2. The remaining coins have values less than $1/(2N)$. Add them greedily one by one. At each step, since the total value is at most $N-1/2$, there must be a group with total value at most $(N-1/2)/N = 1-1/(2N)$. Any remaining coin can be added to this group without the total value exceeding 1. Repeat until all coins are distributed.",,
2014n4,"Let $n>1$ be a given integer. Prove that infinitely many terms of the sequence $\left(a_{k}\right)_{k \geqslant 1}$, defined by

$$
a_{k}=\left\lfloor\frac{n^{k}}{k}\right\rfloor,
$$

are odd. (For a real number $x,\lfloor x\rfloor$ denotes the largest integer not exceeding $x$.)",2,Let $n > 1$ be an odd integer. Prove that infinitely many terms of the sequence $(a_k)_{k \ge 1}$ defined by $a_k = \lfloor n^k/k \rfloor$ are odd.,"For $m=1, 2, \ldots$, let $k=n^m$. This provides an infinite sequence of distinct integers $k$. For these values, $a_k = \lfloor n^{n^m} / n^m \rfloor = \lfloor n^{n^m-m} \rfloor$. Since $n^m-m$ is an integer for $n,m \ge 1$, this simplifies to $a_k = n^{n^m-m}$. As $n$ is an odd integer, any integer power of $n$ is also odd. Thus, for every $m \ge 1$, $a_{n^m}$ is odd, proving the statement.","Let $n>1$ be a given integer. Prove that infinitely many terms of the sequence $\left(a_{k}\right)_{k \geqslant 1}$, defined by

$$
a_{k}=\left\lfloor\frac{n^{k}}{k}\right\rfloor,
$$

are odd.","The statement holds for odd $n$ from the first part. Now, assume $n$ is even. For any integer $m \ge 2$, the number $n^{2^m}-2^m$ is greater than 1 and must have an odd prime divisor $p$. Let $k=p \cdot 2^m$. By construction, $n^{2^m} \equiv 2^m \pmod p$. Using Fermat's Little Theorem, $n^k = (n^{2^m})^p \equiv (2^m)^p \equiv 2^m \pmod p$. This implies $n^k-2^m$ is a multiple of $p$. Since $k = p \cdot 2^m > 2^m$, we have $0 < \frac{n^k}{k} - \frac{n^k-2^m}{k} < 1$, which gives $\lfloor n^k/k \rfloor = \frac{n^k-2^m}{k}$. We can write $a_k = \frac{1}{p}(\frac{n^k}{2^m}-1)$. Since $n$ is even and $k>m$, $\frac{n^k}{2^m}-1$ is an odd integer. As $p$ is an odd prime divisor of this numerator, the quotient $a_k$ must be an odd integer. Distinct values of $m$ produce distinct values of $k$, yielding infinitely many odd terms.",,,,
2014n6,"Let $a_{1}<a_{2}<\cdots<a_{n}$ be pairwise coprime positive integers with $a_{1}$ being prime and $a_{1} \geqslant n+2$. On the segment $I=\left[0, a_{1} a_{2} \cdots a_{n}\right]$ of the real line, mark all integers that are divisible by at least one of the numbers $a_{1}, \ldots, a_{n}$. These points split $I$ into a number of smaller segments. Prove that the sum of the squares of the lengths of these segments is divisible by $a_{1}$.",4,"Let $\mathcal{S}$ be the set of segments $[x, y]$ where $x$ and $y$ are consecutive marked points. Let $\mathcal{T}$ be the set of segments $[x, y]$ where $x<y$ are integers in $[0, a_1\cdots a_n]$ and no integer in $(x, y)$ is marked. Define a weight function $w(k)=1$ if $k=1$ and $w(k)=2$ if $k \ge 2$. Prove that $\sum_{X \in \mathcal{S}}|X|^{2}=\sum_{Y \in \mathcal{T}} w(|Y|)$.","For any segment $X \in \mathcal{S}$, we sum the weights of its sub-intervals that are in $\mathcal{T}$. For each length $d \in \{1, \dots, |X|\}$, there are $|X|-d+1$ sub-intervals of length $d$ contained in $X$. The sum of weights of these sub-intervals is $\sum_{d=1}^{|X|} (|X|-d+1)w(d) = |X| \cdot 1 + \sum_{d=2}^{|X|} (|X|-d+1) \cdot 2 = |X| + 2 \sum_{k=1}^{|X|-1} k = |X| + |X|(|X|-1) = |X|^2$. Since the segments in $\mathcal{S}$ are disjoint except at endpoints, each interval $Y \in \mathcal{T}$ is a sub-interval of exactly one $X \in \mathcal{S}$. Summing over all $X \in \mathcal{S}$ yields $\sum_{X \in \mathcal{S}}|X|^{2} = \sum_{X \in \mathcal{S}} \sum_{Y \in \mathcal{T}, Y \subseteq X} w(|Y|) = \sum_{Y \in \mathcal{T}} w(|Y|)$.",Let $f(d) = \prod_{i=1}^{n} (a_i - d + 1)$. Show that the number of intervals in $\mathcal{T}$ of length $d$ is $f(d)$ for $d \le a_1$. Use this to prove that $\sum_{X \in \mathcal{S}}|X|^{2} = 2 \sum_{d=1}^{a_{1}} f(d)-f(1)$.,"An interval $[x, x+d]$ is in $\mathcal{T}$ if for each $i$, no multiple of $a_i$ is in $(x, x+d)$. This holds iff $x \pmod{a_i} \in \{0, 1, \dots, a_i-d\}$, which gives $a_i-d+1$ choices for the remainder modulo $a_i$. By the Chinese Remainder Theorem, the number of such integers $x$ in $[0, a_1\cdots a_n-1]$ is $f(d) = \prod_{i=1}^n (a_i-d+1)$. The length of any interval in $\mathcal{T}$ cannot exceed $a_1$. Using Sub-problem 1, $\sum_{X \in \mathcal{S}}|X|^{2} = \sum_{Y \in \mathcal{T}} w(|Y|) = \sum_{d=1}^{a_1} f(d)w(d) = f(1)w(1) + \sum_{d=2}^{a_1} f(d)w(d) = f(1) + 2\sum_{d=2}^{a_1} f(d) = f(1) + 2(\sum_{d=1}^{a_1} f(d) - f(1)) = 2\sum_{d=1}^{a_1} f(d) - f(1)$.",Let $p$ be a prime number and $F(x)$ be a polynomial with integer coefficients of degree $k \le p-2$. Prove that $\sum_{x=1}^{p} F(x)$ is divisible by $p$.,"It suffices to prove this for monomials $F(x) = x^k$ where $0 \le k \le p-2$. We use induction on $k$. For $k=0$, $\sum_{x=1}^p 1 = p \equiv 0 \pmod p$. Assume the statement holds for degrees less than $k$, where $1 \le k \le p-2$. The sum $\sum_{x=1}^p (x^{k+1} - (x-1)^{k+1}) = p^{k+1} \equiv 0 \pmod p$. By binomial expansion, this is $\sum_{x=1}^p ((k+1)x^k + P(x)) \equiv 0 \pmod p$, where $P(x)$ is a polynomial of degree $k-1$. By the induction hypothesis, $\sum_{x=1}^p P(x) \equiv 0 \pmod p$. Thus, $(k+1)\sum_{x=1}^p x^k \equiv 0 \pmod p$. Since $1 \le k+1 \le p-1$, $k+1$ is coprime to $p$, which implies $\sum_{x=1}^p x^k \equiv 0 \pmod p$. The result for a general polynomial follows by linearity.","Let $a_{1}<a_{2}<\cdots<a_{n}$ be pairwise coprime positive integers with $a_{1}$ being prime and $a_{1} \geqslant n+2$. On the segment $I=\left[0, a_{1} a_{2} \cdots a_{n}\right]$ of the real line, mark all integers that are divisible by at least one of the numbers $a_{1}, \ldots, a_{n}$. These points split $I$ into a number of smaller segments. Prove that the sum of the squares of the lengths of these segments is divisible by $a_{1}$.","Let $S$ be the sum of the squares of the lengths. From Sub-problem 2, $S = 2 \sum_{d=1}^{a_{1}} f(d)-f(1)$, where $f(d) = \prod_{i=1}^{n} (a_i - d + 1)$. The function $f(d)$ is a polynomial in $d$ of degree $n$. Given $a_1 \ge n+2$, the degree of $f$ is $n \le a_1-2$. Since $a_1$ is prime, we apply the result from Sub-problem 3 with $p=a_1$ and $F(d)=f(d)$, yielding $\sum_{d=1}^{a_1} f(d) \equiv 0 \pmod{a_1}$. Also, $f(1) = \prod_{i=1}^{n} a_i$, which is divisible by $a_1$. Therefore, $S = 2 \sum_{d=1}^{a_1} f(d) - f(1) \equiv 2 \cdot 0 - 0 \equiv 0 \pmod{a_1}$. This proves the claim."
2014n7,"Let $c \geqslant 1$ be an integer. Define a sequence of positive integers by $a_{1}=c$ and

$$
a_{n+1}=a_{n}^{3}-4 c \cdot a_{n}^{2}+5 c^{2} \cdot a_{n}+c
$$

for all $n \geqslant 1$. Prove that for each integer $n \geqslant 2$ there exists a prime number $p$ dividing $a_{n}$ but none of the numbers $a_{1}, \ldots, a_{n-1}$.",1,"Let $c \geqslant 1$ be an integer. Define a sequence of positive integers by $a_{1}=c$ and

$$
a_{n+1}=a_{n}^{3}-4 c \cdot a_{n}^{2}+5 c^{2} \cdot a_{n}+c
$$

for all $n \geqslant 1$. Prove that for each integer $n \geqslant 2$ there exists a prime number $p$ dividing $a_{n}$ but none of the numbers $a_{1}, \ldots, a_{n-1}$.","Solution. Let us define $x_{0}=0$ and $x_{n}=a_{n} / c$ for all integers $n \geqslant 1$. It is easy to see that the sequence ( $x_{n}$ ) thus obtained obeys the recursive law


\begin{equation*}
x_{n+1}=c^{2}\left(x_{n}^{3}-4 x_{n}^{2}+5 x_{n}\right)+1 \tag{1}
\end{equation*}


for all integers $n \geqslant 0$. In particular, all of its terms are positive integers; notice that $x_{1}=1$ and $x_{2}=2 c^{2}+1$. Since


\begin{equation*}
x_{n+1}=c^{2} x_{n}\left(x_{n}-2\right)^{2}+c^{2} x_{n}+1>x_{n} \tag{2}
\end{equation*}


holds for all integers $n \geqslant 0$, it is also strictly increasing. Since $x_{n+1}$ is by (1) coprime to $c$ for any $n \geqslant 0$, it suffices to prove that for each $n \geqslant 2$ there exists a prime number $p$ dividing $x_{n}$ but none of the numbers $x_{1}, \ldots, x_{n-1}$. Let us begin by establishing three preliminary claims.

Claim 1. If $i \equiv j(\bmod m)$ holds for some integers $i, j \geqslant 0$ and $m \geqslant 1$, then $x_{i} \equiv x_{j}\left(\bmod x_{m}\right)$ holds as well.\\
Proof. Evidently, it suffices to show $x_{i+m} \equiv x_{i}\left(\bmod x_{m}\right)$ for all integers $i \geqslant 0$ and $m \geqslant 1$. For this purpose we may argue for fixed $m$ by induction on $i$ using $x_{0}=0$ in the base case $i=0$. Now, if we have $x_{i+m} \equiv x_{i}\left(\bmod x_{m}\right)$ for some integer $i$, then the recursive equation (1) yields

$$
x_{i+m+1} \equiv c^{2}\left(x_{i+m}^{3}-4 x_{i+m}^{2}+5 x_{i+m}\right)+1 \equiv c^{2}\left(x_{i}^{3}-4 x_{i}^{2}+5 x_{i}\right)+1 \equiv x_{i+1} \quad\left(\bmod x_{m}\right),
$$

which completes the induction.\\
Claim 2. If the integers $i, j \geqslant 2$ and $m \geqslant 1$ satisfy $i \equiv j(\bmod m)$, then $x_{i} \equiv x_{j}\left(\bmod x_{m}^{2}\right)$ holds as well.\\
Proof. Again it suffices to prove $x_{i+m} \equiv x_{i}\left(\bmod x_{m}^{2}\right)$ for all integers $i \geqslant 2$ and $m \geqslant 1$. As above, we proceed for fixed $m$ by induction on $i$. The induction step is again easy using (1), but this time the base case $i=2$ requires some calculation. Set $L=5 c^{2}$. By (1) we have $x_{m+1} \equiv L x_{m}+1\left(\bmod x_{m}^{2}\right)$, and hence

$$
\begin{aligned}
x_{m+1}^{3}-4 x_{m+1}^{2}+5 x_{m+1} & \equiv\left(L x_{m}+1\right)^{3}-4\left(L x_{m}+1\right)^{2}+5\left(L x_{m}+1\right) \\
& \equiv\left(3 L x_{m}+1\right)-4\left(2 L x_{m}+1\right)+5\left(L x_{m}+1\right) \equiv 2 \quad\left(\bmod x_{m}^{2}\right),
\end{aligned}
$$

which in turn gives indeed $x_{m+2} \equiv 2 c^{2}+1 \equiv x_{2}\left(\bmod x_{m}^{2}\right)$.\\
Claim 3. For each integer $n \geqslant 2$, we have $x_{n}>x_{1} \cdot x_{2} \cdots x_{n-2}$.\\
Proof. The cases $n=2$ and $n=3$ are clear. Arguing inductively, we assume now that the claim holds for some $n \geqslant 3$. Recall that $x_{2} \geqslant 3$, so by monotonicity and (2) we get $x_{n} \geqslant x_{3} \geqslant x_{2}\left(x_{2}-2\right)^{2}+x_{2}+1 \geqslant 7$. It follows that

$$
x_{n+1}>x_{n}^{3}-4 x_{n}^{2}+5 x_{n}>7 x_{n}^{2}-4 x_{n}^{2}>x_{n}^{2}>x_{n} x_{n-1},
$$

which by the induction hypothesis yields $x_{n+1}>x_{1} \cdot x_{2} \cdots x_{n-1}$, as desired.

Now we direct our attention to the problem itself: let any integer $n \geqslant 2$ be given. By Claim 3 there exists a prime number $p$ appearing with a higher exponent in the prime factorisation of $x_{n}$ than in the prime factorisation of $x_{1} \cdots x_{n-2}$. In particular, $p \mid x_{n}$, and it suffices to prove that $p$ divides none of $x_{1}, \ldots, x_{n-1}$.

Otherwise let $k \in\{1, \ldots, n-1\}$ be minimal such that $p$ divides $x_{k}$. Since $x_{n-1}$ and $x_{n}$ are coprime by (1) and $x_{1}=1$, we actually have $2 \leqslant k \leqslant n-2$. Write $n=q k+r$ with some integers $q \geqslant 0$ and $0 \leqslant r<k$. By Claim 1 we have $x_{n} \equiv x_{r}\left(\bmod x_{k}\right)$, whence $p \mid x_{r}$. Due to the minimality of $k$ this entails $r=0$, i.e. $k \mid n$.

Thus from Claim 2 we infer

$$
x_{n} \equiv x_{k} \quad\left(\bmod x_{k}^{2}\right)
$$

Now let $\alpha \geqslant 1$ be maximal with the property $p^{\alpha} \mid x_{k}$. Then $x_{k}^{2}$ is divisible by $p^{\alpha+1}$ and by our choice of $p$ so is $x_{n}$. So by the previous congruence $x_{k}$ is a multiple of $p^{\alpha+1}$ as well, contrary to our choice of $\alpha$. This is the final contradiction concluding the solution.",,,,,,
2013a1,"Let $n$ be a positive integer and let $a_{1}, \ldots, a_{n-1}$ be arbitrary real numbers. Define the sequences $u_{0}, \ldots, u_{n}$ and $v_{0}, \ldots, v_{n}$ inductively by $u_{0}=u_{1}=v_{0}=v_{1}=1$, and

$$
u_{k+1}=u_{k}+a_{k} u_{k-1}, \quad v_{k+1}=v_{k}+a_{n-k} v_{k-1} \quad \text { for } k=1, \ldots, n-1 .
$$

Prove that $u_{n}=v_{n}$.",2,"Let the sequence $u_k$ be defined by $u_0=u_1=1$ and $u_{k+1}=u_{k}+a_{k} u_{k-1}$ for $k \\ge 1$. Prove that for $k \\ge 0$, $u_k = \\sum_{\\substack{0<i_{1}<\\ldots<i_{t}<k, \\\\ i_{j+1}-i_{j} \\geqslant 2}} a_{i_{1}} \\ldots a_{i_{t}}$, where the sum is over all sequences of indices satisfying the conditions, and the $t=0$ term (corresponding to the empty sequence of indices) is 1.","We prove the formula by induction on $k$. For $k=0$ and $k=1$, the only valid index sequence is the empty one ($t=0$), so the sum is the empty product, which is 1. This matches $u_0=1$ and $u_1=1$. Assume the formula holds for all integers up to $k$. By the recurrence relation, $u_{k+1}=u_k+a_k u_{k-1}$. Using the inductive hypothesis: \n$u_{k+1} = \\sum_{\\substack{0<i_{1}<\\ldots<i_{t}<k, \\\\ i_{j+1}-i_{j} \\geqslant 2}} a_{i_{1}} \\ldots a_{i_{t}} + a_k \\sum_{\\substack{0<i_{1}<\\ldots<i_{t}<k-1, \\\\ i_{j+1}-i_{j} \\geqslant 2}} a_{i_{1}} \\ldots a_{i_{t}}$.\nThe first sum is over index sets in $\{1, \\ldots, k-1\}$ that don't contain $k$. The second sum, when multiplied by $a_k$, corresponds to index sets that do contain $k$. For any such set $\{i_1, \\ldots, i_t, k\}$, we must have $k-i_t \\ge 2$, which is true since $i_t < k-1$. Combining these two disjoint sets of sums gives all valid index sets for $u_{k+1}$. Thus, the formula holds for $k+1$, completing the induction.","Let $n$ be a positive integer and let $a_{1}, \\ldots, a_{n-1}$ be arbitrary real numbers. Define the sequences $u_{0}, \\ldots, u_{n}$ and $v_{0}, \\ldots, v_{n}$ inductively by $u_{0}=u_{1}=v_{0}=v_{1}=1$, and\n\n$$\nu\nu u_{k+1}=u_{k}+a_{k} u_{k-1}, \\quad v_{k+1}=v_{k}+a_{n-k} v_{k-1} \\quad \text { for } k=1, \\ldots, n-1 .$$\n\nProve that $u_{n}=v_{n}$.","From the first sub-problem, we have the explicit formula $u_{k}=\\sum_{\\substack{0<i_{1}<\\ldots<i_{t}<k, \\\\ i_{j+1}-i_{j} \\geqslant 2}} a_{i_{1}} \\ldots a_{i_{t}}$. For $k=n$, this gives $u_{n}=\\sum_{\\substack{0<i_{1}<\\ldots<i_{t}<n, \\\\ i_{j+1}-i_{j} \\geqslant 2}} a_{i_{1}} \\ldots a_{i_{t}}$.\nFor the sequence $v_k$, let $b_k = a_{n-k}$ for $k=1, \\ldots, n-1$. The recurrence becomes $v_{k+1} = v_k + b_k v_{k-1}$, with $v_0=v_1=1$. This is the same form as the recurrence for $u_k$, so we can apply the same formula with $b_j$'s:\n$v_{k}=\\sum_{\\substack{0<j_{1}<\\ldots<j_{t}<k, \\\\ j_{l+1}-j_{l} \\geqslant 2}} b_{j_{1}} \\ldots b_{j_{t}} = \\sum_{\\substack{0<j_{1}<\\ldots<j_{t}<k, \\\\ j_{l+1}-j_{l} \\geqslant 2}} a_{n-j_{1}} \\ldots a_{n-j_{t}}$.\nFor $k=n$, we have $v_{n}=\\sum_{\\substack{0<j_{1}<\\ldots<j_{t}<n, \\\\ j_{l+1}-j_{l} \\geqslant 2}} a_{n-j_{1}} \\ldots a_{n-j_{t}}$.\nLet's perform a change of variables in the summation for $v_n$. Let the new index set $\{i_1, \\ldots, i_t\}$ be defined by $\{i_1, \\ldots, i_t\} = \{n-j_t, \\ldots, n-j_1\}$. The condition $0 < j_1 < \\dots < j_t < n$ implies $0 < n-j_t < \\dots < n-j_1 < n$, so $0 < i_1 < \\dots < i_t < n$. The condition $j_{l+1} - j_l \\ge 2$ implies $(n-i_{t-l}) - (n-i_{t-(l-1)}) \\ge 2$, which is $i_{t-l+1} - i_{t-l} \\ge 2$. This condition holds for all adjacent indices in the set $\{i_1, \\dots, i_t\}$.\nThe summation for $v_n$ is over the same collection of index sets as the summation for $u_n$, and the products of the $a_i$ are the same. Therefore, $u_n=v_n$.",,,,
2013a2,"Prove that in any set of 2000 distinct real numbers there exist two pairs $a>b$ and $c>d$ with $a \neq c$ or $b \neq d$, such that

$$
\left|\frac{a-b}{c-d}-1\right|<\frac{1}{100000}
$$",3,"Let $S$ be a set of $n=2000$ distinct real numbers. Let $D_1 \u2264 D_2 \u2264 \dots \u2264 D_m$ be the sorted positive differences between pairs of elements in $S$, where $m=n(n-1)/2$. Assuming the smallest difference is $D_1=1$ and that $\frac{D_{i+1}}{D_i} \u2265 1 + 10^{-5}$ for all $i=1, \dots, m-1$, prove that the largest difference $D_m$ is greater than $2 \cdot 10^5$.","Under the given assumptions, the largest difference $D_m$ can be expressed as a product of ratios: $D_m = D_1 \cdot \frac{D_2}{D_1} \cdot \frac{D_3}{D_2} \cdots \frac{D_m}{D_{m-1}}$. Since $D_1=1$ and each ratio is at least $1+10^{-5}$, we have $D_m \u2265 (1+10^{-5})^{m-1}$. For $n=2000$, $m-1 = \frac{2000 \cdot 1999}{2} - 1 = 1998999 > 1.9 \cdot 10^6$. Using the inequality $(1+1/k)^k \u2265 2$, we get $D_m \u2265 (1+10^{-5})^{19 \cdot 10^5} = ((1+10^{-5})^{10^5})^{19} \u2265 2^{19} = 524288 > 2 \cdot 10^5$. Thus, $D_m > 2 \cdot 10^5$.","Let $S$ be a set of distinct real numbers with smallest element $u$ and largest element $v$. Suppose $v-u > 2 \cdot 10^5$ and there exist $x, y \in S$ such that $y-x=1$. Prove there exist two pairs $a>b$ and $c>d$ from $S$ with $a \neq c$ or $b \neq d$, such that $\\left|\frac{a-b}{c-d}-1\right|<10^{-5}$.","Since $v-u > 2 \cdot 10^5$, the distance from $x$ to one of the endpoints, $u$ or $v$, must be greater than $(v-u)/2 > 10^5$. Let $z \in \{u, v\}$ be such that $|x-z| > 10^5$. Since $y-x=1$, we have two ordering possibilities: $z>y>x$ (when $z=v$) or $y>x>z$ (when $z=u$). If $z>y>x$, choose $a=z, b=y, c=z, d=x$. Then $b \neq d$ and $\\left|\frac{z-y}{z-x}-1\right| = \\left|\frac{x-y}{z-x}\right| = \frac{1}{z-x} < 10^{-5}$. If $y>x>z$, choose $a=y, b=z, c=x, d=z$. Then $a \neq c$ and $\\left|\frac{y-z}{x-z}-1\right| = \\left|\frac{y-x}{x-z}\right| = \frac{1}{x-z} < 10^{-5}$. In both cases, the required pairs exist.","Prove that in any set of 2000 distinct real numbers there exist two pairs $a>b$ and $c>d$ with $a \neq c$ or $b \neq d$, such that\n\n$$ \n\\left|\frac{a-b}{c-d}-1\right|<\frac{1}{100000}\n$$","Let $S$ be the set of $n=2000$ numbers. Let $D_1 \u2264 D_2 \u2264 \dots \u2264 D_m$ be the sorted positive differences between pairs of elements in $S$. By scaling the numbers in $S$, we can assume the smallest difference is $D_1=1$. We consider two cases. Case 1: There exists an $i$ such that $D_{i+1}/D_i < 1+10^{-5}$. Let $D_{i+1}=a-b$ and $D_i=c-d$. Since $D_i < D_{i+1}$, the pairs $(a,b)$ and $(c,d)$ are distinct. Then $0 \u2264 \frac{a-b}{c-d} - 1 < 10^{-5}$, which satisfies the inequality. Case 2: For all $i$, $D_{i+1}/D_i \u2265 1+10^{-5}$. From Sub-problem 1, this implies the difference between the largest element $v$ and smallest element $u$ of $S$ is $v-u > 2 \cdot 10^5$. We also have $D_1=y-x=1$ for some $x,y \in S$. By Sub-problem 2, these conditions are sufficient to find the required pairs. Since one of these cases must hold, the proof is complete.",,
2013a3,"Let $\mathbb{Q}_{>0}$ be the set of positive rational numbers. Let $f: \mathbb{Q}_{>0} \rightarrow \mathbb{R}$ be a function satisfying the conditions


\begin{align*}
& f(x) f(y) \geqslant f(x y)  \tag{1}\\
& f(x+y) \geqslant f(x)+f(y) \tag{2}
\end{align*}


for all $x, y \in \mathbb{Q}_{>0}$. Given that $f(a)=a$ for some rational $a>1$, prove that $f(x)=x$ for all $x \in \mathbb{Q}_{>0}$.\\",3,Show that $f(x) \ge x$ for all rational numbers $x > 1$.,"From $f(x+y) \ge f(x)+f(y)$, induction gives $f(nx) \ge n f(x)$ for $n \in \mathbb{Z}_{>0}$. From $f(x)f(y) \ge f(xy)$ and $f(a)=a>1$, we have $f(1)f(a) \ge f(a)$, which implies $f(1) \ge 1$. Thus, for any integer $n \ge 1$, $f(n) \ge n f(1) \ge n$. For any $q=m/n \in \mathbb{Q}_{>0}$, $f(q)f(n) \ge f(m)$, so $f(q) \ge f(m)/f(n) > 0$. Since $f$ is strictly positive, condition (2) implies $f$ is strictly increasing. By induction on (1), $f(x)^n \ge f(x^n)$. For $x>1$, we have $f(x)^n \ge f(x^n) \ge f(\lfloor x^n \rfloor) \ge \lfloor x^n \rfloor > x^n - 1$. This implies $f(x) \ge \sqrt[n]{x^n - 1}$. As $n \to \infty$, the right side approaches $x$, so we conclude $f(x) \ge x$.",Show that $f(x) = x$ for all rational numbers $x > 1$.,"From condition (1), $f(a)^n \ge f(a^n)$. As $f(a)=a$, this is $a^n \ge f(a^n)$. From the previous step, since $a>1 \implies a^n>1$, we have $f(a^n) \ge a^n$. Together, these imply $f(a^n) = a^n$ for all integers $n \ge 1$. For any rational $x>1$, choose an integer $n$ large enough so that $a^n - x > 1$. By condition (2), $f(a^n) = f(x + (a^n-x)) \ge f(x) + f(a^n-x)$. Using the result from the previous sub-problem, we have $f(x) \ge x$ and $f(a^n-x) \ge a^n-x$. Thus, $a^n = f(a^n) \ge f(x) + f(a^n-x) \ge x + (a^n-x) = a^n$. This forces all inequalities to be equalities, which implies $f(x)=x$ for any rational $x>1$.",Prove that $f(x)=x$ for all $x \in \mathbb{Q}_{>0}$.,"From the previous sub-problem, $f(x)=x$ for all rational $x>1$. This implies $f(n)=n$ for all integers $n \ge 2$. From $f(2)=f(1+1) \ge 2f(1)$, we have $2 \ge 2f(1)$, so $f(1) \le 1$. We already showed $f(1) \ge 1$ in the first sub-problem, so $f(1)=1$. Thus $f(n)=n$ for all $n \in \mathbb{Z}_{>0}$. For any $n \in \mathbb{Z}_{>0}$ and $x \in \mathbb{Q}_{>0}$, condition (1) gives $f(nx) \le f(n)f(x) = nf(x)$, and condition (2) gives $f(nx) \ge nf(x)$. Therefore, $f(nx) = nf(x)$. Now, let $x=m/n$ for any $m, n \in \mathbb{Z}_{>0}$. We have $f(m) = f(n \cdot (m/n)) = nf(m/n)$. Since $f(m)=m$, we get $m=nf(m/n)$, which implies $f(m/n)=m/n$. Thus, $f(x)=x$ for all $x \in \mathbb{Q}_{>0}$.",,
2013a4,"Let $n$ be a positive integer, and consider a sequence $a_{1}, a_{2}, \ldots, a_{n}$ of positive integers. Extend it periodically to an infinite sequence $a_{1}, a_{2}, \ldots$ by defining $a_{n+i}=a_{i}$ for all $i \geqslant 1$. If


\begin{equation*}
a_{1} \leqslant a_{2} \leqslant \cdots \leqslant a_{n} \leqslant a_{1}+n \tag{1}
\end{equation*}


and


\begin{equation*}
a_{a_{i}} \leqslant n+i-1 \quad \text { for } i=1,2, \ldots, n \tag{2}
\end{equation*}


prove that


\begin{equation*}
a_{1}+\cdots+a_{n} \leqslant n^{2} . \tag{Germany}
\end{equation*}",3,"Let the sequence $a_i$ be defined as in the problem. Prove that $a_i \leqslant n+i-1$ for all $i=1, 2, \ldots, n$.","Assume for contradiction that there is a counterexample, and let $i$ be the smallest such index, so $a_i \ge n+i$. Let $a_i \equiv k \pmod n$ for $k \in \{1, \ldots, n\}$. By periodicity, $a_{a_i} = a_k$. If $k \ge i$, then since the sequence is non-decreasing, $a_k \ge a_i \ge n+i$. This contradicts the given condition $a_{a_i} \leqslant n+i-1$. Thus, $k$ must be in $\{1, \ldots, i-1\}$. The condition $a_i \ge n+i$ then implies $a_i \ge 2n+1$. From $a_i \le a_n \le a_1+n$, we get $a_1 \ge n+1$. This means $i=1$ is a counterexample, and by minimality, must be the smallest. But for $i=1$, the set $\{1, \ldots, i-1\}$ is empty, so no such $k$ exists. The assumption leads to a contradiction, so $a_i \leqslant n+i-1$ for all $i$.","If $a_n > n$, let $t$ be the largest index such that $a_t \le n$. For $i \in \{1, \ldots, t\}$, let $b_i$ be the number of indices $j \in \{t+1, \ldots, n\}$ with $a_j \ge n+i$. Prove that $a_i + b_i \le n$ for $1 \le i \le t$.","For any $i \in \{1, \ldots, t\}$, we have $a_i \le n$. From condition (2), $a_{a_i} \leqslant n+i-1$. For any index $j$ counted by $b_i$, we have $a_j \ge n+i$. This implies $a_j > a_{a_i}$. Since the sequence is non-decreasing, we must have $j > a_i$. Thus, all $b_i$ such indices $j$ must belong to the set $\{a_i+1, \ldots, n\}$. The size of this set is $n-a_i$. Therefore, $b_i \le n-a_i$, which rearranges to $a_i+b_i \le n$.",Prove that $a_1 + \cdots + a_n \leqslant n^2$.,"From sub-problem 1, we know $a_1 \le n$. If $a_n \le n$, then all $a_i \le n$, and the sum is trivially $\le n^2$. Otherwise, let $t$ be the largest index with $a_t \le n$, and define $b_i$ as in sub-problem 2. The sum is $\sum_{k=1}^n a_k = \sum_{k=1}^t a_k + \sum_{k=t+1}^n a_k$. By rewriting $\sum_{k=t+1}^n(a_k - n)$ by summing over values instead of indices, we find $\sum_{k=t+1}^n(a_k-n) = \sum_{i=1}^t b_i$. Thus, $\sum_{k=t+1}^n a_k = n(n-t) + \sum_{i=1}^t b_i$. The total sum is $\sum_{k=1}^n a_k = \sum_{k=1}^t a_k + n(n-t) + \sum_{i=1}^t b_i = n(n-t) + \sum_{i=1}^t (a_i+b_i)$. Using the result from sub-problem 2, $a_i+b_i \le n$, we get $\sum_{k=1}^n a_k \le n(n-t) + \sum_{i=1}^t n = n(n-t) + nt = n^2$.",,
2013c3,"A crazy physicist discovered a new kind of particle which he called an imon, after some of them mysteriously appeared in his lab. Some pairs of imons in the lab can be entangled, and each imon can participate in many entanglement relations. The physicist has found a way to perform the following two kinds of operations with these particles, one operation at a time.\\
(i) If some imon is entangled with an odd number of other imons in the lab, then the physicist can destroy it.\\
(ii) At any moment, he may double the whole family of imons in his lab by creating a copy $I^{\prime}$ of each imon $I$. During this procedure, the two copies $I^{\prime}$ and $J^{\prime}$ become entangled if and only if the original imons $I$ and $J$ are entangled, and each copy $I^{\prime}$ becomes entangled with its original imon $I$; no other entanglements occur or disappear at this moment.

Prove that the physicist may apply a sequence of such operations resulting in a family of imons, no two of which are entangled.",3,"Let G be a graph where all vertices have even degree, and which admits a proper coloring with n > 1 colors. Show that after applying operation (ii), the resulting graph G' has all vertices of odd degree and is still n-colorable.","Let d_G(v) be the degree of a vertex v in G. In the new graph G', the original vertex v is now connected to its copy v', so its new degree is d_{G'}(v) = d_G(v) + 1. Since d_G(v) is even, d_{G'}(v) is odd. The copy v' is connected to v and to the copies of v's neighbors, so its degree d_{G'}(v') is also d_G(v) + 1, which is odd. Thus, all vertices in G' have odd degree. For coloring, if c(v) is the color of v in an n-coloring of G with colors {1, ..., n}, we can color v with c(v) and v' with (c(v) mod n) + 1. This is a proper n-coloring for G' since n > 1 ensures c(v) and c(v') are different, and any two adjacent original vertices (or copied vertices) will also have different colors.","If a graph G admits a proper coloring in n colors (n>1), prove that a sequence of operations can produce a graph that admits a proper coloring in n-1 colors.","First, apply operation (i) repeatedly to G until a graph G_even with all even degrees is obtained. G_even is still n-colorable. Apply operation (ii) to G_even. By the previous result, the new graph G' has all odd-degree vertices and is n-colorable. Using a fixed n-coloring, we can apply operation (i) to delete all vertices of a specific color, say color n. This is possible because all vertices have odd degree, and no two vertices of color n are connected, so deleting one does not change the degree of another of the same color. The resulting graph is properly colored with the remaining n-1 colors.","Prove that the physicist may apply a sequence of such operations resulting in a family of imons, no two of which are entangled.","Represent the imons and entanglements as a graph G. Any graph with V vertices can be properly colored with V colors. If the graph has edges, its chromatic number n is greater than 1. Using the result from the previous sub-problem, we can apply a sequence of operations to obtain a new graph that requires only n-1 colors. By repeating this process, we can reduce the required number of colors until we obtain a graph that is 1-colorable. A graph that admits a proper coloring in one color is a graph with no edges, which corresponds to a family of imons with no entanglements.",,
2013c4,"Let $n$ be a positive integer, and let $A$ be a subset of $\{1, \ldots, n\}$. An $A$-partition of $n$ into $k$ parts is a representation of $n$ as a sum $n=a_{1}+\cdots+a_{k}$, where the parts $a_{1}, \ldots, a_{k}$ belong to $A$ and are not necessarily distinct. The number of different parts in such a partition is the number of (distinct) elements in the set $\left\{a_{1}, a_{2}, \ldots, a_{k}\right\}$.

We say that an $A$-partition of $n$ into $k$ parts is optimal if there is no $A$-partition of $n$ into $r$ parts with $r<k$. Prove that any optimal $A$-partition of $n$ contains at most $\sqrt[3]{6 n}$ different parts.",3,"For a set of $s$ distinct items, a specific construction generates, for each $k \in \{1, \ldots, s\}$, a collection of $k(s-k)+1$ distinct configurations of size $k$. Show that the total number of configurations generated across all $k$ is $\sum_{k=1}^s (k(s-k)+1) = \frac{s(s^2+5)}{6}$.","The total number of configurations is the sum over $k$ from 1 to $s$ of the number of configurations for each size $k$. We compute this sum: $\sum_{k=1}^{s}(k(s-k)+1) = \sum_{k=1}^{s}(ks - k^2 + 1) = s \sum_{k=1}^{s} k - \sum_{k=1}^{s} k^2 + \sum_{k=1}^{s} 1$. Using the standard formulas for sums of powers, this becomes $s \cdot \frac{s(s+1)}{2} - \frac{s(s+1)(2s+1)}{6} + s$. Algebraic simplification yields $\frac{3s^2(s+1) - s(s+1)(2s+1) + 6s}{6} = \frac{s(s+1)(3s - (2s+1)) + 6s}{6} = \frac{s(s^2-1)+6s}{6} = \frac{s^3+5s}{6}$.","Let $S$ be the set of $s$ distinct parts in an optimal $A$-partition of $n$. Assuming $s > \sqrt[3]{6n}$, prove that there exist two subsets $X, Y \subset S$ such that $\sum_{x \in X} x = \sum_{y \in Y} y$ and $|X| \neq |Y|$.","For the set $S$ of $s$ distinct parts, one can construct families of subsets of varying sizes. As established in sub-problem 1, the total number of subsets in these specific families is $\frac{s(s^2+5)}{6}$. The condition $s > \sqrt[3]{6n}$ implies $s^3 > 6n$, so the number of generated subsets is $\frac{s(s^2+5)}{6} > \frac{s^3}{6} > n$. The sum of elements of any subset of $S$ is an integer at most $\sum_{b \in S} b \le n$. By construction, the sums of subsets of a fixed size are distinct. Since we have more than $n$ sums of subsets, all of which are integers in the range $[1, n]$, the Pigeonhole Principle guarantees that at least two sums must be equal. These two sums must come from subsets of different sizes. Let these subsets be $X$ and $Y$; then $\sum_{x \in X} x = \sum_{y \in Y} y$ and $|X| \neq |Y|$.",Prove that any optimal $A$-partition of $n$ contains at most $\sqrt[3]{6 n}$ different parts.,"Let an optimal $A$-partition of $n$ have $k_{min}$ parts and let $S$ be the set of $s$ distinct parts. Assume for contradiction that $s > \sqrt[3]{6n}$. From sub-problem 2, this implies there exist two subsets $X, Y \subset S$ with $\sum_{x \in X} x = \sum_{y \in Y} y$ and $|X| < |Y|$ (without loss of generality). Since the partition is optimal, every part in $S$ must be used at least once. We can therefore modify the partition by removing one instance of each part in $Y$ and adding one instance of each part in $X$. The total sum remains $n$ because the sum of the elements of $X$ equals the sum of the elements of $Y$. The new number of parts is $k_{min} - |Y| + |X|$, which is less than $k_{min}$. This contradicts the definition of an optimal partition. Therefore, the assumption $s > \sqrt[3]{6n}$ must be false, which means $s \le \sqrt[3]{6n}$.",,
2013c5,"Let $r$ be a positive integer, and let $a_{0}, a_{1}, \ldots$ be an infinite sequence of real numbers. Assume that for all nonnegative integers $m$ and $s$ there exists a positive integer $n \in[m+1, m+r]$ such that

$$
a_{m}+a_{m+1}+\cdots+a_{m+s}=a_{n}+a_{n+1}+\cdots+a_{n+s} .
$$

Prove that the sequence is periodic, i. e. there exists some $p \geqslant 1$ such that $a_{n+p}=a_{n}$ for all $n \geqslant 0$.",4,"Let $b_{0}, b_{1}, \ldots$ be an infinite sequence of real numbers. Assume that for every nonnegative integer $m$, there exists an integer $n \in[m+1, m+r]$ such that $b_{m}=b_{n}$. Prove that the sequence has at most $r$ distinct values.","Assume for contradiction that there exist $r+1$ distinct values $b_{i_{1}}, \ldots, b_{i_{r+1}}$. Let $\ell = \max\{i_{1}, \ldots, i_{r+1}\}$. The given property implies that for any value in the sequence and any starting index, that value must reappear later. Specifically, for each $j \in\{1, \ldots, r+1\}$, there must exist an index $t_{j}$ in the interval $[\ell, \ell+r-1]$ such that $b_{t_{j}}=b_{i_{j}}$. This would mean that the $r$ terms in the segment $\{b_{\ell}, b_{\ell+1}, \ldots, b_{\ell+r-1}\}$ must take on all $r+1$ distinct values, which is a contradiction. Therefore, the sequence can have at most $r$ distinct values.","Let $A_i$ be the $r$-tuple $(a_i, \ldots, a_{i+r-1})$. Using the result from the previous step, show that there exists a positive integer $p \le r^r$ such that the equality $A_d = A_{d+p}$ holds for an infinite number of indices $d$.","Setting $s=0$ in the original problem's condition, we see that for any $m$, there exists $n \in [m+1, m+r]$ such that $a_m = a_n$. By the result of the previous sub-problem, the sequence $(a_i)$ takes on at most $r$ distinct values. Now consider the sequence of $r$-tuples $A_i = (a_i, \ldots, a_{i+r-1})$. Since each component can take at most $r$ values, there are at most $r^r$ distinct possible tuples. By the pigeonhole principle, among the first $r^r+1$ tuples $A_0, \ldots, A_{r^r}$, at least two must be identical. Thus, there exist $i, j$ with $0 \le i < j \le r^r$ such that $A_i=A_j$. Let $p=j-i$. This argument can be repeated for any subsequent block of $r^r+1$ tuples, guaranteeing that for some $p \le r^r$, the equality $A_d=A_{d+p}$ holds for infinitely many indices $d$.","Let $p$ be an integer for which the set $D = \{d \ge 0 \mid A_d = A_{d+p}\}$ is infinite, where $A_d = (a_d, \ldots, a_{d+r-1})$. Prove that if $d+1 \in D$, then $d \in D$.","Assume $d+1 \in D$, which means $A_{d+1} = A_{d+p+1}$. This implies $a_{d+k}=a_{d+p+k}$ for $k=1, \ldots, r-1$. We must show $a_d = a_{d+p}$ to conclude $A_d=A_{d+p}$. Let $S(m,n) = \sum_{i=m}^{n-1} a_i$. The original condition with $s=p-1$ implies that for $m=d$, there exists $t \in [d+1, d+r]$ with $S(d, d+p) = S(t, t+p)$. This equality can be rewritten as $S(d,t) = S(d+p, t+p)$. Expanding this gives $a_d + S(d+1, t) = a_{d+p} + S(d+p+1, t+p)$. Since $t \in [d+1, d+r]$ and we assumed $A_{d+1} = A_{d+p+1}$, every term in the sum $S(d+1, t)$ is equal to its corresponding term in $S(d+p+1, t+p)$, so these two sums are equal. It follows that $a_d=a_{d+p}$, which completes the proof that $A_d=A_{d+p}$ and thus $d \in D$.","Let $r$ be a positive integer, and let $a_{0}, a_{1}, \ldots$ be an infinite sequence of real numbers. Assume that for all nonnegative integers $m$ and $s$ there exists a positive integer $n \in[m+1, m+r]$ such that\n$$\na_{m}+a_{m+1}+\cdots+a_{m+s}=a_{n}+a_{n+1}+\cdots+a_{n+s} .\n$$\nProve that the sequence is periodic, i. e. there exists some $p \geqslant 1$ such that $a_{n+p}=a_{n}$ for all $n \geqslant 0$.","From Sub-problem 1, the sequence $(a_i)$ takes at most $r$ distinct values. From Sub-problem 2, there exists a positive integer $p \le r^r$ such that the set $D = \{d \ge 0 \mid A_d = A_{d+p}\}$ is infinite, where $A_d = (a_d, \ldots, a_{d+r-1})$. From Sub-problem 3, we have the property that if $d+1 \in D$, then $d \in D$. Since $D$ is an infinite set of non-negative integers, it is unbounded. For any integer $k \ge 0$, we can find an element $d' \in D$ such that $d' > k$. By repeatedly applying the result of Sub-problem 3, it follows that $d'-1, d'-2, \ldots, k$ are all in $D$. Since $k$ was arbitrary, $D$ must be the set of all non-negative integers. Therefore, $A_d=A_{d+p}$ for all $d \ge 0$, which implies $a_d=a_{d+p}$ for all $d \ge 0$. The sequence is periodic."
2013c7,"Let $n \geqslant 2$ be an integer. Consider all circular arrangements of the numbers $0,1, \ldots, n$; the $n+1$ rotations of an arrangement are considered to be equal. A circular arrangement is called beautiful if, for any four distinct numbers $0 \leqslant a, b, c, d \leqslant n$ with $a+c=b+d$, the chord joining numbers $a$ and $c$ does not intersect the chord joining numbers $b$ and $d$.

Let $M$ be the number of beautiful arrangements of $0,1, \ldots, n$. Let $N$ be the number of pairs $(x, y)$ of positive integers such that $x+y \leqslant n$ and $\operatorname{gcd}(x, y)=1$. Prove that


\begin{equation*}
M=N+1 \tag{Russia}
\end{equation*}",4,"Define a $k$-chord as a chord whose endpoints sum to $k$. An arrangement is beautiful if for any four distinct numbers $a, b, c, d$ with $a+c=b+d=k$, the $k$-chords $(a,c)$ and $(b,d)$ do not intersect. Prove that in a beautiful arrangement, for any integer $k$, all $k$-chords are aligned (any three are aligned, where three chords are aligned if one separates the other two).","We prove this by induction on $n$. For $n \le 3$, the statement is trivial. Assume it holds for arrangements of size less than $n \ge 4$. Let $S$ be a beautiful arrangement of $\{0, \ldots, n\}$. Suppose for contradiction that three $k$-chords $A, B, C$ are not aligned. If $n$ is not an endpoint of $A, B, C$, then removing $n$ yields a beautiful arrangement of $\{0, \ldots, n-1\}$ where $A, B, C$ are not aligned, a contradiction to the inductive hypothesis. Similarly if 0 is not an endpoint. Thus, both 0 and $n$ must be endpoints of these chords. Since their partners $x, y$ must satisfy $0+x = k = n+y$, we must have $k=n$, and one chord must be $(0, n)$. Let this be $C$. An analysis of chords formed by neighbors of 0 and $n$ leads to a contradiction by applying the induction hypothesis to the arrangement $S \\setminus \\{0, n\\}$. Therefore, all $k$-chords must be aligned.","Let $M_n$ be the number of beautiful arrangements of $\{0, \ldots, n\}$. An arrangement of $\{0, \ldots, n-1\}$ is Type 1 if 0 lies between two $n$-chords (e.g., $(1,n-1)$ and $(2,n-2)$), and Type 2 if 0 is aligned with all $n$-chords. Let $L_{n-1}$ be the number of Type 2 arrangements of $\{0, \ldots, n-1\}$. Show that $M_n = M_{n-1} + L_{n-1}$ for $n \ge 3$.","Any beautiful arrangement of $\{0, \ldots, n-1\}$, let's call it $T$, can be extended to an arrangement of $\{0, \ldots, n\}$ by inserting $n$. For the resulting arrangement to be beautiful, the new $n$-chord $(0,n)$ must be aligned with the existing $n$-chords in $T$ (chords like $(1, n-1), (2, n-2)$, etc.). If $T$ is of Type 1, 0 is between two $n$-chords, so there is only one possible position for $n$ on the circle to maintain alignment. If $T$ is of Type 2, 0 is outside all $n$-chords, so there are two possible positions for $n$ (on either side of 0). It can be verified that these constructions always produce a beautiful arrangement. Thus, each of the $M_{n-1}-L_{n-1}$ Type 1 arrangements gives one beautiful arrangement of size $n$, and each of the $L_{n-1}$ Type 2 arrangements gives two. Therefore, $M_n = (M_{n-1}-L_{n-1}) \cdot 1 + L_{n-1} \cdot 2 = M_{n-1} + L_{n-1}$.","Let $L_{n-1}$ be the number of beautiful arrangements of $\{0, \ldots, n-1\}$ of Type 2, where 0 is aligned with all the $n$-chords. Prove that $L_{n-1} = \varphi(n)$, where $\varphi$ is Euler's totient function.","In a Type 2 arrangement of $\{0, \ldots, n-1\}$, the $n$-chords (connecting pairs summing to $n$) and the $(n-1)$-chords must all be aligned. Since every number is an endpoint of a chord in each set, alignment implies that each set of chords must be parallel. Let $p(k)$ be the position of number $k$ on the circle, with $p(0)=0$. Parallelism requires $p(k)+p(n-k) \equiv C_1 \pmod n$ and $p(k)+p(n-1-k) \equiv C_2 \pmod n$. These conditions force the positions to be an arithmetic progression, $p(k) = d \cdot k \pmod n$ for some constant $d$. For $p$ to be a permutation of the positions, $d$ must be coprime to $n$. Conversely, any such choice of $d$ gives a beautiful arrangement of Type 2. The number of choices for $d$ in $\{1, \ldots, n-1\}$ with $\operatorname{gcd}(d, n)=1$ is $\varphi(n)$. Thus, $L_{n-1} = \varphi(n)$.","Let $M$ be the number of beautiful arrangements of $0,1, \ldots, n$. Let $N$ be the number of pairs $(x, y)$ of positive integers such that $x+y \leqslant n$ and $\operatorname{gcd}(x, y)=1$. Prove that $M=N+1$.","From the previous steps, we have the recurrence $M_n = M_{n-1} + \varphi(n)$ for $n \ge 3$. For the base case $n=2$, the arrangements are $(0,1,2)$ and $(0,2,1)$. Both are vacuously beautiful, so $M_2=2$. Unrolling the recurrence gives $M_n = M_2 + \sum_{k=3}^n \varphi(k) = 2 + \sum_{k=3}^n \varphi(k)$. The number $N$ is the count of coprime pairs $(x,y)$ with sum $k=x+y$ for $k=2, \ldots, n$. The number of such pairs for a fixed sum $k$ is $\varphi(k)$. Therefore, $N = \sum_{k=2}^n \varphi(k)$. This means $N+1 = 1 + \sum_{k=2}^n \varphi(k) = 1 + \varphi(2) + \sum_{k=3}^n \varphi(k)$. Since $\varphi(2)=1$, we have $N+1 = 1 + 1 + \sum_{k=3}^n \varphi(k) = 2 + \sum_{k=3}^n \varphi(k)$. Comparing this with the expression for $M_n$, we conclude that $M_n = N+1$."
2013g1,"Let $A B C$ be an acute-angled triangle with orthocenter $H$, and let $W$ be a point on side $B C$. Denote by $M$ and $N$ the feet of the altitudes from $B$ and $C$, respectively. Denote by $\omega_{1}$ the circumcircle of $B W N$, and let $X$ be the point on $\omega_{1}$ which is diametrically opposite to $W$. Analogously, denote by $\omega_{2}$ the circumcircle of $C W M$, and let $Y$ be the point on $\omega_{2}$ which is diametrically opposite to $W$. Prove that $X, Y$ and $H$ are collinear.",3,"Let $Z$ be the second intersection point of $\omega_1$ (the circumcircle of $B W N$) and $\omega_2$ (the circumcircle of $C W M$), other than $W$. Prove that $A, W, Z$ are collinear.","The points $B, C, N, M$ are concyclic on a circle, let's call it $\omega_3$, since $\angle BNC = \angle BMC = 90^\circ$. The line $WZ$ is the radical axis of $\omega_1$ and $\omega_2$. The radical axis of $\omega_1$ and $\omega_3$ is the line passing through their intersections $B$ and $N$, which is the line $AB$. The radical axis of $\omega_2$ and $\omega_3$ is the line passing through their intersections $C$ and $M$, which is the line $AC$. The three radical axes must be concurrent at the radical center. The intersection of lines $AB$ and $AC$ is point $A$. Therefore, the third radical axis, the line $WZ$, must also pass through $A$. This proves that $A, W, Z$ are collinear.","Let $Z$ be the second intersection point of $\omega_1$ and $\omega_2$. Prove that points $X, Y, Z$ are collinear on a line perpendicular to the line $AZ$.","Since $WX$ is a diameter of $\omega_1$, the angle subtended at any point on the circumference is a right angle. Thus, $\angle WZX = 90^\circ$. This means $XZ$ is perpendicular to the line $WZ$. Similarly, since $WY$ is a diameter of $\omega_2$, $\angle WZY = 90^\circ$, meaning $YZ$ is perpendicular to $WZ$. Since $A, W, Z$ are known to be collinear, both $X$ and $Y$ must lie on the unique line through $Z$ that is perpendicular to line $AZ$. Consequently, $X, Y, Z$ are collinear.","Let $A B C$ be an acute-angled triangle with orthocenter $H$, and let $W$ be a point on side $B C$. Denote by $M$ and $N$ the feet of the altitudes from $B$ and $C$, respectively. Denote by $\omega_{1}$ the circumcircle of $B W N$, and let $X$ be the point on $\omega_{1}$ which is diametrically opposite to $W$. Analogously, denote by $\omega_{2}$ the circumcircle of $C W M$, and let $Y$ be the point on $\omega_{2}$ which is diametrically opposite to $W$. Prove that $X, Y$ and $H$ are collinear.","From the prior sub-problems, $X$ and $Y$ lie on the line through $Z$ (the second intersection of $\omega_1$ and $\omega_2$) that is perpendicular to line $AZ$. To show $H$ is also on this line, we must prove $\angle AZH = 90^\circ$. Let $L$ be the foot of the altitude from $A$ to $BC$. The quadrilateral $BLHN$ is cyclic because $\angle BLH = \angle BNH = 90^\circ$. By the power of point $A$ with respect to the circumcircle of $BLHN$, we have $AL \cdot AH = AN \cdot AB$. Also, by the power of point $A$ with respect to circle $\omega_1$, we have $AW \cdot AZ = AN \cdot AB$. Therefore, $AL \cdot AH = AW \cdot AZ$, which rearranges to $\frac{AZ}{AH} = \frac{AL}{AW}$. Given the common angle $\angle ZAH = \angle LAW$, this implies that $\triangle AZH$ is similar to $\triangle ALW$. This similarity gives $\angle AZH = \angle ALW$. As $AL$ is an altitude, $\angle ALW = 90^\circ$. Thus, $\angle AZH = 90^\circ$, placing $H$ on the same line as $X$ and $Y$. Therefore, $X, Y, H$ are collinear.",,
2013g2,"Let $\omega$ be the circumcircle of a triangle $A B C$. Denote by $M$ and $N$ the midpoints of the sides $A B$ and $A C$, respectively, and denote by $T$ the midpoint of the $\operatorname{arc} B C$ of $\omega$ not containing $A$. The circumcircles of the triangles $A M T$ and $A N T$ intersect the perpendicular bisectors of $A C$ and $A B$ at points $X$ and $Y$, respectively; assume that $X$ and $Y$ lie inside the triangle $A B C$. The lines $M N$ and $X Y$ intersect at $K$. Prove that $K A=K T$.",2,"Let $\ell$ be the perpendicular bisector of the segment $AT$, and let $r$ be the reflection about the line $\ell$. Prove that the reflection of point $M$ is $X$ (i.e., $r(M)=X$) and the reflection of point $N$ is $Y$ (i.e., $r(N)=Y$).","Let $O$ be the circumcenter of $\triangle ABC$. Since $OA=OT$ (radii of $\omega$), $O$ lies on $\ell$, the perpendicular bisector of $AT$. As $AT$ bisects $\angle BAC$, and the lines $OM$ and $ON$ are perpendicular to $AB$ and $AC$ respectively, the line $\ell$ (which is perpendicular to $AT$) acts as the angle bisector of $\angle MON$. Since $O \in \ell$, reflection $r$ about $\ell$ maps line $OM$ to line $ON$. The circumcircle of $\triangle AMT$ is symmetric about $\ell$ because its center lies on $\ell$ (as it's the perpendicular bisector of the chord $AT$). Therefore, $r$ maps point $M$ (on line $OM$ and this circle) to a point on line $ON$ and the same circle. By definition, this point is $X$. A symmetric argument proves $r(N)=Y$.","Let $\omega$ be the circumcircle of a triangle $A B C$. Denote by $M$ and $N$ the midpoints of the sides $A B$ and $A C$, respectively, and denote by $T$ the midpoint of the $\\operatorname{arc} B C$ of $\omega$ not containing $A$. The circumcircles of the triangles $A M T$ and $A N T$ intersect the perpendicular bisectors of $A C$ and $A B$ at points $X$ and $Y$, respectively; assume that $X$ and $Y$ lie inside the triangle $A B C$. The lines $M N$ and $X Y$ intersect at $K$. Prove that $K A=K T$.","Let $r$ be the reflection about the line $\ell$, the perpendicular bisector of segment $AT$. From the first sub-problem, we established that $r(M)=X$ and $r(N)=Y$. Consequently, the reflection of the line $MN$ is the line $XY$, i.e., $r(MN)=XY$. The intersection point $K$ of a line and its reflection must lie on the axis of reflection. Thus, $K$ lies on $\ell$. By the definition of a perpendicular bisector, any point on it is equidistant from the segment's endpoints. Therefore, $KA=KT$.",,,,
2013g3,"In a triangle $A B C$, let $D$ and $E$ be the feet of the angle bisectors of angles $A$ and $B$, respectively. A rhombus is inscribed into the quadrilateral $A E D B$ (all vertices of the rhombus lie on different sides of $A E D B$ ). Let $\varphi$ be the non-obtuse angle of the rhombus. Prove that $\varphi \leqslant \max \{\angle B A C, \angle A B C\}$.",3,"In $\triangle ABC$, let $D$ and $E$ be the feet of the angle bisectors from vertices $A$ and $B$, respectively. For any point $L$ on the line segment $DE$, prove that $d(L, AC) + d(L, BC) = d(L, AB)$, where $d(X, YZ)$ denotes the distance from point $X$ to line $YZ$.","The angle bisector property implies $d(D, AC) = d(D, AB)$ and $d(E, BC) = d(E, AB)$. Since $D$ is on side $BC$ and $E$ is on side $AC$, we have $d(D, BC) = 0$ and $d(E, AC) = 0$. Thus, $d(D, AC) + d(D, BC) = d(D, AB)$ and $d(E, AC) + d(E, BC) = d(E, AB)$. The function $f(X) = d(X, AB) - d(X, AC) - d(X, BC)$ is a linear function of the coordinates of $X$. Since $f(D) = 0$ and $f(E) = 0$, it must be that $f(L) = 0$ for any point $L$ on the segment $DE$. Therefore, $d(L, AC) + d(L, BC) = d(L, AB)$.","A rhombus $KLMN$ is inscribed in the quadrilateral $AEDB$ with vertices $K, L, M, N$ on sides $AE, ED, DB, BA$ respectively. Let $a$ be the side-length of the rhombus. Let $\mu$ be the angle between $LK$ and $AC$, $\nu$ the angle between $LM$ and $BC$, and $\delta, \varepsilon$ other relevant angles of the configuration. Show that these angles satisfy the relation $\sin \mu + \sin \nu = \sin \delta + \sin \varepsilon$.","From the first sub-problem, $d(L, AC) + d(L, BC) = d(L, AB)$. The distances can be expressed using the rhombus side length $a$ and the defined angles. We have $d(L, AC) = a \sin \mu$ and $d(L, BC) = a \sin \nu$. Since vertex $N$ of the parallelogram $KLMN$ lies on side $AB$, the distance $d(L, AB)$ is the sum of the distances from $K$ and $M$ to $AB$. The geometric setup implies $d(L, AB) = d(K,AB)+d(M,AB) = a(\sin \delta + \sin \varepsilon)$. Substituting these expressions into the distance relation from the first sub-problem and dividing by $a$ gives $\sin \mu + \sin \nu = \sin \delta + \sin \varepsilon$.","In a triangle $A B C$, let $D$ and $E$ be the feet of the angle bisectors of angles $A$ and $B$, respectively. A rhombus is inscribed into the quadrilateral $A E D B$. Let $\varphi$ be the non-obtuse angle of the rhombus. Prove that $\varphi \leqslant \max \{\angle B A C, \angle A B C\}$.","Let $\alpha = \angle BAC$, $\beta = \angle ABC$. We can assume $\alpha, \beta < \pi / 2$, otherwise the inequality is trivial. Assume for contradiction that $\varphi > \max\{\alpha, \beta\}$. The angles of the configuration satisfy certain geometric relations, including $\mu+\varphi = \alpha+\delta$. From $\varphi > \alpha$, it follows that $\mu = (\alpha - \varphi) + \delta < \delta$. Similarly, we can show $\nu < \varepsilon$. Since the angles are acute, we have $\sin\mu < \sin\delta$ and $\sin\nu < \sin\varepsilon$. Summing these inequalities yields $\sin\mu + \sin\nu < \sin\delta + \sin\varepsilon$. This contradicts the identity from the second sub-problem. Thus, our initial assumption is false, and we conclude that $\varphi \leqslant \max\{\alpha, \beta\}$.",,
2013g4,Let $A B C$ be a triangle with $\angle B>\angle C$. Let $P$ and $Q$ be two different points on line $A C$ such that $\angle P B A=\angle Q B A=\angle A C B$ and $A$ is located between $P$ and $C$. Suppose that there exists an interior point $D$ of segment $B Q$ for which $P D=P B$. Let the ray $A D$ intersect the circle $A B C$ at $R \neq A$. Prove that $Q B=Q R$.,2,"Let $\gamma = \angle ACB$. Show that the points D, R, C, Q are concyclic and that this implies $\angle ADP = \angle DRQ$.","Let $\gamma = \angle ACB$. Since $\angle P B A=\gamma$, the line $P B$ is tangent to the circumcircle of $\triangle A B C$. By the power of a point theorem, $P B^{2}=P A \cdot P C$. As we are given $P D=P B$, we have $P D^{2}=P A \cdot P C$. This implies $\frac{P A}{P D}=\frac{P D}{P C}$, so triangles $\triangle P A D$ and $\triangle P D C$ are similar. From this similarity, we have $\angle A D P=\angle D C P = \angle DCQ$. Next, since $\angle A B Q=\gamma$, triangles $\triangle A B C$ and $\triangle A Q B$ are similar, which implies $\angle A Q B=\angle A B C$. As $R$ is on the circumcircle of $\triangle ABC$, $\angle A R C=\angle A B C$. Therefore, $\angle A Q B = \angle A R C$, which implies that the points $D, R, C, Q$ are concyclic. From this concyclicity, it follows that $\angle D R Q=\angle D C Q$. Combining our findings, we get $\angle ADP = \angle DRQ$.",Let the ray $A D$ intersect the circle $A B C$ at $R \neq A$. Prove that $Q B=Q R$.,"Let $\gamma = \angle ACB$. Using the result from the previous step, $\angle ADP = \angle DRQ$, we aim to prove that $\triangle QBR$ is isosceles by showing $\angle QBR = \angle QRB$. Since $R$ is on the circumcircle of $\triangle ABC$, $\angle ARB = \angle ACB = \gamma$. As $PD=PB$, $\triangle PDB$ is isosceles, so $\angle PDB = \angle PBD = \angle PBA + \angle ABQ = \gamma + \gamma = 2\gamma$. Using the exterior angle theorem on $\triangle BDR$, $\angle QBR = \angle ADB - \angle ARB = (\angle ADP + \angle PDB) - \angle ARB = \angle ADP + 2\gamma - \gamma = \angle ADP + \gamma$. For the other angle, $\angle QRB = \angle QRD + \angle DRB = \angle DRQ + \angle ARB = \angle DRQ + \gamma$. Since $\angle ADP = \angle DRQ$, it follows that $\angle QBR = \angle QRB$. Thus, triangle $QBR$ is isosceles with $QB=QR$.",,,,
2013g5,"Let $A B C D E F$ be a convex hexagon with $A B=D E, B C=E F, C D=F A$, and $\angle A-\angle D=\angle C-\angle F=\angle E-\angle B$. Prove that the diagonals $A D, B E$, and $C F$ are concurrent.",3,"Let $A B C D E F$ be a convex hexagon with $A B=D E=x, B C=E F=z, C D=F A=y$, and $\angle A-\angle D=\angle C-\angle F=\angle E-\angle B = \theta$. Define points $P, Q, R$ such that $C D E P, E F A Q, A B C R$ are parallelograms. Prove that $\triangle PEQ, \triangle QAR, \triangle RCP$ are isosceles triangles with equal apex angles $\theta/2$. Also, show that if $\theta=0$, the main diagonals are concurrent.","From the parallelogram definitions, we have side lengths $PE=CD=y, QE=FA=y$, so $\triangle PEQ$ is isosceles. Similarly, $QA=EF=z, RA=BC=z$, so $\triangle QAR$ is isosceles, and $RC=AB=x, PC=DE=x$, so $\triangle RCP$ is isosceles. The apex angle of $\triangle PEQ$ is $\angle PEQ = (180^\circ - \angle D) + (180^\circ - \angle F) - \angle E = 360^\circ - \angle D - \angle E - \angle F$. Using the hexagon's angle sum and the given conditions, this simplifies to $\frac{1}{2}(\angle A+\angle B+\angle C-\angle D-\angle E-\angle F) = \frac{1}{2}((\angle A-\angle D) + (\angle C-\angle F) - (\angle E-\angle B)) = \frac{1}{2}(\theta+\theta-\theta)=\theta/2$. By symmetry, $\angle QAR=\angle RCP=\theta/2$. If $\theta=0$, the apex angles are 0, which implies $P=Q=R$. The condition $R=P$ implies $\vec{A}-\vec{B}=\vec{E}-\vec{D}$, so $ABDE$ is a parallelogram. Similarly, $BCEF$ and $CDFA$ are parallelograms. The diagonals of these parallelograms must share a common midpoint, so $AD, BE, CF$ are concurrent.","Assuming $\theta > 0$ and using the setup from the previous sub-problem, prove that the quadrilateral $CRFP$ is a rhombus. As a consequence, show that the diagonal $CF$ is the perpendicular bisector of the segment $PR$.","From sub-problem 1, $\triangle PEQ, \triangle QAR, \triangle RCP$ are similar isosceles triangles. This implies their bases $PQ, QR, RP$ are in the same ratio as the equal sides, so $\triangle PQR$ is similar to a triangle with side lengths $y, z, x$. We can show that $\triangle RQP \sim \triangle RAF$ by checking the ratio of corresponding sides and the included angle. Since $\triangle RAF$ has sides $FA=y$ and $AR=z$, its third side $FR$ must be $x$ for the similarity to hold. By a similar argument, one can show $FP=x$. From the parallelogram constructions, we know $CR=AB=x$ and $PC=DE=x$. Since all four sides of quadrilateral $CRFP$ are equal to $x$, it is a rhombus. The diagonals of a rhombus are perpendicular bisectors of each other, so $CF$ is the perpendicular bisector of $PR$.","Let $A B C D E F$ be a convex hexagon with $A B=D E, B C=E F, C D=F A$, and $\angle A-\angle D=\angle C-\angle F=\angle E-\angle B$. Prove that the diagonals $A D, B E$, and $C F$ are concurrent.","The case where the angle difference $\theta=0$ is handled in the first sub-problem. If $\theta > 0$, we use the auxiliary points $P, Q, R$. From the previous sub-problem, we proved that the diagonal $CF$ is the perpendicular bisector of the side $PR$ of $\triangle PQR$. By the cyclic symmetry of the problem's conditions (advancing the letters by two, e.g., $A\to C$, $B\to D$, etc.), the same logic shows that diagonal $BE$ is the perpendicular bisector of side $PQ$, and diagonal $AD$ is the perpendicular bisector of side $QR$. The three perpendicular bisectors of the sides of $\triangle PQR$ are concurrent at its circumcenter. Therefore, the diagonals $AD, BE,$ and $CF$ are concurrent.",,
2013n2,"Prove that for any pair of positive integers $k$ and $n$ there exist $k$ positive integers $m_{1}, m_{2}, \ldots, m_{k}$ such that

$$
1+\frac{2^{k}-1}{n}=\left(1+\frac{1}{m_{1}}\right)\left(1+\frac{1}{m_{2}}\right) \cdots\left(1+\frac{1}{m_{k}}\right) .
$$",2,"Prove that for any integers $k \ge 2$ and $n \ge 1$, there exist positive integers $m$ and $t$ such that $1+\frac{2^k-1}{n} = \left(1+\frac{1}{m}\right)\left(1+\frac{2^{k-1}-1}{t}\right)$.","We consider two cases based on the parity of $n$. 
Case 1 ($n$ is odd): Let $n=2t-1$ for some integer $t \ge 1$. Then $1+\frac{2^k-1}{2t-1} = \frac{2t-1+2^k-1}{2t-1} = \frac{2(t+2^{k-1}-1)}{2t-1} = \frac{t+2^{k-1}-1}{t} \cdot \frac{2t}{2t-1} = \left(1+\frac{2^{k-1}-1}{t}\right)\left(1+\frac{1}{2t-1}\right)$. We choose $m=2t-1=n$. 
Case 2 ($n$ is even): Let $n=2t$ for some integer $t \ge 1$. Then $1+\frac{2^k-1}{2t} = \frac{2t+2^k-1}{2t} = \frac{2t+2^k-1}{2t+2^k-2} \cdot \frac{2t+2^k-2}{2t} = \left(1+\frac{1}{2t+2^k-2}\right)\left(1+\frac{2^{k-1}-1}{t}\right)$. We choose $m=2t+2^k-2$. 
In both cases, since $n, k$ are positive integers ($k \ge 2$), $m$ and $t$ are positive integers.","Prove that for any pair of positive integers $k$ and $n$ there exist $k$ positive integers $m_{1}, m_{2}, \ldots, m_{k}$ such that

$$
1+\frac{2^{k}-1}{n}=\left(1+\frac{1}{m_{1}}\right)\left(1+\frac{1}{m_{2}}\right) \cdots\left(1+\frac{1}{m_{k}}\right) .
$$","We proceed by induction on $k$. 
Base Case ($k=1$): The equation is $1+\frac{1}{n} = 1+\frac{1}{m_1}$. We can choose $m_1=n$, which is a positive integer. 
Inductive Step: Assume the statement holds for $k-1$ for some $k \ge 2$. We need to prove it for $k$. From the previous sub-problem, we know there exist positive integers $m_k$ and $t$ such that $1+\frac{2^k-1}{n} = \left(1+\frac{1}{m_k}\right)\left(1+\frac{2^{k-1}-1}{t}\right)$. By the induction hypothesis, there exist $k-1$ positive integers $m_1, \ldots, m_{k-1}$ such that $1+\frac{2^{k-1}-1}{t} = \left(1+\frac{1}{m_1}\right) \cdots \left(1+\frac{1}{m_{k-1}}\right)$. Combining these two equations gives the desired result for $k$. By the principle of induction, the statement is true for all $k, n \ge 1$.",,,,
2013n3,Prove that there exist infinitely many positive integers $n$ such that the largest prime divisor of $n^{4}+n^{2}+1$ is equal to the largest prime divisor of $(n+1)^{4}+(n+1)^{2}+1$.,3,"Let $p_n$ be the largest prime divisor of $n^4+n^2+1$ and $q_n$ be the largest prime divisor of $n^2+n+1$. Prove that for $n \\ge 2$, $p_n = \\max\\{q_{n-1}, q_n\\}$.","We factor the polynomial $n^4+n^2+1 = (n^2+1)^2 - n^2 = (n^2-n+1)(n^2+n+1)$. The second factor, $n^2+n+1$, has $q_n$ as its largest prime divisor by definition. The first factor, $n^2-n+1$, can be rewritten as $(n-1)^2+(n-1)+1$, so its largest prime divisor is $q_{n-1}$. The set of prime divisors of $n^4+n^2+1$ is the union of the sets of prime divisors of its two factors. We note that $\\gcd(n^2+n+1, n^2-n+1) = \\gcd(2n, n^2-n+1) = 1$. Therefore, the largest prime divisor of $n^4+n^2+1$, which is $p_n$, must be the maximum of the largest prime divisors of the two factors. Thus, $p_n = \\max\\{q_{n-1}, q_n\\}$.","Let $p_n$ and $q_n$ be defined as in the first sub-problem. Show that if the set $S = \\{n \\in \\mathbb{Z}_{\\ge 2} \\mid q_n > q_{n-1} \text{ and } q_n > q_{n+1}\\}$ is infinite, then there are infinitely many $n$ for which the largest prime divisor of $n^4+n^2+1$ equals that of $(n+1)^4+(n+1)^2+1$.","The condition that the largest prime divisor of $n^4+n^2+1$ equals that of $(n+1)^4+(n+1)^2+1$ is $p_n = p_{n+1}$. Using the result from the first sub-problem, this is equivalent to $\\max\\{q_{n-1}, q_n\\} = \\max\\{q_n, q_{n+1}\\}$. For any integer $n \\in S$, the conditions $q_n > q_{n-1}$ and $q_n > q_{n+1}$ hold by definition. This implies that $\\max\\{q_{n-1}, q_n\\} = q_n$ and $\\max\\{q_n, q_{n+1}\\} = q_n$. Therefore, for any $n \\in S$, we have $p_n = q_n = p_{n+1}$. If the set $S$ is infinite, it follows directly that there are infinitely many integers $n$ satisfying the desired condition.",Prove that there exist infinitely many positive integers $n$ such that the largest prime divisor of $n^{4}+n^{2}+1$ is equal to the largest prime divisor of $(n+1)^{4}+(n+1)^{2}+1$.,"From the previous sub-problems, it suffices to prove that the set $S = \\{n \\in \\mathbb{Z}_{\\ge 2} \\mid q_n > q_{n-1} \text{ and } q_n > q_{n+1}\\}$ is infinite. Assume for contradiction that $S$ is finite. Since $S$ is non-empty (e.g., $3 \\in S$ because $q_2=7 < q_3=13 > q_4=7$), it has a largest element $m$. For any $n>m$, the sequence $(q_k)_{k>m}$ can have no local maxima. As $(q_n)$ is a sequence of positive integers and $q_n \neq q_{n-1}$, it cannot be eventually decreasing. Thus, there exists some $k \\ge m$ such that $q_k < q_{k+1}$, which implies the sequence must be strictly increasing for all $n>k$, i.e., $q_k < q_{k+1} < q_{k+2} < \\dots$. Now, observe that $p_n$, the largest prime divisor of $n^4+n^2+1 = (n^2)^2+n^2+1$, is equal to $q_{n^2}$. For $n=k+1$, we have $p_{k+1}=\\max\\{q_k,q_{k+1}\}=q_{k+1}$. Therefore, we must have $q_{(k+1)^2} = q_{k+1}$. But since the sequence is strictly increasing for indices greater than $k$, and $(k+1)^2 > k+1$ for $k \\ge 1$, we must have $q_{(k+1)^2}>q_{k+1}$. This is a contradiction. Thus, the assumption that $S$ is finite is false, and $S$ must be infinite.",,
2013n5,"Fix an integer $k \geqslant 2$. Two players, called Ana and Banana, play the following game of numbers: Initially, some integer $n \geqslant k$ gets written on the blackboard. Then they take moves in turn, with Ana beginning. A player making a move erases the number $m$ just written on the blackboard and replaces it by some number $m^{\prime}$ with $k \leqslant m^{\prime}<m$ that is coprime to $m$. The first player who cannot move anymore loses.

An integer $n \geqslant k$ is called good if Banana has a winning strategy when the initial number is $n$, and bad otherwise.

Consider two integers $n, n^{\prime} \geqslant k$ with the property that each prime number $p \leqslant k$ divides $n$ if and only if it divides $n^{\prime}$. Prove that either both $n$ and $n^{\prime}$ are good or both are bad.",4,"Let a number n >= k be 'good' if the second player has a winning strategy, and 'bad' otherwise. Prove that if n is good and n' is a multiple of n, then n' is also good.","A key property is that any two good numbers must have a common divisor greater than 1. Assume for contradiction that n' is bad. By definition, there is a move from n' to a good number x, meaning k <= x < n' and gcd(x, n')=1. Since n is a divisor of n', we also have gcd(x, n)=1. This implies that n and x are two coprime good numbers, a contradiction. Therefore, n' must be good.","Let 'good' and 'bad' numbers be defined as in the problem. Prove that if r and s are positive integers for which rs >= k is bad, then r^2s is also bad.","Since rs is bad, there exists a move rs -> x for some good number x. This means k <= x < rs and gcd(rs, x)=1. As gcd(rs, x)=1, it follows that gcd(r^2s, x)=1. Since r >= 1, we have x < rs <= r^2s. Thus, r^2s -> x is a valid move from r^2s to a good number x. By definition, this makes r^2s a bad number.","Let 'good' and 'bad' numbers be defined as in the problem. Prove that if p > k is a prime number and n >= k is a bad number, then np is also bad.","Assume not, and let n be the smallest bad integer for which np is good for some prime p>k. As n is bad, there is a move n -> x where x is good. Since np is good, we must have gcd(np, x) != 1. As gcd(n,x)=1, it must be that p divides x. Let x=p^a * y where p does not divide y. Since x is good, y>1. Let y^b >= k be the smallest power of y. y^b must be bad as it is coprime to the good number np. Note y^b < ky <= x < n. Since y^b < n is bad, by minimality of n, y^b * p^j is bad for all j >= 1. So y^b * p^a is bad. But x=p^a * y is a good number that divides y^b * p^a. From Sub-problem 1, any multiple of a good number is good, so y^b * p^a must be good. This is a contradiction.","Consider two integers n, n' >= k with the property that each prime number p <= k divides n if and only if it divides n'. Prove that either both n and n' are good or both are bad.","Call such numbers similar. It suffices to show that if c >= k is similar to its multiple d, they have the same status. Assume a counterexample (c, d) exists with d minimal. By Sub-problem 1, c must be bad and d good. Let p be a prime factor of d/c. Case 1: p <= k. By similarity, p also divides c, so p^2 divides d. By the contrapositive of Sub-problem 2, since d is good, d/p is good. Case 2: p > k. By the contrapositive of Sub-problem 3, since d is good, d/p is good. In both cases, (c, d/p) is a counterexample with a smaller multiple, contradicting the minimality of d. Hence, no counterexample exists."
2013n7,"Let $\nu$ be an irrational positive number, and let $m$ be a positive integer. A pair $(a, b)$ of positive integers is called good if


\begin{equation*}
a\lceil b \nu\rceil-b\lfloor a \nu\rfloor=m . \tag{*}
\end{equation*}


A good pair $(a, b)$ is called excellent if neither of the pairs $(a-b, b)$ and $(a, b-a)$ is good. (As usual, by $\lfloor x\rfloor$ and $\lceil x\rceil$ we denote the integer numbers such that $x-1<\lfloor x\rfloor \leqslant x$ and $x \leqslant\lceil x\rceil<x+1$.)

Prove that the number of excellent pairs is equal to the sum of the positive divisors of $m$.",4,"Let $f(a, b)=a\\lceil b \nu\rceil-b\\lfloor a \nu\rfloor$. Analyze the relationship between $f(a, b)$, $f(a+b, b)$, and $f(a, b+a)$ for positive integers $a, b$.","We analyze two cases based on the sum of fractional parts $\{a \nu\\} + \{b \nu\}$.\nCase 1: If $\{a \nu\\} + \{b \nu\\} < 1$, then $\\lfloor(a+b) \nu\rfloor = \\lfloor a \nu\rfloor + \\lfloor b \nu\rfloor$. This leads to $f(a+b, b) = f(a, b) + b$ and $f(a, b+a) = f(a, b)$.\nCase 2: If $\{a \nu\\} + \{b \nu\\} \\ge 1$, then $\\lfloor(a+b) \nu\rfloor = \\lfloor a \nu\rfloor + \\lfloor b \nu\rfloor + 1$. This leads to $f(a+b, b) = f(a, b)$ and $f(a, b+a) = f(a, b) + a$.\nIn both cases, exactly one of the 'children' pairs $(a+b, b)$ or $(a, b+a)$ has its $f$-value increase, while the other's remains the same. This implies any pair $(c,d)$ with $c \neq d$ has a unique 'parent' pair, which can be traced back to a unique 'ancestor' pair of the form $(x, x)$.","For a pair $(a, b)$ with $f(a, b) < m$, prove that the number of its $m$-excellent descendants is equal to the number of ways to represent $m - f(a, b)$ as $ka + lb$ for non-negative integers $k$ and $l$.","Let $g(a, b)$ be the number of $m$-excellent descendants and $h(a, b)$ be the number of ways to write $m-f(a,b)=ka+lb$. We prove $g(a,b)=h(a,b)$ by induction. For the inductive step, assume $f(a+b, b)=f(a, b)+b$ and $f(a, b+a)=f(a, b)$. An $m$-excellent descendant of $(a,b)$ is either an $m$-excellent descendant of $(a+b,b)$ or $(a,b+a)$, unless one of them is itself $m$-excellent. This structure gives $g(a,b)=g(a+b,b)+g(a,b+a)$. A representation $m-f(a,b)=ka+lb$ can be uniquely mapped to a representation for either $m-f(a+b,b)$ or $m-f(a,b+a)$, showing that $h(a,b)=h(a+b,b)+h(a,b+a)$. The base cases and the situation where a child is excellent are handled similarly, completing the induction.","For any positive integer $x$, calculate the number of $m$-excellent descendants of the 'ancestor' pair $(x, x)$.","First, we compute $f(x, x) = x\\lceil x \nu\rceil - x\\lfloor x \nu\rfloor$. Since $\nu$ is irrational, $x\nu$ is not an integer, so $\\lceil x \nu\rceil = \\lfloor x \nu\rfloor + 1$. Thus, $f(x, x) = x$. Using the result from the previous sub-problem, the number of $m$-excellent descendants of $(x, x)$ is the number of ways to represent $m - f(x, x) = m - x$ as $kx + lx = (k+l)x$ for non-negative integers $k, l$. Such representations exist only if $x$ divides $m-x$, which is equivalent to $x$ dividing $m$. If $x|m$, we need to find the number of non-negative integer solutions to $k+l = (m-x)/x = m/x - 1$. The number of solutions is $(m/x - 1) + 1 = m/x$. If $x$ does not divide $m$, the number is 0.",Prove that the number of excellent pairs is equal to the sum of the positive divisors of $m$.,"An excellent pair $(a,a)$ must satisfy $f(a,a) = a = m$, so $(m,m)$ is the unique excellent pair of this form. Any other excellent pair $(a,b)$ with $a \neq b$ has a unique ancestor of the form $(x,x)$ for some $x<m$. The total number of excellent pairs is 1 (for the pair $(m,m)$) plus the sum of the number of excellent descendants for all possible ancestors $(x,x)$ where $x<m$. Using the result from the previous sub-problem, this sum is $1 + \\sum_{x|m, x<m} \frac{m}{x}$. By letting the index of summation be $d = m/x$, as $x$ ranges over the divisors of $m$ less than $m$, $d$ ranges over the divisors of $m$ greater than 1. The total count is $1 + \\sum_{d|m, d>1} d$, which equals $\\sum_{d|m} d$, the sum of all positive divisors of $m$."
2012a3,"Let $a_{2}, \ldots, a_{n}$ be $n-1$ positive real numbers, where $n \geq 3$, such that $a_{2} a_{3} \cdots a_{n}=1$. Prove that

$$
\left(1+a_{2}\right)^{2}\left(1+a_{3}\right)^{3} \cdots\left(1+a_{n}\right)^{n}>n^{n}
$$",2,"For any integer $k \ge 2$ and a positive real number $a_k$, prove that $\left(1+a_{k}\right)^{k} \geq \frac{k^{k}}{(k-1)^{k-1}} a_{k}$, and establish the condition for equality.","By the AM-GM inequality on the $k$ numbers consisting of $k-1$ copies of $\frac{1}{k-1}$ and one copy of $a_k$, we have $\frac{(k-1)\frac{1}{k-1} + a_k}{k} \ge \sqrt[k]{(\frac{1}{k-1})^{k-1}a_k}$. This simplifies to $\frac{1+a_k}{k} \ge \sqrt[k]{\frac{a_k}{(k-1)^{k-1}}}$. Raising both sides to the power of $k$ yields $(1+a_k)^k \ge \frac{k^k}{(k-1)^{k-1}}a_k$. Equality holds if and only if all the numbers are equal, which means $a_k = \frac{1}{k-1}$.","Let $a_{2}, \ldots, a_{n}$ be $n-1$ positive real numbers, where $n \geq 3$, such that $a_{2} a_{3} \cdots a_{n}=1$. Prove that $\left(1+a_{2}\right)^{2}\left(1+a_{3}\right)^{3} \cdots\left(1+a_{n}\right)^{n}>n^{n}$.","Applying the inequality from the first sub-problem for each $k \in \{2, 3, \ldots, n\}$, we get $\left(1+a_{k}\right)^{k} \geq \frac{k^{k}}{(k-1)^{k-1}} a_{k}$. Multiplying these $n-1$ inequalities gives $\prod_{k=2}^{n} (1+a_k)^k \ge \prod_{k=2}^{n} \frac{k^k}{(k-1)^{k-1}} a_k$. The right side simplifies to $(\prod_{k=2}^{n} \frac{k^k}{(k-1)^{k-1}}) (\prod_{k=2}^{n} a_k) = (\frac{2^2}{1^1} \frac{3^3}{2^2} \cdots \frac{n^n}{(n-1)^{n-1}}) (a_2 \cdots a_n) = n^n \cdot 1 = n^n$. Thus, the inequality holds with $\ge$. For equality to hold, we need $a_k = \frac{1}{k-1}$ for all $k=2, \ldots, n$. This would imply $a_2 a_3 \cdots a_n = \frac{1}{1} \frac{1}{2} \cdots \frac{1}{n-1} = \frac{1}{(n-1)!}$. Since $n \ge 3$, $(n-1)! \ne 1$, which contradicts the condition $a_2 \cdots a_n = 1$. Thus, equality cannot hold and the inequality is strict.",,,,
2012a4,Let $f$ and $g$ be two nonzero polynomials with integer coefficients and $\operatorname{deg} f>\operatorname{deg} g$. Suppose that for infinitely many primes $p$ the polynomial $p f+g$ has a rational root. Prove that $f$ has a rational root.,3,"Show that for any two nonzero polynomials $f, g$ with integer coefficients and $\operatorname{deg} f > \operatorname{deg} g$, there exists a real number $R>0$ such that for any prime $p$, all real roots of the polynomial $p f+g$ lie in the interval $[-R, R]$.","Since $\operatorname{deg} f > \operatorname{deg} g$, we have $\lim_{|x| \to \infty} |g(x)/f(x)| = 0$. Thus, there exists an $R>0$ such that for all $|x|>R$, we have $|g(x)/f(x)| < 1$. For any prime $p \ge 2$ and for any $x$ with $|x|>R$, we have $|p f(x)+g(x)| = |f(x)| |p + g(x)/f(x)| \ge |f(x)|(p - |g(x)/f(x)|) > |f(x)|(p-1) \ge |f(x)|$. Since $f$ is a nonzero polynomial, we can choose $R$ large enough so that $f(x) \neq 0$ for $|x|>R$. Therefore, for $|x|>R$, $p f(x)+g(x)$ is never zero. This means all real roots of $p f+g$ must lie in the fixed interval $[-R, R]$.","Assume $f$ is a monic polynomial with integer coefficients and $\operatorname{deg} f > \operatorname{deg} g$. If for infinitely many primes $p$ the polynomial $p f+g$ has an integer root, prove that $f$ has a rational root.","Let $u_p$ be an integer root of $p f+g$ for an infinite set of primes $P$. From the first sub-problem, there is a fixed bound $R$ such that $|u_p| \le R$ for all $p \in P$. Since each $u_p$ is an integer, there are only finitely many possible values for these roots. By the pigeonhole principle, there must be an integer $u_0$ such that $u_p = u_0$ for infinitely many primes. Let $p_1$ and $p_2$ be two distinct primes for which this holds. Then we have $p_1 f(u_0) + g(u_0) = 0$ and $p_2 f(u_0) + g(u_0) = 0$. Subtracting these equations yields $(p_1-p_2)f(u_0) = 0$. Since $p_1 \neq p_2$, it follows that $f(u_0)=0$. Thus, $f$ has the integer root $u_0$, which is a rational root.",Let $f$ and $g$ be two nonzero polynomials with integer coefficients and $\operatorname{deg} f>\operatorname{deg} g$. Suppose that for infinitely many primes $p$ the polynomial $p f+g$ has a rational root. Prove that $f$ has a rational root.,"First, we can assume $f$ is monic without loss of generality, by a suitable change of variables. Let $r_p=u/v$ be a rational root of $pf+g$ for an infinite set of primes $P$, with $\gcd(u,v)=1$ and $v>0$. Since $f$ is monic, the leading coefficient of $pf+g$ is $p$. By the Rational Root Theorem, $v$ must divide $p$, so $v=1$ or $v=p$. If $v=1$ for infinitely many $p \in P$, then by the second sub-problem, $f$ has a rational root. Otherwise, we can assume $v=p$ for infinitely many $p \in P$. The condition $p f(u/p) + g(u/p) = 0$ implies $\deg g = \deg f - 1$. Let $f(x)=x^n+\dots$ and $g(x)=b_{n-1}x^{n-1}+\dots$. The equation becomes $u^n+b_{n-1}u^{n-1} \equiv 0 \pmod p$. As $\gcd(u,p)=1$, this gives $u+b_{n-1} \equiv 0 \pmod p$, so $u = kp-b_{n-1}$ for some integer $k$. The root is $r_p = u/p = k-b_{n-1}/p$. By the first sub-problem, $|r_p| \le R$, so $|k - b_{n-1}/p| \le R$. This implies $k$ is bounded and can take only finitely many integer values. Thus, there is an integer $k_0$ such that for infinitely many primes $p$, $k=k_0$. For these primes, $f(k_0 - b_{n-1}/p) + (1/p)g(k_0 - b_{n-1}/p) = 0$. The polynomial $H(x) = f(k_0-b_{n-1}x) + x g(k_0-b_{n-1}x)$ has infinitely many roots $x=1/p$, so it must be identically zero. Setting $x=0$ yields $f(k_0)=0$. In all cases, $f$ has an integer root.",,
2012a6,"Let $f: \mathbb{N} \rightarrow \mathbb{N}$ be a function, and let $f^{m}$ be $f$ applied $m$ times. Suppose that for every $n \in \mathbb{N}$ there exists a $k \in \mathbb{N}$ such that $f^{2 k}(n)=n+k$, and let $k_{n}$ be the smallest such $k$. Prove that the sequence $k_{1}, k_{2}, \ldots$ is unbounded.",3,Let $S = \{f^m(1) \mid m \in \mathbb{N}_0\}$. The function $f$ is injective on the (unbounded) set $S$. Define $g: S \rightarrow S$ by $g(n)=f^{2 k_{n}}(n)=n+k_{n}$. Prove that $g$ is injective on $S$.,"Assume for contradiction that $g(a)=g(b)$ for $a, b \in S$ with $a<b$. This implies $a+k_{a}=b+k_{b}$, so $k_{a}>k_{b}$. The condition $f^{2 k_{a}}(a)=f^{2 k_{b}}(b)$ and the injectivity of $f$ on $S$ implies $f^{2(k_{a}-k_{b})}(a)=b$. Substituting $b=a+(k_a-k_b)$ from the first equation, we get $f^{2(k_{a}-k_{b})}(a)=a+(k_{a}-k_{b})$. Let $k' = k_a - k_b$. We have $0 < k' < k_a$ and $f^{2k'}(a) = a+k'$, which contradicts the definition of $k_a$ as the smallest such integer. Thus, $g$ is injective.","Let $T = S \setminus g(S)$ be the set of elements in $S$ not in the image of $g$. The set $S$ can be partitioned into a disjoint union of ""chains"" $C_t = \{g^m(t) \mid m \in \mathbb{N}_0\}$ for each $t \in T$. Prove that the set $T$ of chain-starters is infinite.","The set $T$ is non-empty as $1 \in T$ since $g(n)=n+k_n > n$. The chains $C_t$ are disjoint because $g$ is injective. Assume $T$ is finite, $T=\{t_1, \ldots, t_r\}$, with $t_r$ being the largest element. For any $f^m(1) \in S$, if it belongs to chain $C_{t_i}$ where $t_i = f^{m_i}(1)$, it can be shown that $f^m(1) = t_i + (m-m_i)/2$. For any $N$, the $N+1$ distinct numbers $f^0(1), \ldots, f^N(1)$ must all be less than or equal to $t_r + N/2$. This implies $N+1 \le t_r + N/2$, which is a contradiction for large $N$. Therefore, $T$ must be infinite.","Prove that the sequence $k_{1}, k_{2}, \ldots$ is unbounded.","Since the set $T$ of chain-starters is infinite, for any integer $K>0$, we can choose $K+1$ distinct elements from $T$, say $t_1, \ldots, t_{K+1}$. Let $t_{\max} = \max\{t_1, \ldots, t_{K+1}\}$. Consider the set $A = \{t_{\max}+1, \ldots, t_{\max}+K\}$, which has $K$ elements. The $K+1$ chains starting at $t_1, \ldots, t_{K+1}$ are all disjoint. By the pigeonhole principle, at least one chain, say $C_j$, has no element in $A$. Let $n$ be the largest element in $C_j$ with $n \le t_{\max}$ (such $n$ exists as $t_j \in C_j$ and $t_j \le t_{\max}$). Its successor in the chain, $g(n) = n+k_n$, must be greater than $t_{\max}+K$. Therefore, $k_n = g(n) - n > (t_{\max}+K) - n \ge (t_{\max}+K) - t_{\max} = K$. For any $K$, we found an $n$ such that $k_n > K$. Thus, the sequence is unbounded.",,
2012a7,"We say that a function $f: \mathbb{R}^{k} \rightarrow \mathbb{R}$ is a metapolynomial if, for some positive integers $m$ and $n$, it can be represented in the form

$$
f\left(x_{1}, \ldots, x_{k}\right)=\max _{i=1, \ldots, m} \min _{j=1, \ldots, n} P_{i, j}\left(x_{1}, \ldots, x_{k}\right)
$$

where $P_{i, j}$ are multivariate polynomials. Prove that the product of two metapolynomials is also a metapolynomial.",4,"Show that if $f$ and $g$ are metapolynomials, then so are their sum $f+g$, their maximum $\max(f, g)$, and the negation $-f$.","Let $f(x) = \max_{i} \min_{j} P_{i,j}(x)$ and $g(x) = \max_{k} \min_{l} Q_{k,l}(x)$. Then $\max(f, g)$ is a metapolynomial by combining the outer `max` operations. The sum $f+g = \max_{i,k} \min_{j,l} (P_{i,j} + Q_{k,l})$ is a metapolynomial as $P_{i,j}+Q_{k,l}$ is a polynomial. The negation $-f = \min_{i} \max_{j} (-P_{i,j})$ can be converted to the required $\max \min$ form using the identity $\min_{i} \max_{j} a_{i,j} = \max_{(j_1,..,j_m)} \min_{i} a_{i,j_i}$, thus it is a metapolynomial.",Show that the problem of proving that the product of two metapolynomials is a metapolynomial can be reduced to proving it for two non-negative metapolynomials.,"Any metapolynomial $f$ can be decomposed as $f=f^+-f^-$, where $f^+ = \max(f,0)$ and $f^- = \max(-f,0)$. From sub-problem 1, if $f$ is a metapolynomial, so are $f^+$ and $f^-$. The product of two metapolynomials $f,g$ is $fg = (f^+-f^-)(g^+-g^-) = f^+g^+ - f^+g^- - f^-g^+ + f^-g^-$. If the product of non-negative metapolynomials is a metapolynomial, then each term in the sum is a metapolynomial. Since the set of metapolynomials is closed under addition and subtraction (from sub-problem 1), $fg$ must be a metapolynomial.","For non-negative metapolynomials $f(x) = \max_i \min_j P_{i,j}(x)$ and $g(x) = \max_k \min_l Q_{k,l}(x)$, show that their product $f \cdot g$ can be written in the form $\max_{i,k} \min_{j,l} (P_{i,j}(x)^+ \cdot Q_{k,l}(x)^+)$.","Since $f \ge 0$, we have $f = f^+ = (\max_i \min_j P_{i,j})^+ = \max_i (\min_j P_{i,j})^+$. Using the identity $(\min_j a_j)^+ = \min_j (a_j^+)$, this becomes $f = \max_i \min_j (P_{i,j})^+$. Similarly, $g = \max_k \min_l (Q_{k,l})^+$. As all terms $(P_{i,j})^+$ and $(Q_{k,l})^+$ are non-negative, the product distributes over max and min, yielding $f \cdot g = (\max_i \min_j P_{i,j}^+) \cdot (\max_k \min_l Q_{k,l}^+) = \max_{i,k} \min_{j,l} (P_{i,j}^+ \cdot Q_{k,l}^+)$. Therefore, the problem reduces to showing that $P^+Q^+$ is a metapolynomial.",Prove that the product of two metapolynomials is also a metapolynomial.,"From the previous sub-problems, the proof reduces to showing that for any two polynomials $P(x)$ and $Q(x)$, the function $P(x)^+Q(x)^+$ is a metapolynomial. Let $u=P(x)$ and $v=Q(x)$. The function $u^+v^+$ can be expressed via the identity $u^+ v^+ = \max \left\{0, \min \{u v, u, v\}, \min \{u v, u v^2, u^2 v\}, \min \{u v, u, u^2 v\}, \min \{u v, u v^2, v\}\right\}$. This expression is in the form of a maximum of minima of polynomials in $u$ and $v$, and is therefore a metapolynomial. This completes the proof."
2012c1,"Several positive integers are written in a row. Iteratively, Alice chooses two adjacent numbers $x$ and $y$ such that $x>y$ and $x$ is to the left of $y$, and replaces the pair $(x, y)$ by either $(y+1, x)$ or $(x-1, x)$. Prove that she can perform only finitely many such iterations.",2,"Let the sequence of $n$ positive integers be $a_1, a_2, \ldots, a_n$. Consider the quantity $S = \sum_{k=1}^n k a_k$. Prove that each operation performed by Alice increases the value of $S$ by a positive integer.","Let Alice choose the adjacent pair $(a_i, a_{i+1})$ such that $a_i > a_{i+1}$. This pair is replaced by a new pair $(c, a_i)$, where $c$ is either $a_{i+1}+1$ or $a_i-1$. The change in the sum $S$ is given by $\\Delta S = (i c + (i+1) a_i) - (i a_i + (i+1) a_{i+1})$. This simplifies to $\\Delta S = a_i - a_{i+1} + i(c - a_{i+1})$. Since $a_i$ and $a_{i+1}$ are integers with $a_i > a_{i+1}$, we have $a_i - a_{i+1} \\geq 1$. If $c=a_{i+1}+1$, then $c-a_{i+1} = 1 > 0$. If $c=a_i-1$, then $c-a_{i+1} = a_i-a_{i+1}-1 \\geq 1-1=0$. In both cases, $c-a_{i+1} \\ge 0$. Thus, $\\Delta S = (a_i - a_{i+1}) + i(c - a_{i+1}) \\geq 1 + i(0) = 1$. So, $S$ increases by a positive integer with every operation.","Several positive integers are written in a row. Iteratively, Alice chooses two adjacent numbers $x$ and $y$ such that $x>y$ and $x$ is to the left of $y$, and replaces the pair $(x, y)$ by either $(y+1, x)$ or $(x-1, x)$. Prove that she can perform only finitely many such iterations.","Let the sequence of $n$ integers be $a_1, \dots, a_n$, and let $S = \sum_{k=1}^n k a_k$. From the first sub-problem, we know that $S$ strictly increases with each operation. Let $M$ be the maximum value in the initial sequence. An operation on $(x,y)$ with $x>y$ produces either $(y+1, x)$ or $(x-1, x)$. Since $x \ge y+1$, the new values are at most $x$. Therefore, the maximum value in the sequence never increases, so all numbers $a_k$ are bounded by $M$. The sum $S$ is thus bounded above: $S = \sum_{k=1}^n k a_k \leq \sum_{k=1}^n k M = M \frac{n(n+1)}{2}$. We have a strictly increasing sequence of integers $S$ which is bounded above. Such a sequence must be finite. Therefore, the process must terminate after a finite number of steps.",,,,
2012c5,"The columns and the rows of a $3 n \times 3 n$ square board are numbered $1,2, \ldots, 3 n$. Every square ( $x, y$ ) with $1 \leq x, y \leq 3 n$ is colored asparagus, byzantium or citrine according as the modulo 3 remainder of $x+y$ is 0,1 or 2 respectively. One token colored asparagus, byzantium or citrine is placed on each square, so that there are $3 n^{2}$ tokens of each color.

Suppose that one can permute the tokens so that each token is moved to a distance of at most $d$ from its original position, each asparagus token replaces a byzantium token, each byzantium token replaces a citrine token, and each citrine token replaces an asparagus token. Prove that it is possible to permute the tokens so that each token is moved to a distance of at most $d+2$ from its original position, and each square contains a token with the same color as the square.",4,"Show that the problem can be solved by demonstrating the existence of a perfect matching between the set of asparagus tokens and the set of asparagus squares, where the distance between any matched token's original position and its assigned square is at most $d+2$.","The problem requires assigning each token to a square of its own color. This can be decomposed into three independent assignment problems, one for each color. For asparagus tokens, we must map each of the $3n^2$ tokens to a unique asparagus-colored square. This is equivalent to finding a perfect matching. If such a matching exists with a maximum distance of $d+2$ for each pair, the same argument holds for byzantium and citrine tokens by symmetry, thus solving the overall problem.",Construct a bipartite graph between asparagus squares and asparagus tokens and show that the edges correspond to token-to-square assignments with a maximum distance of $d+2$.,"Define a bipartite graph with vertices representing the $3n^2$ asparagus squares on one side and the $3n^2$ asparagus tokens on the other. Tile the board with $3 \times 1$ horizontal triminos; each contains exactly one asparagus square. An edge connects an asparagus square $S$ to an asparagus token $T$ if the trimino containing $S$ also contains the original position of either $T$, $\pi(T)$ (a byzantium token), or $\pi^{-1}(T)$ (a citrine token). The distance between the original position of $T$ and $S$ is at most $2$ if $pos(T)$ is in the trimino, and at most $d+2$ otherwise, by the triangle inequality and the fact that the permutation $\pi$ moves tokens by at most distance $d$.",Prove that every vertex in the constructed bipartite graph has a degree of exactly 3.,"For any asparagus token $T$, the positions $pos(T)$, $pos(\pi(T))$, and $pos(\pi^{-1}(T))$ each lie in a unique trimino, which in turn contains a unique asparagus square. Thus, each token vertex is connected to three square vertices (edges counted with multiplicity). For any asparagus square $S$, its trimino contains three tokens. Each of these tokens corresponds to a unique edge connected to $S$ via a related asparagus token: the token itself if it's asparagus; $\pi^{-1}(T_B)$ if it's a byzantium token $T_B$; or $\pi(T_C)$ if it's a citrine token $T_C$. Thus, each square vertex also has degree 3.","Prove that it is possible to permute the tokens so that each token is moved to a distance of at most $d+2$ from its original position, and each square contains a token with the same color as the square.","The constructed graph is a 3-regular bipartite graph with two partitions of equal size. For any subset of square vertices $\mathcal{S}$, the number of edges leaving $\mathcal{S}$ is $3|\mathcal{S}|$. These edges connect to a set of neighboring token vertices $N(\mathcal{S})$, so $3|\mathcal{S}| \le \sum_{v \in N(\mathcal{S})} \deg(v) = 3|N(\mathcal{S})|$. This implies $|\mathcal{S}| \le |N(\mathcal{S})|$, satisfying Hall's condition. Therefore, a perfect matching exists between asparagus tokens and squares with edge distances at most $d+2$. This argument applies to all three colors, so the desired global permutation exists."
2012c6,"Let $k$ and $n$ be fixed positive integers. In the liar's guessing game, Amy chooses integers $x$ and $N$ with $1 \leq x \leq N$. She tells Ben what $N$ is, but not what $x$ is. Ben may then repeatedly ask Amy whether $x \in S$ for arbitrary sets $S$ of integers. Amy will always answer with yes or no, but she might lie. The only restriction is that she can lie at most $k$ times in a row. After he has asked as many questions as he wants, Ben must specify a set of at most $n$ positive integers. If $x$ is in this set he wins; otherwise, he loses. Prove that:\\
a) If $n \geq 2^{k}$ then Ben can always win.\\
b) For sufficiently large $k$ there exist $n \geq 1.99^{k}$ such that Ben cannot guarantee a win.",1,"Let $k$ and $n$ be fixed positive integers. In the liar's guessing game, Amy chooses integers $x$ and $N$ with $1 \leq x \leq N$. She tells Ben what $N$ is, but not what $x$ is. Ben may then repeatedly ask Amy whether $x \in S$ for arbitrary sets $S$ of integers. Amy will always answer with yes or no, but she might lie. The only restriction is that she can lie at most $k$ times in a row. After he has asked as many questions as he wants, Ben must specify a set of at most $n$ positive integers. If $x$ is in this set he wins; otherwise, he loses. Prove that:\\
a) If $n \geq 2^{k}$ then Ben can always win.\\
b) For sufficiently large $k$ there exist $n \geq 1.99^{k}$ such that Ben cannot guarantee a win.","Solution. Consider an answer $A \in\{y e s, n o\}$ to a question of the kind ""Is $x$ in the set $S$ ?"" We say that $A$ is inconsistent with a number $i$ if $A=$ yes and $i \notin S$, or if $A=n o$ and $i \in S$. Observe that an answer inconsistent with the target number $x$ is a lie.\\
a) Suppose that Ben has determined a set $T$ of size $m$ that contains $x$. This is true initially with $m=N$ and $T=\{1,2, \ldots, N\}$. For $m>2^{k}$ we show how Ben can find a number $y \in T$ that is different from $x$. By performing this step repeatedly he can reduce $T$ to be of size $2^{k} \leq n$ and thus win.

Since only the size $m>2^{k}$ of $T$ is relevant, assume that $T=\left\{0,1, \ldots, 2^{k}, \ldots, m-1\right\}$. Ben begins by asking repeatedly whether $x$ is $2^{k}$. If Amy answers no $k+1$ times in a row, one of these answers is truthful, and so $x \neq 2^{k}$. Otherwise Ben stops asking about $2^{k}$ at the first answer yes. He then asks, for each $i=1, \ldots, k$, if the binary representation of $x$ has a 0 in the $i$ th digit. Regardless of what the $k$ answers are, they are all inconsistent with a certain number $y \in\left\{0,1, \ldots, 2^{k}-1\right\}$. The preceding answer yes about $2^{k}$ is also inconsistent with $y$. Hence $y \neq x$. Otherwise the last $k+1$ answers are not truthful, which is impossible.

Either way, Ben finds a number in $T$ that is different from $x$, and the claim is proven.\\
b) We prove that if $1<\lambda<2$ and $n=\left\lfloor(2-\lambda) \lambda^{k+1}\right\rfloor-1$ then Ben cannot guarantee a win. To complete the proof, then it suffices to take $\lambda$ such that $1.99<\lambda<2$ and $k$ large enough so that

$$
n=\left\lfloor(2-\lambda) \lambda^{k+1}\right\rfloor-1 \geq 1.99^{k} .
$$

Consider the following strategy for Amy. First she chooses $N=n+1$ and $x \in\{1,2, \ldots, n+1\}$ arbitrarily. After every answer of hers Amy determines, for each $i=1,2, \ldots, n+1$, the number $m_{i}$ of consecutive answers she has given by that point that are inconsistent with $i$. To decide on her next answer, she then uses the quantity

$$
\phi=\sum_{i=1}^{n+1} \lambda^{m_{i}} .
$$

No matter what Ben's next question is, Amy chooses the answer which minimizes $\phi$.\\
We claim that with this strategy $\phi$ will always stay less than $\lambda^{k+1}$. Consequently no exponent $m_{i}$ in $\phi$ will ever exceed $k$, hence Amy will never give more than $k$ consecutive answers inconsistent with some $i$. In particular this applies to the target number $x$, so she will never lie more than $k$ times in a row. Thus, given the claim, Amy's strategy is legal. Since the strategy does not depend on $x$ in any way, Ben can make no deductions about $x$, and therefore he cannot guarantee a win.

It remains to show that $\phi<\lambda^{k+1}$ at all times. Initially each $m_{i}$ is 0 , so this condition holds in the beginning due to $1<\lambda<2$ and $n=\left\lfloor(2-\lambda) \lambda^{k+1}\right\rfloor-1$. Suppose that $\phi<\lambda^{k+1}$ at some point, and Ben has just asked if $x \in S$ for some set $S$. According as Amy answers yes or no, the new value of $\phi$ becomes

$$
\phi_{1}=\sum_{i \in S} 1+\sum_{i \notin S} \lambda^{m_{i}+1} \quad \text { or } \quad \phi_{2}=\sum_{i \in S} \lambda^{m_{i}+1}+\sum_{i \notin S} 1 .
$$

Since Amy chooses the option minimizing $\phi$, the new $\phi$ will equal $\min \left(\phi_{1}, \phi_{2}\right)$. Now we have

$$
\min \left(\phi_{1}, \phi_{2}\right) \leq \frac{1}{2}\left(\phi_{1}+\phi_{2}\right)=\frac{1}{2}\left(\sum_{i \in S}\left(1+\lambda^{m_{i}+1}\right)+\sum_{i \notin S}\left(\lambda^{m_{i}+1}+1\right)\right)=\frac{1}{2}(\lambda \phi+n+1)
$$

Because $\phi<\lambda^{k+1}$, the assumptions $\lambda<2$ and $n=\left\lfloor(2-\lambda) \lambda^{k+1}\right\rfloor-1$ lead to

$$
\min \left(\phi_{1}, \phi_{2}\right)<\frac{1}{2}\left(\lambda^{k+2}+(2-\lambda) \lambda^{k+1}\right)=\lambda^{k+1}
$$

The claim follows, which completes the solution.

Comment. Given a fixed $k$, let $f(k)$ denote the minimum value of $n$ for which Ben can guarantee a victory. The problem asks for a proof that for large $k$

$$
1.99^{k} \leq f(k) \leq 2^{k}
$$

A computer search shows that $f(k)=2,3,4,7,11,17$ for $k=1,2,3,4,5,6$.",,,,,,
2012g1,"In the triangle $A B C$ the point $J$ is the center of the excircle opposite to $A$. This excircle is tangent to the side $B C$ at $M$, and to the lines $A B$ and $A C$ at $K$ and $L$ respectively. The lines $L M$ and $B J$ meet at $F$, and the lines $K M$ and $C J$ meet at $G$. Let $S$ be the point of intersection of the lines $A F$ and $B C$, and let $T$ be the point of intersection of the lines $A G$ and $B C$. Prove that $M$ is the midpoint of $S T$.",3,"Prove that the points A, F, G, K, L, J all lie on a single circle with diameter AJ.","Let $\alpha, \beta, \gamma$ be the angles of $\triangle ABC$. Since J is the excenter opposite A, J is the intersection of the internal angle bisector of $\angle A$ and the external angle bisectors of $\angle B$ and $\angle C$. As K and L are tangency points, $\angle AKJ = \angle ALJ = 90^\circ$, so K and L lie on the circle $\omega$ with diameter AJ. The line BJ externally bisects $\angle ABC$, so $\angle MBJ = (180^\circ - \beta)/2 = 90^\circ - \beta/2$. Since $\triangle BKM$ is isosceles with $BK=BM$, $\angle BMK = \beta/2$. Similarly, $\angle CML = \gamma/2$. Angles $\angle BMF$ and $\angle CML$ are vertically opposite, so $\angle BMF = \gamma/2$. In $\triangle FBM$, the exterior angle at J is $\angle MBJ = \angle BFM + \angle BMF$, so $\angle LFJ = \angle BFM = (90^\circ - \beta/2) - \gamma/2 = (180^\circ - \beta - \gamma)/2 = \alpha/2$. Since $\angle LAJ = \alpha/2$, F must lie on the circle passing through A, L, J, which is $\omega$. An analogous argument for G shows it also lies on $\omega$. Thus, A, F, G, K, L, J are concyclic on $\omega$.",Show that $SM = AK$ and $TM = AL$.,"From the previous result, points F and G lie on the circle with diameter AJ. This implies that $\angle AFJ = 90^\circ$ and $\angle AGJ = 90^\circ$. Since F lies on BJ and G lies on CJ, we have $AF \perp BJ$ and $AG \perp CJ$. Consider the reflection across the line BJ, which is the external bisector of $\angle ABC$. This reflection maps line BC to line BA, and point M on BC to point K on BA (since $BM=BK$). The line AF is perpendicular to the axis of reflection BJ, so it is mapped to itself. The point S is the intersection of AF and BC. Its reflection is the intersection of the reflection of AF (itself) and the reflection of BC (line BA), which is point A. Since reflection is an isometry, it preserves distances. Therefore, the length of segment SM equals the length of its reflection, segment AK, so $SM = AK$. By a symmetric argument, reflecting across the line CJ shows that $TM = AL$.",Prove that M is the midpoint of ST.,"From the second sub-problem, we established that $SM = AK$ and $TM = AL$. The segments AK and AL are tangents from the point A to the excircle centered at J. A fundamental property of tangents states that tangent segments from an external point to a circle are equal in length. Therefore, $AK = AL$. Combining these equalities, we get $SM = TM$. Since S, T, and M are collinear points on the line BC, the equality of the lengths of the segments SM and TM implies that M is the midpoint of the segment ST.",,
2012g2,"Let $A B C D$ be a cyclic quadrilateral whose diagonals $A C$ and $B D$ meet at $E$. The extensions of the sides $A D$ and $B C$ beyond $A$ and $B$ meet at $F$. Let $G$ be the point such that $E C G D$ is a parallelogram, and let $H$ be the image of $E$ under reflection in $A D$. Prove that $D, H, F, G$ are concyclic.",2,"Prove that triangle $FDG$ is similar to triangle $FBE$, and as a consequence, show that $\angle F G D=\angle F E B$.","Since $A B C D$ is a cyclic quadrilateral, we have $\triangle F A B \sim \triangle F C D$ and $\triangle E A B \sim \triangle E D C$. From these similarities, we get the ratios $\frac{F D}{F B}=\frac{C D}{A B}$ and $\frac{C E}{E B}=\frac{C D}{A B}$. Since $E C G D$ is a parallelogram, $G D=E C$. Combining the ratios gives $\frac{G D}{E B}=\frac{F D}{F B}$. For the angles, we have $\angle F D G=\angle F D C+\angle C D G$. The parallelogram property gives $\angle C D G = \angle DCE$. The cyclic quadrilateral gives $\angle FDC = \angle FBA$ and $\angle DCE = \angle DCA = \angle DBA$. Therefore, $\angle F D G=\angle F B A+\angle D B A=\angle F B E$. By the Side-Angle-Side similarity criterion, $\triangle F D G \sim \triangle F B E$. A direct consequence is that corresponding angles are equal, so $\angle F G D=\angle F E B$.","Prove that $D, H, F, G$ are concyclic.","From the first sub-problem, we established that $\angle F G D=\angle F E B$. H is the reflection of E in the line AD (which is the same line as FD). Reflection is an isometry, so it preserves angles, meaning $\angle F H D=\angle F E D$. The angles $\angle FED$ and $\angle FEB$ lie on the straight line BD, so they are supplementary, i.e., $\angle F E D=180^{\circ}-\angle F E B$. By substitution, we have $\angle F H D=180^{\circ}-\angle F G D$, which can be rewritten as $\angle F H D+\angle F G D=180^{\circ}$. Since the opposite angles of the quadrilateral $D H F G$ sum to $180^{\circ}$, the points $D, H, F, G$ are concyclic.",,,,
2012g3,"In an acute triangle $A B C$ the points $D, E$ and $F$ are the feet of the altitudes through $A$, $B$ and $C$ respectively. The incenters of the triangles $A E F$ and $B D F$ are $I_{1}$ and $I_{2}$ respectively; the circumcenters of the triangles $A C I_{1}$ and $B C I_{2}$ are $O_{1}$ and $O_{2}$ respectively. Prove that $I_{1} I_{2}$ and $O_{1} O_{2}$ are parallel.",3,"Let $I$ be the incenter of $\triangle ABC$. Prove that the points $A, B, I_{1}, I_{2}$ are concyclic.","The triangles $A E F$ and $A B C$ are similar with ratio $\cos \alpha$. As $I_1$ and $I$ are their respective incenters, and $I, I_1$ lie on the bisector of $\angle A$, we have $I_{1} A=I A \cos \alpha$. This gives $I I_{1}=I A - I_{1} A=I A(1-\cos \alpha)=2 I A \sin ^{2} (\alpha/2)$. Similarly, from the similarity of $\triangle BDF$ and $\triangle BAC$, we get $I I_{2}=2 I B \sin ^{2} (\beta/2)$. The law of sines in $\triangle A B I$ gives $I A \sin (\alpha/2)=I B \sin (\beta/2)$. Therefore, $I I_{1} \cdot I A=2(I A \sin (\alpha/2))^{2}=2(I B \sin (\beta/2))^{2}=I I_{2} \cdot I B$. This equality of the power of point $I$ with respect to a circle passing through $A, B, I_1, I_2$ implies that these four points are concyclic.",Let $I$ be the incenter of $\triangle ABC$. Prove that the line $CI$ is perpendicular to the line of centers $O_{1} O_{2}$.,"The line of centers $O_{1} O_{2}$ is perpendicular to the radical axis of the circles $(A C I_{1})$ and $(B C I_{2})$. Point $C$ lies on both circles. The power of point $I$ with respect to $(A C I_{1})$ is $I I_{1} \cdot I A$, and its power with respect to $(B C I_{2})$ is $I I_{2} \cdot I B$, because $I, I_1, A$ and $I, I_2, B$ are collinear. From the first sub-problem, these powers are equal. Thus, $I$ also lies on the radical axis. The line $CI$ is therefore the radical axis of the two circles. Consequently, $C I \perp O_{1} O_{2}$.",Prove that $I_{1} I_{2}$ and $O_{1} O_{2}$ are parallel.,"From the second sub-problem, $C I \perp O_{1} O_{2}$. We now show $C I \perp I_{1} I_{2}$. Since $A, B, I_1, I_2$ are concyclic, we have $\angle II_1I_2 = \angle ABI_2 = \beta/2$. Let $CI$ intersect $I_1I_2$ at $Q$. In $\triangle II_1Q$, the angle $\angle I_1IQ$ is an exterior angle to $\triangle ACI$, so $\angle I_1IQ = \angle IAC + \angle ICA = \alpha/2 + \gamma/2$. The sum of the other two angles in $\triangle II_1Q$ is $\angle II_1Q + \angle I_1IQ = \beta/2 + (\alpha/2 + \gamma/2) = (\alpha+\beta+\gamma)/2 = 90^\circ$. Therefore, $\angle IQI_1 = 90^\circ$, which means $CI \perp I_1I_2$. Since both $I_1I_2$ and $O_1O_2$ are perpendicular to the same line $CI$, they must be parallel.",,
2012g4,Let $A B C$ be a triangle with $A B \neq A C$ and circumcenter $O$. The bisector of $\angle B A C$ intersects $B C$ at $D$. Let $E$ be the reflection of $D$ with respect to the midpoint of $B C$. The lines through $D$ and $E$ perpendicular to $B C$ intersect the lines $A O$ and $A D$ at $X$ and $Y$ respectively. Prove that the quadrilateral $B X C Y$ is cyclic.,2,Let $P$ be the point other than $A$ where the bisector of $\angle BAC$ intersects the circumcircle of $\triangle ABC$. Let $Y'$ be the reflection of $Y$ with respect to the perpendicular bisector of $BC$. Prove that $XD \cdot DY' = BD \cdot DC$.,"Let $\ell$ be the perpendicular bisector of $BC$; it passes through the circumcenter $O$ and $P$. In isosceles $\triangle OAP$ ($OA=OP$), we have $\angle XAP = \angle OPA$. The lines $EY$ and $\ell$ are parallel (both are perpendicular to $BC$), so the transversal $AP$ gives $\angle OPA = \angle EYP$. By reflection in $\ell$, $Y$ maps to $Y'$, $E$ maps to $D$, and $P$ is fixed, so $\angle EYP = \angle DY'P$. Thus, $\angle XAP = \angle DY'P$. Points $X, D, Y'$ are collinear on the line through $D$ perpendicular to $BC$, so $\angle DY'P = \angle XY'P$. It follows that $\angle XAP = \angle XY'P$, which proves that the quadrilateral $XAY'P$ is cyclic. By the power of a point theorem for point $D$ with respect to circle $(XAY'P)$, we have $XD \cdot DY' = AD \cdot DP$. For the circumcircle $(ABPC)$, the power of point $D$ gives $AD \cdot DP = BD \cdot DC$. Therefore, $XD \cdot DY' = BD \cdot DC$.",Prove that the quadrilateral $B X C Y$ is cyclic.,"Let $\ell$ be the perpendicular bisector of $BC$ and let $Y'$ be the reflection of $Y$ across $\ell$. From the first sub-problem, we have the relation $XD \cdot DY' = BD \cdot DC$. Since $D$ is the intersection of lines $XY'$ and $BC$, the converse of the power of a point theorem implies that points $B, X, C, Y'$ lie on a circle. Because $Y'$ is the reflection of $Y$ across $\ell$, the perpendicular bisector of the segment $BC$, we have $\triangle BCY \cong \triangle BCY'$, which implies $\angle BYC = \angle BY'C$. The cyclicity of $BXCY'$ means $\angle BXC + \angle BY'C = 180^\circ$. Substituting gives $\angle BXC + \angle BYC = 180^\circ$, which proves that the quadrilateral $BXCY$ is cyclic.",,,,
2012g5,"Let $A B C$ be a triangle with $\angle B C A=90^{\circ}$, and let $C_{0}$ be the foot of the altitude from $C$. Choose a point $X$ in the interior of the segment $C C_{0}$, and let $K, L$ be the points on the segments $A X, B X$ for which $B K=B C$ and $A L=A C$ respectively. Denote by $M$ the intersection of $A L$ and $B K$. Show that $M K=M L$.",2,"Let $\omega_1$ be the circle centered at A with radius AC, and $\omega_2$ be the circle centered at B with radius BC. Let $L_1 \neq L$ be the second intersection of line BX with $\omega_1$, and $K_1 \neq K$ be the second intersection of line AX with $\omega_2$. Show that the points $K, L, K_1, L_1$ lie on a common circle, say $\omega_3$, and that the lines AL and BK are tangent to $\omega_3$ at points L and K respectively.","Let $C'$ be the reflection of C in the line AB. Since $AL=AC=AC'$ and $BK=BC=BC'$, both $\omega_1$ and $\omega_2$ pass through C and $C'$. The power of point X with respect to $\omega_2$ is $XK \cdot XK_1 = XC \cdot XC'$. Similarly, the power of X with respect to $\omega_1$ is $XL \cdot XL_1 = XC \cdot XC'$. Thus, $XK \cdot XK_1 = XL \cdot XL_1$, which implies that K, L, K1, L1 are concyclic; let their circle be $\omega_3$. As $\angle BCA = 90^\circ$, AC is tangent to $\omega_2$ at C. The power of A with respect to $\omega_2$ is $AC^2 = AK \cdot AK_1$. Since $AL=AC$, we have $AL^2 = AK \cdot AK_1$, which implies AL is tangent to $\omega_3$ at L. Analogously, BC is tangent to $\omega_1$ at C, so the power of B w.r.t $\omega_1$ is $BC^2 = BL \cdot BL_1$. Since $BK=BC$, $BK^2 = BL \cdot BL_1$, so BK is tangent to $\omega_3$ at K.","Let $A B C$ be a triangle with $\angle B C A=90^{\circ}$, and let $C_{0}$ be the foot of the altitude from $C$. Choose a point $X$ in the interior of the segment $C C_{0}$, and let $K, L$ be the points on the segments $A X, B X$ for which $B K=B C$ and $A L=A C$ respectively. Denote by $M$ the intersection of $A L$ and $B K$. Show that $M K=M L$.","From the previous step, there exists a circle $\omega_3$ that passes through points K and L. We also established that the line AL is tangent to $\omega_3$ at L and the line BK is tangent to $\omega_3$ at K. The point M is the intersection of these two tangent lines. Therefore, MK and ML are the two tangent segments from the external point M to the circle $\omega_3$. By the property that tangents from an external point to a circle are equal in length, we conclude that $MK = ML$.",,,,
2012g6,"Let $A B C$ be a triangle with circumcenter $O$ and incenter $I$. The points $D, E$ and $F$ on the sides $B C, C A$ and $A B$ respectively are such that $B D+B F=C A$ and $C D+C E=A B$. The circumcircles of the triangles $B F D$ and $C D E$ intersect at $P \neq D$. Prove that $O P=O I$.",4,"Let $\omega_A, \omega_B, \omega_C$ be the circumcircles of $\triangle AEF, \triangle BFD, \triangle CDE$ respectively. Let $A', B', C'$ be the second intersection points of the angle bisectors $AI, BI, CI$ with $\omega_A, \omega_B, \omega_C$. Show that the points $A', B', C'$ are fixed, regardless of the specific choice of $D, E, F$ that satisfy the given conditions.","The conditions $BD+BF=CA$ and $CD+CE=AB$ imply $AE+AF=BC$. A geometric lemma states that for a circle through a vertex $A$ of an angle, intersecting the sides at $E,F$ and the angle bisector at $A'$, we have $AE+AF = 2AA' \cos(A/2)$. Applying this to $\omega_A$ gives $BC = 2AA' \cos(A/2)$. This equation determines a unique length $AA'$ on the fixed line $AI$, so $A'$ is a fixed point. By symmetry, $B'$ and $C'$ are also fixed points.","Prove that the incenter $I$ and the points $A', B', C'$ defined in the previous part lie on a circle centered at the circumcenter $O$.","Let $M$ be the second intersection of $AI$ with the circumcircle of $\triangle ABC$. We have three relations that can be derived from the lemma in Part 1: (1) $BC = 2AA'\cos(A/2)$; (2) $AB+AC-BC = 2AI\cos(A/2)$; (3) $AB+AC = 2AM\cos(A/2)$. From these, we deduce $AI+AA'=AM$. Since $A,I,A',M$ are collinear, this implies the segments $IA'$ and $AM$ share a midpoint. The perpendicular bisector of $AM$ passes through the circumcenter $O$. Thus, the perpendicular bisector of $IA'$ also passes through $O$, meaning $OI=OA'$. By symmetry, $OI=OB'$ and $OI=OC'$, so $I, A', B', C'$ lie on a circle centered at $O$.","Let $P$ be the common intersection point of the circumcircles of $\triangle BFD$ and $\triangle CDE$ (other than $D$). Prove that $P$ is concyclic with $I, A', B', C'$.\","By Miquel's theorem, $P$ lies on all three circumcircles $\omega_A, \omega_B, \omega_C$. To prove $P$ is concyclic with $I, A', B', C'$, it is sufficient to show $P, I, A', B'$ are concyclic. Using oriented angles, we show $\angle(A'P, B'P) = \angle(A'I, B'I)$. From concyclicity of $A,F,P,A'$ on $\omega_A$, we have $\angle(A'P, FP) = \angle(A'A, FA) = \angle(AI, AB)$. From concyclicity of $B,F,P,B'$ on $\omega_B$, we have $\angle(B'P, FP) = \angle(B'B, FB) = \angle(BI, AB)$. Therefore, $\angle(A'P, B'P) = \angle(A'P, FP) - \angle(B'P, FP) = \angle(AI, AB) - \angle(BI, AB) = \angle(AI, BI) = \angle(A'I, B'I)$. Thus, $P, I, A', B'$ are concyclic, and by symmetry, $P$ is concyclic with $I, A', B', C'$.","Let $A B C$ be a triangle with circumcenter $O$ and incenter $I$. The points $D, E$ and $F$ on the sides $B C, C A$ and $A B$ respectively are such that $B D+B F=C A$ and $C D+C E=A B$. The circumcircles of the triangles $B F D$ and $C D E$ intersect at $P \neq D$. Prove that $O P=O I$.","In Sub-problem 2, we proved that $I, A', B', C'$ lie on a circle centered at the circumcenter $O$. This means $O$ is equidistant from these four points, so $OI=OA'=OB'=OC'$. In Sub-problem 3, we showed that the point $P$ also lies on this same circle. Since $P$ is on the circle centered at $O$ with radius $OI$, its distance to the center must be equal to the radius. Therefore, $OP = OI$."
2012g7,Let $A B C D$ be a convex quadrilateral with non-parallel sides $B C$ and $A D$. Assume that there is a point $E$ on the side $B C$ such that the quadrilaterals $A B E D$ and $A E C D$ are circumscribed. Prove that there is a point $F$ on the side $A D$ such that the quadrilaterals $A B C F$ and $B C D F$ are circumscribed if and only if $A B$ is parallel to $C D$.,1,Let $A B C D$ be a convex quadrilateral with non-parallel sides $B C$ and $A D$. Assume that there is a point $E$ on the side $B C$ such that the quadrilaterals $A B E D$ and $A E C D$ are circumscribed. Prove that there is a point $F$ on the side $A D$ such that the quadrilaterals $A B C F$ and $B C D F$ are circumscribed if and only if $A B$ is parallel to $C D$.,"Solution. Let $\omega_{1}$ and $\omega_{2}$ be the incircles and $O_{1}$ and $O_{2}$ the incenters of the quadrilaterals $A B E D$ and $A E C D$ respectively. A point $F$ with the stated property exists only if $\omega_{1}$ and $\omega_{2}$ are also the incircles of the quadrilaterals $A B C F$ and $B C D F$.\\
\includegraphics[max width=\textwidth, center]{2025_05_04_da9ecbcd73427ebbc2afg-36(1)}

Let the tangents from $B$ to $\omega_{2}$ and from $C$ to $\omega_{1}$ (other than $B C$ ) meet $A D$ at $F_{1}$ and $F_{2}$ respectively. We need to prove that $F_{1}=F_{2}$ if and only if $A B \| C D$.\\
$L e m m a$. The circles $\omega_{1}$ and $\omega_{2}$ with centers $O_{1}$ and $O_{2}$ are inscribed in an angle with vertex $O$. The points $P, S$ on one side of the angle and $Q, R$ on the other side are such that $\omega_{1}$ is the incircle of the triangle $P Q O$, and $\omega_{2}$ is the excircle of the triangle $R S O$ opposite to $O$. Denote $p=O O_{1} \cdot O O_{2}$. Then exactly one of the following relations holds:

$$
O P \cdot O R<p<O Q \cdot O S, \quad O P \cdot O R>p>O Q \cdot O S, \quad O P \cdot O R=p=O Q \cdot O S
$$

Proof. Denote $\angle O P O_{1}=u, \angle O Q O_{1}=v, \angle O O_{2} R=x, \angle O O_{2} S=y, \angle P O Q=2 \varphi$. Because $P O_{1}, Q O_{1}, R O_{2}, S O_{2}$ are internal or external bisectors in the triangles $P Q O$ and $R S O$, we have


\begin{equation*}
u+v=x+y\left(=90^{\circ}-\varphi\right) \tag{1}
\end{equation*}


\begin{center}
\includegraphics[max width=\textwidth]{2025_05_04_da9ecbcd73427ebbc2afg-36}
\end{center}

By the law of sines

$$
\frac{O P}{O O_{1}}=\frac{\sin (u+\varphi)}{\sin u} \quad \text { and } \quad \frac{O O_{2}}{O R}=\frac{\sin (x+\varphi)}{\sin x}
$$

Therefore, since $x, u$ and $\varphi$ are acute,\\
$O P \cdot O R \geq p \Leftrightarrow \frac{O P}{O O_{1}} \geq \frac{O O_{2}}{O R} \Leftrightarrow \sin x \sin (u+\varphi) \geq \sin u \sin (x+\varphi) \Leftrightarrow \sin (x-u) \geq 0 \Leftrightarrow x \geq u$.\\
Thus $O P \cdot O R \geq p$ is equivalent to $x \geq u$, with $O P \cdot O R=p$ if and only if $x=u$.\\
Analogously, $p \geq O Q \cdot O S$ is equivalent to $v \geq y$, with $p=O Q \cdot O S$ if and only if $v=y$. On the other hand $x \geq u$ and $v \geq y$ are equivalent by (1), with $x=u$ if and only if $v=y$. The conclusion of the lemma follows from here.

Going back to the problem, apply the lemma to the quadruples $\left\{B, E, D, F_{1}\right\},\{A, B, C, D\}$ and $\left\{A, E, C, F_{2}\right\}$. Assuming $O E \cdot O F_{1}>p$, we obtain

$$
O E \cdot O F_{1}>p \Rightarrow O B \cdot O D<p \Rightarrow O A \cdot O C>p \Rightarrow O E \cdot O F_{2}<p
$$

In other words, $O E \cdot O F_{1}>p$ implies

$$
O B \cdot O D<p<O A \cdot O C \quad \text { and } \quad O E \cdot O F_{1}>p>O E \cdot O F_{2}
$$

Similarly, $O E \cdot O F_{1}<p$ implies

$$
O B \cdot O D>p>O A \cdot O C \quad \text { and } \quad O E \cdot O F_{1}<p<O E \cdot O F_{2}
$$

In these cases $F_{1} \neq F_{2}$ and $O B \cdot O D \neq O A \cdot O C$, so the lines $A B$ and $C D$ are not parallel.\\
There remains the case $O E \cdot O F_{1}=p$. Here the lemma leads to $O B \cdot O D=p=O A \cdot O C$ and $O E \cdot O F_{1}=p=O E \cdot O F_{2}$. Therefore $F_{1}=F_{2}$ and $A B \| C D$.

Comment. The conclusion is also true if $B C$ and $A D$ are parallel. One can prove a limit case of the lemma for the configuration shown in the figure below, where $r_{1}$ and $r_{2}$ are parallel rays starting at $O^{\prime}$ and $O^{\prime \prime}$, with $O^{\prime} O^{\prime \prime} \perp r_{1}, r_{2}$ and $O$ the midpoint of $O^{\prime} O^{\prime \prime}$. Two circles with centers $O_{1}$ and $O_{2}$ are inscribed in the strip between $r_{1}$ and $r_{2}$. The lines $P Q$ and $R S$ are tangent to the circles, with $P, S$ on $r_{1}$, and $Q, R$ on $r_{2}$, so that $O, O_{1}$ are on the same side of $P Q$ and $O, O_{2}$ are on different sides of $R S$. Denote $s=O O_{1}+O O_{2}$. Then exactly one of the following relations holds:

$$
O^{\prime} P+O^{\prime \prime} R<s<O^{\prime \prime} Q+O^{\prime} S, \quad O^{\prime} P+O^{\prime \prime} R>s>O^{\prime \prime} Q+O^{\prime} S, \quad O^{\prime} P+O^{\prime \prime} R=s=O^{\prime \prime} Q+O^{\prime} S
$$

\begin{center}
\includegraphics[max width=\textwidth]{2025_05_04_da9ecbcd73427ebbc2afg-37}
\end{center}

Once this is established, the proof of the original statement for $B C \| A D$ is analogous to the one in the intersecting case. One replaces products by sums of relevant segments.",,,,,,
2012g8,"Let $A B C$ be a triangle with circumcircle $\omega$ and $\ell$ a line without common points with $\omega$. Denote by $P$ the foot of the perpendicular from the center of $\omega$ to $\ell$. The side-lines $B C, C A, A B$ intersect $\ell$ at the points $X, Y, Z$ different from $P$. Prove that the circumcircles of the triangles $A X P, B Y P$ and $C Z P$ have a common point different from $P$ or are mutually tangent at $P$.",4,"Let $\omega$ be the circumcircle of $\triangle ABC$ with center $O$ and radius $r$. Let $\omega_A$ be the circumcircle of $\triangle AXP$. Let $A'$ be the second intersection of $\omega$ and $\omega_A$, and let $X'$ be the intersection of line $AA'$ with line $\ell$. Using directed segments originating from $P$, prove that $PX' \cdot PX = PO^2 - r^2$.","The line $AA'$ is the radical axis of circles $\omega$ and $\omega_A$. Point $X'$ lies on this line, so it has the same power with respect to both circles. The power of $X'$ with respect to $\omega_A$ is $\vec{X'P} \cdot \vec{X'X}$. The power of $X'$ with respect to $\omega$ is $X'O^2 - r^2$. Equating them gives $\vec{X'P} \cdot \vec{X'X} = X'O^2 - r^2$. Since $P$ is the foot of the perpendicular from $O$ to $\ell$, by the Pythagorean theorem, $X'O^2 = X'P^2 + PO^2$. Using directed segments, $\vec{X'X} = \vec{X'P} + \vec{PX}$. The equation becomes $X'P(X'P + PX) = X'P^2 + PO^2 - r^2$, which simplifies to $X'P \cdot PX = PO^2 - r^2$ (as scalar products of collinear vectors).","Let $\omega_A, \omega_B, \omega_C$ be the circumcircles of $\triangle AXP, \triangle BYP, \triangle CZP$. Let $A', B', C'$ be the second intersection points of these circles with the circumcircle $\omega$ of $\triangle ABC$, respectively. Prove that the lines $AA', BB', CC'$ are concurrent.","Let the intersections of $AA', BB', CC'$ with the triangle sides $BC, CA, AB$ be $U, V, W$ respectively. We apply the converse of Ceva's theorem. The Ceva ratio $\frac{BU}{CU} \cdot \frac{CV}{AV} \cdot \frac{AW}{BW}$ is related to a product of cross-ratios on the line $\ell$. Let $X', Y', Z'$ be the intersections of $AA', BB', CC'$ with $\ell$. By projecting from vertices $A, B, C$ onto $\ell$, the Ceva product is transformed into a product of cross-ratios involving points $X,Y,Z,X',Y',Z'$ on $\ell$. Using the constant product relation $PX \cdot PX' = PY \cdot PY' = PZ \cdot PZ' = k$ from Sub-problem 1, this product of cross-ratios evaluates to 1. By Ceva's theorem, this implies the lines $AA', BB', CC'$ are concurrent.","Let $Q$ be the point of concurrency of lines $AA', BB', CC'$. Prove that $Q$ has the same power with respect to the circumcircles of triangles $AXP, BYP$, and $CZP$.","Let $\omega$ be the circumcircle of $\triangle ABC$, and $\omega_A, \omega_B, \omega_C$ be the circumcircles of $\triangle AXP, \triangle BYP, \triangle CZP$. The line $AA'$ is the radical axis of circles $\omega$ and $\omega_A$. Since $Q$ lies on $AA'$, the power of $Q$ with respect to $\omega$ is equal to its power with respect to $\omega_A$. Similarly, since $Q$ lies on $BB'$, its power with respect to $\omega$ is equal to its power with respect to $\omega_B$. And since $Q$ lies on $CC'$, its power with respect to $\omega$ is equal to its power with respect to $\omega_C$. Therefore, the power of $Q$ is the same for all four circles $\omega, \omega_A, \omega_B, \omega_C$, and in particular, $Q$ has the same power with respect to $\omega_A, \omega_B$, and $\omega_C$.","Let $A B C$ be a triangle with circumcircle $\omega$ and $\ell$ a line without common points with $\omega$. Denote by $P$ the foot of the perpendicular from the center of $\omega$ to $\ell$. The side-lines $B C, C A, A B$ intersect $\ell$ at the points $X, Y, Z$ different from $P$. Prove that the circumcircles of the triangles $A X P, B Y P$ and $C Z P$ have a common point different from $P$ or are mutually tangent at $P$.","Let $\omega_A, \omega_B, \omega_C$ be the circumcircles of $\triangle AXP, \triangle BYP, \triangle CZP$. All three circles pass through the point $P$. From Sub-problem 3, there exists a point $Q$ which has the same power with respect to $\omega_A, \omega_B$, and $\omega_C$. The locus of points with equal power with respect to two circles is their radical axis. Since both $P$ (with power 0) and $Q$ have equal power for any pair of the three circles, the line $PQ$ is the common radical axis for $\omega_A, \omega_B, \omega_C$. A set of circles sharing a radical axis is a coaxial pencil. Since the circles pass through a point $P$ on their radical axis, they must either intersect at a second common point on the axis or be mutually tangent at $P$."
2012n6,"Let $x$ and $y$ be positive integers. If $x^{2^{n}}-1$ is divisible by $2^{n} y+1$ for every positive integer $n$, prove that $x=1$.",3,"For any positive integer $y$, prove that there are infinitely many primes $p \\equiv 3 \\pmod{4}$ that divide some number of the form $2^n y + 1$.","Assume for contradiction that for a given $y$, there is a finite set of primes $\{p_i\}$ congruent to $3 \\pmod 4$ that can divide numbers of the form $2^n y+1$. Let $M$ be the product of sufficiently high powers of these primes. By choosing $n=1+\\phi(M)$, we can construct a number $A = 2^n y+1$ such that $A \\equiv 2y+1 \\pmod M$. This construction ensures that the set of prime factors of $A$ congruent to $3 \\pmod 4$ is a subset of those of $2y+1$. If $y$ is odd, this implies $A \\equiv 2y+1 \\equiv 3 \\pmod 4$. However, for $n>1$, $A = 2^n y+1 \\equiv 1 \\pmod 4$, a contradiction. A similar argument holds if $y$ is even. Therefore, there must be infinitely many such primes.","Let $p$ be a prime divisor of $2^n y+1$ for some $n \\ge 1$. If $p \\equiv 3 \\pmod 4$ and $2^n y+1$ divides $x^{2^n}-1$, prove that $p$ must divide $x^2-1$.","The condition $2^n y+1 | x^{2^n}-1$ implies $x^{2^n} \\equiv 1 \\pmod p$. By Fermat's Little Theorem, $x^{p-1} \\equiv 1 \\pmod p$. Therefore, $x^{\\gcd(2^n, p-1)} \\equiv 1 \\pmod p$. Since $p \\equiv 3 \\pmod 4$, we can write $p-1 = 2k$ where $k$ is odd. Thus, for any $n \\ge 1$, $\\gcd(2^n, p-1) = 2$. It follows that $x^2 \\equiv 1 \\pmod p$, which means $p$ divides $x^2-1$.","Let $x$ and $y$ be positive integers. If $x^{2^{n}}-1$ is divisible by $2^{n} y+1$ for every positive integer $n$, prove that $x=1$.","From the first sub-problem, we know there exist infinitely many primes $p \\equiv 3 \\pmod 4$ that divide some number of the form $2^n y+1$. From the second sub-problem, any such prime $p$ must also divide the integer $x^2-1$. A non-zero integer can only have a finite number of distinct prime factors. For $x^2-1$ to have infinitely many prime factors, it must be that $x^2-1=0$. Since $x$ is a positive integer, we conclude that $x=1$.",,
2012n8,Prove that for every prime $p>100$ and every integer $r$ there exist two integers $a$ and $b$ such that $p$ divides $a^{2}+b^{5}-r$.,4,"Let $p$ be a prime, $\mathcal{P}=\{0,1, \ldots, p-1\}$, and $s_r$ be the number of pairs $(a, b) \in \mathcal{P} \times \mathcal{P}$ such that $a^2+b^5 \equiv r \pmod p$. Let $N$ be the number of quadruples $(a, b, c, d) \in \mathcal{P}^4$ such that $a^2+b^5 \equiv c^2+d^5 \pmod p$. Prove that $N = \sum_{r \in \mathcal{P}} s_r^2$ and establish the upper bound $N \leq p(p^2+4p-4)$.","For each $r \in \mathcal{P}$, there are $s_r$ pairs $(a,b)$ with $a^2+b^5 \equiv r$ and $s_r$ pairs $(c,d)$ with $c^2+d^5 \equiv r$. This gives $s_r^2$ quadruples for a given $r$. Summing over all $r$ gives $N = \sum_{r \in \mathcal{P}} s_r^2$. To find the bound, we count $N$ by first choosing $(b,d)$. Let $k$ be the number of pairs $(b,d)$ with $b^5 \equiv d^5$. Since there are at most 5 solutions to $x^5 \equiv c$ for any $c$, we have $k \le 1 + 5(p-1) = 5p-4$. For these $k$ pairs, we need $a^2 \equiv c^2$, which has $2p-1$ solutions. For the $p^2-k$ pairs with $b^5 \not\equiv d^5$, we have $a^2-c^2 \equiv d^5-b^5 \not\equiv 0$. This gives $p-1$ solutions for $(a,c)$. Thus, $N = k(2p-1) + (p^2-k)(p-1) = p^2(p-1)+kp \leq p^2(p-1)+(5p-4)p = p(p^2+4p-4)$.","Assume there exists an integer $r$ not divisible by $p$ such that the congruence $a^2+b^5 \equiv r \pmod p$ has no solutions. Let $T = \{z^{10} \pmod p : z \in \mathcal{P}, z \not\equiv 0 \pmod p\}$. Prove that for any $t \in T$, the congruence $x^2+y^5 \equiv tr \pmod p$ also has no solutions.","Let $s_k$ be the number of solutions to $a^2+b^5 \equiv k \pmod p$. We are given $s_r=0$ for some $r \not\equiv 0 \pmod p$. Let $t \in T$, so $t \equiv z^{10} \pmod p$ for some $z \in \mathcal{P} \setminus \{0\}$. Assume for contradiction that $s_{tr} > 0$, meaning there exists a pair $(x,y)$ such that $x^2+y^5 \equiv tr \pmod p$. Since $z \not\equiv 0$, its inverse $z^{-1}$ exists. Multiplying the congruence by $t^{-1} \equiv (z^{-1})^{10}$, we get $t^{-1}(x^2+y^5) \equiv r \pmod p$. This can be written as $(z^{-5}x)^2 + (z^{-2}y)^5 \equiv r \pmod p$. This provides a solution $(a,b)=(z^{-5}x, z^{-2}y)$ to $a^2+b^5 \equiv r$, contradicting $s_r=0$. Therefore, $s_{tr}=0$ for all $t \in T$.","For a prime $p>100$, assume there exists an integer $r$ for which $a^2+b^5 \equiv r \pmod p$ has no solutions. Let $N$ be defined as in the first sub-problem. Prove that $N > p(p^2+4p-4)$.","Assume $s_r=0$ for some $r$. Since $(0,0)$ is a solution to $a^2+b^5 \equiv 0$, $s_0 \geq 1$, so we must have $r \not\equiv 0 \pmod p$. Let $T = \{z^{10} \pmod p : z \not\equiv 0 \pmod p\}$. From the previous sub-problem, $s_{tr}=0$ for all $t \in T$. The size of $T$ is $|T| = \frac{p-1}{\gcd(10, p-1)} \ge \frac{p-1}{10}$. For $p>100$, $|T| \ge \frac{100-1}{10} = 9.9$, so $|T| \ge 10$. Let $K$ be the set of residues $k$ for which $s_k \neq 0$. Then $|K| \le p - |T| \le p-10$. The total number of pairs $(a,b)$ is $p^2$, so $\sum_{k \in \mathcal{P}} s_k = p^2$. By the Cauchy-Schwarz inequality, $N = \sum_{k \in K} s_k^2 \ge \frac{1}{|K|} (\sum_{k \in K} s_k)^2 = \frac{(p^2)^2}{|K|} \ge \frac{p^4}{p-10}$. The inequality $\frac{p^4}{p-10} > p(p^2+4p-4)$ is equivalent to $p^3 > (p-10)(p^2+4p-4) = p^3-6p^2-44p+40$, which simplifies to $6p^2+44p-40 > 0$, which is true for $p>100$.",Prove that for every prime $p>100$ and every integer $r$ there exist two integers $a$ and $b$ such that $p$ divides $a^{2}+b^{5}-r$.,"Let $s_r$ be the number of solutions to $a^2+b^5 \equiv r \pmod p$. We want to show $s_r > 0$ for all $r$. Assume for contradiction that $s_r=0$ for some $r$. Let $N = \sum_{k \in \mathcal{P}} s_k^2$. From Sub-problem 1, we have the upper bound $N \leq p(p^2+4p-4)$. From Sub-problem 3, the assumption that $s_r=0$ for some $r$ implies the lower bound $N > p(p^2+4p-4)$ for $p>100$. These two inequalities, $N > p(p^2+4p-4)$ and $N \leq p(p^2+4p-4)$, form a contradiction. Thus, the initial assumption that some $s_r=0$ must be false. Therefore, $s_r>0$ for all $r$, which means for every integer $r$, there exist integers $a$ and $b$ such that $a^2+b^5-r$ is divisible by $p$."
2011a5,"Prove that for every positive integer $n$, the set $\{2,3,4, \ldots, 3 n+1\}$ can be partitioned into $n$ triples in such a way that the numbers from each triple are the lengths of the sides of some obtuse triangle.",3,"Prove that if three numbers $a < b < c$ form the sides of an obtuse triangle, then for any positive number $x$, the numbers $a, b+x, c+x$ also form the sides of an obtuse triangle.","Let the ordered sides of the original obtuse triangle be $a<b<c$. They satisfy the triangle inequality $a+b > c$ and the obtuse condition $a^2+b^2 < c^2$. The new side lengths are $a' = a, b' = b+x, c' = c+x$. They form a triangle because $a'+b' = a+b+x > c+x = c'$. To check for obtuseness, we need to show $(a')^2+(b')^2 < (c')^2$, which is $a^2 + (b+x)^2 < (c+x)^2$. This simplifies to $a^2 < (c+x)^2 - (b+x)^2 = c^2 - b^2 + 2x(c-b)$. Since the original triangle is obtuse, we know $a^2 < c^2-b^2$. As $x>0$ and $c>b$, the term $2x(c-b)$ is positive. Therefore, $a^2 < c^2-b^2 < c^2-b^2+2x(c-b)$, which proves the new triangle is also obtuse.","For $n>1$, let $t=\lfloor n / 2\rfloor$. Assume the set $\{2, 3, \ldots, 3t+1\}$ can be partitioned into $t$ obtuse triples of the form $A_i'=\{i, a_i', b_i'\}$ for $i=2, \ldots, t+1$. Show how to construct a partition of the set $\{2, 3, \ldots, 3n+1\}$ into $n$ triples.","We construct $n$ disjoint triples $A_i$ for $i=2, \ldots, n+1$ whose union is $\{2, \ldots, 3n+1\}$.\n1. For $i \in \{2, \ldots, t+1\}$, define $A_i = \{i, a_i' + (n-t), b_i' + (n-t)\}$. The union of these $t$ triples is $\{2, \ldots, t+1\} \cup \{n+2, \ldots, n+2t+1\}$.\n2. For $i \in \{t+2, \ldots, n+1\}$, define $A_i = \{i, n+t+i, 2n+i\}$. The union of these $n-t$ triples is $\{t+2, \ldots, n+1\} \cup \{n+2t+2, \ldots, 2n+t+1\} \cup \{2n+t+2, \ldots, 3n+1\}$.\nThe total union of all $n$ triples is $\{2, \ldots, t+1\} \cup \{t+2, \ldots, n+1\} \cup \{n+2, \ldots, n+2t+1\} \cup \{n+2t+2, \ldots, 2n+t+1\} \cup \{2n+t+2, \ldots, 3n+1\}$, which simplifies to $\{2, \ldots, 3n+1\}$.","Prove that for every positive integer $n$, the set $\{2,3,4, \ldots, 3 n+1\}$ can be partitioned into $n$ triples in such a way that the numbers from each triple are the lengths of the sides of some obtuse triangle.","We proceed by induction on $n$. The base case $n=1$ holds, as the set $\{2,3,4\}$ forms an obtuse triangle ($2^2+3^2=13 < 4^2=16$). For the inductive step, assume the statement is true for $t=\lfloor n/2 \rfloor < n$. We partition $\{2, \ldots, 3n+1\}$ into $n$ triples as constructed in the second sub-problem. We must verify all triples are obtuse.\n1. For $i \in \{2, \ldots, t+1\}$, the triples $A_i$ are obtuse by the result of the first sub-problem, since they are formed from the obtuse triples of the partition for $t$.\n2. For $i \in \{t+2, \ldots, n+1\}$, the triple is $A_i=\{i, n+t+i, 2n+i\}$. Let $a=i, b=n+t+i, c=2n+i$. The triangle inequality holds because $c-b = n-t < t+2 \le i = a$. The triangle is obtuse if $a^2+b^2 < c^2$, which is equivalent to $i^2 < (2n+i)^2 - (n+t+i)^2 = (n-t)(3n+t+2i)$. For $n \ge 2$, this inequality holds. Thus, the constructed partition consists of $n$ obtuse triples, completing the induction.",,
2011a6,"Let $f$ be a function from the set of real numbers to itself that satisfies


\begin{equation*}
f(x+y) \leq y f(x)+f(f(x)) \tag{1}
\end{equation*}


for all real numbers $x$ and $y$. Prove that $f(x)=0$ for all $x \leq 0$.",2,Let $f$ be a function from the set of real numbers to itself that satisfies $f(x+y) \leq y f(x)+f(f(x))$ for all real numbers $x$ and $y$. Prove that $a f(a) \leq 0$ for all real numbers $a$.,"Let $y=t-x$. The given inequality becomes $f(t) \leq (t-x)f(x) + f(f(x))$. For any real numbers $a, b$, set $(t,x)=(f(a), b)$ to get $f(f(a)) - f(f(b)) \leq f(a)f(b) - bf(b)$, and set $(t,x)=(f(b), a)$ to get $f(f(b)) - f(f(a)) \leq f(b)f(a) - af(a)$. Adding these two inequalities yields $0 \leq 2f(a)f(b) - af(a) - bf(b)$, which implies $af(a) + bf(b) \leq 2f(a)f(b)$. Let $b=2f(a)$, then $af(a) + 2f(a)f(2f(a)) \leq 2f(a)f(2f(a))$, which simplifies to $af(a) \leq 0$.",Let $f$ be a function from the set of real numbers to itself that satisfies $f(x+y) \leq y f(x)+f(f(x))$ for all real numbers $x$ and $y$. Prove that $f(x)=0$ for all $x \leq 0$.,"From the property $a f(a) \leq 0$ for all $a \in \mathbb{R}$, we have $f(a) \geq 0$ for all $a<0$. Assume for contradiction that $f(x) > 0$ for some $x$. The inequality $f(x+y) \leq yf(x) + f(f(x))$ implies that by choosing a sufficiently large negative $y$, we can make $f(x+y)$ negative. We can choose such a $y$ so that $x+y < 0$, which contradicts $f(a) \geq 0$ for $a<0$. Thus, $f(x) \leq 0$ for all $x \in \mathbb{R}$. Combining this with $f(x) \geq 0$ for $x<0$, we get $f(x)=0$ for all $x<0$. For $x=0$, we have $f(0) \leq 0$. Take any $x<0$ in the original inequality. Then $f(x)=0$, so $f(y) \leq f(0)$. Choosing $y<0$ gives $f(y)=0$, so $0 \leq f(0)$. Therefore, $f(0)=0$. Hence, $f(x)=0$ for all $x \leq 0$.",,,,
2011a7,"Let $a, b$, and $c$ be positive real numbers satisfying $\min (a+b, b+c, c+a)>\sqrt{2}$ and $a^{2}+b^{2}+c^{2}=3$. Prove that


\begin{equation*}
\frac{a}{(b+c-a)^{2}}+\frac{b}{(c+a-b)^{2}}+\frac{c}{(a+b-c)^{2}} \geq \frac{3}{(a b c)^{2}} . \tag{1}
\end{equation*}


Throughout both solutions, we denote the sums of the form $f(a, b, c)+f(b, c, a)+f(c, a, b)$ by $\sum f(a, b, c)$.",2,"Let $a, b, c$ be positive real numbers such that $a^2+b^2+c^2=3$. Prove that $\sum a^{5/2}(b+c-a) \leq 3abc$.","By Schur's inequality for exponent $r=3/2$, we have $\sum a^{3/2}(a-b)(a-c) \geq 0$, which is equivalent to $\sum a^{5/2}(b+c-a) \leq abc(\sqrt{a}+\sqrt{b}+\sqrt{c})$. By the Power Mean Inequality, we have $(\frac{\sqrt{a}+\sqrt{b}+\sqrt{c}}{3})^4 \leq \frac{a^2+b^2+c^2}{3} = \frac{3}{3} = 1$, which implies $\sqrt{a}+\sqrt{b}+\sqrt{c} \leq 3$. Combining these results, we get $\sum a^{5/2}(b+c-a) \leq abc(\sqrt{a}+\sqrt{b}+\sqrt{c}) \leq 3abc$.","Let $a, b$, and $c$ be positive real numbers satisfying $\min (a+b, b+c, c+a)>\sqrt{2}$ and $a^{2}+b^{2}+c^{2}=3$. Prove that $\frac{a}{(b+c-a)^{2}}+\frac{b}{(c+a-b)^{2}}+\frac{c}{(a+b-c)^{2}} \geq \frac{3}{(a b c)^{2}}$.","The condition $b+c>\sqrt{2}$ implies $b^2+c^2>1$, so $a^2=3-(b^2+c^2)<2$, which means $a<\sqrt{2}<b+c$. Thus, $b+c-a>0$, and similarly for the other denominators. We apply H\""older's inequality, $\sum \frac{x_i^3}{y_i^2} \ge \frac{(\sum x_i)^3}{(\sum y_i)^2}$, by rewriting the left hand side of the inequality as $\sum \frac{(a^2)^3}{(a^{5/2}(b+c-a))^2}$. This gives $\sum \frac{a}{(b+c-a)^2} \geq \frac{(a^2+b^2+c^2)^3}{(\sum a^{5/2}(b+c-a))^2} = \frac{27}{(\sum a^{5/2}(b+c-a))^2}$. Using the result from the previous sub-problem, $\sum a^{5/2}(b+c-a) \leq 3abc$, we have $(\sum a^{5/2}(b+c-a))^2 \leq (3abc)^2 = 9a^2b^2c^2$. Therefore, $\sum \frac{a}{(b+c-a)^2} \geq \frac{27}{9a^2b^2c^2} = \frac{3}{(abc)^2}$.",,,,
2011c2,"Suppose that 1000 students are standing in a circle. Prove that there exists an integer $k$ with $100 \leq k \leq 300$ such that in this circle there exists a contiguous group of $2 k$ students, for which the first half contains the same number of girls as the second half.",4,"Formalize the problem using a binary sequence and sum notation. Then, state the initial assumption for a proof by contradiction: for any integer $k$ with $100 \leq k \leq 300$, and any starting position $i$, the number of girls in a contiguous block of $2k$ students is not equal in the first and second halves.","Let $a_i=1$ if student $i$ is a girl and $a_i=0$ otherwise, for $i=1, \dots, 1000$ with indices taken modulo 1000. Let $S_k(i) = \sum_{j=0}^{k-1} a_{i+j}$ be the number of girls in a block of $k$ students starting at position $i$. The problem is to prove that there exist $k \in [100, 300]$ and an index $i$ such that $S_k(i) = S_k(i+k)$. For a proof by contradiction, we assume this is false: for all $k \in [100, 300]$ and all $i$, $S_k(i) \neq S_k(i+k)$.","Assuming the contrary, show that for $k=100$, the function $D_{100}(i) = S_{100}(i) - S_{100}(i+100)$ must change sign. Use this to prove there is an index $j$ such that $a_j=0, a_{j+100}=1$, and $a_{j+200}=0$.","By our assumption, $D_{100}(i) = S_{100}(i) - S_{100}(i+100) \neq 0$ for all $i$. Since $\sum_{i=1}^{1000} D_{100}(i) = 0$, $D_{100}(i)$ must take both positive and negative values. Thus, there exists an index $j$ where the sign changes, such that $S_{100}(j) \leq S_{100}(j+100)-1$ and $S_{100}(j+1) \geq S_{100}(j+101)+1$. Expressing $S_{100}(i+1)$ in terms of $S_{100}(i)$ and the $a_i$ values, we combine these inequalities to derive $2a_{j+100}-a_j-a_{j+200} \geq 2$. As $a_i \in \{0,1\}$, this forces $a_j=0, a_{j+100}=1, a_{j+200}=0$.","Using the specific student configuration found at positions $j$, $j+100$, and $j+200$, prove that an equality must hold for the number of girls in two specific blocks of size 99, namely $S_{99}(j+1) = S_{99}(j+101)$.","The condition $a_j=0, a_{j+100}=1, a_{j+200}=0$ makes the inequality $2a_{j+100}-a_j-a_{j+200} \geq 2$ an equality. This implies the two integer inequalities from which it was derived are also tight: $S_{100}(j) = S_{100}(j+100)-1$ and $S_{100}(j+1) = S_{100}(j+101)+1$. Substituting the values for $a_j, a_{j+100}, a_{j+200}$ and rewriting $S_{100}$ in terms of $S_{99}$ gives $S_{99}(j+1) \leq S_{99}(j+101)$ from the first equality, and $S_{99}(j+1) \geq S_{99}(j+101)$ from the second. This forces the equality $S_{99}(j+1) = S_{99}(j+101)$.","Suppose that 1000 students are standing in a circle. Prove that there exists an integer $k$ with $100 \leq k \leq 300$ such that in this circle there exists a contiguous group of $2 k$ students, for which the first half contains the same number of girls as the second half.","Let $\ell$ be the least positive integer such that $a_{j+200+\ell}=1$, and $k_{min}$ be the least positive integer such that $a_{j-k_{min}}=1$. Assume WLOG $k_{min} \ge \ell$. We must have $k_{min}<200$, otherwise $S_{100}(j-199)=S_{100}(j-99)=0$, a contradiction. Define $k' = 100+\ell$. Then $101 \leq k' \leq 299$, which is in the desired range. Let $i' = j-\ell+1$. Using the equality $S_{99}(j+1) = S_{99}(j+101)$ and the definitions of $\ell$ and $k_{min}$, we calculate $S_{k'}(i') = S_{100+\ell}(j-\ell+1) = S_{99}(j+1)+1$ and $S_{k'}(i'+k') = S_{100+\ell}(j+101) = S_{99}(j+101)+1$. Thus, $S_{k'}(i')=S_{k'}(i'+k')$. This is a contradiction to our initial assumption, proving the statement."
2011c3,"Let $\mathcal{S}$ be a finite set of at least two points in the plane. Assume that no three points of $\mathcal{S}$ are collinear. By a windmill we mean a process as follows. Start with a line $\ell$ going through a point $P \in \mathcal{S}$. Rotate $\ell$ clockwise around the pivot $P$ until the line contains another point $Q$ of $\mathcal{S}$. The point $Q$ now takes over as the new pivot. This process continues indefinitely, with the pivot always being a point from $\mathcal{S}$.

Show that for a suitable $P \in \mathcal{S}$ and a suitable starting line $\ell$ containing $P$, the resulting windmill will visit each point of $\mathcal{S}$ as a pivot infinitely often.",4,"Define an oriented line with two distinct sides. Show that during the windmill process, the number of points from $\mathcal{S}$ on each side of the line remains constant.","Let the line have an orange side and a blue side. When the pivot changes from a point $T$ to a point $Q$, $Q$ was on one side (say, orange) before the switch and on the line after. $T$ was on the line before the switch and is on the orange side after. All other points remain on their respective sides. Thus, the number of points on the orange side and on the blue side is an invariant of the process.","Let $|\mathcal{S}| = 2n+1$ be odd. Show that for any point $P \in \mathcal{S}$, there exists a line $\ell$ through $P$ that partitions the remaining $2n$ points of $\mathcal{S}$ into two sets of $n$ points.","Take an oriented line through $P$. Let it have $k$ points on its orange side. As we rotate the line by 180 degrees around $P$, the orange and blue sides swap. The number of points on the orange side becomes $2n-k$. Since the number of points on a side changes by at most 1 each time the line passes through a point of $\mathcal{S}$, by a discrete version of the Intermediate Value Theorem, there must be a position for the line where it has exactly $n$ points on its orange side.","Let $|\mathcal{S}| = 2n$ be even. Show that for any point $P \in \mathcal{S}$, there exists an oriented line $\ell$ through $P$ that partitions the remaining $2n-1$ points of $\mathcal{S}$ into a set of $n-1$ points on one side and $n$ points on the other.","Take an oriented line through $P$. Let the number of points on its orange and blue sides be $k$ and $2n-1-k$. The difference is $k - (2n-1-k) = 2k-2n+1$. After a 180-degree rotation, the sides are swapped and the difference becomes $(2n-1-k)-k = 2n-1-2k$, which is the negative of the original. Since the difference must change sign and is always odd, it must take values 1 or -1 at some orientation. This corresponds to a partition of $n$ and $n-1$ points.","Show that for a suitable $P \in \mathcal{S}$ and a suitable starting line $\ell$ containing $P$, the resulting windmill will visit each point of $\mathcal{S}$ as a pivot infinitely often.","First, choose any point $P \in \mathcal{S}$. If $|\mathcal{S}|=2n+1$, choose the starting line $\ell$ to partition $\mathcal{S}$ into $n$ points on each side (guaranteed by Sub-problem 2). If $|\mathcal{S}|=2n$, choose $\ell$ to partition $\mathcal{S}$ into $n-1$ and $n$ points (guaranteed by Sub-problem 3). By Sub-problem 1, this partition balance is an invariant. For any point $Q \in \mathcal{S}$, there exists a line through $Q$ with this same partition property. As no three points are collinear, this line is unique for a given direction. Therefore, when the windmill's line assumes that direction, it must pass through $Q$, making $Q$ a pivot. As the line rotates through all directions, it visits every point. Since the process continues indefinitely, each point is visited infinitely often."
2011c6,"Let $n$ be a positive integer and let $W=\ldots x_{-1} x_{0} x_{1} x_{2} \ldots$ be an infinite periodic word consisting of the letters $a$ and $b$. Suppose that the minimal period $N$ of $W$ is greater than $2^{n}$.

A finite nonempty word $U$ is said to appear in $W$ if there exist indices $k \leq \ell$ such that $U=x_{k} x_{k+1} \ldots x_{\ell}$. A finite word $U$ is called ubiquitous if the four words $U a, U b, a U$, and $b U$ all appear in $W$. Prove that there are at least $n$ ubiquitous finite nonempty words.",4,"For any finite word $R$ appearing in $W$, let $\mu(R)$ be its multiplicity (the number of times it appears as a subword $x_{i+1}...x_{i+m}$ for $i \in \{1, ..., N\}$). Prove that $\mu(R) = \mu(Ra) + \mu(Rb)$ and $\mu(R) = \mu(aR) + \mu(bR)$.","Each occurrence of the word $R$ in the periodic word $W$ must be succeeded by either the letter 'a' or 'b'. Occurrences of $R$ succeeded by 'a' correspond precisely to occurrences of the word $Ra$, and those succeeded by 'b' correspond to occurrences of $Rb$. As these two sets of occurrences are disjoint and their union accounts for all occurrences of $R$, we have $\mu(R) = \mu(Ra) + \mu(Rb)$. The identity $\mu(R) = \mu(aR) + \mu(bR)$ follows from a symmetric argument on the letter preceding each occurrence of $R$.",Show that there exists a finite word $U$ appearing in $W$ such that its multiplicity $\mu(U) > 2^{n-1}$.,"The sum of the multiplicities of the single-letter words 'a' and 'b' is equal to the length of the period, so $\mu(a) + \mu(b) = N$. Since we are given that the minimal period $N > 2^n$, it follows that $\mu(a) + \mu(b) > 2^n$. Therefore, at least one of $\mu(a)$ or $\mu(b)$ must be strictly greater than $2^n/2 = 2^{n-1}$. The corresponding letter is a word with the required property.","For any integer $k \ge 0$, show that if there exists a word with multiplicity greater than $2^k$, then there exists a ubiquitous word $U_k$ with multiplicity $\mu(U_k) > 2^k$.","Let $S_k$ be the set of all words in $W$ with multiplicity greater than $2^k$; by hypothesis, this set is non-empty. Let $U_k$ be a word in $S_k$ of maximal possible length. By definition, $\mu(U_k) > 2^k$. Consider the word $U_ka$. It is longer than $U_k$, so by the maximality of $U_k$'s length, its multiplicity must be $\mu(U_ka) \le 2^k$. If $\mu(U_ka)$ were 0, then from the identity in Sub-problem 1, $\mu(U_kb) = \mu(U_k) > 2^k$. But $U_kb$ is also longer than $U_k$, which contradicts the maximality of $U_k$'s length. Thus, $\mu(U_ka) > 0$. A symmetric argument shows $\mu(U_kb) > 0$. Using the identity $\mu(R) = \mu(aR)+\mu(bR)$, similar arguments prove that $\mu(aU_k)>0$ and $\mu(bU_k)>0$. So $U_ka, U_kb, aU_k, bU_k$ all appear in $W$, which means $U_k$ is ubiquitous.",Prove that there are at least $n$ ubiquitous finite nonempty words.,"For each integer $k \in \{0, 1, \ldots, n-1\}$, we have $N > 2^n > 2^k$. By Sub-problem 2, a word exists with multiplicity $>2^k$. By Sub-problem 3, we can then define a ubiquitous word $U_k$ to be a word of maximal length subject to the property $\mu(U_k) > 2^k$. If $\mu(U_k)$ were greater than $2^{k+1}$, then from $\mu(U_k) = \mu(U_ka) + \mu(U_kb)$, at least one of $\mu(U_ka)$ or $\mu(U_kb)$ would have to be greater than $2^k$. This would contradict the maximal length of $U_k$, since both $U_ka$ and $U_kb$ are longer. Therefore, we must have the bounds $2^k < \mu(U_k) \le 2^{k+1}$ for each $k$. This gives a sequence of inequalities $\mu(U_0) \le 2 < \mu(U_1) \le 4 < \ldots < \mu(U_{n-1})$. Since their multiplicities are strictly increasing, the words $U_0, U_1, \ldots, U_{n-1}$ must all be distinct. We have thus found $n$ distinct ubiquitous words."
2011g1,Let $A B C$ be an acute triangle. Let $\omega$ be a circle whose center $L$ lies on the side $B C$. Suppose that $\omega$ is tangent to $A B$ at $B^{\prime}$ and to $A C$ at $C^{\prime}$. Suppose also that the circumcenter $O$ of the triangle $A B C$ lies on the shorter arc $B^{\prime} C^{\prime}$ of $\omega$. Prove that the circumcircle of $A B C$ and $\omega$ meet at two points.,3,"Let $\alpha = \angle CAB$. Using the geometric conditions of the problem, particularly that the circumcenter $O$ lies on the shorter arc $B'C'$ of circle $\omega$, establish an inequality for $\alpha$ and prove that $\alpha < 60^\circ$.","The circumcenter $O$ is inside $\triangle AB'C'$, which implies $\angle COB < \angle C'OB'$. The angle at the circumcenter is $\angle COB = 2\angle CAB = 2\alpha$. In the kite $AB'LC'$, the angle at the center $L$ is $\angle B'LC' = 180^\circ - \alpha$. Since $O$ lies on the shorter arc $B'C'$ of $\omega$, the angle subtended is $\angle C'OB' = \frac{1}{2}(360^\circ - (180^\circ - \alpha)) = 90^\circ + \alpha/2$. The inequality $2\alpha < 90^\circ + \alpha/2$ gives $3\alpha/2 < 90^\circ$, which simplifies to $\alpha < 60^\circ$.",Let $O'$ be the reflection of the circumcenter $O$ across the line $BC$. Prove that $O'$ lies on circle $\omega$ and is outside the circumcircle of $\triangle ABC$.,"The center $L$ of circle $\omega$ lies on the line of reflection $BC$. Since $O$ is on $\omega$ (with center $L$), its reflection $O'$ across a line passing through the center must also lie on $\omega$. To show $O'$ is outside the circumcircle of $\triangle ABC$, we consider the sum of opposite angles in the quadrilateral $ABO'C$. We have $\angle CAB = \alpha$. Since reflection is an isometry, $\angle CO'B = \angle COB = 2\alpha$. The sum is $\angle CAB + \angle CO'B = \alpha + 2\alpha = 3\alpha$. From the previous sub-problem, $\alpha < 60^\circ$, so $3\alpha < 180^\circ$. This implies that the point $O'$ lies outside the circumcircle of $\triangle ABC$.",Let $A B C$ be an acute triangle. Let $\omega$ be a circle whose center $L$ lies on the side $B C$. Suppose that $\omega$ is tangent to $A B$ at $B^{\prime}$ and to $A C$ at $C^{\prime}$. Suppose also that the circumcenter $O$ of the triangle $A B C$ lies on the shorter arc $B^{\prime} C^{\prime}$ of $\omega$. Prove that the circumcircle of $A B C$ and $\omega$ meet at two points.,"The circumcenter $O$ is the center of the circumcircle of $\triangle ABC$ and thus lies inside it. By the problem statement, $O$ also lies on circle $\omega$. Let $O'$ be the reflection of $O$ in the line $BC$. As established in the previous step, $O'$ also lies on $\omega$ and is located outside the circumcircle of $\triangle ABC$. Since circle $\omega$ is a continuous path containing a point $O$ inside the circumcircle and a point $O'$ outside it, the two circles must intersect. As they are distinct circles and not tangent, they must meet at two distinct points.",,
2011g2,"Let $A_{1} A_{2} A_{3} A_{4}$ be a non-cyclic quadrilateral. Let $O_{1}$ and $r_{1}$ be the circumcenter and the circumradius of the triangle $A_{2} A_{3} A_{4}$. Define $O_{2}, O_{3}, O_{4}$ and $r_{2}, r_{3}, r_{4}$ in a similar way. Prove that

$$
\frac{1}{O_{1} A_{1}^{2}-r_{1}^{2}}+\frac{1}{O_{2} A_{2}^{2}-r_{2}^{2}}+\frac{1}{O_{3} A_{3}^{2}-r_{3}^{2}}+\frac{1}{O_{4} A_{4}^{2}-r_{4}^{2}}=0 .
$$",2,"Let $M$ be the intersection of the diagonals $A_1A_3$ and $A_2A_4$. Let $x, y, z, w$ be the signed distances from $M$ to $A_1, A_2, A_3, A_4$ respectively, along the lines containing the diagonals. Express the quantity $O_1 A_1^2 - r_1^2$ in terms of $x, y, z, w$.","The expression $O_1 A_1^2 - r_1^2$ is the power of point $A_1$ with respect to the circumcircle of $\triangle A_2 A_3 A_4$, which we call $\omega_1$. Let the line $A_1A_3$ intersect $\omega_1$ at a second point $B_1$. The power of $A_1$ is $A_1 B_1 \cdot A_1 A_3$. The power of the diagonal intersection $M$ with respect to $\omega_1$ is $MA_2 \cdot MA_4 = MB_1 \cdot MA_3$. Using signed distances, this is $yw = (MB_1)z$, so $MB_1 = yw/z$. Thus, $A_1B_1 = MB_1 - MA_1 = yw/z - x$ and $A_1A_3 = MA_3 - MA_1 = z-x$. Therefore, $O_1 A_1^2 - r_1^2 = (yw/z-x)(z-x) = \frac{z-x}{z}(yw-xz)$.","Let $A_{1} A_{2} A_{3} A_{4}$ be a non-cyclic quadrilateral. Let $O_{1}$ and $r_{1}$ be the circumcenter and the circumradius of the triangle $A_{2} A_{3} A_{4}$. Define $O_{2}, O_{3}, O_{4}$ and $r_{2}, r_{3}, r_{4}$ in a similar way. Prove that

$$
\frac{1}{O_{1} A_{1}^{2}-r_{1}^{2}}+\frac{1}{O_{2} A_{2}^{2}-r_{2}^{2}}+\frac{1}{O_{3} A_{3}^{2}-r_{3}^{2}}+\frac{1}{O_{4} A_{4}^{2}-r_{4}^{2}}=0 .
$$","Let $M$ be the intersection of diagonals and $x,y,z,w$ be the signed distances from $M$ to vertices $A_1, A_2, A_3, A_4$. From the first sub-problem, we have $O_1 A_1^2 - r_1^2 = \frac{z-x}{z}(yw-xz)$. The other terms are obtained by cyclic permutation: $O_2 A_2^2 - r_2^2 = \frac{w-y}{w}(xz-yw)$, $O_3 A_3^2 - r_3^2 = \frac{x-z}{x}(yw-xz)$, and $O_4 A_4^2 - r_4^2 = \frac{y-w}{y}(xz-yw)$. The sum of the reciprocals is $\frac{1}{yw-xz}\left(\frac{z}{z-x}-\frac{w}{w-y}+\frac{x}{x-z}-\frac{y}{y-w}\right) = \frac{1}{yw-xz}\left(\frac{z-x}{z-x} - \frac{w-y}{w-y}\right) = \frac{1}{yw-xz}(1-1)=0$.",,,,
2011g3,"Let $A B C D$ be a convex quadrilateral whose sides $A D$ and $B C$ are not parallel. Suppose that the circles with diameters $A B$ and $C D$ meet at points $E$ and $F$ inside the quadrilateral. Let $\omega_{E}$ be the circle through the feet of the perpendiculars from $E$ to the lines $A B, B C$, and $C D$. Let $\omega_{F}$ be the circle through the feet of the perpendiculars from $F$ to the lines $C D, D A$, and $A B$. Prove that the midpoint of the segment $E F$ lies on the line through the two intersection points of $\omega_{E}$ and $\omega_{F}$.",3,"Let $E$ be a point on the circles with diameters $AB$ and $CD$. Let $\omega_E$ be the circle passing through the feet of the perpendiculars from $E$ to lines $AB, BC, CD$. Let $P$ be the foot of the perpendicular from $E$ to $AD$. Prove that $P$ also lies on $\omega_E$. Furthermore, if $AD$ and $BC$ intersect, let $R$ be the foot of the perpendicular from $E$ to $BC$, and define $P' = EP \cap BC$ and $R' = ER \cap AD$. Prove that $P'$ and $R'$ also lie on $\omega_E$.","Let $P, Q, R, S$ be the feet of the perpendiculars from $E$ to $DA, AB, BC, CD$. Since $E$ is on the circle with diameter $AB$, $\angle AEB = 90^\circ$. The feet of the perpendiculars $P,Q$ lie on the circle with diameter $AE$, giving $\angle QPE = \angle QAE$. Similarly, $Q,R$ lie on the circle with diameter $BE$, giving $\angle QRE = \angle QBE$. Thus, $\angle QPE + \angle QRE = \angle QAE + \angle QBE = \angle AEB = 90^\circ$. A similar argument using the circle with diameter $CD$ through $E$ gives $\angle SPE + \angle SRE = 90^\circ$. Summing these, we get $\angle QPS + \angle QRS = 180^\circ$, so $P,Q,R,S$ are concyclic. Thus $P$ lies on $\omega_E$, the circle through $Q,R,S$. For point $P'$, since $R,E,Q,B$ are concyclic (on the circle with diameter $BE$), we have $\angle QRP' = \angle QRE = \angle QBE = 90^\circ - \angle BAE = \angle QAE$. Since $A,Q,E,P$ are concyclic (on the circle with diameter $AE$), $\angle QAE = \angle QPE = \angle QPP'$. So $\angle QRP' = \angle QPP'$, which implies that $P'$ lies on the circle through $Q,R,P$, which is $\omega_E$. A symmetric argument shows $R'$ also lies on $\omega_E$.","Let $K = AD \cap BC$. For points $E$ and $F$, let $P,R$ and $M,N$ be their respective projections on lines $AD,BC$. Define points $U = (EP) \cap (FN)$ and $V = (ER) \cap (FM)$. Prove that line $UV$ is the radical axis of the pedal circles $\omega_E$ and $\omega_F$.","Let $P' = EP \cap BC$ and $N' = FN \cap AD$. From sub-problem 1, $P$ and $P'$ lie on $\omega_E$. Similarly, $N$ (as a projection) and $N'$ lie on $\omega_F$. The point $U$ is the intersection of the line $PP'$ (which is $EP$) and the line $NN'$ (which is $FN$). For $U$ to lie on the radical axis of $\omega_E$ and $\omega_F$, its power with respect to both circles must be equal. The power of $U$ w.r.t. $\omega_E$ is $UP \cdot UP'$, and w.r.t. $\omega_F$ is $UN \cdot UN'$. The equality $UP \cdot UP' = UN \cdot UN'$ holds if the four points $P, P', N, N'$ are concyclic. Their concyclicity can be established by showing that $KP \cdot KN' = KP' \cdot KN$, where $K=AD \cap BC$. This relation is a known geometric property. Thus, $U$ lies on the radical axis. A symmetric argument shows that $V=(ER)\cap(FM)$ also lies on the radical axis. Therefore, the line $UV$ is the radical axis of $\omega_E$ and $\omega_F$.","Let $A B C D$ be a convex quadrilateral whose sides $A D$ and $B C$ are not parallel. Suppose that the circles with diameters $A B$ and $C D$ meet at points $E$ and $F$ inside the quadrilateral. Let $\omega_{E}$ be the circle through the feet of the perpendiculars from $E$ to the lines $A B, B C$, and $C D$. Let $\omega_{F}$ be the circle through the feet of the perpendiculars from $F$ to the lines $C D, D A$, and $A B$. Prove that the midpoint of the segment $E F$ lies on the line through the two intersection points of $\omega_{E}$ and $\omega_{F}$.","The line through the intersection points of $\omega_E$ and $\omega_F$ is their radical axis. Let $P,R$ be the projections of $E$ on $AD,BC$, and $M,N$ be the projections of $F$ on $AD,BC$. From sub-problem 2, the radical axis is the line $UV$, where $U = (EP) \cap (FN)$ and $V = (ER) \cap (FM)$. By definition of projections, $EP \perp AD$ and $FM \perp AD$, so the lines $EP$ and $FM$ are parallel. Similarly, $ER \perp BC$ and $FN \perp BC$, so the lines $ER$ and $FN$ are parallel. The quadrilateral $EUFV$ has vertices at the intersections of two pairs of parallel lines: $E = (EP) \cap (ER)$, $U = (EP) \cap (FN)$, $F = (FN) \cap (FM)$, and $V = (ER) \cap (FM)$. Therefore, $EUFV$ is a parallelogram. In a parallelogram, the diagonals bisect each other. Thus, the midpoint of the diagonal $EF$ is also the midpoint of the diagonal $UV$. The midpoint of the segment $UV$ lies on the line $UV$. Consequently, the midpoint of $EF$ also lies on the line $UV$, which is the radical axis of $\omega_E$ and $\omega_F$.",,
2011g4,"Let $A B C$ be an acute triangle with circumcircle $\Omega$. Let $B_{0}$ be the midpoint of $A C$ and let $C_{0}$ be the midpoint of $A B$. Let $D$ be the foot of the altitude from $A$, and let $G$ be the centroid of the triangle $A B C$. Let $\omega$ be a circle through $B_{0}$ and $C_{0}$ that is tangent to the circle $\Omega$ at a point $X \neq A$. Prove that the points $D, G$, and $X$ are collinear.",3,"Let $\Omega_1$ be the circumcircle of $\triangle AB_0C_0$. Let $a$ be the tangent to $\Omega$ at $A$ and $x$ be the tangent to $\Omega$ at $X$. Show that the lines $a$, $x$, and $B_0C_0$ are concurrent at a point $W$, and that this point $W$ is the circumcenter of $\triangle ADX$.","The circles $\Omega$, $\omega$, and $\Omega_1$ have three radical axes: the tangent $a$ for $\Omega$ and $\Omega_1$, the tangent $x$ for $\Omega$ and $\omega$, and the line $B_0C_0$ for $\omega$ and $\Omega_1$. Since these circles are distinct, their radical axes must concur at a single point, $W$. As $W$ is the radical center, the power of $W$ with respect to each circle is the same. From circles $\Omega$ and $\Omega_1$, we have $WA^2=WX^2$, so $WA=WX$. The line $B_0C_0$ is the medial line of $\triangle ABC$ parallel to $BC$. The reflection of $A$ across the line $B_0C_0$ is the point $D$. Since $W$ lies on $B_0C_0$, $W$ is equidistant from $A$ and $D$, so $WA=WD$. Combining these, we get $WA=WX=WD$, which means $W$ is the circumcenter of $\triangle ADX$.",Let $T$ be the second intersection point of the line $DX$ with the circumcircle $\Omega$. Prove that the line segment $AT$ is parallel to $BC$.,"Let $W$ be the circumcenter of $\triangle ADX$ and $O$ be the center of $\Omega$. Since $W$ is the radical center from Sub-problem 1, $WA$ and $WX$ are tangents to $\Omega$. Thus, $\angle WAO = \angle WXO = 90^\circ$, which implies that the quadrilateral $WAOX$ is cyclic and $\angle AWX + \angle AOX = 180^\circ$. Let $\gamma$ be the circumcircle of $\triangle ADX$ with center $W$. In $\triangle ADT$, we have $\angle DAT = |\angle ADX - \angle ATD|$. In circle $\gamma$, $\angle ADX = 180^\circ - \frac{1}{2}\angle AWX$. In circle $\Omega$, $\angle ATD = \angle ATX = \frac{1}{2}\angle AOX$. Therefore, $\angle DAT = |180^\circ - \frac{1}{2}\angle AWX - \frac{1}{2}\angle AOX| = |180^\circ - \frac{1}{2}(\angle AWX + \angle AOX)| = |180^\circ - \frac{1}{2}(180^\circ)| = 90^\circ$. So, $AD \perp AT$. By definition, $AD \perp BC$. Thus, $AT \parallel BC$.","Prove that the points $D, G$, and $X$ are collinear.","From Sub-problem 2, we have $AT \parallel BC$, where $T$ is the second intersection of line $DX$ with $\Omega$. This means $ATCB$ is an isosceles trapezoid. Consider the homothety $h$ with center $G$ and factor $-1/2$. This homothety maps $\triangle ABC$ to its medial triangle $\triangle A_0B_0C_0$. The point $T$ on $\Omega$ is mapped to a point $h(T)$ on the nine-point circle. The line $AT$ is mapped to a line through $h(A)=A_0$ parallel to $AT$. Since $AT \parallel BC$, this image line is the line $BC$ itself. Thus, $h(T)$ lies on both the nine-point circle and the line $BC$. The only such points are $A_0$ and $D$. Since $X \neq A$, we have $T \neq A$, so $h(T) \neq h(A)=A_0$. Hence, $h(T)=D$. By the definition of homothety, points $T, G, D$ are collinear. Since $T$ was defined to be on the line $DX$, points $D, X, T$ are also collinear. Therefore, the points $D, G, X$ lie on the same line.",,
2011g5,"Let $A B C$ be a triangle with incenter $I$ and circumcircle $\omega$. Let $D$ and $E$ be the second intersection points of $\omega$ with the lines $A I$ and $B I$, respectively. The chord $D E$ meets $A C$ at a point $F$, and $B C$ at a point $G$. Let $P$ be the intersection point of the line through $F$ parallel to $A D$ and the line through $G$ parallel to $B E$. Suppose that the tangents to $\omega$ at $A$ and at $B$ meet at a point $K$. Prove that the three lines $A E, B D$, and $K P$ are either parallel or concurrent.",3,"Let $A, B, C, I, \omega, D, E, F, G$ be defined as in the problem. Prove that the quadrilateral $AIFE$ and the quadrilateral $BDGI$ are cyclic.","To prove $AIFE$ is cyclic, we show $\\angle IAF = \\angle IEF$. Using the property that $AI$ is the angle bisector and that points $A,B,D,E$ are on the circumcircle $\\omega$, we have $\\angle IAF = \\angle IAC = \\angle IAB = \\angle DAB = \\angle DEB$. Since $F$ lies on $DE$ and $I$ on $BE$, $\\angle DEB = \\angle IEF$. Thus, $\\angle IAF = \\angle IEF$, which implies $A,I,F,E$ are concyclic. Similarly, to prove $BDGI$ is cyclic, we show $\\angle IBG = \\angle IDG$. We have $\\angle IBG = \\angle IBC = \\angle IBA = \\angle EBA = \\angle EDA$. Since $G$ lies on $DE$, $\\angle EDA = \\angle GDI$. Thus, $\\angle IBG = \\angle IDG$, which implies $B,D,G,I$ are concyclic.",Let $\\omega_1$ be the circumcircle of the cyclic quadrilateral $AIFE$ and $\\omega_2$ be the circumcircle of the cyclic quadrilateral $BDGI$. Prove that the line $KP$ is the radical axis of $\\omega_1$ and $\\omega_2$.,"Let the radical axis of $\\omega_1$ and $\\omega_2$ be the line $t$, passing through their intersections $I$ and some point $L$. We show $K$ and $P$ lie on $t$. Using oriented angles, we establish the relation $\\angle(AL, LI) = \\angle(AE, EI) = \\angle(AE, EB) = \\angle(AB, BK)$, where the last equality follows from the properties of the tangent to $\\omega$ at $B$. This angular relation implies that $K$ must lie on the line $IL$. Similarly, for $P$, we establish $\\angle(IL, LG) = \\angle(ID, DG) = \\angle(AD, DE)$. By construction, the line $PF$ is parallel to $AD$, so $\\angle(AD, DE) = \\angle(PF, DE) = \\angle(PF, FG)$. Thus, $\\angle(IL, LG) = \\angle(PF, FG)$. This relation implies that $P$ must also lie on the line $IL$. Therefore, the line $KP$ coincides with the line $IL$, the radical axis of $\\omega_1$ and $\\omega_2$.","Let $A B C$ be a triangle with incenter $I$ and circumcircle $\\omega$. Let $D$ and $E$ be the second intersection points of $\\omega$ with the lines $A I$ and $B I$, respectively. The chord $D E$ meets $A C$ at a point $F$, and $B C$ at a point $G$. Let $P$ be the intersection point of the line through $F$ parallel to $A D$ and the line through $G$ parallel to $B E$. Suppose that the tangents to $\\omega$ at $A$ and at $B$ meet at a point $K$. Prove that the three lines $A E, B D$, and $K P$ are either parallel or concurrent.","Consider the three circles: the circumcircle $\\omega$ of $\triangle ABC$, the circumcircle $\\omega_1$ of quadrilateral $AIFE$, and the circumcircle $\\omega_2$ of quadrilateral $BDGI$. As established in Sub-problem 1, both quadrilaterals are cyclic. The line $AE$ passes through the intersection points of $\\omega$ and $\\omega_1$, so it is their radical axis. The line $BD$ passes through the intersection points of $\\omega$ and $\\omega_2$, so it is their radical axis. From Sub-problem 2, the line $KP$ is the radical axis of $\\omega_1$ and $\\omega_2$. By the Radical Axis Theorem, the three radical axes of three circles taken in pairs must be either concurrent at the radical center or parallel. Therefore, the lines $AE$, $BD$, and $KP$ are either concurrent or parallel.",,
2011g6,"Let $A B C$ be a triangle with $A B=A C$, and let $D$ be the midpoint of $A C$. The angle bisector of $\angle B A C$ intersects the circle through $D, B$, and $C$ in a point $E$ inside the triangle $A B C$. The line $B D$ intersects the circle through $A, E$, and $B$ in two points $B$ and $F$. The lines $A F$ and $B E$ meet at a point $I$, and the lines $C I$ and $B D$ meet at a point $K$. Show that $I$ is the incenter of triangle $K A B$.",3,Show that the line $BI$ is the angle bisector of $\angle ABK$.,"Let $D'$ be the midpoint of $AB$. By symmetry of the isosceles triangle $ABC$ with respect to the angle bisector of $\angle BAC$ (line $AM$), $D'$ lies on the circle through $B, C, D$. As $E$ also lies on this axis of symmetry, $ED = ED'$. In the circle passing through $B, D, E, D'$, the equal chords $ED$ and $ED'$ subtend equal angles at point $B$, so $\angle EBD = \angle EBD'$. This is equivalent to $\angle IBK = \angle ABI$, which means $BI$ bisects $\angle ABK$.",Prove that triangles $ADK$ and $BDA$ are similar.,"First, we establish that $\triangle AFD$ is isosceles with $AD=DF$. This follows from angle chasing: $\angle DFA = 180^{\circ} - \angle BFA = 180^{\circ} - \angle BEA = \frac{1}{2} \angle CDB$, which is shown to equal $\angle DAF$. Next, apply Menelaus's theorem to $\triangle ADF$ and transversal $CIK$. Using $AC=2CD$ and the Angle Bisector Theorem for $BI$ in $\triangle ABF$ ($rac{FI}{IA} = rac{BF}{AB}$), we derive $\frac{BF}{AD} = \frac{KF}{DK}$. This leads to $\frac{BD}{AD} = \frac{BF+FD}{AD} = \frac{BF}{AD} + \frac{FD}{AD} = \frac{KF}{DK}+1 = \frac{DF}{DK}$. Since $AD=DF$, we get $\frac{BD}{AD}=\frac{AD}{DK}$. As $\angle BDA$ is common to both triangles, $\triangle ADK \sim \triangle BDA$ by SAS similarity.",Show that $I$ is the incenter of triangle $KAB$.,"From the first sub-problem, $BI$ is the angle bisector of $\angle ABK$. From the second sub-problem, the similarity $\triangle ADK \sim \triangle BDA$ implies $\angle DAK = \angle ABD$. The proof of similarity also required showing $\triangle AFD$ is isosceles with $\angle DAF = \angle DFA$. We can write $\angle IAB = \angle FAB = \angle DAF - \angle ABD$. Substituting the angle equalities gives $\angle IAB = \angle DAF - \angle DAK = \angle KAF = \angle KAI$. Thus, $AI$ is the angle bisector of $\angle BAK$. Since $I$ is the intersection of two angle bisectors of $\triangle KAB$, it is the incenter.",,
2011g7,Let $A B C D E F$ be a convex hexagon all of whose sides are tangent to a circle $\omega$ with center $O$. Suppose that the circumcircle of triangle $A C E$ is concentric with $\omega$. Let $J$ be the foot of the perpendicular from $B$ to $C D$. Suppose that the perpendicular from $B$ to $D F$ intersects the line $E O$ at a point $K$. Let $L$ be the foot of the perpendicular from $K$ to $D E$. Prove that $D J=D L$.,3,"Let $A B C D E F$ be a convex hexagon all of whose sides are tangent to a circle $\omega$ with center $O$. Suppose that the circumcircle of triangle $A C E$ is concentric with $\omega$. Show that $AB=BC$, $CD=DE$, $EF=FA$ and $\angle BCD = \angle DEF = \angle FAB$.","Let $r$ be the radius of $\omega$ and let $t_V$ denote the length of the tangent from a vertex $V$ to $\omega$. The distance from $O$ to a vertex $V$ is given by $OV^2 = r^2 + t_V^2$. Since the circumcircle of $\triangle ACE$ is centered at $O$, we have $OA=OC=OE$. This implies $r^2+t_A^2 = r^2+t_C^2 = r^2+t_E^2$, which gives $t_A=t_C=t_E$. The side lengths of the hexagon are $AB = t_A+t_B$, $BC=t_B+t_C$, $CD=t_C+t_D$, $DE=t_D+t_E$, $EF=t_E+t_F$, and $FA=t_F+t_A$. From $t_A=t_C$ it follows that $AB=BC$. From $t_C=t_E$ it follows that $CD=DE$. From $t_E=t_A$ it follows that $EF=FA$. These side equalities on a tangential hexagon with incenter $O$ concentric with the circumcircle of $\triangle ACE$ also imply the angle equalities $\angle BCD=\angle DEF=\angle FAB$.",Consider a rotation around point $D$ that maps $C$ to $E$. Let $B'$ and $L'$ be the images of points $B$ and $J$ respectively. Define $K'$ as the intersection of the line $EO$ with the line passing through $B'$ and $L'$. Show that proving the original problem statement ($DJ=DL$) is equivalent to proving that $K'B \perp DF$.,"From sub-problem 1, we have $CD=DE$, so a rotation around $D$ mapping $C$ to $E$ exists. Let $B'$ and $L'$ be the images of $B$ and $J$. By the properties of rotation, we have $\triangle BCD \cong \triangle B'ED$, $DJ=DL'$, and since $BJ \perp CD$, we have $B'L' \perp DE$. The goal is to prove $DJ=DL$. Given $DJ=DL'$, this is equivalent to proving $L=L'$. $L$ is the foot of the perpendicular from $K$ to $DE$. $L'$ is the foot of the perpendicular from $B'$ to $DE$. Thus, the line $B'L'$ is the perpendicular from $B'$ to $DE$. Let $K'$ be the intersection of $EO$ and the line $B'L'$. Then $L'$ is also the foot of the perpendicular from $K'$ to $DE$. For $L$ to be equal to $L'$, given that both $K$ and $K'$ lie on $EO$, we must have $K=K'$. The point $K$ is defined as the intersection of $EO$ and the line through $B$ perpendicular to $DF$. Since $K'$ is on $EO$ by definition, showing $K=K'$ is equivalent to showing that $K'$ lies on the perpendicular from $B$ to $DF$, i.e., proving $K'B \perp DF$.",Let $A B C D E F$ be a convex hexagon all of whose sides are tangent to a circle $\omega$ with center $O$. Suppose that the circumcircle of triangle $A C E$ is concentric with $\omega$. Let $J$ be the foot of the perpendicular from $B$ to $C D$. Suppose that the perpendicular from $B$ to $D F$ intersects the line $E O$ at a point $K$. Let $L$ be the foot of the perpendicular from $K$ to $D E$. Prove that $D J=D L$.,"From sub-problem 2, we need to prove $K'B \perp DF$. Consider a rotation around $F$ mapping $A$ to $E$ (possible since $FA=FE$). Let $B''$ be the image of $B$. Then $\triangle FAB \cong \triangle FEB''$, so $EB''=AB$ and $\angle FEB'' = \angle FAB$. From sub-problem 1, $AB=BC$ and $\angle FAB=\angle BCD$. The first rotation gave $EB'=BC$ and $\angle DEB'=\angle BCD$. Thus, $EB'=EB''$ and $\angle DEB'=\angle FEB''$. Since $O$ is the incenter, $EO$ bisects $\angle DEF$, so $B'$ and $B''$ are symmetric with respect to line $EO$. As $K'$ is on $EO$, this symmetry implies that the line $K'B''$ is the reflection of $K'B'$ across $EO$. Since reflection maps $DE$ to $FE$ and preserves perpendicularity, $K'B' \perp DE$ implies $K'B'' \perp FE$. Using the property $XY \perp ZW \iff XZ^2-XW^2 = YZ^2-YW^2$, we get: 1) $K'D^2-K'E^2 = B'D^2-B'E^2$ and 2) $K'E^2-K'F^2 = B''E^2-B''F^2$. Adding these and using $B'E=B''E$ gives $K'D^2-K'F^2 = B'D^2-B''F^2$. From the rotations, $B'D=BD$ and $B''F=BF$, so $K'D^2-K'F^2=BD^2-BF^2$. This is the condition for $K'B \perp DF$. Thus $K=K'$, which implies $L=L'$, and from $DJ=DL'$ we conclude $DJ=DL$.",,
2011g8,"Let $A B C$ be an acute triangle with circumcircle $\omega$. Let $t$ be a tangent line to $\omega$. Let $t_{a}, t_{b}$, and $t_{c}$ be the lines obtained by reflecting $t$ in the lines $B C, C A$, and $A B$, respectively. Show that the circumcircle of the triangle determined by the lines $t_{a}, t_{b}$, and $t_{c}$ is tangent to the circle $\omega$.

To avoid a large case distinction, we will use the notion of oriented angles. Namely, for two lines $\ell$ and $m$, we denote by $\angle(\ell, m)$ the angle by which one may rotate $\ell$ anticlockwise to obtain a line parallel to $m$. Thus, all oriented angles are considered modulo $180^{\circ}$.",4,"Let $A', B', C'$ be the vertices of the triangle formed by the lines $t_a, t_b, t_c$. Construct a triangle $A''B''C''$ with vertices on the circumcircle $\omega$ such that its sides are parallel to the sides of triangle $A'B'C'$.","Define points $A'', B'', C''$ on $\omega$ such that $A, B, C$ are the midpoints of the arcs $TA'', TB'', TC''$ respectively, where $T$ is the tangency point of $t$ and $\omega$. By the definition of reflection, the oriented angle from $t$ to $t_a$ is twice the angle from $t$ to $BC$. Using the inscribed angle theorem and properties of arcs, the oriented angle from $t$ to the line $B''C''$ is also twice the angle from $t$ to $BC$. Thus, $t_a$ is parallel to $B''C''$. Similarly, $t_b \parallel A''C''$ and $t_c \parallel A''B''$. Therefore, triangles $A'B'C'$ and $A''B''C''$ have parallel sides.",Let $B' = t_a \cap t_c$ and $C' = t_a \cap t_b$. Let $I$ be the point of intersection of the lines $BB'$ and $CC'$. Prove that $I$ lies on the circumcircle $\omega$.,"We prove that $A, B, I, C$ are concyclic by showing $\angle(BI, CI) = \angle(BA, CA)$. Let $D=t \cap BC$ and $F=t \cap AB$. Due to the reflection properties, $B$ is an incenter or excenter of triangle $B'DF$. An angle formula for angle bisectors gives $\angle(B'B, t_a) = 90^{\circ} - \angle(BC, AB)$. Similarly, $\angle(C'C, t_a) = 90^{\circ} - \angle(BC, AC)$. It follows that $\angle(BI, CI) = \angle(B'B, C'C) = \angle(BC, AC) - \angle(BC, AB) = \angle(AB, AC)$, which proves that $I$ lies on $\omega$.","With points $B'', C''$ defined as in the first step, let $X$ be the intersection of lines $B''C$ and $BC''$. Show that $X$ lies on the line $t_a$.","This is proven by showing that $X$ is the reflection of the point of tangency $T$ in the line $BC$. The lines $CT$ and $CB''$ are symmetric with respect to $BC$, and so are the lines $BT$ and $BC''$. This implies that the reflection of $T$ in $BC$ lies on both $CB''$ and $BC''$, hence it is their intersection point $X$. Since $t_a$ is the reflection of $t$ in $BC$ and $T$ lies on $t$, its reflection $X$ must lie on $t_a$.","Show that the circumcircle of the triangle determined by the lines $t_{a}, t_{b}$, and $t_{c}$ is tangent to the circle $\omega$.","From sub-problem 1, $\triangle A'B'C'$ and $\triangle A''B''C''$ have parallel sides, so they are homothetic. Let $K$ be the second intersection of line $B'B''$ and circle $\omega$. By sub-problem 2, the point $I=BB'\cap CC'$ is on $\omega$. Applying Pascal's theorem to the hexagon $K B'' C I B C''$ on $\omega$, we find that the intersection points of opposite sides are collinear. This implies that $C', C'', K$ are collinear. Therefore, $K$ is the intersection of $B'B''$ and $C'C''$, making it the center of homothety. Since $K$ is on $\omega$ by construction, the circumcircle of $\triangle A'B'C'$ is tangent to $\omega$ at $K$."
2011n1,"For any integer $d>0$, let $f(d)$ be the smallest positive integer that has exactly $d$ positive divisors (so for example we have $f(1)=1, f(5)=16$, and $f(6)=12$ ). Prove that for every integer $k \geq 0$ the number $f\left(2^{k}\right)$ divides $f\left(2^{k+1}\right)$.",2,"Let $\mathcal{S}$ be the set of all integers of the form $p^{2^r}$, where $p$ is a prime number and $r \geq 0$ is an integer. For $k \geq 0$, let $\mathcal{T}_k$ be the set of the $k$ smallest elements of $\mathcal{S}$ (with $\mathcal{T}_0$ being the empty set). Prove that $f(2^k)$ is the product of the elements of $\mathcal{T}_k$.","The number of divisors of an integer $n=\prod_p p^{a_p}$ is $d(n)=\prod_p(a_p+1)$. For $d(n)$ to be a power of 2, say $d(n)=2^k$, each factor $(a_p+1)$ must be a power of 2. This means each exponent $a_p$ must be of the form $2^{b_p}-1$ for some integer $b_p \geq 0$, with $\sum_p b_p = k$. Since $2^{b_p}-1 = 1+2^1+\dots+2^{b_p-1}$, the integer $n$ is a product of elements from the set $\mathcal{S} = \{p^{2^r} \mid p \text{ is prime, } r \ge 0\}$. Specifically, $n$ is the product of $k$ distinct elements from $\mathcal{S}$. To find $f(2^k)$, the smallest such integer $n$, we must choose the product of the $k$ smallest available factors from $\mathcal{S}$. Let $\mathcal{T}_k$ be the set of these $k$ smallest elements. Thus, $f(2^k) = \prod_{t \in \mathcal{T}_k} t$ (where the empty product for $k=0$ is 1).","For every integer $k \geq 0$, prove that the number $f\left(2^{k}\right)$ divides $f\left(2^{k+1}\right)$.","Let $\mathcal{S}$ be the set of integers of the form $p^{2^r}$ for prime $p$ and $r \geq 0$. From the first sub-problem, $f(2^k)$ is the product of the elements of $\mathcal{T}_k$, the set of the $k$ smallest elements of $\mathcal{S}$. Similarly, $f(2^{k+1})$ is the product of the elements of $\mathcal{T}_{k+1}$, the set of the $k+1$ smallest elements of $\mathcal{S}$. By their definition as the sets of the smallest elements, $\mathcal{T}_k$ is a subset of $\mathcal{T}_{k+1}$. Therefore, the product of the elements in $\mathcal{T}_k$ must divide the product of the elements in $\mathcal{T}_{k+1}$, which implies $f(2^k) \mid f(2^{k+1})$.",,,,
2011n2,"Consider a polynomial $P(x)=\left(x+d_{1}\right)\left(x+d_{2}\right) \cdot \ldots \cdot\left(x+d_{9}\right)$, where $d_{1}, d_{2}, \ldots, d_{9}$ are nine distinct integers. Prove that there exists an integer $N$ such that for all integers $x \geq N$ the number $P(x)$ is divisible by a prime number greater than 20 .",2,"Let $d_1, \ldots, d_9$ be distinct positive integers, and let $d = \max\{d_1, \ldots, d_9\}$. Let $\mathcal{P}$ be a set of 8 distinct prime numbers. Suppose that for some integer $x$, each of the numbers $x+d_1, \ldots, x+d_9$ has all its prime factors in $\mathcal{P}$, and that for each $i \in \{1, \ldots, 9\}$, there is a prime power $f_i > d$ that divides $x+d_i$. Prove that this is impossible.","For each $i \in \{1, \ldots, 9\}$, let $f_i$ be a prime power divisor of $x+d_i$ with $f_i > d$. The prime base of each $f_i$ must be in the set $\mathcal{P}$. Since there are 9 such prime powers $f_1, \ldots, f_9$ and only 8 primes in $\mathcal{P}$, the pigeonhole principle implies that at least two of them, say $f_i$ and $f_j$ for $i \neq j$, must be powers of the same prime $p \in \mathcal{P}$. Let $f_i = p^a$ and $f_j = p^b$, and assume without loss of generality that $a \le b$. Then $f_i$ divides $f_j$. Since $f_i | (x+d_i)$ and $f_j | (x+d_j)$, it follows that $f_i | (x+d_j)$. Therefore, $f_i$ must divide the difference $(x+d_j) - (x+d_i) = d_j - d_i$. As $d_i \neq d_j$, we have $d_j-d_i \neq 0$, so $f_i \le |d_j - d_i|$. But since $d_1, \ldots, d_9$ are distinct positive integers, $|d_j - d_i| < \max(d_i, d_j) \le d$. We now have $f_i > d$ from the premise and $f_i \le |d_j - d_i| < d$, which is a contradiction.","Consider a polynomial $P(x)=\left(x+d_{1}\right)\left(x+d_{2}\right) \cdot \ldots \cdot\left(x+d_{9}\right)$, where $d_{1}, d_{2}, \ldots, d_{9}$ are nine distinct integers. Prove that there exists an integer $N$ such that for all integers $x \geq N$ the number $P(x)$ is divisible by a prime number greater than 20.","Let $\mathcal{P}_8 = \{2,3,5,7,11,13,17,19\}$ be the set of the 8 primes not greater than 20. Assume for contradiction that for any $N$, there exists $x \geq N$ such that all prime factors of $P(x)$ are in $\mathcal{P}_8$. We may assume without loss of generality that the distinct integers $d_i$ are positive. Let $d = \max\{d_1, \ldots, d_9\}$. Choose $N=d^8$. Then there is an integer $x \ge d^8$ such that for each $i \in \{1,\ldots,9\}$, the number $x+d_i$ is only divisible by primes in $\mathcal{P}_8$. For each such $i$, we have $x+d_i > x \ge d^8$. Since $x+d_i$ is a product of powers of the 8 primes in $\mathcal{P}_8$, it must be divisible by a prime power $f_i > (d^8)^{1/8} = d$. The premises of the first sub-problem are met with $\mathcal{P} = \mathcal{P}_8$, but this was shown to be impossible. Thus, our initial assumption must be false. Therefore, there exists an integer $N$ such that for all $x \geq N$, $P(x)$ has a prime factor greater than 20.",,,,
2011n5,"Let $f$ be a function from the set of integers to the set of positive integers. Suppose that for any two integers $m$ and $n$, the difference $f(m)-f(n)$ is divisible by $f(m-n)$. Prove that for all integers $m$, $n$ with $f(m) \leq f(n)$ the number $f(n)$ is divisible by $f(m)$.",1,"Let $f$ be a function from the set of integers to the set of positive integers. Suppose that for any two integers $m$ and $n$, the difference $f(m)-f(n)$ is divisible by $f(m-n)$. Prove that for all integers $m$, $n$ with $f(m) \leq f(n)$ the number $f(n)$ is divisible by $f(m)$.","Suppose that $x$ and $y$ are two integers with $f(x)<f(y)$. We will show that $f(x) \mid f(y)$. By taking $m=x$ and $n=y$ we see that

$$
f(x-y)||f(x)-f(y)|=f(y)-f(x)>0,
$$

so $f(x-y) \leq f(y)-f(x)<f(y)$. Hence the number $d=f(x)-f(x-y)$ satisfies

$$
-f(y)<-f(x-y)<d<f(x)<f(y) .
$$

Taking $m=x$ and $n=x-y$ we see that $f(y) \mid d$, so we deduce $d=0$, or in other words $f(x)=f(x-y)$. Taking $m=x$ and $n=y$ we see that $f(x)=f(x-y) \mid f(x)-f(y)$, which implies $f(x) \mid f(y)$.",,,,,,
2011n6,"Let $P(x)$ and $Q(x)$ be two polynomials with integer coefficients such that no nonconstant polynomial with rational coefficients divides both $P(x)$ and $Q(x)$. Suppose that for every positive integer $n$ the integers $P(n)$ and $Q(n)$ are positive, and $2^{Q(n)}-1$ divides $3^{P(n)}-1$. Prove that $Q(x)$ is a constant polynomial.",3,"Let $P(x)$ and $Q(x)$ be two polynomials with integer coefficients such that no nonconstant polynomial with rational coefficients divides both $P(x)$ and $Q(x)$. Show that there exists a positive integer $d$ such that for all positive integers $n$, $\\operatorname{gcd}(P(n), Q(n)) \\leq d$.","Since $P(x)$ and $Q(x)$ are coprime as polynomials over $\\mathbb{Q}[x]$, Bezout's identity for polynomials states there exist polynomials $R_0(x), S_0(x) \\in \\mathbb{Q}[x]$ such that $P(x)R_0(x) - Q(x)S_0(x) = 1$. By clearing the denominators of the coefficients, we can find an integer $d \neq 0$ and polynomials $R(x), S(x) \\in \\mathbb{Z}[x]$ for which $P(x)R(x) - Q(x)S(x) = d$. For any integer $n$, this implies $P(n)R(n) - Q(n)S(n) = d$. Any common divisor of $P(n)$ and $Q(n)$ must divide this integer combination, so it must divide $d$. Therefore, for all positive integers $n$, $\\operatorname{gcd}(P(n), Q(n)) \\leq |d|$.","Let $P(x), Q(x)$ be polynomials satisfying the conditions of the main problem. Let $d$ be an integer such that $\\operatorname{gcd}(P(n), Q(n)) \\leq d$ for all $n \\in \\mathbb{Z}^+$. Show that for any integer $m$ with $Q(m)>1$, there exists an integer $k$, $1 \\leq k \\leq d$, such that $2^{Q(m)}-1$ divides $3^{P(k)}-1$.","Let $m$ be a positive integer with $Q(m)>1$. Let $M=2^{Q(m)}-1$, $a=Q(m)$, and $b$ be the multiplicative order of 3 modulo $M$. The given condition $M|3^{P(m)}-1$ implies $b|P(m)$. Let $g = \\operatorname{gcd}(a, b)$. We have $g \\leq \\operatorname{gcd}(Q(m), P(m)) \\leq d$. The set of integers $\{m+ax-by \\mid x,y \\in \\mathbb{Z}\\}$ is the arithmetic progression $\{m+jg \\mid j \\in \\mathbb{Z}\}$. Since $g \\le d$, this progression must contain an integer $k$ in the interval $[1,d]$. Let $k=m+ax_0-by_0$ for some integers $x_0,y_0$. We can choose $x_0$ to be a large positive integer. Since $Q(m+ax_0) \\equiv Q(m) \\pmod a$, we have $M | 2^{Q(m+ax_0)}-1$. By hypothesis, $M | 3^{P(m+ax_0)}-1$, so $b | P(m+ax_0)$. From $P(k) \\equiv P(m+ax_0) \\pmod b$, we get $3^{P(k)} \\equiv 3^{P(m+ax_0)} \\equiv 1 \\pmod M$. Since $P(k)>0$, this means $M|3^{P(k)}-1$.","Let $P(x)$ and $Q(x)$ be two polynomials with integer coefficients such that no nonconstant polynomial with rational coefficients divides both $P(x)$ and $Q(x)$. Suppose that for every positive integer $n$ the integers $P(n)$ and $Q(n)$ are positive, and $2^{Q(n)}-1$ divides $3^{P(n)}-1$. Prove that $Q(x)$ is a constant polynomial.","We proceed by contradiction. Assume $Q(x)$ is not a constant polynomial. Since $Q(n) > 0$ for $n \\in \\mathbb{Z}^+$, the sequence $Q(n)$ must be unbounded. By Sub-problem 1, there exists an integer $d$ such that $\\operatorname{gcd}(P(n), Q(n)) \\leq d$ for all $n$. Let $C = 3^{\\max\\{P(1), P(2), \\ldots, P(d)\\}}$. Since $Q(n)$ is unbounded, we can choose a large integer $m$ such that $M = 2^{Q(m)}-1 > C$. By Sub-problem 2, there exists an integer $k$, $1 \\leq k \\leq d$, such that $M$ divides $3^{P(k)}-1$. This implies $M < 3^{P(k)}$. However, since $1 \\leq k \\leq d$, we have $P(k) \\leq \\max\\{P(1), \\dots, P(d)\\}$, so $M < 3^{P(k)} \\leq C$. This contradicts our choice of $m$ which ensures $M>C$. Thus, our initial assumption must be false, and $Q(x)$ is a constant polynomial.",,
2011n7,"Let $p$ be an odd prime number. For every integer $a$, define the number

$$
S_{a}=\frac{a}{1}+\frac{a^{2}}{2}+\cdots+\frac{a^{p-1}}{p-1} .
$$

Let $m$ and $n$ be integers such that

$$
S_{3}+S_{4}-3 S_{2}=\frac{m}{n} .
$$

Prove that $p$ divides $m$.",2,"Let $p$ be an odd prime and for any integer $a$, let $S_{a}=\sum_{k=1}^{p-1} \frac{a^k}{k}$. Prove that $S_{a} \equiv \frac{(a-1)^{p}-a^{p}+1}{p} \pmod{p}$.","For $k \in \{1, \ldots, p-1\}$, we have the congruence $\frac{1}{k} \equiv \frac{(-1)^{k-1}}{k} \frac{k!}{(p-1)\cdots(p-k+1)} \frac{(p-1)\cdots(p-k+1)}{k!} = (-1)^{k-1} \frac{1}{p}\binom{p}{k} \pmod{p}$.
Substituting this into the sum for $S_a$, we get:
$S_{a} = \sum_{k=1}^{p-1} \frac{a^k}{k} \equiv \sum_{k=1}^{p-1} a^k (-1)^{k-1} \frac{1}{p}\binom{p}{k} = -\frac{1}{p} \sum_{k=1}^{p-1} (-a)^k \binom{p}{k} \pmod{p}$.
From the binomial theorem, $\sum_{k=1}^{p-1} (-a)^k \binom{p}{k} = (1-a)^p - \binom{p}{0}(-a)^0 - \binom{p}{p}(-a)^p = (1-a)^p - 1 - (-a)^p$.
Since $p$ is odd, $(1-a)^p = -(a-1)^p$ and $(-a)^p = -a^p$. So the sum is $-(a-1)^p - 1 + a^p$.
Therefore, $S_a \equiv -\frac{1}{p}(-(a-1)^p + a^p - 1) = \frac{(a-1)^{p}-a^{p}+1}{p} \pmod{p}$.","Let $p$ be an odd prime number. For every integer $a$, define the number $S_{a}=\frac{a}{1}+\frac{a^{2}}{2}+\cdots+\frac{a^{p-1}}{p-1}$. Let $m$ and $n$ be integers such that $S_{3}+S_{4}-3 S_{2}=\frac{m}{n}$. Prove that $p$ divides $m$.","Using the result $S_{a} \equiv \frac{(a-1)^{p}-a^{p}+1}{p} \pmod{p}$ from the previous step, we can compute the expression modulo $p$:
$S_3 \equiv \frac{2^p-3^p+1}{p} \pmod p$
$S_4 \equiv \frac{3^p-4^p+1}{p} \pmod p$
$S_2 \equiv \frac{1^p-2^p+1}{p} = \frac{2-2^p}{p} \pmod p$
Combining these, we get:
$S_{3}+S_{4}-3 S_{2} \equiv \frac{(2^{p}-3^{p}+1) + (3^{p}-4^{p}+1) - 3(2-2^{p})}{p} \pmod{p}$.
The numerator simplifies to $2^p-3^p+1+3^p-4^p+1-6+3 \cdot 2^p = 4 \cdot 2^p - 4^p - 4 = -(4^p - 4 \cdot 2^p + 4) = -(2^{2p} - 2 \cdot 2 \cdot 2^p + 4) = -(2^p - 2)^2$.
So, $S_{3}+S_{4}-3 S_{2} \equiv -\frac{(2^p-2)^2}{p} \pmod{p}$.
By Fermat's Little Theorem, $2^p-2$ is divisible by $p$. Thus, $(2^p-2)^2$ is divisible by $p^2$. Let $(2^p-2)^2 = kp^2$ for some integer $k$. Then $S_3+S_4-3S_2 \equiv -\frac{kp^2}{p} = -kp \equiv 0 \pmod p$. Since $S_3+S_4-3S_2=m/n$, this implies $m/n \equiv 0 \pmod p$, so $p$ must divide $m$.",,,,
2011n8,"Let $k$ be a positive integer and set $n=2^{k}+1$. Prove that $n$ is a prime number if and only if the following holds: there is a permutation $a_{1}, \ldots, a_{n-1}$ of the numbers $1,2, \ldots, n-1$ and a sequence of integers $g_{1}, g_{2}, \ldots, g_{n-1}$ such that $n$ divides $g_{i}^{a_{i}}-a_{i+1}$ for every $i \in\{1,2, \ldots, n-1\}$, where we set $a_{n}=a_{1}$.",4,"Let $n=2^k+1$. The problem condition is equivalent to the existence of a Hamiltonian cycle in a directed graph with vertices $V=\{1, \dots, n-1\}$ and edges $a \to b$ if $b \equiv g^a \pmod n$ for some integer $g$. Prove that if $n$ is composite, no such Hamiltonian cycle exists.","If $n$ is not square-free, let $p$ be a prime such that $p^2 | n$. For any $a \ge 2$, $g^a \pmod{p^2}$ is either 0 or not a multiple of $p$. Thus, neither $p$ nor $2p$ can follow any number $a \ge 2$. They must both follow 1, which is impossible in a cycle. If $n$ is square-free, $n=p_1 \dots p_s$ with $s \ge 2$. Any number following one of the $(n-1)/2$ even numbers must be a quadratic residue. This requires at least $(n-1)/2$ non-zero quadratic residues. But the number of quadratic residues modulo $n$ (including 0) is $\prod_{i=1}^s \frac{p_i+1}{2}$. For $s \ge 2$, this is less than or equal to $(\frac{2}{3})^s n \le \frac{4n}{9}$, which is less than $\frac{n-1}{2}$. This contradiction shows no Hamiltonian cycle exists if $n$ is composite.","Let $n=2^k+1$ be a prime. For $a, b \in \{1, \ldots, n-1\}$, let an edge $a \rightarrow b$ exist if $b \equiv g^a \pmod n$ for some integer $g$. Let $\nu_2(a)$ be the exponent of 2 in the prime factorization of $a$, and $\mu(b) = \max\{t \in \{0, \dots, k\} \mid \exists h: b \equiv h^{2^t} \pmod n\}$. Prove that an edge $a \rightarrow b$ exists if and only if $\nu_2(a) \leq \mu(b)$.","Let $\ell = \nu_2(a)$ and $m = \mu(b)$. If $\ell \le m$, then $b \equiv g_0^{2^m} \pmod n$ for some $g_0$. Since $\gcd(a, n-1) = 2^\ell$, there exist integers $p,q$ such that $pa - q(n-1) = 2^\ell$. Let $g = g_0^{p \cdot 2^{m-\ell}}$. Then $g^a = g_0^{p a \cdot 2^{m-\ell}} = g_0^{(q(n-1)+2^\ell) 2^{m-\ell}} \equiv g_0^{2^m} \equiv b \pmod n$ by Fermat's Little Theorem. Thus $a \rightarrow b$. Conversely, if $a \rightarrow b$, then $b \equiv g^a \pmod n$. Let $a = 2^\ell \cdot a'$ with $a'$ odd. Then $b \equiv (g^{a'})^{2^\ell} \pmod n$. This shows that $b$ is a $2^\ell$-th power, so by definition of $\mu(b)$, we have $\mu(b) \ge \ell = \nu_2(a)$.","Let $n=2^k+1$ be a prime. For $i \in \{0, \ldots, k\}$, define the sets $A_i = \{a \in \{1, \ldots, n-1\} \mid \nu_2(a) = i\}$ and $B_i = \{b \in \{1, \ldots, n-1\} \mid \mu(b) = i\}$, where $\nu_2$ and $\mu$ are defined as in the previous sub-problem. Prove that $|A_i| = |B_i|$ for all $i$.","The size of $A_i$ is the number of integers in $\{1, \ldots, 2^k\}$ of the form $2^i \cdot m$ with $m$ odd. For $i < k$, these are $m=1, 3, \ldots, 2^{k-i}-1$, so there are $2^{k-i-1}$ such numbers. For $i=k$, $A_k=\{2^k\}$, so $|A_k|=1$. Now, let $C_i = \bigcup_{j=i}^k B_j = \{b \mid \mu(b) \ge i\}$. $C_i$ is the set of $2^i$-th powers modulo $n$. Since the multiplicative group $(\mathbb{Z}/n\mathbb{Z})^*$ is cyclic of order $n-1=2^k$, the set of $2^i$-th powers has size $(n-1)/ \gcd(2^i, n-1) = 2^k/2^i = 2^{k-i}$. Then $|B_i| = |C_i| - |C_{i+1}| = 2^{k-i} - 2^{k-i-1} = 2^{k-i-1}$ for $i < k$. For $i=k$, $|B_k|=|C_k|=2^{k-k}=1$. Thus, $|A_i|=|B_i|$ for all $i=0, \ldots, k$.","Let $k$ be a positive integer and set $n=2^{k}+1$. Prove that $n$ is a prime number if and only if the following holds: there is a permutation $a_{1}, \ldots, a_{n-1}$ of the numbers $1,2, \ldots, n-1$ and a sequence of integers $g_{1}, g_{2}, \ldots, g_{n-1}$ such that $n$ divides $g_{i}^{a_{i}}-a_{i+1}$ for every $i \in\{1,2, \ldots, n-1\}$, where we set $a_{n}=a_{1}$.","The condition is equivalent to the existence of a Hamiltonian cycle in the graph defined in Sub-problem 1. \n($\Rightarrow$) If a Hamiltonian cycle exists, then by Sub-problem 1, $n$ must be prime. \n($\Leftarrow$) Assume $n$ is prime. By Sub-problem 3, we know $|A_i|=|B_i|$ for all $i=0, \ldots, k$. By Sub-problem 2, an edge $a \rightarrow b$ can exist if $a \in A_i$ and $b \in B_i$. We can thus form bijections mapping $A_i$ to $B_i$ for each $i$. This creates a subgraph where every vertex has in-degree 1 and out-degree 1, which is a disjoint union of cycles. If there is more than one cycle, take two cycles $C_1, C_2$. Pick vertices $a_1 \in C_1, a_2 \in C_2$ with $\nu_2(a_1)=\nu_2(a_2)$ (such vertices exist). Let their successors be $b_1, b_2$. Replacing edges $a_1 \to b_1, a_2 \to b_2$ with $a_1 \to b_2, a_2 \to b_1$ merges the two cycles. Repeat this process until a single Hamiltonian cycle remains."
2010a2,"Let the real numbers $a, b, c, d$ satisfy the relations $a+b+c+d=6$ and $a^{2}+b^{2}+c^{2}+d^{2}=12$. Prove that

$$
36 \leq 4\left(a^{3}+b^{3}+c^{3}+d^{3}\right)-\left(a^{4}+b^{4}+c^{4}+d^{4}\right) \leq 48 .
$$",1,"Let the real numbers $a, b, c, d$ satisfy the relations $a+b+c+d=6$ and $a^{2}+b^{2}+c^{2}+d^{2}=12$. Prove that

$$
36 \leq 4\left(a^{3}+b^{3}+c^{3}+d^{3}\right)-\left(a^{4}+b^{4}+c^{4}+d^{4}\right) \leq 48 .
$$","Observe that

$$
\begin{gathered}
4\left(a^{3}+b^{3}+c^{3}+d^{3}\right)-\left(a^{4}+b^{4}+c^{4}+d^{4}\right)=-\left((a-1)^{4}+(b-1)^{4}+(c-1)^{4}+(d-1)^{4}\right) \\
+6\left(a^{2}+b^{2}+c^{2}+d^{2}\right)-4(a+b+c+d)+4 \\
=-\left((a-1)^{4}+(b-1)^{4}+(c-1)^{4}+(d-1)^{4}\right)+52 .
\end{gathered}
$$

Now, introducing $x=a-1, y=b-1, z=c-1, t=d-1$, we need to prove the inequalities

$$
16 \geq x^{4}+y^{4}+z^{4}+t^{4} \geq 4,
$$

under the constraint

\begin{equation*}
x^{2}+y^{2}+z^{2}+t^{2}=\left(a^{2}+b^{2}+c^{2}+d^{2}\right)-2(a+b+c+d)+4=4 \tag{1}
\end{equation*}

(we will not use the value of $x+y+z+t$ though it can be found).\\
Now the rightmost inequality in (1) follows from the power mean inequality:

$$
x^{4}+y^{4}+z^{4}+t^{4} \geq \frac{\left(x^{2}+y^{2}+z^{2}+t^{2}\right)^{2}}{4}=4 .
$$

For the other one, expanding the brackets we note that

$$
\left(x^{2}+y^{2}+z^{2}+t^{2}\right)^{2}=\left(x^{4}+y^{4}+z^{4}+t^{4}\right)+q,
$$

where $q$ is a nonnegative number, so

$$
x^{4}+y^{4}+z^{4}+t^{4} \leq\left(x^{2}+y^{2}+z^{2}+t^{2}\right)^{2}=16,
$$

and we are done.\\",,,,,,
2010a4,"A sequence $x_{1}, x_{2}, \ldots$ is defined by $x_{1}=1$ and $x_{2 k}=-x_{k}, x_{2 k-1}=(-1)^{k+1} x_{k}$ for all $k \geq 1$. Prove that $x_{1}+x_{2}+\cdots+x_{n} \geq 0$ for all $n \geq 1$.",2,"Let $S_n = \\sum_{i=1}^n x_i$. Prove that for any integer $k \\ge 1$, the partial sums satisfy the recurrence relations $S_{4k} = 2S_k$ and $S_{4k+2} = S_{4k}$.","Using the definitions $x_{2m}=-x_m$ and $x_{2m-1}=(-1)^{m+1}x_m$, we examine sums of pairs of terms. \n1. $x_{4j-3}+x_{4j-2} = x_{2(2j-1)-1} + x_{2(2j-1)} = (-1)^{2j}x_{2j-1} + (-x_{2j-1}) = x_{2j-1}-x_{2j-1}=0$. \n2. $x_{4j-1}+x_{4j} = x_{2(2j)-1} + x_{2(2j)} = (-1)^{2j+1}x_{2j} + (-x_{2j}) = -x_{2j}-x_{2j}=-2x_{2j}=2x_j$. \nFrom these, we can evaluate $S_{4k}$: $S_{4k} = \\sum_{j=1}^k (x_{4j-3}+x_{4j-2}+x_{4j-1}+x_{4j}) = \\sum_{j=1}^k (0+2x_j) = 2S_k$. \nAlso, $x_{4k+1}+x_{4k+2} = x_{2(2k+1)-1} + x_{2(2k+1)} = (-1)^{2k+2}x_{2k+1} + (-x_{2k+1}) = x_{2k+1}-x_{2k+1}=0$. \nThus, $S_{4k+2} = S_{4k} + x_{4k+1}+x_{4k+2} = S_{4k}+0 = S_{4k}$.","A sequence $x_{1}, x_{2}, \\ldots$ is defined by $x_{1}=1$ and $x_{2 k}=-x_{k}, x_{2 k-1}=(-1)^{k+1} x_{k}$ for all $k \\geq 1$. Prove that $x_{1}+x_{2}+\cdots+x_{n} \\geq 0$ for all $n \\geq 1$.","We prove by induction on $k$ that $S_i \\ge 0$ for all $i \\le 4k$. \nBase case ($k=1$): $S_1=1, S_2=0, S_3=1, S_4=2$, which are all non-negative. \nInductive step: Assume $S_i \\ge 0$ for $i \\le 4k$. We must show $S_i \\ge 0$ for $4k < i \\le 4(k+1)$, using the relations $S_{4m}=2S_m$ and $S_{4m+2}=S_{4m}$. \n1. $S_{4k+4} = 2S_{k+1} \\ge 0$ by the induction hypothesis (IH), since $k+1 \\le 4k$ for $k \\ge 1$. \n2. $S_{4k+2} = S_{4k} \\ge 0$ by IH. \n3. Since $x_{4k+3}=x_{4k+4}$, it follows that $S_{4k+3} = (S_{4k+2}+S_{4k+4})/2 \\ge 0$. \n4. For $S_{4k+1}=S_{4k}+x_{4k+1}$: If $k$ is odd, $S_k$ is odd (as $S_n \\equiv n \\pmod 2$), so $S_k \\ge 1$ by IH. Thus $S_{4k}=2S_k \\ge 2$, and $S_{4k+1} \\ge 2-1=1$. If $k$ is even, $x_{4k+1}=x_{k+1}$, so $S_{4k+1}=2S_k+x_{k+1}=S_k+S_{k+1} \\ge 0$ by IH. \nThus, $S_i \\ge 0$ for all $i \\le 4(k+1)$, completing the induction.",,,,
2010a6,Suppose that $f$ and $g$ are two functions defined on the set of positive integers and taking positive integer values. Suppose also that the equations $f(g(n))=f(n)+1$ and $g(f(n))=$ $g(n)+1$ hold for all positive integers. Prove that $f(n)=g(n)$ for all positive integer $n$.,4,"For any positive integers $x, y$, prove that $f(x)=f(y)$ if and only if $g(x)=g(y)$.","Assume $f(x)=f(y)$. Applying $g$ to both sides gives $g(f(x))=g(f(y))$. Using the given equation $g(f(n))=g(n)+1$, this becomes $g(x)+1=g(y)+1$, which implies $g(x)=g(y)$. Conversely, assume $g(x)=g(y)$. Applying $f$ to both sides gives $f(g(x))=f(g(y))$. Using the given equation $f(g(n))=f(n)+1$, this becomes $f(x)+1=f(y)+1$, which implies $f(x)=f(y)$. Thus, the equivalence holds.","Let $a = \min_{n\in\mathbb{N}} f(n)$. Prove that the range of $f$ is the set $N_f = \{a, a+1, a+2, \dots\}$, and that $f$ is injective when restricted to its range $N_f$.","Let $n_f$ be an integer such that $f(n_f)=a$. The equation $f(g(n))=f(n)+1$ implies by induction on $k$ that $f(g^k(n))=f(n)+k$ for any $k \ge 0$. Applying this to $n_f$, we get $f(g^k(n_f)) = f(n_f)+k = a+k$. This shows that the range of $f$ contains $\{a, a+1, a+2, \dots\}$. Since $a$ is the minimum value, the range is exactly this set. To prove injectivity on $N_f$, suppose $y_1, y_2 \in N_f$ and $f(y_1)=f(y_2)$. Since $y_1, y_2$ are in the range of $f$, there exist $x_1, x_2$ such that $y_1=f(x_1)$ and $y_2=f(x_2)$. The condition becomes $f(f(x_1)) = f(f(x_2))$. By sub-problem 1, this implies $g(f(x_1))=g(f(x_2))$, which simplifies to $g(x_1)+1=g(x_2)+1$, so $g(x_1)=g(x_2)$. Applying sub-problem 1 again, $f(x_1)=f(x_2)$, which means $y_1=y_2$. Thus $f$ is injective on its range.",Let $a = \min_{n\in\mathbb{N}} f(n)$ and $b = \min_{n\in\mathbb{N}} g(n)$. Prove that $a=b$.,"Assume for contradiction that $a \neq b$, and without loss of generality, let $a < b$. The relation $g(f(n))=g(n)+1$ implies $f(n)$ can never be a fixed point of $g$. Similarly $f(g(n))=f(n)+1$ implies $g(n)$ cannot be a fixed point of $f$. Also, $f(a) > a$, because if $f(a)=a$, then $g(a)=g(f(a))=g(a)+1$, which is impossible. Since $f(a)>a$ and the range of $f$ is $\{a, a+1, \dots\}$, there exists some $z$ with $f(z)=f(a)-1$. Then $f(g(z))=f(z)+1=f(a)$. Let $a' = g(z)$. Then $f(a')=f(a)$ and $a' \ge b$ since $a'$ is in the range of $g$. We now have two distinct numbers, $a$ and $a' \ge b > a$, which are both in the range of $f$ (as $a, a' \ge a$). This contradicts the result from Sub-problem 2 that $f$ is injective on its range. Thus, $a<b$ is false. By symmetry, $b<a$ is also false, so $a=b$.",Suppose that $f$ and $g$ are two functions defined on the set of positive integers and taking positive integer values. Suppose also that the equations $f(g(n))=f(n)+1$ and $g(f(n))=$ $g(n)+1$ hold for all positive integers. Prove that $f(n)=g(n)$ for all positive integer $n$.,"Let $a = \min f = \min g$ (from Sub-problem 3), and let $n_0$ be an integer such that $f(n_0)=a$. This implies $g(n_0)=a$. We first prove by induction on $d \ge 0$ that $f^{d+1}(n_0) = g^{d+1}(n_0) = a+d$. The base case $d=0$ is $f(n_0)=g(n_0)=a$, which is true. For the inductive step, assume $f^k(n_0) = g^k(n_0)$ for some $k \ge 1$. Then $f^{k+1}(n_0) = f(f^k(n_0)) = f(g^k(n_0))$ by the induction hypothesis. Using $f(g^k(n)) = f(n)+k$, this becomes $f(n_0)+k = a+k$. Similarly, $g^{k+1}(n_0) = g(g^k(n_0)) = g(f^k(n_0)) = g(n_0)+k = a+k$. This proves the inductive claim. Now, for any $n \in \mathbb{N}$, its value $f(n)$ is in the range $\{a, a+1, \dots\}$, so $f(n)=a+d$ for some integer $d \ge 0$. Consider $m = g^d(n_0)$. We have $f(m) = f(g^d(n_0)) = f(n_0)+d = a+d$. So, $f(n)=f(m)$. By Sub-problem 1, this implies $g(n)=g(m)=g(g^d(n_0))=g^{d+1}(n_0)$. From our inductive result, $g^{d+1}(n_0) = a+d$. Therefore, $g(n)=a+d=f(n)$. Since $n$ was arbitrary, $f(n)=g(n)$ for all $n$."
2010a7,"Let $a_{1}, \ldots, a_{r}$ be positive real numbers. For $n>r$, we inductively define


\begin{equation*}
a_{n}=\max _{1 \leq k \leq n-1}\left(a_{k}+a_{n-k}\right) \tag{1}
\end{equation*}",3,"Prove that for every $n>r$, $a_{n}$ can be expressed as the maximum of sums of the form $a_{i_{1}}+\cdots+a_{i_{k}}$ where the indices satisfy $1 \leq i_{j} \leq r$, $i_{1}+\cdots+i_{k}=n$, and the sum arises from a valid recursive decomposition of $a_n$. Specifically, show $a_{n}=\max \\left\\{a_{i_{1}}+\cdots+a_{i_{k}}: 1 \\leq i_{j} \\leq r, \\sum_{j=1}^k i_{j}=n, i_{1}+i_{2}>r \right\\}$.","By recursively applying the definition $a_m = \\max_k(a_k+a_{m-k})$ for any term $a_m$ with $m>r$, we can express any $a_n$ for $n>r$ as a sum $S = a_{i_{1}}+\cdots+a_{i_{k}}$ where $1 \\leq i_{j} \\leq r$. The final decomposition step, say $a_{i_1+i_2} = a_{i_1}+a_{i_2}$, implies $i_1+i_2 > r$. From the definition of $a_n$, we have $a_n = a_{\\sum i_j} \\geq a_{\\sum_{j=1}^{k-1} i_j} + a_{i_k} \\geq \\cdots \\geq \\sum_{j=1}^k a_{i_j}$. This shows that $a_n$ is an upper bound for all such sums. Since $a_n$ itself can be represented in this form, it must be the maximum of such sums.","Let $s = \\max_{1 \\leq i \\leq r} \frac{a_i}{i}$ and let $\\ell \\leq r$ be an index for which this maximum is achieved. Prove that for a sufficiently large integer $n$, any maximal representation $a_n = a_{i_1} + \\dots + a_{i_k}$ as described in sub-problem 1 can be chosen such that at least one index $i_j$ (with $j \\geq 3$) is equal to $\\ell$.","For $n \\geq r^2\\ell + 2r$, an optimal sum $a_n = a_{i_1} + \\dots + a_{i_k}$ has $k \\geq n/r \\geq r\\ell + 2$. Suppose none of $i_3, \\dots, i_k$ equals $\\ell$. Since there are $k-2 \\geq r\\ell$ such terms with values in $\{1, ..., r\}\\setminus\\{\\ell\\}$, by the pigeonhole principle, some index $j \neq \\ell$ must appear at least $\\ell$ times. Replace these $\\ell$ occurrences of $a_j$ with $j$ occurrences of $a_\\ell$. The sum of indices does not change. The change in the value of the sum is $j a_\\ell - \\ell a_j = j\\ell(\frac{a_\\ell}{\\ell} - \frac{a_j}{j}) \\geq 0$. Since the original sum was maximal, the new sum is also maximal. Thus, we can find a maximal representation for $a_n$ that includes $a_\\ell$ among the terms $a_{i_3}, \\dots, a_{i_k}$.","Let $a_{1}, \\ldots, a_{r}$ be positive real numbers. For $n>r$, define $a_{n}=\\max _{1 \\leq k \\leq n-1}\\left(a_{k}+a_{n-k}\right)$. Prove that there exist positive integers $\\ell \\leq r$ and $N$ such that $a_{n}=a_{n-\\ell}+a_{\\ell}$ for all $n \\geq N$.","Let $\\ell$ be an index maximizing $a_i/i$. From sub-problem 2, for $n \\geq N = r^2\\ell+2r$, there exists a maximal representation $a_n = a_{i_1} + \\cdots + a_{i_k}$ where one term, say $i_k$, is equal to $\\ell$. The sum of the remaining terms, $S' = a_{i_1} + \\cdots + a_{i_{k-1}}$, is a valid representation for $a_{n-\\ell}$ satisfying the conditions of sub-problem 1. Therefore, $a_{n-\\ell} \\geq S' = a_{i_1} + \\cdots + a_{i_{k-1}}$. This implies $a_{n-\\ell} + a_\\ell \\geq (a_{i_1} + \\cdots + a_{i_{k-1}}) + a_\\ell = a_n$. From the definition of $a_n$, we also know $a_n \\geq a_{n-\\ell} + a_\\ell$. Therefore, equality must hold: $a_n = a_{n-\\ell} + a_\\ell$ for all $n \\geq N$.",,
2010a8,"Given six positive numbers $a, b, c, d, e, f$ such that $a<b<c<d<e<f$. Let $a+c+e=S$ and $b+d+f=T$. Prove that


\begin{equation*}
2 S T>\sqrt{3(S+T)(S(b d+b f+d f)+T(a c+a e+c e))} \tag{1}
\end{equation*}",2,"Let $S=a+c+e$, $T=b+d+f$, $\sigma=ac+ae+ce$, and $\tau=bd+bf+df$. Consider the polynomial $P(x) = T(x-a)(x-c)(x-e) + S(x-b)(x-d)(x-f)$. Prove that $P(x)$ has three distinct real roots $\alpha, \beta, \gamma$, and show that their sum is $\alpha+\beta+\gamma=\frac{2ST}{S+T}$ and the sum of their products taken two at a time is $\alpha\beta+\alpha\gamma+\beta\gamma=\frac{S\tau+T\sigma}{S+T}$.","The polynomial can be written as $P(x) = (S+T)x^3 - 2STx^2 + (S\tau+T\sigma)x - (Tace+Sbdf)$. Given $a<b<c<d<e<f$, we evaluate $P(x)$ at $a,c,e,f$: $P(a)=S(a-b)(a-d)(a-f)<0$, $P(c)=S(c-b)(c-d)(c-f)>0$, $P(e)=S(e-b)(e-d)(e-f)<0$, and $P(f)=T(f-a)(f-c)(f-e)>0$. By the Intermediate Value Theorem, $P(x)$ has a root in each of the disjoint intervals $(a,c)$, $(c,e)$, and $(e,f)$. Thus, $P(x)$ has three distinct real roots, say $\alpha, \beta, \gamma$. By Vieta's formulas, comparing the coefficients of $P(x)$ with the form $(S+T)(x-\alpha)(x-\beta)(x-\gamma)$, we get $\alpha+\beta+\gamma = -\frac{-2ST}{S+T} = \frac{2ST}{S+T}$ and $\alpha\beta+\alpha\gamma+\beta\gamma = \frac{S\tau+T\sigma}{S+T}$.","Given six positive numbers $a, b, c, d, e, f$ such that $a<b<c<d<e<f$. Let $a+c+e=S$ and $b+d+f=T$. Prove that $2 S T>\sqrt{3(S+T)(S(b d+b f+d f)+T(a c+a e+c e))}$.","Let $\sigma = ac+ae+ce$ and $\tau = bd+bf+df$. From the previous sub-problem, we know there exist three distinct real numbers $\alpha, \beta, \gamma$ such that $\alpha+\beta+\gamma=\frac{2ST}{S+T}$ and $\alpha\beta+\alpha\gamma+\beta\gamma=\frac{S\tau+T\sigma}{S+T}$. For any three distinct real numbers, the inequality $(\alpha+\beta+\gamma)^2 > 3(\alpha\beta+\alpha\gamma+\beta\gamma)$ holds, as it is equivalent to $(\alpha-\beta)^2+(\beta-\gamma)^2+(\gamma-\alpha)^2 > 0$. Substituting the expressions for the sums of roots, we get $(\frac{2ST}{S+T})^2 > 3(\frac{S\tau+T\sigma}{S+T})$. This simplifies to $\frac{4S^2T^2}{(S+T)^2} > \frac{3(S\tau+T\sigma)}{S+T}$. Since $S+T > 0$, we multiply by $(S+T)^2$ to get $4S^2T^2 > 3(S+T)(S\tau+T\sigma)$. Taking the square root of both sides (since both are positive) yields the desired inequality.",,,,
2010c5,"$n \geq 4$ players participated in a tennis tournament. Any two players have played exactly one game, and there was no tie game. We call a company of four players bad if one player was defeated by the other three players, and each of these three players won a game and lost another game among themselves. Suppose that there is no bad company in this tournament. Let $w_{i}$ and $\ell_{i}$ be respectively the number of wins and losses of the $i$ th player. Prove that


\begin{equation*}
\sum_{i=1}^{n}\left(w_{i}-\ell_{i}\right)^{3} \geq 0 . \tag{1}
\end{equation*}",3,"For a tournament with $n=4$ players and no bad company, prove that $\sum_{i=1}^{4}(w_i - \ell_i)^3 \ge 0$.","Let the number of wins for the 4 players be $(w_1, w_2, w_3, w_4)$. The total number of games is $\binom{4}{2}=6$, so $\sum w_i = 6$. The number of losses for player $i$ is $\ell_i = 3-w_i$, which means $w_i - \ell_i = 2w_i - 3$. The condition of no bad company excludes the win sequence $(2,2,2,0)$. The possible sorted win sequences are $(3,2,1,0)$, $(3,1,1,1)$, and $(2,2,1,1)$.
For $(3,2,1,0)$, the sum is $(2\cdot3-3)^3 + (2\cdot2-3)^3 + (2\cdot1-3)^3 + (2\cdot0-3)^3 = 3^3+1^3+(-1)^3+(-3)^3 = 0$.
For $(3,1,1,1)$, the sum is $(2\cdot3-3)^3 + 3(2\cdot1-3)^3 = 3^3 + 3(-1)^3 = 24 > 0$.
For $(2,2,1,1)$, the sum is $2(2\cdot2-3)^3 + 2(2\cdot1-3)^3 = 2(1)^3 + 2(-1)^3 = 0$.
In all possible cases, the sum is non-negative.","For a tournament $T$ with $n$ players, let $S(T) = \sum_{i=1}^n(w_i-\ell_i)^3$. Let $T_{i_1i_2i_3i_4}$ be the sub-tournament on players $\{i_1, i_2, i_3, i_4\}$. Prove the identity $S(T) = \sum_{\{i_1,i_2,i_3,i_4\}} S(T_{i_1i_2i_3i_4})$, where the sum is over all 4-element subsets of players.","Let $\varepsilon_{ij}=1$ if player $i$ beats $j$, and $\varepsilon_{ij}=-1$ otherwise. Then $w_i-\ell_i = \sum_{j\neq i} \varepsilon_{ij}$. The sum is $S(T) = \sum_i (\sum_{j\neq i} \varepsilon_{ij})^3 = \sum_i \sum_{j_1,j_2,j_3 \neq i} \varepsilon_{ij_1}\varepsilon_{ij_2}\varepsilon_{ij_3}$. If any two indices in $\{j_1,j_2,j_3\}$ are equal (e.g., $j_1=j_2$), the term contains $\varepsilon_{ij_1}^2=1$ and simplifies. The sum of all such terms with repeated indices is a multiple of $\sum_{i\neq j} \varepsilon_{ij}$. This sum is zero, since $\varepsilon_{ij} = -\varepsilon_{ji}$. Therefore, only terms where $i, j_1, j_2, j_3$ are all distinct contribute to $S(T)$. So, $S(T) = \sum_{|\{i,j_1,j_2,j_3\}|=4} \varepsilon_{ij_1}\varepsilon_{ij_2}\varepsilon_{ij_3}$. For any 4-player sub-tournament $T_{abcd}$, $S(T_{abcd})$ is similarly composed of such products over the set $\{a,b,c,d\}$. Each term $\varepsilon_{ij_1}\varepsilon_{ij_2}\varepsilon_{ij_3}$ involves a unique set of 4 players and thus appears exactly once in the expansion of $S(T)$ and exactly once on the right-hand side in the term $S(T_{\{i,j_1,j_2,j_3\}})$. Hence, the identity holds.","$n \geq 4$ players participated in a tennis tournament. Any two players have played exactly one game, and there was no tie game. We call a company of four players bad if one player was defeated by the other three players, and each of these three players won a game and lost another game among themselves. Suppose that there is no bad company in this tournament. Let $w_{i}$ and $\ell_{i}$ be respectively the number of wins and losses of the $i$ th player. Prove that $\sum_{i=1}^{n}\left(w_{i}-\ell_{i}\right)^{3} \geq 0$.","From the second sub-problem, we established the identity $\sum_{i=1}^{n}(w_i - \ell_i)^3 = \sum_{\{i_1,i_2,i_3,i_4\}} \sum_{j \in \{i_1,i_2,i_3,i_4\}} (w'_j - \ell'_j)^3$, where $w'_j$ and $\ell'_j$ are wins and losses within the sub-tournament on players $\{i_1,i_2,i_3,i_4\}$. The condition of no bad company for the tournament implies that no 4-player sub-tournament can form a bad company. From the first sub-problem, we know that for any 4-player tournament with no bad company, the sum $\sum_{j=1}^4 (w_j - \ell_j)^3 \ge 0$. Since the total sum is a sum of non-negative terms (one for each 4-player sub-tournament), the total sum must also be non-negative. Therefore, $\sum_{i=1}^{n}\left(w_{i}-\ell_{i}\right)^{3} \geq 0$.",,
2010c6,"Given a positive integer $k$ and other two integers $b>w>1$. There are two strings of pearls, a string of $b$ black pearls and a string of $w$ white pearls. The length of a string is the number of pearls on it.

One cuts these strings in some steps by the following rules. In each step:\\
(i) The strings are ordered by their lengths in a non-increasing order. If there are some strings of equal lengths, then the white ones precede the black ones. Then $k$ first ones (if they consist of more than one pearl) are chosen; if there are less than $k$ strings longer than 1 , then one chooses all of them.\\
(ii) Next, one cuts each chosen string into two parts differing in length by at most one.\\
(For instance, if there are strings of $5,4,4,2$ black pearls, strings of $8,4,3$ white pearls and $k=4$, then the strings of 8 white, 5 black, 4 white and 4 black pearls are cut into the parts $(4,4),(3,2),(2,2)$ and $(2,2)$, respectively.)

The process stops immediately after the step when a first isolated white pearl appears. Prove that at this stage, there will still exist a string of at least two black pearls.",4,"Let $s$ be the first step index where a 1-pearl string appears, and $t$ be the first step index where the total number of strings exceeds $k$. For any step $i < \min(s, t)$, prove that after step $i$, there are $2^i$ black and $2^i$ white strings, and the lengths of the longest and shortest black strings are greater than or equal to the lengths of the longest and shortest white strings, respectively ($B_i \ge W_i$ and $b_i \ge w_i$).","We use induction on $i$. The base case $i=0$ holds as we start with one string of each color, and $B_0=b>w=W_0$ and $b_0=b>w=w_0$. For the inductive step, assume the properties hold for $i-1 < \min(s, t)$. Since $i-1 < t$, the total number of strings is $\le k$. Since $i-1 < s$, all strings have length $>1$. Thus, all $2 \cdot 2^{i-1} \le k$ strings are cut in step $i$. This doubles the number of strings of each color to $2^i$. From the induction hypotheses $B_{i-1} \ge W_{i-1}$ and $b_{i-1} \ge w_{i-1}$, and the fact that $x \ge y \implies \lceil x/2 \rceil \ge \lceil y/2 \rceil$ and $\lfloor x/2 \rfloor \ge \lfloor y/2 \rfloor$, we get $B_i = \lceil B_{i-1}/2 \rceil \ge \lceil W_{i-1}/2 \rceil = W_i$ and $b_i = \lfloor b_{i-1}/2 \rfloor \ge \lfloor w_{i-1}/2 \rfloor = w_i$.","Let $s$ be the first step where a 1-pearl string appears and $t$ be the first step where the total number of strings exceeds $k$. Prove that if $s \le t$, the process stops at step $s$ with at least one black string of length $\ge 2$.","If $s \le t$, then at step $s-1$ the total number of strings is $\le k$, so all strings are cut at step $s$. By Sub-problem 1, the shortest strings at step $s-1$ satisfy $b_{s-1} \ge w_{s-1} > 1$. Since a 1-pearl string appears at step $s$, some string of length 2 or 3 must have been cut. The shortest string at $s-1$ has length $w_{s-1}$, so $w_{s-1}$ must be 2 or 3. Cutting this string produces a 1-w-string since $\lfloor w_{s-1}/2 \rfloor = 1$. Thus, the process stops at step $s$. If all black pearls became single at this step, all b-strings at step $s-1$ must have been of length 2. The condition $b_{s-1} \ge w_{s-1} > 1$ would then imply all w-strings were also of length 2. This means the initial total lengths were equal, $b=w$, a contradiction. Therefore, a b-string of length $\ge 2$ must remain.","Let $t$ be the first step index after which the total number of strings is greater than $k$ (i.e., state $A_t$). If $t$ is finite, prove that in state $A_{t+1}$ and all subsequent states, the number of white strings is at least $k$.","At step $t$, the state $A_{t-1}$ has $2^t \le k$ strings, which are all cut, so state $A_t$ has $2^t$ white and $2^t$ black strings, totaling $2^{t+1} > k$. In the next step ($t+1$), exactly $k$ strings from $A_t$ are cut. Let $n_w$ and $n_b$ be the number of white and black strings cut, with $n_w+n_b=k$. Since there are $2^t$ black strings in $A_t$, $n_b \le 2^t$. This implies $n_w = k - n_b \ge k-2^t$. The number of white strings in $A_{t+1}$ is $(2^t - n_w) + 2n_w = 2^t + n_w \ge 2^t + (k-2^t) = k$. Since cutting strings only increases their count, the number of white strings remains at least $k$ thereafter.","Prove that at the stage when a first isolated white pearl appears, there will still exist a string of at least two black pearls.","Let the process stop at step $S$. We need to show that at state $A_S$, not all black pearls are isolated. We consider two cases based on $s$ (first 1-pearl) and $t$ (first time strings > k). 
Case 1: $s \le t$. By Sub-problem 2, the process stops at step $s$ ($S=s$), and at this stage, a black string of length $\ge 2$ exists. The claim holds. 
Case 2: $s > t$. Let $f$ be the step when all black pearls become single. We show a 1-w-string must exist at or before step $f-1$. In state $A_{f-1}$, all b-strings have length 1 or 2, and at least one 2-b-string is cut in step $f$. By Sub-problem 3, since $f-1 \ge t+1 > t$, there are at least $k$ white strings. In step $f$, at least one b-string is cut, so at most $k-1$ white strings are cut. Thus, at least one white string, $\mathcal{W}$, is not cut. Because a 2-b-string is cut, the ordering rule implies any w-string of length $\ge 2$ must also be cut. Therefore, the uncut string $\mathcal{W}$ must have length 1. So a 1-w-string exists in $A_{f-1}$, meaning the process stops at or before this stage, where by definition, not all black pearls are single."
2010c7,"Let $P_{1}, \ldots, P_{s}$ be arithmetic progressions of integers, the following conditions being satisfied:\\
(i) each integer belongs to at least one of them;\\
(ii) each progression contains a number which does not belong to other progressions.

Denote by $n$ the least common multiple of steps of these progressions; let $n=p_{1}^{\alpha_{1}} \ldots p_{k}^{\alpha_{k}}$ be its prime factorization. Prove that

$$
s \geq 1+\sum_{i=1}^{k} \alpha_{i}\left(p_{i}-1\right) .
$$",4,"Establish a bijection between the set of integers modulo $n$, $\mathbb{Z}_n = \{0, \dots, n-1\}$, and the points of a grid $N = \prod_{i=1}^k (\{0, \dots, p_i-1\})^{\alpha_i}$. The total number of coordinate axes is $K = \sum_{i=1}^k \alpha_i$.","For any integer $m \in \mathbb{Z}_n$, consider its residue $m_i = m \pmod{p_i^{\alpha_i}}$ for each $i=1,\dots,k$. Each $m_i$ has a unique base-$p_i$ representation $m_i = \sum_{j=1}^{\alpha_i} r_{ij}p_i^{j-1}$, where $0 \le r_{ij} < p_i$. Define the map $r: \mathbb{Z}_n \to N$ by $r(m) = (r_{11}, \dots, r_{1\alpha_1}, \dots, r_{k\alpha_k})$. This map is a bijection. If $r(m)=r(m')$, then $m \equiv m' \pmod{p_i^{\alpha_i}}$ for all $i$. Since the moduli $p_i^{\alpha_i}$ are pairwise coprime, by the Chinese Remainder Theorem, $m \equiv m' \pmod n$. For $m, m' \in \mathbb{Z}_n$, this implies $m=m'$. As $|\mathbb{Z}_n| = |N| = n$, the map is a bijection.","Show that under the bijection $r$, each arithmetic progression $P_j$ (restricted to $\mathbb{Z}_n$) maps to a subgrid $L_j \subset N$. Further, show that for each of the $K=\sum \alpha_i$ coordinate axes, there is at least one subgrid $L_j$ that is orthogonal to it.","An integer $m$ is in $P_j$ (with first term $a_j$ and step $d_j = \prod p_i^{\gamma_{ij}}$) if and only if $m \equiv a_j \pmod{d_j}$. This is equivalent to $m \equiv a_j \pmod{p_i^{\gamma_{ij}}}$ for all $i$. This condition fixes the first $\gamma_{ij}$ base-$p_i$ digits of $m \pmod{p_i^{\alpha_i}}$. Thus, the set $L_j = r(P_j \cap \mathbb{Z}_n)$ is a subgrid. For the second part, since $n = \text{lcm}(d_1, \ldots, d_s)$, for each $i \in \{1, \ldots, k\}$, there exists a $j$ such that $p_i^{\alpha_i}$ divides $d_j$. For this $j$, all $\alpha_i$ coordinates corresponding to the prime $p_i$ are fixed in the subgrid $L_j$. Therefore, $L_j$ is orthogonal to all axes associated with $p_i$, and this holds for all $i=1, \dots, k$.","Let a grid $N$ of size $n_1 \times \cdots \times n_K$ be covered by $s$ subgrids $L_1, \ldots, L_s$ such that: (i) each subgrid has a point not in any other, and (ii) for each coordinate axis, there is a subgrid orthogonal to it. Prove that $s \ge 1 + \sum_{i=1}^K (n_i - 1)$.","Assume for contradiction that $s \le \sum_{i=1}^K(n_i-1)$. Construct a bipartite graph $G$ between subgrids $V=\{L_j\}$ and 'axis-slots' $V'=\{v_{ij} : 1\le i\le K, 1\le j\le n_i-1\}$, with an edge $(L_m, v_{ij})$ if $L_m$ is orthogonal to axis $i$. Let $W \subseteq V$ be a maximal set with $|W| > |f(W)|$, where $f(W)$ is the neighborhood of $W$. The subgraph on $U=V\setminus W$ and $U'=V'\setminus f(W)$ satisfies Hall's condition $|f(X)\cap U'| \ge |X|$ for all $X \subseteq U$, by the maximality of $W$. By Hall's theorem, there is a matching from $U$ into $U'$. This allows us to construct a point $a$ not covered by any $L_j$. Let $b$ be a point not in $\cup_{L \in W} L$. For each axis $i$ corresponding to a vertex in $U'$, choose a coordinate $a_i$ not fixed by any matched subgrid in $U$. For other axes, use the coordinates of $b$. The resulting point $a$ is not in any subgrid in $U$ or $W$, contradicting the covering assumption.","Let $P_{1}, \ldots, P_{s}$ be arithmetic progressions of integers, satisfying: (i) each integer belongs to at least one of them; (ii) each progression contains a number which does not belong to other progressions. Denote by $n$ the least common multiple of steps of these progressions, with prime factorization $n=p_{1}^{\alpha_{1}} \ldots p_{k}^{\alpha_{k}}$. Prove that $s \geq 1+\sum_{i=1}^{k} \alpha_{i}(p_{i}-1)$.","From Sub-problem 1, $\mathbb{Z}_n$ is in bijection with a grid $N$ with $\sum \alpha_i$ axes, where for each $i$, there are $\alpha_i$ axes of size $p_i$. Condition (i) implies the corresponding sets $L_j$ cover $N$. From Sub-problem 2, these $L_j$ are subgrids, and for each axis, some $L_j$ is orthogonal to it. Condition (ii) implies each $L_j$ has a unique point. The conditions of the lemma in Sub-problem 3 are met for the grid $N$ and subgrids $L_j$. The sum in the lemma's conclusion is $\sum_{\text{axes}} (\text{size}-1) = \sum_{i=1}^k \alpha_i(p_i-1)$. Applying the lemma's result, we get $s \ge 1 + \sum_{i=1}^k \alpha_i(p_i-1)$."
2010g1,"G1. Let $A B C$ be an acute triangle with $D, E, F$ the feet of the altitudes lying on $B C, C A, A B$ respectively. One of the intersection points of the line $E F$ and the circumcircle is $P$. The lines $B P$ and $D F$ meet at point $Q$. Prove that $A P=A Q$.",3,"Let $ABC$ be an acute triangle with altitudes $AD, BE, CF$. Let $\gamma = \angle BCA$. Prove that $\angle AFE = \gamma$ and $\angle DFB = \gamma$.","In quadrilateral $BCEF$, angles $\angle BEC$ and $\angle BFC$ are both $90^\circ$. Thus, $B, C, E, F$ are concyclic, lying on the circle with diameter $BC$. In a cyclic quadrilateral, the exterior angle equals the interior opposite angle, so $\angle AFE = \angle BCE = \gamma$. Similarly, in quadrilateral $AFDC$, angles $\angle AFC$ and $\angle ADC$ are both $90^\circ$. Thus, $A, F, D, C$ are concyclic, lying on the circle with diameter $AC$. The sum of opposite angles is $180^\circ$, so $\angle DFB = 180^\circ - \angle AFD = \angle ACD = \gamma$.","Using the setup from the original problem, prove that the quadrilateral $AQPF$ is cyclic.","Let $\gamma = \angle BCA$. To prove $AQPF$ is cyclic, we show that points $P$ and $F$ subtend equal angles at segment $AQ$. Since $P$ is on the circumcircle of $\triangle ABC$, the quadrilateral $APBC$ is cyclic, which implies $\angle APB = 180^\circ - \gamma$. The point $Q$ is on line $BP$, so $\angle APQ = 180^\circ - \angle APB = \gamma$ (assuming one case for the configuration of points, the other is similar). From the previous sub-problem, we know $\angle DFB = \gamma$. The point $Q$ is on the line $DF$. For the same configuration, $\angle AFQ = \angle DFB = \gamma$. Since $\angle APQ = \angle AFQ = \gamma$, the points $A, Q, P, F$ are concyclic.","Let $A B C$ be an acute triangle with $D, E, F$ the feet of the altitudes lying on $B C, C A, A B$ respectively. One of the intersection points of the line $E F$ and the circumcircle is $P$. The lines $B P$ and $D F$ meet at point $Q$. Prove that $A P=A Q$.","From the second sub-problem, we know that $A, Q, P, F$ are concyclic. In a cyclic quadrilateral, angles subtended by the same arc are equal. Therefore, $\angle AQP = \angle AFP$. The angle $\angle AFP$ is the same as $\angle AFE$. From the first sub-problem, we established that $\angle AFE = \gamma$. Thus, $\angle AQP = \gamma$. In the proof of the second sub-problem, we also showed that $\angle APQ = \gamma$. Since two angles of the triangle $AQP$ are equal, $\angle AQP = \angle APQ} = \gamma$, the triangle is isosceles. Therefore, $AP=AQ$.",,
2010g2,"Point $P$ lies inside triangle $A B C$. Lines $A P, B P, C P$ meet the circumcircle of $A B C$ again at points $K, L, M$, respectively. The tangent to the circumcircle at $C$ meets line $A B$ at $S$. Prove that $S C=S P$ if and only if $M K=M L$.",2,"Prove that $MK=ML$ if and only if the ratio of distances from $P$ to $A$ and $B$ is equal to the ratio of the side lengths $CA$ and $CB$, i.e., $\frac{PA}{PB} = \frac{CA}{CB}$.","Since points $A,B,C,K,L,M$ lie on the circumcircle, we can identify similar triangles. We have $\angle PKM = \angle AKM = \angle ACM$ and $\angle PMK = \angle CAK = \angle CAP$, which implies $\triangle PKM \sim \triangle PCA$. Similarly, $\angle PLM = \angle BLM = \angle BCM$ and $\angle PML = \angle CBL = \angle CBP$, which implies $\triangle PLM \sim \triangle PCB$. From these similarities, we get $\frac{PM}{KM} = \frac{PA}{CA}$ and $\frac{LM}{PM} = \frac{CB}{PB}$. Multiplying these two equalities gives $\frac{LM}{KM} = \frac{PA \cdot CB}{CA \cdot PB}$. Therefore, $MK=ML$ is equivalent to $1 = \frac{PA \cdot CB}{CA \cdot PB}$, which rearranges to $\frac{PA}{PB} = \frac{CA}{CB}$.",Prove that $S C=S P$ if and only if $M K=M L$.,"From the first sub-problem, $MK=ML$ is equivalent to $\frac{PA}{PB} = \frac{CA}{CB}$. This condition means that $P$ lies on the Apollonius circle $\Omega$ of points $A, B$ with the ratio $k=CA/CB$. Since $C$ also satisfies this ratio condition for itself, $C$ lies on $\Omega$. Let $Q$ be the center of $\Omega$. The condition $P \in \Omega$ is equivalent to $QP=QC$. To prove the problem statement, we show that $S$ is the center of this circle, i.e., $S=Q$. The center $Q$ lies on the line $AB$. $S$ also lies on $AB$ by definition. Let $E$ be the foot of the angle bisector of $\angle C$ on $AB$. $E$ lies on $\Omega$, so $Q$ lies on the perpendicular bisector of $CE$. By the tangent-chord theorem, $\angle SCB = \angle CAB$. In $\triangle SCE$, $\angle SEC = \angle EAC + \angle ACE$ and $\angle SCE = \angle SCB + \angle BCE$. As $CE$ is the angle bisector and $\angle SCB = \angle EAC$, we have $\angle SEC = \angle SCE$. So $\triangle SCE$ is isosceles with $SC=SE$, meaning $S$ lies on the perpendicular bisector of $CE$. Since $S$ and $Q$ both lie on line $AB$ and on the perpendicular bisector of $CE$, they must coincide. Thus $S=Q$, so the condition $MK=ML \iff P \in \Omega$ is equivalent to $SP=SC$.",,,,
2010g3,"Let $A_{1} A_{2} \ldots A_{n}$ be a convex polygon. Point $P$ inside this polygon is chosen so that its projections $P_{1}, \ldots, P_{n}$ onto lines $A_{1} A_{2}, \ldots, A_{n} A_{1}$ respectively lie on the sides of the polygon. Prove that for arbitrary points $X_{1}, \ldots, X_{n}$ on sides $A_{1} A_{2}, \ldots, A_{n} A_{1}$ respectively,

$$
\max \left\{\frac{X_{1} X_{2}}{P_{1} P_{2}}, \ldots, \frac{X_{n} X_{1}}{P_{n} P_{1}}\right\} \geq 1
$$",2,"Let $A_1 A_2 \ldots A_n$ be a convex polygon. For $i=1, \ldots, n$, let $X_i$ be an arbitrary point on side $A_i A_{i+1}$ (where indices are taken modulo $n$, so $A_{n+1}=A_1$). Prove that any point $Q$ inside the polygon $A_1 A_2 \ldots A_n$ is contained in at least one of the circumcircles of the triangles $\triangle X_i A_{i+1} X_{i+1}$ for $i=1, \ldots, n$.","If $Q$ lies in one of the triangles $\triangle X_i A_{i+1} X_{i+1}$, the claim is obvious. Otherwise, $Q$ lies inside the polygon $X_1 X_2 \ldots X_n$. Consider the sum of angles $\sum_{i=1}^n (\angle X_i A_{i+1} X_{i+1} + \angle X_i Q X_{i+1})$. This sum is equal to the sum of the interior angles of the polygon $A_1 \ldots A_n$, which is $(n-2)\pi$, plus the sum of the angles around point $Q$, which is $2\pi$. The total sum is $n\pi$. By the pigeonhole principle, there must be at least one index $i$ for which $\angle X_i A_{i+1} X_{i+1} + \angle X_i Q X_{i+1} \geq \pi$. Since the quadrilateral $Q X_i A_{i+1} X_{i+1}$ is convex, this condition implies that $Q$ is contained in the circumcircle of $\triangle X_i A_{i+1} X_{i+1}$.","Let $A_{1} A_{2} \ldots A_{n}$ be a convex polygon. Point $P$ inside this polygon is chosen so that its projections $P_{1}, \ldots, P_{n}$ onto lines $A_{1} A_{2}, \ldots, A_{n} A_{1}$ respectively lie on the sides of the polygon. Prove that for arbitrary points $X_{1}, \ldots, X_{n}$ on sides $A_{1} A_{2}, \ldots, A_{n} A_{1}$ respectively,\n\n$$ \max \\left\\{\frac{X_{1} X_{2}}{P_{1} P_{2}}, \\ldots, \frac{X_{n} X_{1}}{P_{n} P_{1}}\right\\} \\geq 1 $$","Applying the result from the first sub-problem with $Q=P$, we find that for some index $i$, $P$ lies inside the circumcircle of $\triangle X_i A_{i+1} X_{i+1}$. Let this circle be $\Omega$ with radius $R$. Since $A_{i+1}$ is on $\Omega$ and $P$ is inside or on $\Omega$, the distance $PA_{i+1}$ is at most the diameter $2R$. Now, consider points $P_i$ and $P_{i+1}$, the projections of $P$ onto lines $A_iA_{i+1}$ and $A_{i+1}A_{i+2}$ respectively. The quadrilateral $P P_i A_{i+1} P_{i+1}$ has right angles at $P_i$ and $P_{i+1}$, so these four points lie on a circle $\omega$ with diameter $PA_{i+1}$. Let its radius be $r$, so $2r = PA_{i+1}$. It follows that $2r \le 2R$, or $r \le R$. By the Law of Sines in $\triangle P_i A_{i+1} P_{i+1}$ and $\triangle X_i A_{i+1} X_{i+1}$, we have $P_i P_{i+1} = 2r \sin(\angle P_i A_{i+1} P_{i+1})$ and $X_i X_{i+1} = 2R \sin(\angle X_i A_{i+1} X_{i+1})$. Since $\angle P_i A_{i+1} P_{i+1} = \angle X_i A_{i+1} X_{i+1} = \angle A_{i+1}$, and $r \le R$, we conclude that $P_i P_{i+1} \le X_i X_{i+1}$. This implies $\frac{X_i X_{i+1}}{P_i P_{i+1}} \geq 1$ for this $i$, which proves the claim.",,,,
2010g4,"Let $I$ be the incenter of a triangle $A B C$ and $\Gamma$ be its circumcircle. Let the line $A I$ intersect $\Gamma$ at a point $D \neq A$. Let $F$ and $E$ be points on side $B C$ and arc $B D C$ respectively such that $\angle B A F=\angle C A E<\frac{1}{2} \angle B A C$. Finally, let $G$ be the midpoint of the segment $I F$. Prove that the lines $D G$ and $E I$ intersect on $\Gamma$.",3,Let $X$ be the second point of intersection of line $EI$ with the circumcircle $\Gamma$. Let $T$ be the intersection of line $DX$ with line $AF$. Prove that the line segment $IT$ is parallel to $BC$.,"Let $K$ be the second intersection of line $AF$ with $\Gamma$. Since $\angle BAF = \angle CAE$, we have that arcs $\widehat{BK}$ and $\widehat{CE}$ are equal, which implies $KE \| BC$. We want to show $IT \| KE$. The points $A,I,D$ are collinear. We have the following chain of equalities: $\angle IAT = \angle DAF = \angle DAB + \angle BAF = \frac{1}{2}\angle BAC + \angle CAE = \angle CAD + \angle CAE = \angle EAD$. On the other hand, since $A, D, E, X$ lie on $\Gamma$, $\angle EAD = \angle EXD$. As $E,I,X$ are collinear and $D,T,X$ are collinear, $\angle EXD = \angle IXT$. Thus, $\angle IAT = \angle IXT$, which implies that the points $I, A, X, T$ are concyclic. From this concyclicity, $\angle ITA = \angle IXA$. As $I,E,X$ are collinear, $\angle IXA = \angle EXA$. Since $A,E,X,K$ lie on $\Gamma$, $\angle EXA = \angle EKA$. Therefore, $\angle ITA = \angle EKA$. Since $A,T,K$ are collinear, this implies $IT \| KE$. As $KE \| BC$, we conclude $IT \| BC$.",Let $L$ be the foot of the angle bisector from vertex $A$ on side $BC$. Prove the relation $\frac{IL}{AI} = \frac{ID}{AD}$.,"In $\triangle ACL$, $CI$ is the angle bisector of $\angle C$. By the Angle Bisector Theorem, $\frac{IL}{AI} = \frac{CL}{AC}$. Now, consider $\triangle DAC$ and $\triangle DCL$. Since $A,L,D$ are collinear, $\angle ADC$ is common to both triangles. Also, $\angle DCL = \angle DCB = \angle DAB$ (angles subtended by arc $DB$). As $AD$ is the angle bisector of $\angle A$, $\angle DAB = \angle CAD$. Thus, $\angle DCL = \angle CAD$. By AA similarity, $\triangle DCL \sim \triangle DAC$. This similarity implies $\frac{CL}{AC} = \frac{DC}{AD}$. A well-known property of point $D$ (the intersection of the angle bisector of $A$ with the circumcircle) is that it is the center of the circle passing through $B, I, C$, which gives $DC = DI$. Substituting this into the previous relation, we get $\frac{CL}{AC} = \frac{DI}{AD}$. Combining the equalities, we have $\frac{IL}{AI} = \frac{CL}{AC} = \frac{DI}{AD}$, which proves the desired relation.","Let $I$ be the incenter of a triangle $A B C$ and $\Gamma$ be its circumcircle. Let the line $A I$ intersect $\Gamma$ at a point $D \neq A$. Let $F$ and $E$ be points on side $B C$ and arc $B D C$ respectively such that $\angle B A F=\angle C A E<\frac{1}{2} \angle B A C$. Finally, let $G$ be the midpoint of the segment $I F$. Prove that the lines $D G$ and $E I$ intersect on $\Gamma$.","Let $X$ be the second point of intersection of line $EI$ with $\Gamma$. We need to prove that $D, G, X$ are collinear. Let $T$ be the intersection of line $DX$ with $AF$. Consider the triangle $\triangle AIF$ and the transversal line $D-T-X$. By Menelaus's Theorem, for $D, G, X$ to be collinear, its intersection with $IF$ must be $G$. If we name this intersection $G'$, we need to show that $G'$ is the midpoint of $IF$. The theorem states $\frac{AT}{TF} \cdot \frac{FG'}{G'I} \cdot \frac{ID}{DA} = 1$. For $G'=G$, we must have $FG'=G'I$, so the condition simplifies to proving $\frac{AT}{TF} = \frac{DA}{ID}$, or equivalently $\frac{TF}{AT} = \frac{ID}{AD}$.
From Sub-problem 1, we have $IT \| BC$. Let $L$ be the foot of the angle bisector from $A$. Since $IT \| FL$, considering $\triangle AFL$ and line $IT$, by Thales' Theorem we get $\frac{TF}{AT} = \frac{IL}{AI}$.
From Sub-problem 2, we have $\frac{IL}{AI} = \frac{ID}{AD}$.
Combining these two results, we get $\frac{TF}{AT} = \frac{ID}{AD}$, satisfying the condition from Menelaus's Theorem. Thus, $D, G, X$ are collinear, meaning the lines $DG$ and $EI$ intersect at point $X$ on the circumcircle $\Gamma$.",,
2010g5,"Let $A B C D E$ be a convex pentagon such that $B C \| A E, A B=B C+A E$, and $\angle A B C=$ $\angle C D E$. Let $M$ be the midpoint of $C E$, and let $O$ be the circumcenter of triangle $B C D$. Given that $\angle D M O=90^{\circ}$, prove that $2 \angle B D A=\angle C D E$.",3,"Let $M$ be the midpoint of $CE$ in $\triangle CDE$, $N$ be the midpoint of $CD$, and $O$ be the circumcenter of $\triangle BCD$. Given $\angle D M O=90^{\circ}$, show that $\angle MDE = \angle CBD$.","Let $\angle CBD = \alpha$. As $O$ is the circumcenter of $\triangle BCD$ and $N$ is the midpoint of chord $CD$, $ON \perp CD$ and $\angle DON = \angle DBC = \alpha$. The condition $\angle D M O=90^{\circ}$ along with $\angle DNO=90^\circ$ implies that points $M$ and $N$ lie on the circle with diameter $OD$. Thus, $\angle DMN = \angle DON = \alpha$. Since $M$ and $N$ are midpoints of $CE$ and $CD$ respectively, $MN$ is a midline in $\triangle CDE$, meaning $MN \| DE$. Therefore, the alternate interior angles are equal: $\angle MDE = \angle DMN = \alpha$. This proves $\angle MDE = \angle CBD$.","Let $\angle CBD = \alpha, \angle BDC = \beta, \angle ADE = \gamma$, and $\angle ABC = \angle CDE = 2\varphi$. Using the result from Sub-problem 1 that $\angle MDE = \alpha$, and the given conditions $AB = BC + AE$ and $BC \| AE$, derive the trigonometric equation: $\sin(2\varphi-\alpha-\beta)\sin(2\varphi-\beta-\gamma) = \sin\gamma\sin(2\varphi-\alpha) + \sin\beta\sin(2\varphi-\alpha-\beta-\gamma)$.","The condition $AB=BC+AE$ is rewritten as $\frac{AB}{AD}=\frac{BC}{AD}+\frac{AE}{AD}$. Using the Law of Sines on $\triangle ABD$, $\triangle ADE$, $\triangle BCD$ and the midline properties in $\triangle CDE$, we find the ratios: $\frac{AB}{AD}=\frac{\sin(2\varphi-\beta-\gamma)}{\sin(2\varphi-\alpha)}$, $\frac{AE}{AD}=\frac{\sin\gamma}{\sin(2\varphi-\alpha-\beta)}$, and $\frac{BC}{AD}=\frac{\sin\beta \sin(2\varphi-\alpha-\beta-\gamma)}{\sin(2\varphi-\alpha)\sin(2\varphi-\alpha-\beta)}$. Substituting these into the length equation and multiplying by the common denominator $\sin(2\varphi-\alpha)\sin(2\varphi-\alpha-\beta)$ gives the desired trigonometric relation: $\sin(2\varphi-\alpha-\beta)\sin(2\varphi-\beta-\gamma) = \sin\gamma\sin(2\varphi-\alpha) + \sin\beta\sin(2\varphi-\alpha-\beta-\gamma)$.","Let $A B C D E$ be a convex pentagon such that $B C \| A E, A B=B C+A E$, and $\angle A B C=$ $\angle C D E$. Let $M$ be the midpoint of $C E$, and let $O$ be the circumcenter of triangle $B C D$. Given that $\angle D M O=90^{\circ}$, prove that $2 \angle B D A=\angle C D E$.","Let $\angle CBD=\alpha, \angle BDC=\beta, \angle ADE=\gamma, \angle ABC=\angle CDE=2\varphi$. From the previous steps, we have the relation $\sin(2\varphi-\alpha-\beta)\sin(2\varphi-\beta-\gamma) = \sin\gamma\sin(2\varphi-\alpha) + \sin\beta\sin(2\varphi-\alpha-\beta-\gamma)$. Applying product-to-sum trigonometric identities, this equation simplifies to $\cos\varphi \cdot \sin(2\varphi-\beta-\alpha) \cdot \sin(\varphi-\beta-\gamma) = 0$. Since $A B C D E$ is a convex pentagon, $\varphi = \frac{1}{2}\angle ABC < 90^{\circ}$, so $\cos\varphi \neq 0$. Also, $2\varphi-\beta-\alpha = 180^{\circ} - \angle AED$, so its sine is non-zero. Therefore, we must have $\sin(\varphi-\beta-\gamma)=0$, which implies $\varphi = \beta + \gamma$. The angle to be determined is $\angle BDA = 2\varphi - \beta - \gamma$. Substituting $\varphi=\beta+\gamma$, we get $\angle BDA = 2\varphi - \varphi = \varphi$. Since $\angle CDE = 2\varphi$, we have $\angle BDA = \frac{1}{2}\angle CDE$, which is equivalent to $2\angle BDA = \angle CDE$.",,
2010g6,"The vertices $X, Y, Z$ of an equilateral triangle $X Y Z$ lie respectively on the sides $B C$, $C A, A B$ of an acute-angled triangle $A B C$. Prove that the incenter of triangle $A B C$ lies inside triangle $X Y Z$.\\",3,"Let $I$ be the incenter and $r$ the inradius of $\triangle ABC$. Let $O$ be the incenter, $r'$ the inradius, and $R'$ the circumradius of the equilateral $\triangle XYZ$. Let $A_1$ and $C_1$ be the tangency points of the incircle of $\triangle ABC$ with sides $BC$ and $AB$ respectively. Let $A'$ and $C'$ be the projections of $O$ onto the lines $IA_1$ and $IC_1$. Show that $IA' \le R' - r$ and $IC' \le r - r'$.","Since vertex $X$ lies on side $BC$ and $O$ is the circumcenter of $\triangle XYZ$, the distance from $O$ to line $BC$ is at most $OX=R'$. The lines $OA'$ and $BC$ are parallel, so the distance between them is $d(O,BC) = IA' + d(I,BC) = IA' + r$. This gives $IA' + r \le R'$, so $IA' \le R' - r$. The incircle of $\triangle XYZ$ lies within $\triangle ABC$, so the distance from $O$ to side $AB$ must be at least $r'$, i.e., $d(O, AB) \ge r'$. The lines $OC'$ and $AB$ are parallel, so the distance between them is $d(O,AB) = d(I,AB) - IC' = r - IC'$. This gives $r - IC' \ge r'$, so $IC' \le r - r'$.","With the same setup, show that the distance $OI$ between the incenters of $\triangle ABC$ and $\triangle XYZ$ satisfies the inequality $OI < R' - r'$.","The quadrilateral $IA'OC'$ has right angles at $A'$ and $C'$, so it is cyclic with diameter $OI$. By the triangle inequality in the right-angled $\triangle OIA'$, $OI \le IA' + A'O$. A further geometric property of the cyclic quadrilateral shows that chord $A'O$ is shorter than chord $IC'$. Thus, $OI < IA' + IC'$. Using the results from the previous sub-problem, we substitute the inequalities for $IA'$ and $IC'$: $IA' + IC' \le (R' - r) + (r - r') = R' - r'$. Combining these results yields $OI < R' - r'$.","The vertices $X, Y, Z$ of an equilateral triangle $X Y Z$ lie respectively on the sides $B C$, $C A, A B$ of an acute-angled triangle $A B C$. Prove that the incenter of triangle $A B C$ lies inside triangle $X Y Z$.","Let $I$ be the incenter of $\triangle ABC$, and let $O$, $r'$, and $R'$ be the incenter, inradius, and circumradius of $\triangle XYZ$. We will prove the stronger statement that $I$ lies inside the incircle of $\triangle XYZ$ by showing $OI < r'$. From the previous sub-problem, we established the inequality $OI < R' - r'$. For an equilateral triangle, the circumradius is twice the inradius, so $R' = 2r'$. Substituting this relation, we get $OI < 2r' - r'$, which simplifies to $OI < r'$. Since the distance from $I$ to the center $O$ is less than the inradius $r'$, $I$ must lie inside the incircle of $\triangle XYZ$, and therefore inside $\triangle XYZ$ itself.",,
2010g7,"Three circular arcs $\gamma_{1}, \gamma_{2}$, and $\gamma_{3}$ connect the points $A$ and $C$. These arcs lie in the same half-plane defined by line $A C$ in such a way that arc $\gamma_{2}$ lies between the arcs $\gamma_{1}$ and $\gamma_{3}$. Point $B$ lies on the segment $A C$. Let $h_{1}, h_{2}$, and $h_{3}$ be three rays starting at $B$, lying in the same half-plane, $h_{2}$ being between $h_{1}$ and $h_{3}$. For $i, j=1,2,3$, denote by $V_{i j}$ the point of intersection of $h_{i}$ and $\gamma_{j}$ (see the Figure below).\\
\includegraphics[max width=\textwidth]{2025_05_04_3fd3d9bd7a00de872656g-61} and arcs $V_{i j} V_{k j}$ and $V_{i \ell} V_{k \ell}$. We say that this quadrilateral is circumscribed if there exists a circle touching these two segments and two arcs.

Prove that if the curved quadrilaterals $\sqrt{V_{11} V_{21}} \sqrt{22} V_{12}, \sqrt{12} V_{22} \sqrt{23} V_{13}, \sqrt{21} \sqrt{31} \sqrt{32 V_{22}}$ are circumscribed, then the curved quadrilateral $\widehat{V_{22} V_{32}} \sqrt{3_{33} V_{23}}$ is circumscribed, too.",4,"For any two rays $h_i, h_j$ starting from a point $B$ on a line $AC$, consider the family of circles tangent to both rays. Show that for any such circle with center $P$ and radius $r$, the radius is proportional to the distance $d(P)$ from $P$ to the line $AC$. That is, $r = u_{ij} \cdot d(P)$ for some constant $u_{ij}$ that depends only on the rays.","The locus of centers P of circles tangent to two intersecting rays $h_i, h_j$ is their angle bisector. All such circles are homothetic with respect to the rays' origin B. This homothety implies a constant ratio between the circle's radius $r$ and the distance $d(P)$ of its center from the line AC. Hence, $r = u_{ij} \cdot d(P)$ for a constant $u_{ij}$ determined by the angle between the rays.","For any two circular arcs $\\gamma_j, \\gamma_k$ with common endpoints $A, C$, consider the family of circles that are externally tangent to $\\gamma_j$ and internally tangent to $\\gamma_k$. Show that for any such circle with center $P$ and radius $r$, the radius is proportional to the distance $d(P)$ from $P$ to the line $AC$. That is, $r = v_{jk} \cdot d(P)$ for some constant $v_{jk}$ that depends only on the arcs.","Let $\\gamma_j$ and $\\gamma_k$ have centers $O_j, O_k$ and radii $R_j, R_k$. For a circle with center P and radius $r$ to be externally tangent to $\\gamma_j$ and internally to $\\gamma_k$, its center must satisfy $O_jP + O_kP = (R_j+r) + (R_k-r) = R_j+R_k$, defining an ellipse. A vector-based calculation shows that the radius $r$ and the distance $d(P)$ are linearly related by $r = v_{jk} \cdot d(P)$, where the constant $v_{jk} = \frac{O_jO_k}{R_j+R_k}$ depends only on the two arcs.","A curved quadrilateral is formed by segments on two rays $h_i, h_{i+1}$ and two circular arcs $\\gamma_j, \\gamma_{j+1}$. Show that this quadrilateral is circumscribed (i.e., admits an inscribed circle tangent to all four sides) if and only if the proportionality constants from the previous sub-problems are equal, i.e., $u_{i,i+1} = v_{j,j+1}$.","A curved quadrilateral is circumscribed if there exists a circle $\\Omega(P, r)$ tangent to its four sides. This circle's center P must lie on the locus of centers of circles tangent to the rays and on the locus of centers of circles tangent to the arcs. Its radius $r$ must simultaneously satisfy $r = u_{i,i+1} \cdot d(P)$ and $r = v_{j,j+1} \cdot d(P)$. This implies $u_{i,i+1} = v_{j,j+1}$ (since $d(P) \neq 0$). Conversely, if the constants are equal, the intersection of the two loci provides the center for an inscribed circle, proving the quadrilateral is circumscribed.","Three circular arcs $\\gamma_{1}, \\gamma_{2}$, and $\\gamma_{3}$ connect the points $A$ and $C$. These arcs lie in the same half-plane defined by line $A C$ in such a way that arc $\\gamma_{2}$ lies between the arcs $\\gamma_{1}$ and $\\gamma_{3}$. Point $B$ lies on the segment $A C$. Let $h_{1}, h_{2}$, and $h_{3}$ be three rays starting at $B$, lying in the same half-plane, $h_{2}$ being between $h_{1}$ and $h_{3}$. For $i, j=1,2,3$, denote by $V_{i j}$ the point of intersection of $h_{i}$ and $\\gamma_{j}$. We say that a curved quadrilateral formed by two segments on rays and two circular arcs is circumscribed if there exists a circle touching these two segments and two arcs. Prove that if the curved quadrilaterals $\\sqrt{V_{11} V_{21}} \\sqrt{22} V_{12}, \\sqrt{12} V_{22} \\sqrt{23} V_{13}, \\sqrt{21} \\sqrt{31} \\sqrt{32 V_{22}}$ are circumscribed, then the curved quadrilateral $\\widehat{V_{22} V_{32}} \\sqrt{3_{33} V_{23}}$ is circumscribed, too.","Let $u_{i,i+1}$ be the constant for rays $h_i, h_{i+1}$ and $v_{j,j+1}$ for arcs $\\gamma_j, \\gamma_{j+1}$. A quadrilateral bounded by these is circumscribed if and only if $u_{i,i+1} = v_{j,j+1}$. The three given conditions are interpreted as: 1. The quadrilateral on rays $(h_1, h_2)$ and arcs $(\\gamma_1, \\gamma_2)$ is circumscribed $\\implies u_{12} = v_{12}$. 2. The quadrilateral on rays $(h_1, h_2)$ and arcs $(\\gamma_2, \\gamma_3)$ is circumscribed $\\implies u_{12} = v_{23}$. 3. The quadrilateral on rays $(h_2, h_3)$ and arcs $(\\gamma_1, \\gamma_2)$ is circumscribed $\\implies u_{23} = v_{12}$. From these equalities, we deduce $u_{23} = v_{12} = u_{12} = v_{23}$. This implies $u_{23} = v_{23}$. This is the condition for the quadrilateral on rays $(h_2, h_3)$ and arcs $(\\gamma_2, \\gamma_3)$ to be circumscribed. Thus, the statement is proved."
2010n6,"The rows and columns of a $2^{n} \times 2^{n}$ table are numbered from 0 to $2^{n}-1$. The cells of the table have been colored with the following property being satisfied: for each $0 \leq i, j \leq 2^{n}-1$, the $j$ th cell in the $i$ th row and the $(i+j)$ th cell in the $j$ th row have the same color. (The indices of the cells in a row are considered modulo $2^{n}$.)

Prove that the maximal possible number of colors is $2^{n}$.",4,"Relate the maximum number of colors to the number of cycles in a specific directed graph, and show that these cycles correspond to periodic Fibonacci-type sequences modulo $2^n$.","The problem states that cell $(i, j)$ has the same color as cell $(j, i+j \pmod{2^n})$. We can model this with a directed graph where the vertices are the cells $(i,j)$ and edges are $(i, j) \to (j, i+j \pmod{2^n})$. The transformation is a permutation of the cells, so the graph decomposes into disjoint cycles. The coloring condition implies all cells in a cycle must have the same color. Thus, the maximum number of colors is the number of cycles. A cycle starting at $(a_0, a_1)$ consists of cells $(a_{k-1}, a_k \pmod{2^n})$ for $k \ge 1$, where $a_{k+1} = a_k + a_{k-1}$, which is a periodic Fibonacci-type sequence modulo $2^n$.","Let $A = (a_0, a_1, \dots)$ be a Fibonacci-type sequence. Let $\nu(m)$ be the exponent of 2 in the prime factorization of $m$, and let $k = \\min(\nu(a_0), \nu(a_1))$. For $k < n$, determine the period of sequence $A$ modulo $2^n$ in terms of $n$ and $k$.","The period $p$ of a Fibonacci-type sequence $A=(a_0, a_1, \dots)$ modulo $2^n$ depends on $k = \\min(\nu(a_0), \nu(a_1))$. The sequence $(a_i/2^k)$ modulo $2^{n-k}$ has $\\min(\nu(a_0/2^k), \nu(a_1/2^k))=0$ and its period is the same as $A$'s period. For the case $k=0$, the period of $(a_i)$ is the same as the period of the standard Fibonacci sequence $(F_i)$, which can be shown to be $3 \\cdot 2^{n-1}$ for $n \\ge 1$. Therefore, for a general $k<n$, the period of sequence $A$ modulo $2^n$ is $3 \\cdot 2^{n-1-k}$.","Using the period length, calculate the number of distinct cycles formed by the cells $(i, j)$ for which $\\min(\nu(i), \nu(j)) = k$, for a fixed integer $k$ where $0 \\le k < n$.","For a fixed $k \\in \\{0, \\dots, n-1\\}$, we count the cells $(i,j)$ where $\\min(\nu(i), \nu(j))=k$. The number of such cells is the number of pairs $(i,j)$ where $i,j$ are divisible by $2^k$ minus the number where they are both divisible by $2^{k+1}$. This gives $(2^{n-k})^2 - (2^{n-k-1})^2 = 3 \\cdot 2^{2n-2k-2}$ cells. From the previous sub-problem, the length of each cycle containing these cells is $3 \\cdot 2^{n-1-k}$. Thus, the number of such cycles is $\frac{3 \\cdot 2^{2n-2k-2}}{3 \\cdot 2^{n-1-k}} = 2^{n-k-1}$.",Prove that the maximal possible number of colors is $2^{n}$.,"The maximum number of colors equals the total number of cycles. The cell $(0,0)$ forms a single cycle. For each $k$ from $0$ to $n-1$, there are $2^{n-k-1}$ cycles formed by cells $(i,j)$ with $\\min(\nu(i),\nu(j))=k$. Summing these up gives the total number of cycles: $1 + \\sum_{k=0}^{n-1} 2^{n-k-1} = 1 + (2^{n-1} + 2^{n-2} + \\dots + 2^0) = 1 + (2^n-1) = 2^n$. Therefore, the maximal possible number of colors is $2^n$."
2009a2,"Let $a, b, c$ be positive real numbers such that $\frac{1}{a}+\frac{1}{b}+\frac{1}{c}=a+b+c$. Prove that

$$
\frac{1}{(2 a+b+c)^{2}}+\frac{1}{(2 b+c+a)^{2}}+\frac{1}{(2 c+a+b)^{2}} \leq \frac{3}{16} .
$$",2,"For positive real numbers $a, b, c$, prove that $\frac{1}{(2a+b+c)^2} + \frac{1}{(2b+c+a)^2} + \frac{1}{(2c+a+b)^2} \leq \frac{a+b+c}{2(a+b)(b+c)(c+a)}$.","By the Arithmetic Mean-Geometric Mean inequality, for positive real numbers $x, y, z$, we have $2x+y+z = (x+y)+(x+z) \geq 2\sqrt{(x+y)(x+z)}$. Squaring and taking the reciprocal gives $\frac{1}{(2x+y+z)^2} \leq \frac{1}{4(x+y)(x+z)}$. Applying this inequality for $(x,y,z)$ as cyclic permutations of $(a,b,c)$ and summing them up, we get:\n$\sum_{cyc} \frac{1}{(2a+b+c)^2} \leq \frac{1}{4(a+b)(a+c)} + \frac{1}{4(b+c)(b+a)} + \frac{1}{4(c+a)(c+b)} = \frac{(b+c)+(c+a)+(a+b)}{4(a+b)(b+c)(c+a)} = \frac{2(a+b+c)}{4(a+b)(b+c)(c+a)} = \frac{a+b+c}{2(a+b)(b+c)(c+a)}$.","Let $a, b, c$ be positive real numbers such that $\frac{1}{a}+\frac{1}{b}+\frac{1}{c}=a+b+c$. Prove that $\frac{1}{(2 a+b+c)^{2}}+\frac{1}{(2 b+c+a)^{2}}+\frac{1}{(2 c+a+b)^{2}} \leq \frac{3}{16}$.","From the first sub-problem, we know the left-hand side is less than or equal to $\frac{a+b+c}{2(a+b)(b+c)(c+a)}$. The given condition $\frac{1}{a}+\frac{1}{b}+\frac{1}{c}=a+b+c$ is equivalent to $ab+bc+ca=abc(a+b+c)$. We use two inequalities: (1) $9(a+b)(b+c)(c+a) \geq 8(a+b+c)(ab+bc+ca)$ and (2) $(ab+bc+ca)^2 \geq 3abc(a+b+c)$. We can rewrite our expression and apply these bounds: \begin{align*} \frac{a+b+c}{2(a+b)(b+c)(c+a)} &= \frac{(a+b+c)(ab+bc+ca)}{2(a+b)(b+c)(c+a)} \cdot \frac{ab+bc+ca}{abc(a+b+c)} \cdot \frac{abc(a+b+c)}{(ab+bc+ca)^2} \\ &\leq \left(\frac{1}{2} \cdot \frac{9}{8}\right) \cdot (1) \cdot \left(\frac{1}{3}\right) = \frac{3}{16} \end{align*} Here, the first factor is bounded using inequality (1), the second factor is 1 by the given condition, and the third factor is bounded using inequality (2).",,,,
2009a4,"Let $a, b, c$ be positive real numbers such that $a b+b c+c a \leq 3 a b c$. Prove that

$$
\sqrt{\frac{a^{2}+b^{2}}{a+b}}+\sqrt{\frac{b^{2}+c^{2}}{b+c}}+\sqrt{\frac{c^{2}+a^{2}}{c+a}}+3 \leq \sqrt{2}(\sqrt{a+b}+\sqrt{b+c}+\sqrt{c+a}) .
$$",1,"Let $a, b, c$ be positive real numbers such that $a b+b c+c a \leq 3 a b c$. Prove that

$$
\sqrt{\frac{a^{2}+b^{2}}{a+b}}+\sqrt{\frac{b^{2}+c^{2}}{b+c}}+\sqrt{\frac{c^{2}+a^{2}}{c+a}}+3 \leq \sqrt{2}(\sqrt{a+b}+\sqrt{b+c}+\sqrt{c+a}) .
$$","Solution. Starting with the terms of the right-hand side, the quadratic-arithmetic-mean inequality yields

$$
\begin{aligned}
\sqrt{2} \sqrt{a+b} & =2 \sqrt{\frac{a b}{a+b}} \sqrt{\frac{1}{2}\left(2+\frac{a^{2}+b^{2}}{a b}\right)} \\
& \geq 2 \sqrt{\frac{a b}{a+b}} \cdot \frac{1}{2}\left(\sqrt{2}+\sqrt{\frac{a^{2}+b^{2}}{a b}}\right)=\sqrt{\frac{2 a b}{a+b}}+\sqrt{\frac{a^{2}+b^{2}}{a+b}}
\end{aligned}
$$

and, analogously,

$$
\sqrt{2} \sqrt{b+c} \geq \sqrt{\frac{2 b c}{b+c}}+\sqrt{\frac{b^{2}+c^{2}}{b+c}}, \quad \sqrt{2} \sqrt{c+a} \geq \sqrt{\frac{2 c a}{c+a}}+\sqrt{\frac{c^{2}+a^{2}}{c+a}} .
$$

Applying the inequality between the arithmetic mean and the squared harmonic mean will finish the proof:

$$\sqrt{\frac{2 a b}{a+b}}+\sqrt{\frac{2 b c}{b+c}}+\sqrt{\frac{2 c a}{c+a}} \geq 3 \cdot \sqrt{\frac{3}{{\sqrt{\frac{a+b}{2 a b}^2}+\sqrt{\frac{b+c}{2 b c}}+\sqrt{\frac{c+a}{2 c a}}}^2}}=3 \cdot \sqrt{\frac{3 a b c}{a b+b c+c a}} \geq 3 $$",,,,,,
2009a5,"Let $f$ be any function that maps the set of real numbers into the set of real numbers. Prove that there exist real numbers $x$ and $y$ such that

$$
f(x-f(y))>y f(x)+x .
$$",3,"Assume for contradiction that $f(x-f(y)) \leq y f(x)+x$ for all $x, y$. Let $a = f(0)$. Prove that for all real numbers $y$, $f(y) \leq y+a$, and for all $y>0$, $f(y) \geq -a-1$.","Let $a=f(0)$. Setting $y=0$ in the assumed inequality gives $f(x-a) \leq x$, so by a change of variable, $f(y) \leq y+a$ for all $y$. Now, setting $x=f(y)$ in the assumption gives $a = f(0) \leq y f(f(y)) + f(y)$. Using the first result, we have $a \leq y f(f(y)) + y+a$, which implies $0 \leq y(f(f(y))+1)$. For $y>0$, this means $f(f(y)) \geq -1$. Combining this with $f(f(y)) \leq f(y)+a$ gives $-1 \leq f(y)+a$, so $f(y) \geq -a-1$ for $y>0$.","Assuming $f(x-f(y)) \leq y f(x)+x$ for all $x, y$, prove that $f(x) \leq 0$ for all real $x$.","Assume for contradiction there is an $x_0$ with $f(x_0)>0$. Let $a=f(0)$. From the bounds established in sub-problem 1, we know $f(y) \leq y+a$ and $f(z) \geq -a-1$ for $z>0$. Choose $y$ such that $y < x_0-a$ and $y < (-a-x_0-1)/f(x_0)$. Then $x_0-f(y) \geq x_0-(y+a)>0$. Using the assumed inequality at $x_0$ and the derived bounds, we have $y f(x_0)+x_0 \geq f(x_0-f(y)) \geq -a-1$. Since $f(x_0)>0$, this implies $y \geq (-a-x_0-1)/f(x_0)$, a contradiction. Therefore, $f(x) \leq 0$ for all $x$.",Let $f$ be any function that maps the set of real numbers into the set of real numbers. Prove that there exist real numbers $x$ and $y$ such that $f(x-f(y))>y f(x)+x$.,"Assume for contradiction that $f(x-f(y)) \leq y f(x)+x$ for all $x, y$. From the previous sub-problem, this implies $f(x) \leq 0$ for all $x$. This also implies $a=f(0)\leq0$. The bound $f(z) \leq z+a$ becomes $f(z) \leq z$. Choose $y$ such that $y>0$ and $y > -f(-1)-1$. Let $x=f(y)-1$. The assumption gives $f(x-f(y)) \leq y f(x)+x$, so $f(-1) \leq y f(f(y)-1)+f(y)-1$. Using $f(z)\leq z$ and $f(z)\leq 0$, we get $f(-1) \leq y(f(y)-1)+f(y)-1 = (y+1)f(y)-y-1 \leq -y-1$. This implies $y \leq -f(-1)-1$, which contradicts the choice of $y$. Thus, the assumption is false.",,
2009a6,"Suppose that $s_{1}, s_{2}, s_{3}, \ldots$ is a strictly increasing sequence of positive integers such that the subsequences

$$
s_{s_{1}}, s_{s_{2}}, s_{s_{3}}, \ldots \quad \text { and } \quad s_{s_{1}+1}, s_{s_{2}+1}, s_{s_{3}+1}, \ldots
$$

are both arithmetic progressions. Prove that $s_{1}, s_{2}, s_{3}, \ldots$ is itself an arithmetic progression.",3,Let $d_n = s_{n+1} - s_n$. Let $D$ be the common difference of the arithmetic progression $\{s_{s_n}\}_{n \\ge 1}$. Show that the sequence $\{d_n\}$ is bounded.,"Since $\{s_n\}$ is a strictly increasing sequence of positive integers, $d_n = s_{n+1} - s_n \\ge 1$ for all $n$. The common difference of $\{s_{s_n}\}$ is $D = s_{s_{n+1}} - s_{s_n}$. We can express this difference as a sum: $D = \\sum_{i=s_n}^{s_{n+1}-1} (s_{i+1} - s_i) = \\sum_{i=s_n}^{s_{n+1}-1} d_i$. The number of terms in this sum is $s_{n+1} - s_n = d_n$. Since each $d_i \\ge 1$, we have $D = \\sum_{i=s_n}^{s_{n+1}-1} d_i \\ge d_n \\cdot 1 = d_n$. Thus, for all $n$, $1 \\le d_n \\le D$, so the sequence $\{d_n\}$ is bounded.","Let $m = \\min\\{d_n\\}$ and $M = \\max\\{d_n\\}$. Show that the sequence $\{d_{s_n}\}_{n \\ge 1}$ is an arithmetic progression and that $D = mM$, where $D$ is the common difference of $\{s_{s_n}\}$.","Let $\{s_{s_n}\}$ and $\{s_{s_n+1}\}$ be arithmetic progressions with common differences $D$ and $D'$, respectively. Their difference sequence, $\{s_{s_n+1} - s_{s_n}\}_{n \\ge 1} = \{d_{s_n}\}_{n \\ge 1}$, is also an arithmetic progression. Let $k$ be an index such that $d_k=m$. Then $D = s_{s_{k+1}} - s_{s_k} = s_{s_k+m} - s_{s_k} = \\sum_{i=s_k}^{s_k+m-1} d_i$. Since each $d_i \\le M$, we have $D \\le mM$. Let $j$ be an index such that $d_j=M$. Then $D = s_{s_{j+1}} - s_{s_j} = s_{s_j+M} - s_{s_j} = \\sum_{i=s_j}^{s_j+M-1} d_i$. Since each $d_i \\ge m$, we have $D \\ge Mm$. Combining these gives $D = mM$.","Prove that $s_{1}, s_{2}, s_{3}, \\ldots$ is itself an arithmetic progression.","From sub-problem 2, $\{d_{s_n}\}$ is an arithmetic progression. From sub-problem 1, $\{d_n\}$ is bounded, so it takes a finite set of values. Thus, $\{d_{s_n}\}$ also takes a finite set of values. An arithmetic progression that takes on a finite number of values must be constant. So, $d_{s_n}=c$ for some constant $c$. Assume for contradiction that $\{s_n\}$ is not an AP, so $m < M$. From the proof of $D=mM$ in sub-problem 2, for an index $k$ with $d_k=m$, the equality $D=mM$ implies $d_{s_k}=d_{s_k+1}=\\dots=d_{s_k+m-1}=M$. In particular, $d_{s_k}=M$. Similarly, for an index $j$ with $d_j=M$, we must have $d_{s_j}=m$. Thus the sequence $\{d_{s_n}\}$ takes at least two distinct values, $M$ and $m$. This contradicts that $\{d_{s_n}\}$ is constant. Therefore, the assumption $m < M$ is false. We must have $m=M$, which means $d_n$ is constant, and $\{s_n\}$ is an arithmetic progression.",,
2009c3,"Let $n$ be a positive integer. Given a sequence $\varepsilon_{1}, \ldots, \varepsilon_{n-1}$ with $\varepsilon_{i}=0$ or $\varepsilon_{i}=1$ for each $i=1, \ldots, n-1$, the sequences $a_{0}, \ldots, a_{n}$ and $b_{0}, \ldots, b_{n}$ are constructed by the following rules:

$$
\begin{gathered}
a_{0}=b_{0}=1, \quad a_{1}=b_{1}=7, \\
a_{i+1}=\left\{\begin{array}{ll}
2 a_{i-1}+3 a_{i}, & \text { if } \varepsilon_{i}=0, \\
3 a_{i-1}+a_{i}, & \text { if } \varepsilon_{i}=1,
\end{array} \text { for each } i=1, \ldots, n-1,\right. \\
b_{i+1}=\left\{\begin{array}{ll}
2 b_{i-1}+3 b_{i}, & \text { if } \varepsilon_{n-i}=0, \\
3 b_{i-1}+b_{i}, & \text { if } \varepsilon_{n-i}=1,
\end{array} \text { for each } i=1, \ldots, n-1 .\right.
\end{gathered}
$$

Prove that $a_{n}=b_{n}$.",3,"Introduce a notation $(u,v)^w$ for a pair of numbers $(u,v)$ and a binary word $w$, and show that the original problem is equivalent to proving $(1,7)^w=(1,7)^{\bar{w}}$, where $w = \varepsilon_1 \ldots \varepsilon_{n-1}$ and $\bar{w}$ is the reverse of $w$.","Define a function on pairs of numbers and binary words as follows: $(u, v)^{\emptyset}=v$, $(u, v)^{0}=2u+3v$, $(u, v)^{1}=3u+v$, and for a word $w$ and bits $\sigma, \varepsilon$, let $(u, v)^{w \sigma \varepsilon}=2(u, v)^{w}+3(u, v)^{w \sigma}$ if $\varepsilon=0$, and $3(u, v)^{w}+(u, v)^{w \sigma}$ if $\varepsilon=1$. For the sequence $a_i$, we have $a_0=1, a_1=7$. The recurrence implies $a_{i+1}=(1,7)^{\varepsilon_1 \dots \varepsilon_i}$. For $i=n-1$, we get $a_n=(1,7)^{\varepsilon_1 \dots \varepsilon_{n-1}}$. The sequence $b_i$ follows the same recurrence but with the sequence of bits $\delta_i = \varepsilon_{n-i}$. Thus, $b_n=(1,7)^{\delta_1 \dots \delta_{n-1}}=(1,7)^{\varepsilon_{n-1} \dots \varepsilon_1}$. Letting $w=\varepsilon_1 \dots \varepsilon_{n-1}$, we have $\bar{w}=\varepsilon_{n-1} \dots \varepsilon_1$. The problem is thus equivalent to proving $(1,7)^w=(1,7)^{\bar{w}}$.","Prove the identity $(1,7)^u = (2,1)^{\sigma u}$ for any binary word $u$ and any $\sigma \in \{0,1\}$, using the notation defined in the first sub-problem.","First, establish the property $(x,y)^{\varepsilon z} = (y, (x,y)^\varepsilon)^z$ for any $\varepsilon \in \{0,1\}$ and word $z$. This is done by induction on the length of $z$. The base case $z=\emptyset$ is trivial. The inductive step follows directly from the recursive definition. Now, apply this property with $(x,y)=(2,1)$, $\varepsilon=\sigma$, and $z=u$. We get $(2,1)^{\sigma u} = (1, (2,1)^\sigma)^u$. By direct computation, $(2,1)^0 = 2(2)+3(1)=7$ and $(2,1)^1 = 3(2)+1=7$. Since $(2,1)^\sigma = 7$ for any $\sigma \in \{0,1\}$, we can substitute this value back, yielding $(2,1)^{\sigma u} = (1, 7)^u$, which proves the identity.","Let $n$ be a positive integer. Given a sequence $\varepsilon_{1}, \ldots, \varepsilon_{n-1}$ with $\varepsilon_{i}=0$ or $\varepsilon_{i}=1$ for each $i=1, \ldots, n-1$, the sequences $a_{0}, \ldots, a_{n}$ and $b_{0}, \ldots, b_{n}$ are constructed by the rules given in the problem. Prove that $a_{n}=b_{n}$.","From Sub-problem 1, we must prove $(1,7)^w=(1,7)^{\bar{w}}$ for $w=\varepsilon_1 \dots \varepsilon_{n-1}$. We use induction on the length of $w$. Base cases for length 0 and 1 are trivial. Assume the property holds for all words shorter than $w\sigma\varepsilon$. We need to show $(1,7)^{w\sigma\varepsilon}=(1,7)^{\overline{w\sigma\varepsilon}}=(1,7)^{\varepsilon\bar{\sigma}\bar{w}}$.\nCase $\varepsilon=0$: By definition, $(1,7)^{w\sigma 0}=2(1,7)^w+3(1,7)^{w\sigma}$. By I.H., this is $2(1,7)^{\bar{w}}+3(1,7)^{\bar{\sigma}\bar{w}}$. Using the identity from Sub-problem 2, $(1,7)^{\bar{w}}=(2,1)^{\bar{\sigma}\bar{w}}$, the expression becomes $2(2,1)^{\bar{\sigma}\bar{w}}+3(1,7)^{\bar{\sigma}\bar{w}}=(7,23)^{\bar{\sigma}\bar{w}}$. This is equal to $(1,7)^{0\bar{\sigma}\bar{w}}$ because $(1,7)^{0\bar{\sigma}\bar{w}}=(7,(1,7)^0)^{\bar{\sigma}\bar{w}}=(7,23)^{\bar{\sigma}\bar{w}}$.\nCase $\varepsilon=1$: A similar calculation shows $(1,7)^{w\sigma 1}=(7,10)^{\bar{\sigma}\bar{w}}=(1,7)^{1\bar{\sigma}\bar{w}}$. The induction is complete, thus $a_n=b_n$.",,
2009c7,"A grasshopper jumps along the real axis. He starts at point 0 and makes 2009 jumps to the right with lengths $1,2, \ldots, 2009$ in an arbitrary order. Let $M$ be a set of 2008 positive integers less than $1005 \cdot 2009$. Prove that the grasshopper can arrange his jumps in such a way that he never lands on a point from $M$.",4,Consider the case where M contains no integer divisible by 2009. Formulate a strategy for constructing a valid sequence of jumps by defining a specific structure for the landing points.,"We construct a set of landing points that avoids M. This set includes all points of the form $k \cdot 2009$ for $k=1, 2, \ldots, 1005$. By assumption, none of these are in M. This structure defines 1005 intervals of the form $I_k = ((k-1)2009, k \cdot 2009)$. We select one of these intervals to be traversed with a single jump of length 2009. In each of the other 1004 intervals, we place one additional landing point. Placing a point $(k-1)2009+d$ in interval $I_k$ creates jumps of lengths $d$ and $2009-d$. To obtain all required jump lengths, the set of these $d$ values must be $\{1, 2, \ldots, 1004\}$. The task reduces to showing that we can always choose these 1004 intermediate landing points to be outside of M.",Prove that a valid jump sequence exists if M contains no multiples of 2009.,"Let $I_k = ((k-1)2009, k \cdot 2009)$ and let $n_k = |M \cap I_k|$. Order the 1005 intervals such that $n_{p_1} \ge n_{p_2} \ge \cdots \ge n_{p_{1005}}$. We reserve interval $I_{p_1}$ for the jump of length 2009. For the remaining 1004 intervals ($m=1, \ldots, 1004$), we greedily select an unused jump length $d \in \{1, \ldots, 1004\}$ to place a landing point in $I_{p_{m+1}}$. Assume this is impossible at step $m$. Then for each of the $1005-m$ available lengths $d$, both points $2009(p_{m+1}-1)+d$ and $2009p_{m+1}-d$ are in $M$. This implies $n_{p_{m+1}} \ge 2(1005-m)$. Since $|M|=2008$, we have $2008 \ge \sum_{j=1}^{m+1} n_{p_j} \ge (m+1)n_{p_{m+1}}$. Combining these gives $2008 \ge 2(m+1)(1005-m)$. The minimum value of the right-hand side for $m \in [1, 1004]$ is $2(1005)(1) = 2010$ (at $m=1004$), which leads to the contradiction $2008 \ge 2010$. Thus, a greedy choice is always possible.","Consider the case where M contains a multiple of 2009. Show that there exists a residue $r \in \{1, \ldots, 2008\}$ modulo 2009 that is not represented in M, and formulate a strategy based on this fact.","Since $|M|=2008$, by the Pigeonhole Principle on the 2009 residues modulo 2009, there exists a residue class not represented in M. As M contains a multiple of 2009 (residue 0), this missed residue $r$ must be in $\{1, \ldots, 2008\}$. Our strategy is to use a set of base landing points $\{k \cdot 2009 + r \mid k=0, \ldots, 1004\} \cup \{1005 \cdot 2009\}$, which are guaranteed to be outside M. The jumps between these consecutive points generate lengths $r$ and $2009-r$. The remaining jumps must be formed in pairs $\{d, 2009-d\}$ by placing one additional landing point in 1003 of the 1004 intervals $I_k = ((k-1)2009+r, k \cdot 2009+r)$, leaving one interval for a jump of length 2009.",Prove that the grasshopper can arrange his jumps in such a way that he never lands on a point from M.,"The proof is divided into two cases. Case 1: M contains no multiples of 2009. As proven in the second sub-problem, a valid path exists. Case 2: M contains a multiple of 2009. Following the strategy from the third sub-problem, let $r$ be a residue modulo 2009 missed by M. Let $I_k = ((k-1)2009+r, k \cdot 2009+r)$ and $n_k = |M \cap I_k|$. Note that $\sum n_k \le 2007$ because at least one point of M is not in any $I_k$. We order the 1004 intervals by non-increasing $n_k$ and reserve the first for the jump of length 2009. For the other 1003 intervals, we greedily select jumps. If the process fails at step $m \in \{1, ..., 1003\}$, then for the $(m+1)$-th interval, $n_{p_{m+1}} \ge 2(1004-m)$. This leads to the inequality $2007 \ge \sum_{j=1}^{m+1}n_{p_j} \ge (m+1)n_{p_{m+1}} \ge 2(m+1)(1004-m)$. The minimum of the right-hand side for $m \in [1, 1003]$ is $2(1004)(1) = 2008$ (at $m=1003$), yielding the contradiction $2007 \ge 2008$. Therefore, a valid path can be constructed in both cases."
2009c8,"For any integer $n \geq 2$, we compute the integer $h(n)$ by applying the following procedure to its decimal representation. Let $r$ be the rightmost digit of $n$.\\
(1) If $r=0$, then the decimal representation of $h(n)$ results from the decimal representation of $n$ by removing this rightmost digit 0 .\\
(2) If $1 \leq r \leq 9$ we split the decimal representation of $n$ into a maximal right part $R$ that solely consists of digits not less than $r$ and into a left part $L$ that either is empty or ends with a digit strictly smaller than $r$. Then the decimal representation of $h(n)$ consists of the decimal representation of $L$, followed by two copies of the decimal representation of $R-1$. For instance, for the number $n=17,151,345,543$, we will have $L=17,151, R=345,543$ and $h(n)=17,151,345,542,345,542$.\\
Prove that, starting with an arbitrary integer $n \geq 2$, iterated application of $h$ produces the integer 1 after finitely many steps.",4,"To measure the 'size' of an integer $n$ under the operation $h$, define a family of functions $f_k(x)$ for $k \in \\{0, \\dots, 9\\}$, which map decimal strings $x$ to integers.","We identify integers with their decimal strings. For $k=9$, the domain of $f_9$ is strings $x$ composed only of nines. If $x$ has $m$ nines, $f_9(x)=m+1$. For $k \\le 8$, the domain of $f_k$ is strings with digits $\\ge k$. A string $x$ in this domain can be written as $x = x_0 k x_1 k \\dots k x_m$, where each substring $x_s$ consists only of digits $>k$. We define $f_k(x)=\\sum_{s=0}^{m} 4^{f_{k+1}(x_s)}$. This includes the empty string $\\varepsilon$. For convenience, we also define $f_{10}(\\varepsilon)=0$.","Establish two key properties of the functions $f_k(x)$. First, relate $f_i(x)$ to $f_{i+1}(x)$ for strings $x$ without small digits. Second, show that for non-empty strings, $f_i(x)$ is larger than its value on the empty string.","1. If a string $x$ does not contain any digit smaller than $k$, then for any $i < k$, the digit $i$ does not appear in $x$. According to the definition of $f_i$, this means $x$ is treated as a single block between non-existent occurrences of $i$, so $f_i(x) = 4^{f_{i+1}(x)}$.\n2. By induction on $k=9, 8, \\dots, 0$, we can show that if a non-empty string $x$ contains no digits smaller than $k$, then $f_i(x) > f_i(\\varepsilon)$ for all $i=0, \\dots, k$. The base case $k=9$ is clear, as $f_9(x)=m+1 > 1=f_9(\\varepsilon)$. The inductive step follows from the recursive definition of $f_k$ and the first property.","Prove that for any integer $n \\geq 2$, the value of the function $f_0$ is strictly decreasing after one application of $h$, i.e., $f_0(n) > f_0(h(n))$.","Let $r$ be the rightmost digit of $n$. \nCase 1: $r=0$. Then $n=L0$ for some string $L$, and $h(n)=L$. By definition, $f_0(n) = f_0(L) + 4^{f_1(\\varepsilon)} > f_0(L) = f_0(h(n))$.\nCase 2: $r \\ge 1$. Let $n=LR$ where $R$ is the maximal suffix of digits $\\ge r$. Then $h(n)=L(R-1)(R-1)$. A proof by induction on the smallest digit in $n$ shows the result. The core of this proof is to show $f_{r-1}(R) > f_{r-1}((R-1)(R-1))$. Let $R=zr$. Then $f_{r-1}(zr) = 4^{f_r(zr)} = 4^{f_r(z)+4^{f_{r+1}(\\varepsilon)}}$. Meanwhile, $h(R)=(R-1)(R-1)=z(r-1)z(r-1)$, so $f_{r-1}(z(r-1)z(r-1))=4^{f_r(z)}+4^{f_r(z)}+4^{f_r(\\varepsilon)}$. The inequality $4^{f_r(z)+4^{f_{r+1}(\\varepsilon)}} > 2 \\cdot 4^{f_r(z)} + 4^{f_r(\\varepsilon)}$ holds because $4^{f_{r+1}(\\varepsilon)} \\ge 1$ implies $4^{f_r(z)+4^{f_{r+1}(\\varepsilon)}} \\ge 4 \\cdot 4^{f_r(z)}$, and $4 \\cdot 4^{f_r(z)} > 2 \\cdot 4^{f_r(z)} + 4^{f_r(\\varepsilon)}$ as $2 \\cdot 4^{f_r(z)} > 4^{f_r(\\varepsilon)}$.","Prove that, starting with an arbitrary integer $n \\geq 2$, iterated application of $h$ produces the integer 1 after finitely many steps.","For any integer $n \\ge 2$, $f_0(n)$ is a positive integer. From the previous sub-problem, we established that $f_0(n) > f_0(h(n))$. This means the sequence $n, h(n), h(h(n)), \\dots$ corresponds to a strictly decreasing sequence of positive integers $f_0(n), f_0(h(n)), f_0(h(h(n))), \\dots$. Any such sequence must be finite. Therefore, the process of applying $h$ must terminate. Termination occurs when the string becomes empty. For an integer $n \\ge 2$ (which doesn't have leading zeros), the process can only reach the empty string $\\varepsilon$ by first reaching a single-digit number. The path to $\\varepsilon$ is $1 \to h(1)=00 \to h(00)=0 \to h(0)=\\varepsilon$. Since the process must terminate, it must eventually produce a string that leads to this terminal sequence. Therefore, the integer 1 must be produced after a finite number of steps."
2009g2,"Let $A B C$ be a triangle with circumcenter $O$. The points $P$ and $Q$ are interior points of the sides $C A$ and $A B$, respectively. The circle $k$ passes through the midpoints of the segments $B P$, $C Q$, and $P Q$. Prove that if the line $P Q$ is tangent to circle $k$ then $O P=O Q$.",2,"Let $A B C$ be a triangle. Let $P$ and $Q$ be interior points of the sides $C A$ and $A B$ respectively. Let $k$ be the circle passing through the midpoints of the segments $B P$, $C Q$, and $P Q$. Prove that if the line $P Q$ is tangent to circle $k$, then $A P \cdot P C=A Q \cdot Q B$.","Let $K, L, M$ be the midpoints of $BP, CQ, PQ$ respectively. Since $PQ$ is tangent to circle $k$ at $M$, the tangent-chord theorem gives $\\angle LMP = \\angle LKM$ and $\\angle PMK = \\angle KLM$. By the midpoint theorem, $LM \\parallel CA$ and $KM \\parallel AB$. Thus, $\\angle QPA = \\angle LMP$ (corresponding angles) and $\\angle PQA = \\angle PMK$ (corresponding angles). Combining these equalities, we get $\\angle QPA = \\angle LKM$ and $\\angle PQA = \\angle KLM$. This shows that $\triangle APQ$ and $\triangle MKL$ are similar. From this similarity, we have the ratio $\frac{AP}{AQ} = \frac{MK}{ML}$. The midpoint theorem also gives $MK = BQ/2$ and $ML = PC/2$. Substituting these into the ratio gives $\frac{AP}{AQ} = \frac{BQ/2}{PC/2} = \frac{BQ}{PC}$, which rearranges to $AP \\cdot PC = AQ \\cdot QB$.","Let $A B C$ be a triangle with circumcenter $O$. The points $P$ and $Q$ are interior points of the sides $C A$ and $A B$, respectively. The circle $k$ passes through the midpoints of the segments $B P$, $C Q$, and $P Q$. Prove that if the line $P Q$ is tangent to circle $k$ then $O P=O Q$.","The condition that the line $PQ$ is tangent to circle $k$ implies the relation $AP \\cdot PC = AQ \\cdot QB$. The power of point $P$ with respect to the circumcircle of $\triangle ABC$ is $-AP \\cdot PC$, as $P$ lies on the chord $AC$. This power is also equal to $OP^2 - R^2$, where $R$ is the circumradius. Similarly, the power of point $Q$ with respect to the circumcircle is $-AQ \\cdot QB = OQ^2 - R^2$. The established equality $AP \\cdot PC = AQ \\cdot QB$ implies that the powers of $P$ and $Q$ are equal. Therefore, $OP^2 - R^2 = OQ^2 - R^2$, which leads to $OP^2 = OQ^2$. Since $OP$ and $OQ$ are distances, they must be equal, so $OP=OQ$.",,,,
2009g3,"Let $A B C$ be a triangle. The incircle of $A B C$ touches the sides $A B$ and $A C$ at the points $Z$ and $Y$, respectively. Let $G$ be the point where the lines $B Y$ and $C Z$ meet, and let $R$ and $S$ be points such that the two quadrilaterals $B C Y R$ and $B C S Z$ are parallelograms.\\
Prove that $G R=G S$.",3,"Let $x=AZ=AY$, $y=BZ$, and $z=CY$. Let $G$ be the intersection of $BY$ and $CZ$, and set $p=ZG$ and $q=GC$. Express the ratios $\frac{p}{p+q}$ and $\frac{q}{p+q}$, and the squared length of the segment $CZ$, in terms of $x, y, z$.","Applying Menelaus' theorem to $\triangle AZC$ with transversal $BGY$ gives $\frac{AB}{BZ} \cdot \frac{ZG}{GC} \cdot \frac{CY}{YA} = 1$, which leads to $\frac{p}{q} = \frac{xy}{z(x+y)} = \frac{xy}{xz+yz}$. From this, we derive the ratios $\frac{p}{p+q} = \frac{xy}{xy+yz+zx}$ and $\frac{q}{p+q} = \frac{yz+zx}{xy+yz+zx}$. To find $CZ^2$, we use the Law of Cosines. First, in $\triangle ABC$, $\cos A = 1 - \frac{2yz}{(x+y)(x+z)}$. Then, in $\triangle AZC$, $CZ^2 = AZ^2+AC^2-2AZ \cdot AC \cos A = x^2+(x+z)^2 - 2x(x+z)\cos A$. Substituting for $\cos A$ yields $CZ^2 = (p+q)^2 = z^2+\frac{4xyz}{x+y}$.","Given that $BCSZ$ is a parallelogram, express $GS^2$ using Stewart's theorem on an appropriate triangle, in terms of $y, z$ and the quantities $p=ZG$ and $q=GC$.","Since $BCSZ$ is a parallelogram, its sides satisfy $CS=BZ=y$ and $SZ=BC=y+z$. The point $G$ lies on the side $ZC$ of $\triangle ZCS$. Applying Stewart's theorem to $\triangle ZCS$ with cevian $GS$, we have $CS^2 \cdot ZG + SZ^2 \cdot GC = ZC (GS^2 + ZG \cdot GC)$. Substituting the known lengths ($ZG=p, GC=q, ZC=p+q$), we get $y^2 p + (y+z)^2 q = (p+q)(GS^2 + pq)$. Solving for $GS^2$ gives $GS^2 = \frac{p}{p+q}y^2 + \frac{q}{p+q}(y+z)^2 - pq$.",Prove that $G R=G S$.,"We substitute the expressions for the ratios and for $(p+q)^2=CZ^2$ from the first sub-problem into the formula for $GS^2$ from the second sub-problem. This yields an expression for $GS^2$ in terms of $x, y, z$: $GS^2 = \frac{xy}{N} y^2 + \frac{yz+zx}{N}(y+z)^2 - \frac{xy(yz+zx)}{N^2} (z^2+\frac{4xyz}{x+y})$, where $N=xy+yz+zx$. This expression is symmetric with respect to $y$ and $z$. The point $R$ is defined by the parallelogram $BCYR$, which is the same definition as for $S$ but with the roles of $Y$ and $Z$ interchanged. In terms of side lengths, this corresponds to swapping $y$ and $z$. Since the expression for $GS^2$ is symmetric in $y$ and $z$, swapping them does not change its value. Thus, $GR^2 = GS^2$, which implies $GR=GS$.",,
2009g4,"Given a cyclic quadrilateral $A B C D$, let the diagonals $A C$ and $B D$ meet at $E$ and the lines $A D$ and $B C$ meet at $F$. The midpoints of $A B$ and $C D$ are $G$ and $H$, respectively. Show that $E F$ is tangent at $E$ to the circle through the points $E, G$, and $H$.",3,Consider a transformation $\mathcal{T}$ consisting of a reflection at the bisector of $\angle DFC$ followed by a dilation centered at $F$ that maps point $C$ to point $A$. Let $X = \mathcal{T}(E)$ and $Y = \mathcal{T}^{-1}(E)$. Prove that $G$ is the midpoint of the segment $EX$ and $H$ is the midpoint of the segment $EY$.,"Since $ABCD$ is a cyclic quadrilateral, $\triangle FAB \sim \triangle FCD$. This ensures that $\mathcal{T}$ maps $D$ to $B$. The transformation $\mathcal{T}$ maps the lines $CE$ and $DE$ to lines through $A$ and $B$ that are parallel to $BD$ and $AC$ respectively. Their intersection, $X = \mathcal{T}(E)$, must therefore form a parallelogram $AEBX$. Since $G$ is the midpoint of the diagonal $AB$, it is also the midpoint of the diagonal $EX$. A similar argument for the inverse transformation $\mathcal{T}^{-1}$ shows that $Y$ is the fourth vertex of a parallelogram $DECY$, and thus $H$ (the midpoint of $CD$) is also the midpoint of the diagonal $EY$.","Using the points $X, Y$ and transformation $\mathcal{T}$ from the previous sub-problem, prove that $\angle HGE = \angle FXE$.","From the previous sub-problem, in $\triangle EXY$, $G$ and $H$ are the midpoints of sides $EX$ and $EY$ respectively. By the Midpoint Theorem, $HG \parallel XY$. The transformation $\mathcal{T}$ is a reflection across the bisector of $\angle DFC$ (line $l$) followed by a dilation from $F$. Since $X = \mathcal{T}(E)$ and $E=\mathcal{T}(Y)$, the line $FX$ is the reflection of $FE$ across $l$, and $FE$ is the reflection of $FY$ across $l$. This implies $F, X, Y$ are collinear. Therefore, $HG \parallel FX$. As $E,G,X$ are collinear (from Part 1), the line $EX$ is a transversal to the parallel lines $HG$ and $FX$. The corresponding angles are equal: $\angle HGE = \angle YXE$. Since $F,X,Y$ are collinear, $\angle YXE = \angle FXE$, so $\angle HGE = \angle FXE$.","Show that $EF$ is tangent at $E$ to the circle through the points $E, G$, and $H$.","By the converse of the tangent-chord theorem, it suffices to prove $\angle HEF = \angle HGE$. The similarity transformation $\mathcal{T}$ maps $\triangle FEH$ to $\triangle FXG$. This similarity implies $\angle HEF = \angle GXF$. From Part 1, we know that $E, G, X$ are collinear, so $\angle GXF = \angle FXE$. From Part 2, we proved that $\angle HGE = \angle FXE$. Therefore, we can conclude that $\angle HEF = \angle HGE$, which proves that $EF$ is tangent to the circumcircle of $\triangle EGH$ at point $E$.",,
2009g5,"Let $P$ be a polygon that is convex and symmetric to some point $O$. Prove that for some parallelogram $R$ satisfying $P \subset R$ we have

$$
\frac{|R|}{|P|} \leq \sqrt{2}
$$

where $|R|$ and $|P|$ denote the area of the sets $R$ and $P$, respectively.",4,"Let $A, B$ be points in a centrally symmetric convex polygon $P$ such that triangle $OAB$ has maximal area. Construct the parallelogram $R_1$ with sides parallel to $OA$ and $OB$ passing through $B$ and $A$ respectively (and their symmetric counterparts). Let $R_2$ be the parallelogram $ABA'B'$. Show that $P \subset R_1$ and $|R_1|=2|R_2|$.","The construction of $R_1$ makes the vertices of $R_2$ (A, B, A', B') the midpoints of the sides of $R_1$, which geometrically implies $|R_1|=2|R_2|$. To show $P \subset R_1$, assume for contradiction a point $Z \in P$ is outside $R_1$. Then $Z$ and $O$ are separated by one of the lines forming $R_1$. Let this line be the one through $A$ parallel to $OB$. Then the distance from $Z$ to the line $OB$ is greater than the distance from $A$ to $OB$. This means the area of triangle $OZB$ is greater than the area of triangle $OAB$, contradicting the maximality of $|OAB|$. A similar argument holds for the other three sides.","Let $R_3$ be the smallest parallelogram enclosing $P$ with sides parallel to $AB$ and $BA'$. Show that its area can be written as $|R_3|=xy|R_2|$ for some scalars $x,y \ge 1$, and that the area of $P$ is bounded by $|P| \ge \frac{x+y}{2}|R_2|$.","Since $R_3$ is an scaled version of $R_2$ (as their sides are parallel), its area can be expressed as $|R_3| = xy|R_2|$ for some scaling factors $x,y \ge 1$. Since $R_3$ is the minimum-area parallelogram of this orientation containing $P$, each side of $R_3$ must contain at least one point of $P$. Due to the convexity of $P$, the area of $P$ is at least the area of the hexagon formed by connecting the vertices of $R_2$ to points on the boundary of $R_3$. The area of this hexagon can be calculated as $\frac{x+y}{2}|R_2|$. Therefore, we have the inequality $|P| \\ge \frac{x+y}{2}|R_2|$.","Using the relations $|R_1|=2|R_2|$, $|R_3|=xy|R_2|$, and $|P| \ge \frac{x+y}{2}|R_2|$, prove that the product of the areas of the two enclosing parallelograms satisfies $|R_1||R_3| \le 2|P|^2$.","Start with the product $|R_1||R_3| = (2|R_2|)(xy|R_2|) = 2xy|R_2|^2$. By the Arithmetic Mean-Geometric Mean inequality, we know that $xy \le (\frac{x+y}{2})^2$. Substituting this into the equation gives $|R_1||R_3| \le 2(\frac{x+y}{2})^2|R_2|^2 = 2(\frac{x+y}{2}|R_2|)^2$. From the previous sub-problem, we know $|P| \ge \frac{x+y}{2}|R_2|$. Squaring this gives $|P|^2 \ge (\frac{x+y}{2}|R_2|)^2$. Combining these results, we conclude that $|R_1||R_3| \le 2|P|^2$.",Let $P$ be a polygon that is convex and symmetric to some point $O$. Prove that for some parallelogram $R$ satisfying $P \subset R$ we have $\frac{|R|}{|P|} \\leq \\sqrt{2}$.,"From the previous steps, we have constructed two parallelograms, $R_1$ and $R_3$, both of which contain $P$. We also proved the inequality $|R_1||R_3| \le 2|P|^2$. Assume, for the sake of contradiction, that for all parallelograms $R$ containing $P$, we have $|R| > \\sqrt{2}|P|$. This would mean $|R_1| > \\sqrt{2}|P|$ and $|R_3| > \\sqrt{2}|P|$. Multiplying these two inequalities gives $|R_1||R_3| > 2|P|^2$, which contradicts our established result. Therefore, the assumption must be false. At least one of the parallelograms, $R_1$ or $R_3$, must satisfy the condition $|R| \le \\sqrt{2}|P|$. This proves the existence of such a parallelogram $R$."
2009g6,"Let the sides $A D$ and $B C$ of the quadrilateral $A B C D$ (such that $A B$ is not parallel to $C D$ ) intersect at point $P$. Points $O_{1}$ and $O_{2}$ are the circumcenters and points $H_{1}$ and $H_{2}$ are the orthocenters of triangles $A B P$ and $D C P$, respectively. Denote the midpoints of segments $O_{1} H_{1}$ and $O_{2} H_{2}$ by $E_{1}$ and $E_{2}$, respectively. Prove that the perpendicular from $E_{1}$ on $C D$, the perpendicular from $E_{2}$ on $A B$ and the line $H_{1} H_{2}$ are concurrent.",3,"Reduce the general problem to a specific degenerate case. Show that if the concurrency holds when the line CD passes through A, it holds for any general position of CD parallel to this line.","Fix triangle ABP. Let the line CD move parallel to itself, with its position determined by a parameter $\lambda$. The vertices C and D, and consequently the circumcenter $O_2$ and orthocenter $H_2$ of $\triangle DCP$, move linearly with $\lambda$. The nine-point center $E_2 = (O_2+H_2)/2$ also moves linearly. The perpendicular from $E_2$ to the fixed line $AB$ is a line whose position depends linearly on $\lambda$. The perpendicular from the fixed point $E_1$ to the line CD is a fixed line, as the direction of CD is fixed. Their intersection point $S$ therefore moves linearly with $\lambda$. For $S$ to be collinear with the fixed point $H_1$ and the linearly moving point $H_2$, the condition is linear in $\lambda$. A linear property that holds for two distinct cases must hold for all. Thus, it suffices to prove the claim for the degenerate configuration where D=A.","For the degenerate case where D=A, the problem concerns triangles $\triangle ABP$ and $\triangle ACP$, where B, C, P are collinear. Formulate the concurrency condition for the three relevant lines: the perpendicular from $E_1$ (nine-point center of $\triangle ABP$) to $AC$, the perpendicular from $E_2$ (nine-point center of $\triangle ACP$) to $AB$, and the line $H_1H_2$.","When D=A, the triangles are $\triangle ABP$ and $\triangle ACP$. The orthocenter $H_1$ of $\triangle ABP$ and the orthocenter $H_2$ of $\triangle ACP$ both lie on the altitude from vertex A to the line BC. Thus, the line $H_1H_2$ is this altitude. Let $A_1, B_1, C_1$ be the midpoints of the sides $BC, AC, AB$ of $\triangle ABC$. The three lines in question are perpendicular to the sides of the medial triangle $\triangle A_1B_1C_1$. By a known theorem (a generalization of the radical axis theorem), these three lines are concurrent if and only if the following condition holds: $(E_{1}C_{1}^{2}-E_{1}A_{1}^{2}) + (E_{2}A_{1}^{2}-E_{2}B_{1}^{2}) + (AB_{1}^{2}-AC_{1}^{2}) = 0$.","Let the sides $A D$ and $B C$ of the quadrilateral $A B C D$ (such that $A B$ is not parallel to $C D$ ) intersect at point $P$. Points $O_{1}$ and $O_{2}$ are the circumcenters and points $H_{1}$ and $H_{2}$ are the orthocenters of triangles $A B P$ and $D C P$, respectively. Denote the midpoints of segments $O_{1} H_{1}$ and $O_{2} H_{2}$ by $E_{1}$ and $E_{2}$, respectively. Prove that the perpendicular from $E_{1}$ on $C D$, the perpendicular from $E_{2}$ on $A B$ and the line $H_{1} H_{2}$ are concurrent.","Based on the previous steps, we prove the concurrency condition for the case D=A. Let $H$ be the foot of the altitude from A to BC. $E_1$, the nine-point center of $\triangle ABP$, is equidistant from $C_1$ (midpoint of AB) and $H$, so $E_1C_1 = E_1H$. Similarly, $E_2B_1 = E_2H$. The condition becomes $E_{1}H^{2}-E_{1}A_{1}^{2}+E_{2}A_{1}^{2}-E_{2}H^{2}+AB_{1}^{2}-AC_{1}^{2}=0$, which rearranges to $E_{1}A_{1}^{2}-E_{2}A_{1}^{2}-E_{1}H^{2}+E_{2}H^{2} = AB_{1}^{2}-AC_{1}^{2} = (AC^2-AB^2)/4$. Let $F_1, F_2$ be projections of $E_1, E_2$ on BC. The left side equals $F_{1}A_{1}^{2}-F_{1}H^{2} - (F_{2}A_{1}^{2}-F_{2}H^{2})$. This simplifies to $A_1H \cdot (P_2 - P_1)$ where $P_1, P_2$ are midpoints of PB, PC. This further simplifies to $A_1H \cdot BC/2$. The right side $(AC^2-AB^2)/4$ equals $(HC^2-HB^2)/4 = (BC \cdot 2A_1H)/4 = A_1H \cdot BC/2$. Since both sides are equal, the condition is satisfied, proving the concurrency.",,
2009g7,"Let $A B C$ be a triangle with incenter $I$ and let $X, Y$ and $Z$ be the incenters of the triangles $B I C, C I A$ and $A I B$, respectively. Let the triangle $X Y Z$ be equilateral. Prove that $A B C$ is equilateral too.",4,"Let the angles of triangle $ABC$ be $4\alpha, 4\beta, 4\gamma$. Let $I$ be the incenter of $ABC$, and $X, Y, Z$ be the incenters of triangles $BIC, CIA, AIB$ respectively. Express the angles $\angle YIZ$, $\angle ZIX$, and $\angle XIY$ in terms of $\alpha, \beta, \gamma$.","The sum of angles in $\triangle ABC$ is $4\alpha+4\beta+4\gamma=180^\circ$, so $\alpha+\beta+\gamma=45^\circ$. In $\triangle BIC$, $\angle IBC=2\beta$ and $\angle ICB=2\gamma$, so $\angle BIC = 180^\circ-2\beta-2\gamma = 90^\circ+2\alpha$. As $IX$ bisects $\angle BIC$, $\angle XIC = 45^\circ+\alpha$. Similarly, $\angle CIY = 45^\circ+\beta$ and $\angle AIZ = 45^\circ+\gamma$. Then $\angle XIY = \angle XIC + \angle CIY = 90^\circ+\alpha+\beta = 90^\circ+(45^\circ-\gamma) = 135^\circ-\gamma$. By symmetry, $\angle YIZ = 135^\circ-\alpha$ and $\angle ZIX = 135^\circ-\beta$.","With the same setup as Sub-problem 1, show that the lengths of the segments $IX, IY, IZ$ satisfy the relations $IX:IY:IZ = \cos\alpha:\cos\beta:\cos\gamma$.","Line $CI$ bisects $\angle XCY$ since $\angle ICX = \gamma$ and $\angle ICY = \gamma$. Thus, the perpendicular distance from $I$ to line $CX$ is equal to the distance from $I$ to line $CY$. In $\triangle ICX$, the angle $\angle CXI = 180^\circ - \angle XIC - \angle ICX = 180^\circ - (45^\circ+\alpha) - \gamma = 135^\circ - (\alpha+\gamma) = 90^\circ+\beta$. The distance from $I$ to $CX$ is $IX \sin(\angle CXI) = IX \sin(90^\circ+\beta) = IX \cos\beta$. Similarly, the distance from $I$ to $CY$ is $IY \cos\alpha$. Equating the distances gives $IX \cos\beta = IY \cos\alpha$. By symmetry, $IY \cos\gamma = IZ \cos\beta$. From these relations, we have $IX:IY:IZ = \cos\alpha:\cos\beta:\cos\gamma$.","Given that triangle $XYZ$ is equilateral and using the results from the previous steps, show that for any pair of angles, say $\alpha$ and $\beta$, we must have $\alpha = \beta$.","Since $\triangle XYZ$ is equilateral, $ZX=ZY$. Applying the Law of Cosines to $\triangle ZIX$ and $\triangle ZIY$ yields $IZ^2+IX^2 - 2 \cdot IZ \cdot IX \cos(\angle ZIX) = IZ^2+IY^2 - 2 \cdot IZ \cdot IY \cos(\angle YIZ)$. We can set $IX=k\cos\alpha, IY=k\cos\beta, IZ=k\cos\gamma$ for a constant $k$. Substituting these and the angles from Sub-problem 1, we get $\cos^2\alpha - \cos^2\beta = 2\cos\gamma(\cos\alpha\cos(135^\circ-\beta) - \cos\beta\cos(135^\circ-\alpha))$. The LHS simplifies to $\sin(45^\circ-\gamma)\sin(\beta-\alpha)$, and the RHS to $\sqrt{2}\cos\gamma\sin(\beta-\alpha)$. This yields $\sin(\beta-\alpha)(\sin(45^\circ-\gamma)-\sqrt{2}\cos\gamma)=0$. Thus, either $\sin(\beta-\alpha)=0 \implies \alpha=\beta$, or $\sin(45^\circ-\gamma)=\sqrt{2}\cos\gamma$. The latter is impossible, as for $0<\gamma<45^\circ$, $\sqrt{2}\cos\gamma > 1$, while $\sin(45^\circ-\gamma) < 1$. Thus $\alpha=\beta$ must hold.","Let $A B C$ be a triangle with incenter $I$ and let $X, Y$ and $Z$ be the incenters of the triangles $B I C, C I A$ and $A I B$, respectively. Let the triangle $X Y Z$ be equilateral. Prove that $A B C$ is equilateral too.","From the previous step, the condition $ZX=ZY$ implies $\alpha=\beta$. Since triangle $XYZ$ is equilateral, all its sides are equal. By symmetry, the condition $XY=YZ$ implies $\gamma=\alpha$. Therefore, we must have $\alpha=\beta=\gamma$. The angles of triangle $ABC$ are $4\alpha, 4\beta, 4\gamma$. Since $\alpha=\beta=\gamma$, the angles of triangle $ABC$ are equal, which means $\triangle ABC$ is equilateral."
2009g8,"Let $A B C D$ be a circumscribed quadrilateral. Let $g$ be a line through $A$ which meets the segment $B C$ in $M$ and the line $C D$ in $N$. Denote by $I_{1}, I_{2}$, and $I_{3}$ the incenters of $\triangle A B M$, $\triangle M N C$, and $\triangle N D A$, respectively. Show that the orthocenter of $\triangle I_{1} I_{2} I_{3}$ lies on $g$.",3,Let $k_1$ be the incircle of $\triangle ABM$ and $k_3$ be the incircle of $\triangle NDA$. Let $h$ be the tangent from point $C$ to $k_1$ that is different from the line $BC$. Show that $h$ is also tangent to $k_3$.,"Let $X$ be the intersection of line $g$ and line $h$. As $ABCD$ is a circumscribed quadrilateral, we have $AB+CD = BC+AD$. Since the incircle of $\triangle ABM$ is tangent to $AB, BM, MA$, the quadrilateral $ABCX$ is also circumscribed by construction of the tangent $h=CX$. Thus, $AB+CX = BC+AX$. Subtracting these two equations yields $CD-CX = AD-AX$, which can be rewritten as $AX+CD = CX+AD$. This is the condition for the quadrilateral $AXCD$ to be circumscribed. Its incircle must be tangent to its four sides, which are lines $AX (=g)$, $XC (=h)$, $CD$, and $DA$. Since the incircle of $\triangle NDA$, $k_3$, is tangent to $AD$, $DN$ (on line $CD$), and $NA$ (on line $g$), it must be this circle. Therefore, the line $h=CX$ is also tangent to $k_3$.","Prove that the points $C, I_1, I_2, I_3$ are concyclic.","Let $h=CX$ be the common tangent from $C$ to the incircles $k_1$ and $k_3$, as established in the previous part. Since $I_1$ and $I_3$ are the centers of these circles, $CI_1$ is the angle bisector of $\angle XCB$ and $CI_3$ is the angle bisector of $\angle DCX$. Thus, $\angle I_{3} C I_{1}=\angle I_{3} C X+\angle X C I_{1}=\frac{1}{2}(\angle D C X+\angle X C B)=\frac{1}{2} \angle D C B$. It can be shown that this angle is equal to $\angle I_3 I_2 I_1$. The equality $\angle I_3 C I_1 = \angle I_3 I_2 I_1$ proves that the four points $C, I_1, I_2, I_3$ lie on a common circle.","Let $A B C D$ be a circumscribed quadrilateral. Let $g$ be a line through $A$ which meets the segment $B C$ in $M$ and the line $C D$ in $N$. Denote by $I_{1}, I_{2}$, and $I_{3}$ the incenters of $\triangle A B M$, $\triangle M N C$, and $\triangle N D A$, respectively. Show that the orthocenter of $\triangle I_{1} I_{2} I_{3}$ lies on $g$.","Let $H$ be the orthocenter of $\triangle I_1 I_2 I_3$. Let $L_1$ and $L_3$ be the reflections of point $C$ with respect to the lines $I_2 I_3$ and $I_1 I_2$, respectively. It can be shown that $L_1$ and $L_3$ both lie on the line $g$. Since $C, I_1, I_2, I_3$ are concyclic, we have $\angle I_1 C I_2 = \angle I_1 I_3 I_2$. By reflection, $\angle I_2 L_3 I_1 = \angle I_1 C I_2$. For an orthocenter $H$, $\angle I_1 H I_2 = 180^\circ - \angle I_1 I_3 I_2$. This implies $\angle I_2 L_3 I_1 + \angle I_1 H I_2 = 180^\circ$, so $I_2 H I_1 L_3$ is a cyclic quadrilateral. Similarly, $I_3 H L_1 I_2$ is cyclic. Using oriented angles, we have $\angle L_3 H I_2 = \angle L_3 I_1 I_2 = \angle C I_1 I_2 = \angle C I_3 I_2 = \angle L_1 I_3 I_2 = \angle L_1 H I_2$. This equality implies that $H, L_1, L_3$ are collinear. As $L_1$ and $L_3$ lie on line $g$, the orthocenter $H$ must also lie on $g$.",,
2009n1,"A social club has $n$ members. They have the membership numbers $1,2, \ldots, n$, respectively. From time to time members send presents to other members, including items they have already received as presents from other members. In order to avoid the embarrassing situation that a member might receive a present that he or she has sent to other members, the club adds the following rule to its statutes at one of its annual general meetings:\\
""A member with membership number $a$ is permitted to send a present to a member with membership number $b$ if and only if $a(b-1)$ is a multiple of $n$.""

Prove that, if each member follows this rule, none will receive a present from another member that he or she has already sent to other members.",2,"Let the members be represented by vertices $\{1, 2, \ldots, n\}$. A directed edge exists from vertex $a$ to vertex $b$ if and only if $a(b-1)$ is a multiple of $n$. Prove that if an edge exists from $a$ to $b$, then $\\gcd(b, n)$ must divide $\\gcd(a, n)$.","Suppose there is an edge from $a$ to $b$. By definition, $a(b-1) = kn$ for some integer $k$. We can rewrite this as $a = ab - kn$. Let $e = \\gcd(b, n)$. Since $e$ divides both $b$ and $n$, it must divide any integer linear combination of them. Therefore, $e$ divides $ab - kn$, which means $e$ divides $a$. Since $e$ divides both $a$ and $n$, it must also divide their greatest common divisor, $\\gcd(a, n)$. Thus, $\\gcd(b, n) \\mid \\gcd(a, n)$.","A social club has $n$ members, numbered $1,2, \\ldots, n$. A member with number $a$ is permitted to send a present to a member with number $b$ if and only if $a(b-1)$ is a multiple of $n$. Prove that, if each member follows this rule, none will receive a present from another member that he or she has already sent to other members.","The problem is equivalent to proving there are no cycles in the directed graph of present-sending. Assume for contradiction that a cycle $i_1 \to i_2 \to \\cdots \to i_r \to i_1$ exists, where all vertices are distinct. From the previous result, the existence of an edge $a \to b$ implies $\\gcd(b, n) \\mid \\gcd(a, n)$. Applying this to the cycle gives the divisibility chain $\\gcd(i_1, n) \\mid \\gcd(i_r, n) \\mid \\dots \\mid \\gcd(i_2, n) \\mid \\gcd(i_1, n)$. For positive integers, this implies all these GCDs are equal. Let their common value be $t$. For any member $i_k$ in the cycle, we have $i_{k-1}(i_k-1) \\equiv 0 \\pmod{n}$ (with $i_0 = i_r$). Since $t=\\gcd(i_{k-1}, n)$, it follows that $i_k-1$ is a multiple of $n/t$. Also, $t=\\gcd(i_k, n)$ implies $i_k$ is a multiple of $t$. As $\\gcd(t, n/t)=1$, the Chinese Remainder Theorem guarantees a unique solution for $i_k$ modulo $n$. Since this holds for all $k=1, \\ldots, r$, it implies $i_1 = i_2 = \\dots = i_r$. This contradicts that the vertices in a cycle are distinct. Therefore, no cycles exist.",,,,
2009n2,"A positive integer $N$ is called balanced, if $N=1$ or if $N$ can be written as a product of an even number of not necessarily distinct primes. Given positive integers $a$ and $b$, consider the polynomial $P$ defined by $P(x)=(x+a)(x+b)$.\\
(a) Prove that there exist distinct positive integers $a$ and $b$ such that all the numbers $P(1), P(2)$, $\ldots, P(50)$ are balanced.\\
(b) Prove that if $P(n)$ is balanced for all positive integers $n$, then $a=b$.",3,"A positive integer $N$ is called balanced if $N=1$ or if $N$ can be written as a product of an even number of primes. Define a function $f(n)=0$ if $n$ is balanced and $f(n)=1$ otherwise. Prove that for any positive integers $n, m$, we have $f(nm) \equiv f(n) + f(m) \pmod 2$.","Let $\Omega(N)$ be the total number of prime factors of $N$ counted with multiplicity, with $\Omega(1)=0$. By definition, an integer $N$ is balanced if and only if $\Omega(N)$ is even. Thus, the function $f(n)$ is equivalent to $\Omega(n) \pmod 2$. The property that for any positive integers $n, m$, $\Omega(nm) = \Omega(n) + \Omega(m)$ implies that $\Omega(nm) \pmod 2 \equiv \Omega(n) \pmod 2 + \Omega(m) \pmod 2$. This is equivalent to $f(nm) \equiv f(n) + f(m) \pmod 2$.","Using the function $f(n)$ from the previous sub-problem, which indicates if a number is balanced, prove that the sequence $(f(n))_{n\ge 1}$ is not eventually constant.","A sequence is eventually constant if there exists an integer $N_0$ such that the sequence is constant for all $n > N_0$. There are infinitely many prime numbers. For any prime $p$, $\Omega(p)=1$, so $p$ is not balanced, meaning $f(p)=1$. There are also infinitely many perfect squares. For any integer $t>1$, $\Omega(t^2)=2\Omega(t)$ is even, so $t^2$ is balanced, meaning $f(t^2)=0$. Since the sequence $(f(n))_{n\ge 1}$ takes both values 0 and 1 for arbitrarily large integers, it cannot be eventually constant.","Given positive integers $a$ and $b$, consider the polynomial $P(x)=(x+a)(x+b)$.\n(a) Prove that there exist distinct positive integers $a$ and $b$ such that all the numbers $P(1), P(2), \ldots, P(50)$ are balanced.\n(b) Prove that if $P(n)$ is balanced for all positive integers $n$, then $a=b$.","(a) For each integer $n \ge 1$, consider the binary vector $v_n = (f(n+1), f(n+2), \ldots, f(n+50))$. There are at most $2^{50}$ distinct such vectors. By the Pigeonhole Principle, there must exist distinct positive integers $a$ and $b$ such that $v_a = v_b$. This implies $f(a+k) = f(b+k)$ for $k=1, \ldots, 50$. For these $a,b$ and for each $k \in \{1, \ldots, 50\}$, we have $f(P(k)) = f((a+k)(b+k)) \equiv f(a+k) + f(b+k) \equiv 2f(a+k) \equiv 0 \pmod 2$. This shows $P(k)$ is balanced.\n(b) Assume $a \neq b$ and $P(n)$ is balanced for all $n \ge 1$. For $n=k(b-a)-a$ (with $k$ large enough so $n>0$), $P(n) = k(k+1)(b-a)^2$. Since $P(n)$ is balanced, $f(P(n))=0$. We have $0 = f(P(n)) \equiv f(k) + f(k+1) + f((b-a)^2) \pmod 2$. As $(b-a)^2$ is a square, it is balanced, so $f((b-a)^2)=0$. This implies $f(k) = f(k+1)$ for all sufficiently large $k$, meaning the sequence $(f(n))_{n\ge 1}$ is eventually constant. This contradicts the result from the previous sub-problem. Thus, the assumption $a \neq b$ must be false, so $a=b$.",,
2009n3,"Let $f$ be a non-constant function from the set of positive integers into the set of positive integers, such that $a-b$ divides $f(a)-f(b)$ for all distinct positive integers $a, b$. Prove that there exist infinitely many primes $p$ such that $p$ divides $f(c)$ for some positive integer $c$.",2,"Assume that the set of primes dividing the values of the function $f$ is finite, say $S=\{p_1, \\dots, p_m\}$. Let $f(1)=p_{1}^{\\alpha_{1}} \\ldots p_{m}^{\\alpha_{m}}$. For any positive integer $r$ with $f(r) \neq f(1)$, define $M=1+p_{1}^{\\alpha_{1}+1} \\ldots p_{m}^{\\alpha_{m}+1} \\cdot(f(r)+r)$. Show that $f(M)=f(1)$.","By construction, $M-1 = p_{1}^{\\alpha_{1}+1} \\ldots p_{m}^{\\alpha_{m}+1} \\cdot(f(r)+r)$. The condition on $f$ implies that $M-1$ divides $f(M)-f(1)$. For each $i \\in \\{1, \\ldots, m\\}$, $p_{i}^{\\alpha_{i}+1}$ divides $M-1$, and therefore $p_{i}^{\\alpha_{i}+1}$ divides $f(M)-f(1)$. This means $f(M) \\equiv f(1) \\pmod{p_{i}^{\\alpha_{i}+1}}$. The $p_i$-adic valuation of $f(1)$ is $v_{p_i}(f(1)) = \\alpha_i$. The congruence implies $v_{p_i}(f(M)-f(1)) \\geq \\alpha_i+1$. If $v_{p_i}(f(M)) \neq v_{p_i}(f(1))$, then $v_{p_i}(f(M)-f(1)) = \\min(v_{p_i}(f(M)), v_{p_i}(f(1))) \\leq \\alpha_i$, a contradiction. Thus, $v_{p_i}(f(M)) = v_{p_i}(f(1)) = \\alpha_i$ for all $i$. Since the only prime factors of $f(M)$ are in $S$, $f(M)$ and $f(1)$ must have the same prime factorization, so $f(M)=f(1)$.","Let $f$ be a non-constant function from the set of positive integers into the set of positive integers, such that $a-b$ divides $f(a)-f(b)$ for all distinct positive integers $a, b$. Prove that there exist infinitely many primes $p$ such that $p$ divides $f(c)$ for some positive integer $c$.","Assume for contradiction that the set of prime divisors of the values of $f$ is finite, $S=\\{p_1, \\ldots, p_m\\}$. Since $f$ is non-constant, $m \\ge 1$. Let $f(1)=p_{1}^{\\alpha_{1}} \\ldots p_{m}^{\\alpha_{m}}$. Since $f$ is non-constant, choose a positive integer $r$ such that $f(r) \neq f(1)$. Define $M=1+K(f(r)+r)$ where $K=p_{1}^{\\alpha_{1}+1} \\ldots p_{m}^{\\alpha_{m}+1}$. From the previous sub-problem, we have $f(M)=f(1)$. The condition $M-r$ divides $f(M)-f(r)$ holds. Since $f(M)=f(1)$, this means $M-r$ divides $f(1)-f(r)$. As $f(1) \neq f(r)$, $f(1)-f(r)$ is a non-zero integer. Divisibility implies $|M-r| \\le |f(1)-f(r)|$. However, $M-r = 1+K(f(r)+r)-r = 1+K f(r)+(K-1)r$. Since $K = \\prod p_i^{\\alpha_i+1} > \\prod p_i^{\\alpha_i} = f(1)$, and $f(r), r$ are positive integers, we have $M-r > K > f(1)$. Also, $M-r > K f(r) \\ge f(r)$. Thus, $M-r > \\max(f(1), f(r)) \\ge |f(1)-f(r)| = |f(M)-f(r)|$. The strict inequality $|M-r| > |f(M)-f(r)|$ contradicts the divisibility condition unless $f(M)-f(r)=0$. This would mean $f(M)=f(r)$, which implies $f(1)=f(r)$, contradicting the choice of $r$. Therefore, the initial assumption must be false.",,,,
2009n5,"Let $P(x)$ be a non-constant polynomial with integer coefficients. Prove that there is no function $T$ from the set of integers into the set of integers such that the number of integers $x$ with $T^{n}(x)=x$ is equal to $P(n)$ for every $n \geq 1$, where $T^{n}$ denotes the $n$-fold application of $T$.",3,Let $A(n) = \{x \in \mathbb{Z} \mid T^n(x)=x\}$ and $B(n) = \{x \in \mathbb{Z} \mid T^n(x)=x \text{ and } T^k(x) \neq x \text{ for } 1 \le k < n\}$. Prove that $|A(n)| = \sum_{d|n} |B(d)|$ and that $n$ must divide $|B(n)|$.,"For any $x \in A(n)$, let $k$ be the smallest positive integer such that $T^k(x)=x$. Then $k$ must divide $n$. This partitions $A(n)$ into the disjoint union $A(n) = \bigcup_{d|n} B(d)$, so $|A(n)| = \sum_{d|n} |B(d)|$. For any $x \in B(n)$, the elements $\{x, T(x), \dots, T^{n-1}(x)\}$ are $n$ distinct elements, all of which are in $B(n)$. Thus, the set $B(n)$ is partitioned into disjoint cycles of length $n$. Consequently, $|B(n)|$ must be a multiple of $n$.","Assume there exists a non-constant polynomial $P(x) = \sum_{i=0}^{k} a_i x^i$ with integer coefficients such that $|A(n)| = P(n)$ for all $n \ge 1$. Using the result from the previous sub-problem, prove that the coefficient $a_1$ must be zero.","From the first sub-problem, $n \mid |B(n)|$. For any prime $p$, let $n=p^2$. We have $|B(p^2)| = |A(p^2)| - |A(p)| = P(p^2) - P(p)$. Since $p^2$ must divide $|B(p^2)|$, we have $p^2 \mid P(p^2) - P(p)$. The expression is $P(p^2) - P(p) = \sum_{i=0}^k a_i(p^{2i} - p^i) = a_1(p^2-p) + a_2(p^4-p^2) + \dots$. Since $p^2$ divides $a_i(p^{2i} - p^i)$ for all $i \ge 2$, it must be that $p^2 \mid a_1(p^2-p) = a_1 p(p-1)$. This implies $p \mid a_1(p-1)$. As $p$ is prime and does not divide $p-1$, we must have $p \mid a_1$. Since this holds for every prime $p$, it follows that $a_1=0$.","Let $P(x)$ be a non-constant polynomial with integer coefficients. Prove that there is no function $T$ from the set of integers into the set of integers such that the number of integers $x$ with $T^{n}(x)=x$ is equal to $P(n)$ for every $n \geq 1$, where $T^{n}$ denotes the $n$-fold application of $T$.","Assume such a function $T$ and polynomial $P(x)$ exist. From sub-problem 1, $n \mid |B(n)|$, and from sub-problem 2, the coefficient $a_1$ of $P(x)$ is 0. Let $p$ and $q$ be distinct primes. We have $p^2q \mid |B(p^2q)|$. Also, $|B(p^2q)| = |A(p^2q)| - |A(pq)| - |B(p^2)|$. The term $|A(p^2q)| - |A(pq)| = P(p^2q) - P(pq) = \sum_{i=2}^k a_i((p^2q)^i - (pq)^i)$ is divisible by $(pq)^2$, and thus by $p^2q$. This implies $p^2q \mid |B(p^2)|$. As this holds for any prime $q \neq p$, $|B(p^2)|$ must be 0. So, for every prime $p$, we have $|B(p^2)| = P(p^2) - P(p) = 0$. The polynomial $Q(x) = P(x^2) - P(x) = \sum_{i=2}^k a_i(x^{2i} - x^i)$ is zero for infinitely many values (all primes), so it must be the zero polynomial. This implies $a_i=0$ for all $i \ge 2$. Combined with $a_1=0$, this means $P(x)=a_0$, a constant polynomial, which contradicts the problem statement.",,
2009n6,"Let $k$ be a positive integer. Show that if there exists a sequence $a_{0}, a_{1}, \ldots$ of integers satisfying the condition

$$
a_{n}=\frac{a_{n-1}+n^{k}}{n} \quad \text { for all } n \geq 1,
$$

then $k-2$ is divisible by 3 .",3,"For each positive integer $k$, show that there exists a polynomial $P_k(x)$ with integer coefficients of degree $k-1$ and an integer $q_k$ such that the identity $x P_k(x)=x^{k}+P_k(x-1)+q_{k}$ holds.","Let $P_k(x) = b_{k-1}x^{k-1} + \dots + b_0$. Substituting into the identity $xP_k(x) - P_k(x-1) = x^k + q_k$ and comparing coefficients of powers of $x$ from $k$ down to $0$ successively determines the integer coefficients $b_{k-1}, \dots, b_0$ and the integer $q_k$. Specifically, comparing the coefficients of $x^k$ gives $b_{k-1}=1$. For $m=k-1, \dots, 1$, comparing coefficients of $x^m$ expresses $b_{m-1}$ as an integer linear combination of $b_m, \dots, b_{k-1}$. Finally, the constant term gives $q_k = -P_k(-1)$, which is an integer.","Let $k$ be a positive integer and $P_k, q_k$ be as defined in the previous part. Show that if a sequence of integers $a_0, a_1, \ldots$ exists satisfying $a_n = \frac{a_{n-1} + n^k}{n}$ for $n \geq 1$, then it is necessary that $q_k = 0$.","The recurrence is $na_n = a_{n-1} + n^k$. Using the identity $n^k = nP_k(n) - P_k(n-1) - q_k$, we get $n(a_n - P_k(n)) = (a_{n-1} - P_k(n-1)) - q_k$. Let $c_n = a_n - P_k(n)$, which must be an integer. The relation is $nc_n = c_{n-1} - q_k$. Unfolding this gives $c_n = \frac{c_0}{n!} - q_k \sum_{j=0}^{n-1} \frac{j!}{n!}$. As $n \to \infty$, $c_n \to 0$. Since each $c_n$ must be an integer, we must have $c_n=0$ for all sufficiently large $n$. The relation $nc_n = c_{n-1} - q_k$ for large $n$ where $c_n=c_{n-1}=0$ implies $0=0-q_k$, so $q_k=0$.","Let $k$ be a positive integer. Show that if there exists a sequence $a_{0}, a_{1}, \ldots$ of integers satisfying the condition $a_{n}=\frac{a_{n-1}+n^{k}}{n}$ for all $n \geq 1$, then $k-2$ is divisible by 3.","From the previous part, the existence of the integer sequence implies $q_k=0$. By manipulating the polynomial identity for $k, k+1, k+2$, we can derive the recurrence relation $q_{k+2} \equiv q_{k+1} + q_k \pmod 2$ for $k \ge 1$. We compute the first two terms directly: $q_1 = -1$ and $q_2=0$. The sequence $q_k \pmod 2$ starts $1, 0, 1, 1, 0, 1, \ldots$, which is periodic with period 3. The condition $q_k=0$ implies $q_k \equiv 0 \pmod 2$. This occurs precisely when $k \equiv 2 \pmod 3$, which is equivalent to $k-2$ being divisible by 3.",,
2009n7,Let $a$ and $b$ be distinct integers greater than 1 . Prove that there exists a positive integer $n$ such that $\left(a^{n}-1\right)\left(b^{n}-1\right)$ is not a perfect square.,4,"Let $a=c^\nu$ and $b=c^\mu$ for an integer $c>1$ and distinct, coprime positive integers $\mu, \nu$. Prove that there exists a positive integer $n$ such that $(a^n-1)(b^n-1)$ is not a perfect square.","Assume for contradiction that $(c^{\nu n}-1)(c^{\mu n}-1)$ is a perfect square for all $n$. This would imply that the polynomial $P(x) = (1-x^\nu)(1-x^\mu)$ is the square of a polynomial in $x$. For this to be true, all roots of $P(x)$ must have even multiplicity. The roots of $P(x)$ are the $\nu$-th and $\mu$-th roots of unity. Since $\mu$ and $\nu$ are distinct and coprime, any primitive $\mu$-th root of unity (for $\mu>1$) is a root of $P(x)$ of multiplicity 1, a contradiction. Therefore, we must have $\mu=\nu$. As they are coprime, $\mu=\nu=1$, which implies $a=b$, contradicting that they are distinct.","Let $a, b$ be distinct integers greater than 1 such that $a^\mu \neq b^\nu$ for all positive integers $\mu, \nu$. If $x_n = \sqrt{(a^n-1)(b^n-1)}$ is an integer for all $n \in \mathbb{Z}^+$, show that the sequence ${x_n}$ must satisfy a non-trivial linear recurrence relation with constant coefficients for all sufficiently large $n$.","We can assume $ab$ is a perfect square (by replacing $a,b$ with $a^2, b^2$ if needed). Expand $x_n = (\sqrt{ab})^n (1-a^{-n})^{1/2}(1-b^{-n})^{1/2}$ into a power series $x_n = \sum_{k, \ell \ge 0} c_{k, \ell} \lambda_{k,\ell}^n$, where $\lambda_{k,\ell} = \frac{\sqrt{ab}}{a^k b^\ell}$. Choose $k_0, \ell_0$ large enough such that $|\lambda_{k,\ell}| < 1$ for all $(k, \ell)$ where $k \ge k_0$ or $\ell \ge \ell_0$. Construct a polynomial $P(z) = \sum d_i z^i$ with integer coefficients whose roots are ${\lambda_{k,\ell} : 0 \le k < k_0, 0 \le \ell < \ell_0}$. The integer sequence $y_n = \sum d_i x_{n+i}$ is a linear combination of terms $\lambda_{k,\ell}^n$ where $k \ge k_0$ or $\ell \ge \ell_0$. These terms decay exponentially, so $y_n \to 0$ as $n \to \infty$. Since $y_n$ are integers, $y_n=0$ for all large $n$, which means $x_n$ satisfies a linear recurrence relation.","Let $a, b$ be as in the previous sub-problem. Show that if the integer sequence $x_n = \sqrt{(a^n-1)(b^n-1)}$ satisfies a linear recurrence relation, then the Maclaurin series for $f(\alpha, \beta) = (1-\alpha)^{1/2}(1-\beta)^{1/2}$ must be a finite polynomial.","A sequence satisfying a linear recurrence can be expressed as a finite sum of terms of the form $P(n)\lambda^n$. Here, $x_n$ can be expressed as an infinite series $x_n = \sum_{k, \ell \ge 0} c_{k, \ell} \lambda_{k,\ell}^n$, where $c_{k,\ell}$ are the Maclaurin coefficients of $(1-\alpha)^{1/2}(1-\beta)^{1/2}$ and $\lambda_{k,\ell} = \frac{\sqrt{ab}}{a^k b^\ell}$. The condition $a^\mu \neq b^\nu$ ensures the bases $\lambda_{k,\ell}$ are distinct. The recurrence implies $x_n$ must be a finite sum of such terms for large $n$. By comparing the two expressions for $x_n$, the coefficients $c_{k, \ell}$ must be zero beyond a certain point. This means the Maclaurin series is a finite polynomial.",Let $a$ and $b$ be distinct integers greater than 1. Prove that there exists a positive integer $n$ such that $(a^n-1)(b^n-1)$ is not a perfect square.,"Assume for contradiction that $(a^n-1)(b^n-1)$ is a perfect square for all positive integers $n$. We consider two exhaustive cases. Case 1: $a^\mu = b^\nu$ for some positive integers $\mu, \nu$. As shown in sub-problem 1, this leads to the contradiction $a=b$. Case 2: $a^\mu \neq b^\nu$ for all positive integers $\mu, \nu$. As shown in sub-problems 2 and 3, the assumption implies that the Maclaurin series for $(1-\alpha)^{1/2}(1-\beta)^{1/2}$ is a finite polynomial. This is false, as the expansion of $(1-\alpha)^{1/2}$ is an infinite series, which means the product is not a finite polynomial in $\alpha$. This is a contradiction. Since both cases lead to a contradiction, the initial assumption is false."
2008a2,"(a) Prove the inequality

$$
\frac{x^{2}}{(x-1)^{2}}+\frac{y^{2}}{(y-1)^{2}}+\frac{z^{2}}{(z-1)^{2}} \geq 1
$$

for real numbers $x, y, z \neq 1$ satisfying the condition $x y z=1$.\\
(b) Show that there are infinitely many triples of rational numbers $x, y, z$ for which this inequality turns into equality.",3,"Let $a = \frac{x}{x-1}, b = \frac{y}{y-1}, c = \frac{z}{z-1}$ for $x, y, z \neq 1$. If $xyz=1$, derive the relationship between $a, b, c$.","The substitution implies $x=\frac{a}{a-1}, y=\frac{b}{b-1}, z=\frac{c}{c-1}$. The condition $xyz=1$ becomes $\frac{a}{a-1} \frac{b}{b-1} \frac{c}{c-1} = 1$, which is equivalent to $abc = (a-1)(b-1)(c-1)$. Expanding the right side gives $abc = abc - (ab+bc+ca) + (a+b+c) - 1$. This simplifies to the relationship $ab+bc+ca = a+b+c-1$.","Using the substitution $a = \frac{x}{x-1}, b = \frac{y}{y-1}, c = \frac{z}{z-1}$ and the derived relationship from the condition $xyz=1$, prove the inequality $\frac{x^{2}}{(x-1)^{2}}+\frac{y^{2}}{(y-1)^{2}}+\frac{z^{2}}{(z-1)^{2}} \geq 1$.","The inequality transforms into $a^2+b^2+c^2 \geq 1$. From Sub-problem 1, we know $ab+bc+ca = a+b+c-1$. Using the identity $(a+b+c)^2 = a^2+b^2+c^2+2(ab+bc+ca)$, we substitute the condition to get $(a+b+c)^2 = a^2+b^2+c^2 + 2(a+b+c-1)$. Rearranging gives $a^2+b^2+c^2 = (a+b+c)^2 - 2(a+b+c) + 2 = (a+b+c-1)^2+1$. Since $(a+b+c-1)^2 \geq 0$, it follows that $a^2+b^2+c^2 \geq 1$.","(a) Prove the inequality $\frac{x^{2}}{(x-1)^{2}}+\frac{y^{2}}{(y-1)^{2}}+\frac{z^{2}}{(z-1)^{2}} \geq 1$ for real numbers $x, y, z \neq 1$ satisfying the condition $x y z=1$. (b) Show that there are infinitely many triples of rational numbers $x, y, z$ for which this inequality turns into equality.","Part (a) is proven in Sub-problem 2. For part (b), equality holds if and only if $a^2+b^2+c^2=1$. From the proof in Sub-problem 2, this occurs if and only if $(a+b+c-1)^2=0$, which implies $a+b+c=1$. The condition from Sub-problem 1 then becomes $ab+bc+ca=0$. We need to find infinitely many rational solutions to the system $a+b+c=1$ and $ab+bc+ca=0$. Eliminating $c$ yields a quadratic in $b$: $b^2+(a-1)b+a(a-1)=0$. For rational solutions in $b$, the discriminant $\Delta=(1-a)(1+3a)$ must be a square of a rational number. Let $a=\frac{k}{k^2-k+1}$ for an integer $k$. Then $1-a = \frac{(k-1)^2}{k^2-k+1}$ and $1+3a = \frac{(k+1)^2}{k^2-k+1}$, making $\Delta$ a rational square. As $k$ varies over integers greater than 1, we get an infinite number of distinct rational values for $a$, which in turn generate an infinite number of rational triples $(a,b,c)$ and thus $(x,y,z)$ satisfying the equality.",,
2008a5,"Let $a, b, c, d$ be positive real numbers such that

$$
a b c d=1 \quad \text { and } \quad a+b+c+d>\frac{a}{b}+\frac{b}{c}+\frac{c}{d}+\frac{d}{a} .
$$",3,"Let $a, b, c, d$ be positive real numbers such that $abcd=1$. Prove that for each variable, for instance $a$, the following inequality holds: $a \le \frac{1}{4}(2\frac{a}{b} + \frac{b}{c} + \frac{a}{d})$.","Using the condition $abcd=1$, we can write $a = \sqrt[4]{a^4} = \sqrt[4]{a^4/abcd}$. We express the term under the radical as a product of four ratios: $a = \sqrt[4]{\frac{a}{b} \cdot \frac{a}{b} \cdot \frac{b}{c} \cdot \frac{a}{d}}$. Applying the AM-GM inequality to these four terms gives $a \le \frac{1}{4}(\frac{a}{b} + \frac{a}{b} + \frac{b}{c} + \frac{a}{d}) = \frac{1}{4}(2\frac{a}{b} + \frac{b}{c} + \frac{a}{d})$.","Let $a, b, c, d$ be positive real numbers with $abcd=1$. Prove that $a+b+c+d \le \frac{3}{4}(\frac{a}{b}+\frac{b}{c}+\frac{c}{d}+\frac{d}{a}) + \frac{1}{4}(\frac{b}{a}+\frac{c}{b}+\frac{d}{c}+\frac{a}{d})$.","By applying the AM-GM based method from the first sub-problem to each of the variables $a, b, c, d$, we derive four analogous inequalities:
$a \le \frac{1}{4}(2\frac{a}{b} + \frac{b}{c} + \frac{a}{d})$
$b \le \frac{1}{4}(2\frac{b}{c} + \frac{c}{d} + \frac{b}{a})$
$c \le \frac{1}{4}(2\frac{c}{d} + \frac{d}{a} + \frac{c}{b})$
$d \le \frac{1}{4}(2\frac{d}{a} + \frac{a}{b} + \frac{d}{c})$
Summing these four inequalities and collecting terms yields $a+b+c+d \le \frac{1}{4} [3(\frac{a}{b}+\frac{b}{c}+\frac{c}{d}+\frac{d}{a}) + (\frac{b}{a}+\frac{c}{b}+\frac{d}{c}+\frac{a}{d})]$, which is the desired result.","Let $a, b, c, d$ be positive real numbers such that $abcd=1$ and $a+b+c+d > \frac{a}{b}+\frac{b}{c}+\frac{c}{d}+\frac{d}{a}$. Prove that $a+b+c+d < \frac{b}{a}+\frac{c}{b}+\frac{d}{c}+\frac{a}{d}$.","Let $S=a+b+c+d$, $S_1=\frac{a}{b}+\frac{b}{c}+\frac{c}{d}+\frac{d}{a}$, and $S_2=\frac{b}{a}+\frac{c}{b}+\frac{d}{c}+\frac{a}{d}$. From the previous sub-problem, $S \le \frac{3}{4}S_1 + \frac{1}{4}S_2$. The given condition $S > S_1$ implies that $a,b,c,d$ are not all equal to 1, so the AM-GM inequalities used are strict. Thus, $S < \frac{3}{4}S_1 + \frac{1}{4}S_2$, which implies $4S < 3S_1 + S_2$. Rearranging gives $S_2 > 4S - 3S_1 = S + 3(S - S_1)$. Since we are given $S > S_1$, the term $S - S_1$ is positive. Therefore, $S_2 > S$, which completes the proof.",,
2008a6,"Let $f: \mathbb{R} \rightarrow \mathbb{N}$ be a function which satisfies


\begin{equation*}
f\left(x+\frac{1}{f(y)}\right)=f\left(y+\frac{1}{f(x)}\right) \quad \text { for all } x, y \in \mathbb{R} \tag{1}
\end{equation*}


Prove that there is a positive integer which is not a value of $f$.",4,"Show that we may assume $f(0)=1$ without loss of generality. Then, assuming $f(\\mathbb{R}) = \\mathbb{N}$, show that for any $c \\in \\mathbb{R}$, the set of values $\{f(c+1/n) : n \\in \\mathbb{N}\}$ is $\\mathbb{N}$.","If $f(\\mathbb{R})=\\mathbb{N}$, there is an $a \\in \\mathbb{R}$ with $f(a)=1$. Define $g(x)=f(x+a)$. $g(x)$ satisfies the same functional equation as $f(x)$, with $g(0)=1$ and $g(\\mathbb{R})=f(\\mathbb{R})=\\mathbb{N}$. Thus, we can assume $f(0)=1$ without loss of generality. For the second part, substitute $y=c$ into the given equation: $f(x+1/f(c)) = f(c+1/f(x))$. The set of values of the LHS as $x$ ranges over $\\mathbb{R}$ is $f(\\mathbb{R})=\\mathbb{N}$. The set of values of the RHS is $\{f(c+1/f(x)) \\mid x \\in \\mathbb{R}\}$. Since $f(\\mathbb{R})=\\mathbb{N}$, this set is $\{f(c+1/n) \\mid n \\in \\mathbb{N}\}$. Therefore, $\{f(c+1/n) \\mid n \\in \\mathbb{N}\}=\\mathbb{N}$.","Assume $f(\\mathbb{R})=\\mathbb{N}$ and $f(0)=1$. Prove that if $f(u)=f(v)$, then $f(u+q)=f(v+q)$ for all non-negative rational numbers $q$. Furthermore, prove that if $f(q)=1$ for a non-negative rational $q$, then $f(kq)=1$ for all $k \\in \\mathbb{N}$.","Given $f(u)=f(v)$, the functional equation implies $f(u+1/f(x))=f(x+1/f(u))=f(x+1/f(v))=f(v+1/f(x))$. As $f(\\mathbb{R})=\\mathbb{N}$, $\{1/f(x) : x \\in \\mathbb{R}\} = \{1/n : n \\in \\mathbb{N}\}$. So $f(u+1/n)=f(v+1/n)$ for all $n \\in \\mathbb{N}$. Any non-negative rational $q=k/n$ can be formed by adding $1/n$ for $k$ times. Thus $f(u+q)=f(v+q)$. For the second part, assume $f(q)=1$ for a rational $q \\ge 0$. Since $f(0)=1$, the first part implies $f(0+r)=f(q+r)$ for any rational $r \\ge 0$. Setting $r=q$ gives $f(q)=f(2q)=1$. Setting $r=2q$ gives $f(2q)=f(3q)=1$. By induction, $f(kq)=1$ for all $k \\in \\mathbb{N}$.","Assuming $f(\\mathbb{R})=\\mathbb{N}$ and $f(0)=1$, prove that $f(1/n)=n$ for every $n \\in \\mathbb{N}$.","First, we show $f(q)=f(q+1)$ for any non-negative rational $q$. From Sub-problem 1, $\{f(1/k) : k \\in \\mathbb{N}\} = \\mathbb{N}$, so there exists $m \\in \\mathbb{N}$ with $f(1/m)=1$. From Sub-problem 2, since $f(1/m)=1$, we get $f(m \\cdot 1/m) = f(1)=1$. Now we have $f(0)=1$ and $f(1)=1$. Applying the result from Sub-problem 2 again gives $f(0+q)=f(1+q)$, so $f(q)=f(q+1)$ for all non-negative rationals $q$. Now, set $y=0$ and $x=q$ (a non-negative rational) in the original equation: $f(q+1/f(0)) = f(0+1/f(q))$, which is $f(q+1) = f(1/f(q))$. Since $f(q+1)=f(q)$, we have $f(q)=f(1/f(q))$. For any $n \\in \\mathbb{N}$, there is a $k \\in \\mathbb{N}$ such that $f(1/k)=n$. Letting $q=1/k$ gives $n=f(1/k)=f(1/f(1/k))=f(1/n)$.","Let $f: \\mathbb{R} \rightarrow \\mathbb{N}$ be a function which satisfies $f\\left(x+\frac{1}{f(y)}\right)=f\\left(y+\frac{1}{f(x)}\right)$ for all $x, y \\in \\mathbb{R}$. Prove that there is a positive integer which is not a value of $f$.","We prove by contradiction, assuming $f(\\mathbb{R})=\\mathbb{N}$. From Sub-problem 1, we can assume $f(0)=1$ and for any $c$, $\{f(c+1/n) : n \\in \\mathbb{N}\} = \\mathbb{N}$. Specifically, for $c=1/3$, there is an $n \\in \\mathbb{N}$ with $f(1/3+1/n)=1$. Let $q=1/3+1/n=s/t$ for coprime integers $s,t$. Since $q$ is not an integer, $t>1$. We have $f(0)=1$ and $f(s/t)=1$. From Sub-problem 2, $f(k \\cdot s/t)=1$ for any $k \\in \\mathbb{N}$. By B茅zout's identity, we can find positive integers $k,l$ such that $ks-lt=1$. This implies $ks/t=l+1/t$. Then $f(l+1/t)=1$. From Sub-problem 3, we know $f(r)=f(r+1)$ for rational $r \\ge 0$, which implies $f(l+1/t)=f(1/t)$. Also from Sub-problem 3, $f(1/t)=t$. Thus we have $t=1$. This contradicts $t>1$. So the assumption $f(\\mathbb{R})=\\mathbb{N}$ is false."
2008a7,"Prove that for any four positive real numbers $a, b, c, d$ the inequality

$$
\frac{(a-b)(a-c)}{a+b+c}+\frac{(b-c)(b-d)}{b+c+d}+\frac{(c-d)(c-a)}{c+d+a}+\frac{(d-a)(d-b)}{d+a+b} \geq 0
$$

holds. Determine all cases of equality.",3,"Let $a,b,c,d$ be positive real numbers and $s=a+b+c+d$. Define the sum $S_2 = \frac{(a-c)(a+c-2b)}{a+b+c}+\frac{(b-d)(b+d-2c)}{b+c+d}+\frac{(c-a)(c+a-2d)}{c+d+a}+\frac{(d-b)(d+b-2a)}{d+a+b}$. Prove that $|S_2| \leq \frac{3|a-c||b-d|}{s}$.","Let the four terms of the sum $S_2$ be $A'', B'', C'', D''$. We pair the terms as $(A''+C'')$ and $(B''+D'')$. We have $A''+C'' = \frac{3(a-c)(d-b)(a+c)}{M}$ where $M=s(a+c)+bd$, and by cyclic shift, $B''+D'' = \frac{3(b-d)(a-c)(b+d)}{N}$ where $N=s(b+d)+ca$. Summing these gives $S_2 = 3(a-c)(b-d)(\frac{b+d}{N}-\frac{a+c}{M}) = \frac{3(a-c)(b-d)W}{MN}$, where $W = (b+d)M-(a+c)N = bd(b+d)-ac(a+c)$. Since all variables are positive, $M=s(a+c)+bd$ and $N=s(b+d)+ca$, we have $MN > s(ac(a+c)+bd(b+d)) \ge s|ac(a+c)-bd(b+d)| = s|W|$. Therefore, $|S_2| = \frac{3|a-c||b-d||W|}{MN} \le \frac{3|a-c||b-d||W|}{s|W|} = \frac{3|a-c||b-d|}{s}$.","Let $a,b,c,d$ be positive real numbers and $s=a+b+c+d$. Define the sum $S_1 = \frac{(a-c)^2}{a+b+c}+\frac{(b-d)^2}{b+c+d}+\frac{(c-a)^2}{c+d+a}+\frac{(d-b)^2}{d+a+b}$. Prove that $S_1 \geq \frac{16|a-c||b-d|}{3s}$.","The denominators can be written in terms of $s$, so the sum is $S_1 = \frac{(a-c)^2}{s-d}+\frac{(b-d)^2}{s-a}+\frac{(c-a)^2}{s-b}+\frac{(d-b)^2}{s-c}$. By the Cauchy-Schwarz inequality, $(\sum x_i^2)(\sum y_i^2) \ge (\sum x_i y_i)^2$. Let $x_i = (\frac{|a-c|}{\sqrt{s-d}}, \frac{|b-d|}{\sqrt{s-a}}, \frac{|c-a|}{\sqrt{s-b}}, \frac{|d-b|}{\sqrt{s-c}})$ and $y_i=(\sqrt{s-d}, \sqrt{s-a}, \sqrt{s-b}, \sqrt{s-c})$. Then $\sum x_i^2 = S_1$, $\sum y_i^2 = (s-d)+(s-a)+(s-b)+(s-c) = 3s$, and $\sum x_i y_i = |a-c|+|b-d|+|c-a|+|d-b| = 2|a-c|+2|b-d|$. The inequality becomes $S_1 \cdot 3s \ge (2|a-c|+2|b-d|)^2$. By the AM-GM inequality, $(x+y)^2 \ge 4xy$, so $(2|a-c|+2|b-d|)^2 \ge 4(2|a-c|)(2|b-d|) = 16|a-c||b-d|$. Thus, $S_1 \ge \frac{(2|a-c|+2|b-d|)^2}{3s} \ge \frac{16|a-c||b-d|}{3s}$.","Prove that for any four positive real numbers $a, b, c, d$ the inequality

$$ \frac{(a-b)(a-c)}{a+b+c}+\frac{(b-c)(b-d)}{b+c+d}+\frac{(c-d)(c-a)}{c+d+a}+\frac{(d-a)(d-b)}{d+a+b} \geq 0 $$ 

holds. Determine all cases of equality.","Let the expression be $L$. Each term can be decomposed, e.g., $2\frac{(a-b)(a-c)}{a+b+c} = \frac{(a-c)^2}{a+b+c} + \frac{(a-c)(a+c-2b)}{a+b+c}$. Summing over all four terms gives $2L = S_1+S_2$, where $S_1$ and $S_2$ are the sums defined in the previous sub-problems. Using the established bounds, $2L = S_1+S_2 \ge S_1-|S_2| \ge \frac{16|a-c||b-d|}{3s} - \frac{3|a-c||b-d|}{s} = \frac{(16-9)|a-c||b-d|}{3s} = \frac{7|a-c||b-d|}{3s} \ge 0$, where $s=a+b+c+d>0$. This proves the inequality $L \ge 0$. Equality holds when all intermediate inequalities are equalities. The final expression $\frac{7|a-c||b-d|}{3s}$ is zero if and only if $a=c$ or $b=d$. For the Cauchy-Schwarz inequality to be an equality, we need $|a-c|=|b-d|$. If $a=c$, this implies $b=d$. If $b=d$, this implies $a=c$. Thus, equality holds if and only if $a=c$ and $b=d$.",,
2008c5,"Let $S=\left\{x_{1}, x_{2}, \ldots, x_{k+\ell}\right\}$ be a $(k+\ell)$-element set of real numbers contained in the interval $[0,1] ; k$ and $\ell$ are positive integers. A $k$-element subset $A \subset S$ is called nice if

$$
\left|\frac{1}{k} \sum_{x_{i} \in A} x_{i}-\frac{1}{\ell} \sum_{x_{j} \in S \backslash A} x_{j}\right| \leq \frac{k+\ell}{2 k \ell} .
$$

Prove that the number of nice subsets is at least $\frac{2}{k+\ell}\binom{k+\ell}{k}$.",4,"For a permutation $(y_{1}, \ldots, y_{k+\ell})$ of $S$, let sets $A_i = \{y_i, \ldots, y_{i+k-1}\}$ (indices mod $k+\ell$) be formed. Let $f(A) = \frac{1}{k}\sum_{x \in A} x - \frac{1}{\ell}\sum_{x \in S \setminus A} x$. Prove that $|f(A_{i+1}) - f(A_i)| \leq \frac{1}{k} + \frac{1}{\ell}$.","The set $A_{i+1}$ is obtained from $A_i$ by removing $y_i$ and adding $y_{i+k}$. Thus, $S \setminus A_{i+1}$ is obtained from $S \setminus A_i$ by adding $y_i$ and removing $y_{i+k}$. The change in $f(A)$ is $f(A_{i+1}) - f(A_i) = \frac{1}{k}(-y_i + y_{i+k}) - \frac{1}{\ell}(y_i - y_{i+k}) = (\frac{1}{k} + \frac{1}{\ell})(y_{i+k} - y_i)$. Since all $y_j \in [0,1]$, we have $|y_{i+k}-y_i| \leq 1$. Therefore, $|f(A_{i+1}) - f(A_i)| \leq \frac{1}{k} + \frac{1}{\ell}$.","With the same definitions as in the first sub-problem, prove that $\sum_{i=1}^{k+\ell} f(A_i) = 0$.","Consider the contribution of an arbitrary element $y_j \in S$ to the total sum $\sum_{i=1}^{k+\ell} f(A_i)$. The element $y_j$ is a member of exactly $k$ of the sets $A_1, \ldots, A_{k+\ell}$, and thus a member of the complement $S \setminus A_i$ for the remaining $\ell$ sets. So, the total coefficient of $y_j$ in the sum is $k \cdot (\frac{1}{k}) + \ell \cdot (-\frac{1}{\ell}) = 1 - 1 = 0$. Since this holds for every $y_j \in S$, the entire sum is zero.","For any permutation of $S$, prove that at least two of the associated sets $A_1, \ldots, A_{k+\ell}$ are nice. A set $A$ is nice if $|f(A)| \leq d$, where $d = \frac{k+\ell}{2k\ell}$.","From the previous sub-problem, $\sum f(A_i)=0$, so there must exist indices $p,q$ such that $f(A_p) \leq 0 \leq f(A_q)$. From the first sub-problem, $|f(A_{i+1})-f(A_i)| \leq \frac{1}{k} + \frac{1}{\ell} = 2d$. This bound means the sequence of values cannot jump over the entire interval $[-d, d]$. If $f(A_p) < -d$ and $f(A_q) > d$, the sequence from $f(A_p)$ to $f(A_q)$ must contain a value in $[-d,d]$, and similarly for the sequence from $f(A_q)$ to $f(A_p)$, yielding two nice sets. If $-d \leq f(A_p)$ and $f(A_q) \leq d$, then $A_p$ and $A_q$ are nice. If one is inside $[-d,d]$ and the other is outside (e.g., $f(A_p) < -d$ and $0 \leq f(A_q) \leq d$), then $A_q$ is nice, and the sequence from $f(A_q)$ to $f(A_p)$ must contain another nice set. Thus, in all cases, at least two sets are nice.","Let $S=\left\{x_{1}, x_{2}, \ldots, x_{k+\ell}\right\}$ be a $(k+\ell)$-element set of real numbers contained in the interval $[0,1] ; k$ and $\ell$ are positive integers. A $k$-element subset $A \subset S$ is called nice if

$$
\left|\frac{1}{k} \sum_{x_{i} \in A} x_{i}-\frac{1}{\ell} \sum_{x_{j} \in S \backslash A} x_{j}\right| \leq \frac{k+\ell}{2 k \ell} .
$$

Prove that the number of nice subsets is at least $\frac{2}{k+\ell}\binom{k+\ell}{k}$.","Consider all $(k+\ell)!$ permutations of $S$. For each permutation, we form the $k+\ell$ cyclically consecutive $k$-element subsets $A_1, \dots, A_{k+\ell}$. From the previous step, at least two of these subsets are nice. Summing over all permutations, we count at least $2(k+\ell)!$ nice sets, with repetitions. Now, let's count how many permutations correspond to a specific $k$-element subset $A$. The elements of $A$ can be arranged as a contiguous block in $k!$ ways, the elements of $S \setminus A$ can be arranged in $\ell!$ ways, and the starting position of the block for $A$ can be any of the $k+\ell$ positions. So, each subset $A$ is counted in $(k+\ell)k!\ell!$ permutations. If $N$ is the number of nice subsets, then $N \cdot (k+\ell)k!\ell! \geq 2(k+\ell)!$. Solving for $N$ gives $N \geq \frac{2(k+\ell)!}{(k+\ell)k!\ell!} = \frac{2}{k+\ell}\frac{(k+\ell)!}{k!\ell!} = \frac{2}{k+\ell}\binom{k+\ell}{k}$."
2008c6,"For $n \geq 2$, let $S_{1}, S_{2}, \ldots, S_{2^{n}}$ be $2^{n}$ subsets of $A=\left\{1,2,3, \ldots, 2^{n+1}\right\}$ that satisfy the following property: There do not exist indices $a$ and $b$ with $a<b$ and elements $x, y, z \in A$ with $x<y<z$ such that $y, z \in S_{a}$ and $x, z \in S_{b}$. Prove that at least one of the sets $S_{1}, S_{2}, \ldots, S_{2^{n}}$ contains no more than $4 n$ elements.",3,"Define an element $z \in S_{a}$ to be *k-good* to $S_a$ if there exist $x, y \in S_a$ with $x<y<z$ such that $z-y<2^{k}$ and $z-x \ge 2^{k}$. An element is *good* if it is $k$-good for some $k \in \{1, \ldots, n\}$. Prove that any element $z \in A$ can be *good* to at most $n$ of the sets $S_1, \ldots, S_{2^n}$.","First, we prove that for a fixed $k$, an element $z$ can be $k$-good to at most one set. Assume $z$ is $k$-good to both $S_a$ and $S_b$ with $a<b$. Then there exists $y_a \in S_a$ with $y_a<z$ and $z-y_a < 2^k$, and there exists $x_b \in S_b$ with $x_b<z$ and $z-x_b \ge 2^k$. The problem condition for $a<b$ with $z \in S_a \cap S_b$ implies there is no element of $S_a$ strictly between $x_b$ and $z$. Thus, $y_a \le x_b$, which implies $z-y_a \ge z-x_b$. This contradicts $z-y_a < 2^k \le z-x_b$. Since this holds for each $k \in \{1, \ldots, n\}$, $z$ can be good to at most $n$ sets in total.","Let $u_1 < u_2 < \dots < u_p$ be the elements of a fixed set $S_a$ that are not *good* to $S_a$. Prove that $S_a$ contains at most $n+1$ such elements (i.e., $p \le n+1$).","Assume for contradiction that for some $m \ge 3$, $u_m-u_1 \le 2(u_{m-1}-u_1)$. Let $k$ be the unique integer such that $2^k \le u_m-u_1 < 2^{k+1}$. The assumption implies $2(u_m-u_{m-1}) \le u_m-u_1$, which gives $u_m-u_{m-1} < 2^k$. Setting $x=u_1, y=u_{m-1}, z=u_m$, we have $x,y,z \in S_a$ with $z-y < 2^k$ and $z-x \ge 2^k$. This means $u_m$ is $k$-good to $S_a$, a contradiction. Therefore, $u_m-u_1 > 2(u_{m-1}-u_1)$ for all $m \ge 3$. This implies the sequence $u_2-u_1, u_3-u_1, \ldots, u_p-u_1$ more than doubles at each step, so $u_p-u_1 > 2^{p-1}(u_2-u_1) \ge 2^{p-1}$. Since $u_p, u_1 \in A$, $u_p-u_1 < 2^{n+1}$. Thus, $2^{p-1} < 2^{n+1}$, which implies $p-1 < n+1$, so $p \le n+1$.","For $n \geq 2$, let $S_{1}, S_{2}, \ldots, S_{2^{n}}$ be $2^{n}$ subsets of $A=\left\{1,2,3, \ldots, 2^{n+1}\right\}$ that satisfy the following property: There do not exist indices $a$ and $b$ with $a<b$ and elements $x, y, z \in A$ with $x<y<z$ such that $y, z \in S_{a}$ and $x, z \in S_{b}$. Prove that at least one of the sets $S_{1}, S_{2}, \ldots, S_{2^{n}}$ contains no more than $4 n$ elements.","We count the total number of elements in all sets, $\sum_{a=1}^{2^n} |S_a|$, by partitioning the elements of each set into those that are *good* and those that are not. From sub-problem 1, each element $z \in A$ can be *good* to at most $n$ sets, so the total number of *good* elements across all sets is at most $n|A| = n \cdot 2^{n+1}$. From sub-problem 2, each set $S_a$ has at most $n+1$ elements that are not *good*, so the total number of non-*good* elements is at most $(n+1)2^n$. The sum of cardinalities is therefore bounded: $\sum |S_a| \le n \cdot 2^{n+1} + (n+1)2^n = 2n \cdot 2^n + (n+1)2^n = (3n+1)2^n$. By the averaging principle, there is at least one set $S_a$ with $|S_a| \le \frac{(3n+1)2^n}{2^n} = 3n+1$. As $n \ge 2$, $3n+1 \le 4n$, so the claim holds.",,
2008g1,"In an acute-angled triangle $A B C$, point $H$ is the orthocentre and $A_{0}, B_{0}, C_{0}$ are the midpoints of the sides $B C, C A, A B$, respectively. Consider three circles passing through $H$ : $\omega_{a}$ around $A_{0}, \omega_{b}$ around $B_{0}$ and $\omega_{c}$ around $C_{0}$. The circle $\omega_{a}$ intersects the line $B C$ at $A_{1}$ and $A_{2} ; \omega_{b}$ intersects $C A$ at $B_{1}$ and $B_{2} ; \omega_{c}$ intersects $A B$ at $C_{1}$ and $C_{2}$. Show that the points $A_{1}, A_{2}, B_{1}, B_{2}, C_{1}, C_{2}$ lie on a circle.",3,Let $O$ be the circumcentre and $R$ be the circumradius of an acute-angled triangle $ABC$. Let $H$ be the orthocentre and $A_{0}$ be the midpoint of side $BC$. Show that $2(OA_{0}^{2} + A_{0}H^{2}) = OH^{2} + R^{2}$.,"Let $K$ be the midpoint of the segment $AH$. It is a known property that the quadrilaterals $AKA_0O$ and $HA_0OK$ are parallelograms. Since $AKA_0O$ is a parallelogram, we have $A_0K = OA = R$. Applying the parallelogram law to $HA_0OK$ (the sum of the squares of the diagonals equals the sum of the squares of the sides), we get $OH^2 + A_0K^2 = 2(OA_0^2 + A_0H^2)$. Substituting $A_0K=R$ yields the desired result: $OH^2 + R^2 = 2(OA_0^2 + A_0H^2)$.",The circle $\omega_{a}$ with center $A_{0}$ passes through $H$ and intersects the line $BC$ at $A_{1}$ and $A_{2}$. Show that the squared distance from the circumcenter $O$ to $A_1$ is given by $OA_{1}^{2} = \frac{1}{2}(OH^{2} + R^{2})$.,"Since $O$ is the circumcenter and $A_0$ is the midpoint of $BC$, the line $OA_0$ is perpendicular to $BC$. As $A_1$ lies on the line $BC$, triangle $OA_0A_1$ is a right-angled triangle. By the Pythagorean theorem, $OA_1^2 = OA_0^2 + A_0A_1^2$. The circle $\omega_a$ is centered at $A_0$ and its radius is $A_0H$ (since it passes through $H$). As $A_1$ is on this circle, $A_0A_1 = A_0H$. Thus, $OA_1^2 = OA_0^2 + A_0H^2$. Using the result from the previous sub-problem, $2(OA_0^2 + A_0H^2) = OH^2 + R^2$, we conclude that $OA_1^2 = \frac{1}{2}(OH^2 + R^2)$.","Show that the points $A_{1}, A_{2}, B_{1}, B_{2}, C_{1}, C_{2}$ lie on a circle.","The perpendicular bisector of the segment $A_1A_2$ passes through its midpoint $A_0$ and is perpendicular to the line $BC$. This is precisely the perpendicular bisector of the side $BC$. Similarly, the perpendicular bisectors of $B_1B_2$ and $C_1C_2$ are the perpendicular bisectors of sides $CA$ and $AB$. These three lines intersect at the circumcenter $O$. Thus, if the six points lie on a circle, its center must be $O$. From the previous sub-problem, the squared distance from $O$ to $A_1$ is $OA_1^2 = \frac{1}{2}(OH^2 + R^2)$. Since $A_0$ is the midpoint of $A_1A_2$, $OA_1 = OA_2$. The expression for the squared distance is symmetric and depends only on triangle-wide properties ($O, H, R$). Therefore, the distances from $O$ to all six points $A_1, A_2, B_1, B_2, C_1, C_2$ are equal to the same value. All six points are equidistant from $O$, so they lie on a circle centered at $O$ with radius $\sqrt{\frac{OH^2+R^2}{2}}$.",,
2008g2,"Given trapezoid $A B C D$ with parallel sides $A B$ and $C D$, assume that there exist points $E$ on line $B C$ outside segment $B C$, and $F$ inside segment $A D$, such that $\angle D A E=\angle C B F$. Denote by $I$ the point of intersection of $C D$ and $E F$, and by $J$ the point of intersection of $A B$ and $E F$. Let $K$ be the midpoint of segment $E F$; assume it does not lie on line $A B$.",3,Prove that the quadrilateral $A E B F$ is cyclic.,"Given $\angle D A E=\angle C B F$. Since $F$ is on segment $AD$, $\angle FAE = \angle DAE$. As $E$ is on line $BC$ outside segment $BC$, the angle $\angle EBF$ is supplementary to $\angle CBF$, so $\angle EBF = 180^\circ - \angle CBF$. In quadrilateral $AEBF$, the sum of opposite angles is $\angle FAE + \angle EBF = \angle DAE + (180^\circ - \angle CBF) = 180^\circ$. Therefore, $A E B F$ is a cyclic quadrilateral.",Prove that the quadrilateral $C D F E$ is cyclic.,"Since $AEBF$ is cyclic, the exterior angle at vertex $E$ is equal to the interior opposite angle, so $\angle FEC = \angle FAB$. As trapezoid $ABCD$ has parallel sides $AB$ and $CD$, the interior angles on the same side of the transversal $AD$ are supplementary, meaning $\angle DAB + \angle ADC = 180^\circ$. Since $F$ lies on $AD$, this implies $\angle FAB + \angle FDC = 180^\circ$. Combining these facts, we get $\angle FEC = 180^\circ - \angle FDC$, which means $\angle FEC + \angle FDC = 180^\circ$. Therefore, $CDFE$ is a cyclic quadrilateral.",Prove that $I$ belongs to the circumcircle of $A B K$ if and only if $K$ belongs to the circumcircle of $C D J$.,"By the power of a point theorem, $I$ lies on the circumcircle of $ABK$ if and only if $JA \cdot JB = JI \cdot JK$. Since $AEBF$ is cyclic, $JA \cdot JB = JF \cdot JE$. Thus, the first condition is equivalent to $JI \cdot JK = JF \cdot JE$. Similarly, $K$ lies on the circumcircle of $CDJ$ if and only if $IC \cdot ID = IK \cdot IJ$. Since $CDFE$ is cyclic, $IC \cdot ID = IF \cdot IE$. Thus, the second condition is equivalent to $IK \cdot IJ = IF \cdot IE$. Both conditions $JI \cdot JK = JF \cdot JE$ and $IK \cdot IJ = IF \cdot IE$ can be shown to be equivalent to the same algebraic relation between the lengths of segments on line $EF$. Therefore, the two initial statements are equivalent.",,
2008g3,Let $A B C D$ be a convex quadrilateral and let $P$ and $Q$ be points in $A B C D$ such that $P Q D A$ and $Q P B C$ are cyclic quadrilaterals. Suppose that there exists a point $E$ on the line segment $P Q$ such that $\angle P A E=\angle Q D E$ and $\angle P B E=\angle Q C E$. Show that the quadrilateral $A B C D$ is cyclic.,3,"Let $PQDA$ be a cyclic quadrilateral and $E$ be a point on the line $PQ$. Let $F$ be a point on the line $AD$ such that $EF \| PA$. If $\angle PAE = \angle QDE$, prove that $FQ \| AE$.","Since $PQDA$ is cyclic and $EF \| PA$, we have $\angle EFD = \angle PAD = 180^{\circ} - \angle PQD$. This implies that the quadrilateral $EFDQ$ is cyclic. Therefore, $\angle EFQ = \angle EDQ$. Given the condition $\angle QDE = \angle PAE$, it follows that $\angle EFQ = \angle PAE$. As $EF$ and $PA$ are parallel by construction, this equality of alternating interior angles (or corresponding angles, depending on configuration) implies that $FQ \| AE$.","Let $f$ be the unique similarity transformation (a homothety or a translation) that maps segment $PE$ to $EQ$. Show that under the conditions of the original problem, there exist a point $F$ on line $AD$ and a point $G$ on line $BC$ such that triangle $EFQ$ is the image of triangle $PAE$ under $f$, and triangle $EGQ$ is the image of triangle $PBE$ under $f$.","Let $F$ be a point on line $AD$ such that $EF \| PA$. From the previous sub-problem, the condition $\angle PAE = \angle QDE$ implies $FQ \| AE$. The two pairs of parallel sides ($EF \| PA$ and $FQ \| AE$) mean that $\triangle EFQ$ is the image of $\triangle PAE$ under the transformation $f$ that maps $P \to E$ and $E \to Q$. Similarly, let $G$ be a point on line $BC$ such that $EG \| PB$. Since $QPBC$ is cyclic, $EGQC$ is cyclic. Thus $\angle EGQ = \angle ECQ$. Given $\angle PBE = \angle QCE$, we have $\angle EGQ = \angle PBE$. As $EG \| PB$, this implies $GQ \| BE$. Therefore, $\triangle EGQ$ is the image of $\triangle PBE$ under the same transformation $f$.",Let $A B C D$ be a convex quadrilateral and let $P$ and $Q$ be points in $A B C D$ such that $P Q D A$ and $Q P B C$ are cyclic quadrilaterals. Suppose that there exists a point $E$ on the line segment $P Q$ such that $\angle P A E=\angle Q D E$ and $\angle P B E=\angle Q C E$. Show that the quadrilateral $A B C D$ is cyclic.,"Let $f$ be the similarity transformation mapping $PE$ to $EQ$. From the previous result, $f$ maps point $A$ to a point $F$ on line $AD$, and point $B$ to a point $G$ on line $BC$. There are two cases for $f$. Case 1: $f$ is a homothety with a center $X$. Then the lines connecting pre-images to images must all pass through $X$. Thus, lines $AD$ (as line $AF$), $BC$ (as line $BG$), and $PQ$ (as line $PE$) are concurrent at $X$. By the power of point $X$ with respect to the two circles, $XA \cdot XD = XP \cdot XQ$ and $XB \cdot XC = XP \cdot XQ$. It follows that $XA \cdot XD = XB \cdot XC$, which implies that $A, B, C, D$ are concyclic. Case 2: $f$ is a translation. Then $AD \| BC \| PQ$. Since $PQDA$ and $QPBC$ are cyclic, they must be isosceles trapezoids. This implies $ABCD$ is also an isosceles trapezoid, which is a cyclic quadrilateral.",,
2008g4,In an acute triangle $A B C$ segments $B E$ and $C F$ are altitudes. Two circles passing through the points $A$ and $F$ are tangent to the line $B C$ at the points $P$ and $Q$ so that $B$ lies between $C$ and $Q$. Prove that the lines $P E$ and $Q F$ intersect on the circumcircle of triangle $A E F$.,3,"Let $H$ be the orthocenter of triangle $ABC$. Show that triangles $BPH$ and $BEP$ are similar, and consequently, prove that $\angle BPE = \angle BHP$.","By the power of a point theorem for point $B$ and the circle passing through $A, F, P$, we have $BP^2 = BA \cdot BF$. Since $CF$ and $BE$ are altitudes, the quadrilateral $AFDC$ is cyclic (angles on $AC$ are $90^\circ$), so by power of point $B$, $BA \cdot BF = BC \cdot BD$. Also, quadrilateral $CDHE$ is cyclic (angles on $CH$ are $90^\circ$), so by power of point $B$, $BE \cdot BH = BC \cdot BD$. Thus, $BP^2 = BE \cdot BH$, which implies $BP/BH = BE/BP$. As they share $\angle HBP$, triangles $BPH$ and $BEP$ are similar by SAS. Therefore, $\angle BPE = \angle BHP$.","Let $AD$ be the altitude from $A$. Show that triangles $HDP$ and $QDA$ are similar, and use this to prove that $\angle BQF = \angle BPH - \angle BAD$.","From $BP^2 = BC \cdot BD$ and $BP=BQ$, we get $DP \cdot DQ = (BP-BD)(BP+BD) = BP^2-BD^2 = BC \cdot BD - BD^2 = BD \cdot DC$. From the similarity of triangles $BDH$ and $ADC$, we have $AD \cdot DH = BD \cdot DC$. Thus, $DP \cdot DQ = AD \cdot DH$, which implies $DH/DP = DQ/DA$. Since $\angle PDH = \angle ADQ = 90^\circ$, triangles $HDP$ and $QDA$ are similar (SAS). This gives $\angle HPD = \angle QAD$, which is $\angle BPH = \angle QAB + \angle BAD$. From the tangency condition, $BQ^2=BA \cdot BF$, which implies $\triangle BQF \sim \triangle BAQ$, so $\angle BQF = \angle BAQ$. Substituting this into the previous equation gives $\angle BPH = \angle BQF + \angle BAD$, or $\angle BQF = \angle BPH - \angle BAD$.",In an acute triangle $A B C$ segments $B E$ and $C F$ are altitudes. Two circles passing through the points $A$ and $F$ are tangent to the line $B C$ at the points $P$ and $Q$ so that $B$ lies between $C$ and $Q$. Prove that the lines $P E$ and $Q F$ intersect on the circumcircle of triangle $A E F$.,"Let $S$ be the intersection of lines $PE$ and $QF$. In the triangle formed by these lines and line $BC$, the angle $\angle PSQ = 180^\circ - (\angle BPE + \angle BQF)$. Using the results from the previous parts, $\angle BPE + \angle BQF = (\angle BHP) + (\angle BPH - \angle BAD) = (\angle BHP + \angle BPH) - \angle BAD$. In $\triangle BPH$, this is $(180^\circ - \angle HBP) - \angle BAD$. In $\triangle ABC$, $\angle HBP = \angle EBC = 90^\circ - \angle C$ and $\angle BAD = 90^\circ - \angle B$. So, $\angle BPE + \angle BQF = 180^\circ - (90^\circ - \angle C) - (90^\circ - \angle B) = \angle B + \angle C = 180^\circ - \angle A$. Thus, $\angle PSQ = 180^\circ - (180^\circ - \angle A) = \angle A = \angle EAF$. This equality of angles implies that $S$ must lie on the circumcircle of triangle $AEF$.",,
2008g5,"Let $k$ and $n$ be integers with $0 \leq k \leq n-2$. Consider a set $L$ of $n$ lines in the plane such that no two of them are parallel and no three have a common point. Denote by $I$ the set of intersection points of lines in $L$. Let $O$ be a point in the plane not lying on any line of $L$.

A point $X \in I$ is colored red if the open line segment $O X$ intersects at most $k$ lines in $L$. Prove that $I$ contains at least $\frac{1}{2}(k+1)(k+2)$ red points.",3,"Let $P, Q \in I$ be two intersection points that lie on the same line $\ell \in L$. If no other line from $L$ intersects the open line segment $PQ$, prove that the number of lines intersecting the open segment $OP$ and the number of lines intersecting the open segment $OQ$ differ by at most 1.","Let $p$ be the number of lines intersecting the open segment $OP$ and $q$ be the number of lines intersecting the open segment $OQ$. Assume $p \geq q$. Consider the triangle $OPQ$. The $p$ lines that intersect the interior of segment $OP$ must also intersect the boundary of triangle $OPQ$ at another point. By hypothesis, none of these lines intersect the interior of segment $PQ$. At most one of these lines can pass through the point $Q$. All the other $p-1$ or more lines must intersect the interior of segment $OQ$. Therefore, $q \geq p-1$. Since we assumed $p \ge q$, this implies $|p-q| \leq 1$.",A point $X \in I$ is colored red if the open line segment $OX$ intersects at most $k$ lines in $L$. Prove that there exists a line $\ell \in L$ which contains at least $k+1$ red points.,"The lines in $L$ partition the plane into regions, and the point $O$ lies in one of them. Any vertex $P$ of this region is an intersection point such that the segment $OP$ intersects zero lines. As $k \ge 0$, $P$ is a red point. Let $\ell$ be a line in $L$ passing through $P$. Let $Q_1, Q_2, \dots$ be the other intersection points on $\ell$, ordered by their distance from $P$. For any two adjacent points in this sequence, say $Q_{i-1}$ and $Q_i$ (with $Q_0=P$), no other line intersects the segment $Q_{i-1}Q_i$. By the result of Sub-problem 1, the number of lines intersecting $OQ_i$ is at most one more than the number of lines intersecting $OQ_{i-1}$. Since $OP$ intersects 0 lines, an induction shows the number of lines intersecting $OQ_i$ is at most $i$. Therefore, the points $P, Q_1, \dots, Q_k$ are all red, giving $k+1$ red points on line $\ell$.",Let $k$ and $n$ be integers with $0 \leq k \leq n-2$. Consider a set $L$ of $n$ lines in the plane such that no two of them are parallel and no three have a common point. Denote by $I$ the set of intersection points of lines in $L$. Let $O$ be a point in the plane not lying on any line of $L$. A point $X \in I$ is colored red if the open line segment $O X$ intersects at most $k$ lines in $L$. Prove that $I$ contains at least $\frac{1}{2}(k+1)(k+2)$ red points.,"We use induction on $k$. For the base case $k=0$, there exists at least one point $P$ for which $OP$ intersects zero lines. This point is red, and $\frac{1}{2}(0+1)(0+2)=1$, so the claim holds. Assume the statement is true for $k-1$. By Sub-problem 2, there exists a line $\ell \in L$ containing at least $k+1$ red points. Consider the set of lines $L' = L \\setminus \\{\ell\\}$. This set has $n-1$ lines, and $k-1 \leq (n-1)-2$. By the induction hypothesis for $k-1$, there are at least $\frac{1}{2}k(k+1)$ points in the intersection set of $L'$ which are red with respect to $L'$ (i.e., their segment to $O$ is crossed by at most $k-1$ lines from $L'$). When $\ell$ is reintroduced, the number of line crossings for these points increases by at most 1, so they are crossed by at most $k$ lines from $L$. Thus, they are red in the original configuration. These points are not on $\ell$, so they are distinct from the first set of points. The total number of red points is at least $(k+1) + \frac{1}{2}k(k+1) = \frac{1}{2}(k+1)(k+2)$. This completes the induction.",,
2008g6,"There is given a convex quadrilateral $A B C D$. Prove that there exists a point $P$ inside the quadrilateral such that


\begin{equation*}
\angle P A B+\angle P D C=\angle P B C+\angle P A D=\angle P C D+\angle P B A=\angle P D A+\angle P C B=90^{\circ} \tag{1}
\end{equation*}


if and only if the diagonals $A C$ and $B D$ are perpendicular.",4,"Let $P$ be a point inside a convex quadrilateral $A B C D$, and let $K, L, M, N$ be the feet of the perpendiculars from $P$ to the sides $A B, B C, C D, D A$ respectively. Show that the four angle equalities $\angle P A B+\angle P D C=90^{\circ}$, $\angle P B C+\angle P A D=90^{\circ}$, $\angle P C D+\angle P B A=90^{\circ}$, and $\angle P D A+\angle P C B=90^{\circ}$ hold if and only if $K L M N$ is a rectangle.","The quadrilaterals $A K P N$, $B L P K$, $C M P L$, and $D N P M$ are cyclic since they each have two opposite right angles at the feet of the perpendiculars. From these cyclic quadrilaterals, we can express the angles in the given equalities in terms of the angles of the quadrilateral $K L M N$. Specifically, $\angle P A B+\angle P D C = \angle P N K + \angle P N M = \angle K N M$. Similarly, $\angle P B C+\angle P A D = \angle L K N$, $\angle P C D+\angle P B A = \angle M L K$, and $\angle P D A+\angle P C B = \angle N M L$. Therefore, the four angle equalities are equivalent to the condition that all four angles of $K L M N$ are $90^{\circ}$, which means $K L M N$ is a rectangle.",Assume there exists a point $P$ inside the convex quadrilateral $A B C D$ satisfying the angle equalities from the main problem statement. Show that the diagonals $A C$ and $B D$ are perpendicular.,"By Sub-problem 1, the quadrilateral $K L M N$ formed by the feet of the perpendiculars from $P$ to the sides is a rectangle. Let $O_A$ and $O_C$ be the circumcenters of the cyclic quadrilaterals $AKPN$ and $CMPL$. $O_A$ is the midpoint of $AP$ and $O_C$ is the midpoint of $CP$. Thus, $O_A O_C$ is a midline in $\triangle APC$ and is parallel to $AC$. Also, $O_A O_C$ is the common perpendicular bisector of the parallel sides $KN$ and $LM$ of the rectangle, so it is parallel to $KL$. Hence, $AC \parallel KL$. Similarly, by considering the circumcenters of $BLPK$ and $DNPM$, we find that $BD \parallel KN$. Since $KLMN$ is a rectangle, $KL \perp KN$, which implies $AC \perp BD$.","Let $A B C D$ be a convex quadrilateral with perpendicular diagonals $A C \perp B D$. Let $P$ be the intersection of the line containing the circumdiameter of $\triangle ABD$ from vertex $A$, and the line containing the circumdiameter of $\triangle CBD$ from vertex $C$. Show that for the feet of the perpendiculars $K, N$ from $P$ to $AB, AD$, the line segment $KN$ is parallel to the diagonal $BD$.","Since $AC \perp BD$, the line $AC$ contains the altitude from vertex $A$ in $\triangle ABD$. The line $AP$ contains the circumdiameter from $A$. By the property of isogonal conjugates, the altitude and the circumdiameter from a vertex are isogonal with respect to the angle at that vertex. Thus, for $\angle DAB$, lines $AC$ and $AP$ are isogonal conjugates, which means $\angle PAB = \angle DAC$. Let $K$ and $N$ be the feet of perpendiculars from $P$ to $AB$ and $AD$. Then $AK = AP \cos(\angle PAB)$ and $AN = AP \cos(\angle PAD)$. From the isogonal property, we have $\angle PAB = \angle DAC$ and $\angle PAD = \angle BAC$. Let $R=AC \cap BD$. In right triangles $\triangle ARB$ and $\triangle ARD$, $AR = AB \cos(\angle BAC)$ and $AR = AD \cos(\angle DAC)$. Therefore, $AK/AN = \cos(\angle DAC)/\cos(\angle BAC) = (AR/AD)/(AR/AB) = AB/AD$, which implies $AK/AB = AN/AD$. By Thales' theorem, this means $KN \parallel BD$.",There is given a convex quadrilateral $A B C D$. Prove that there exists a point $P$ inside the quadrilateral such that $\angle P A B+\angle P D C=\angle P B C+\angle P A D=\angle P C D+\angle P B A=\angle P D A+\angle P C B=90^{\circ}$ if and only if the diagonals $A C$ and $B D$ are perpendicular.,"The 'only if' part was proven in Sub-problem 2. For the 'if' part, assume $AC \perp BD$. Let $P$ be the point constructed in Sub-problem 3 and let $K,L,M,N$ be the feet of perpendiculars from $P$ to the sides. By Sub-problem 3, $KN \parallel BD$. A similar argument shows $LM \parallel BD$. To complete the proof, we show $KL \parallel AC$. The ratio of the homothety at $A$ mapping $\triangle ABD \to \triangle AKN$ is $\lambda_A = AK/AB$. The ratio of the homothety at $C$ mapping $\triangle CDB \to \triangle CLM$ is $\lambda_C = CL/CB$. The circumcenters $U_A, U_C$ of $\triangle ABD, \triangle CDB$ are mapped to $O_A, O_C$, the midpoints of $AP, CP$. Since $U_A U_C \parallel AC$ and $O_A O_C \parallel AC$, the homothety ratios must be equal: $\lambda_A = \lambda_C = \lambda$. Thus $AK/AB = CL/CB = \lambda$, which implies $BK/AB = 1-\lambda$ and $BL/BC = 1-\lambda$. From $BK/BA = BL/BC$ in $\triangle ABC$, we conclude $KL \parallel AC$. Since $KN \parallel BD$ and $KL \parallel AC$, and $AC \perp BD$, it follows that $KLMN$ is a rectangle. By Sub-problem 1, point $P$ satisfies the required angle equalities."
2008g7,"Let $A B C D$ be a convex quadrilateral with $A B \neq B C$. Denote by $\omega_{1}$ and $\omega_{2}$ the incircles of triangles $A B C$ and $A D C$. Suppose that there exists a circle $\omega$ inscribed in angle $A B C$, tangent to the extensions of line segments $A D$ and $C D$. Prove that the common external tangents of $\omega_{1}$ and $\omega_{2}$ intersect on $\omega$.",4,Let $A B C D$ be a convex quadrilateral. Suppose there exists a circle $\omega$ inscribed in angle $A B C$ and tangent to the extensions of line segments $A D$ and $C D$. Prove that $A B+A D=C B+C D$.,"Let the circle $\omega$ be tangent to the lines $AB, BC, CD, DA$ at points $K, L, M, N$ respectively. By the property of tangents from a vertex to a circle, we have $BK=BL, DM=DN, AK=AN, CL=CM$. We can express the side lengths as differences of tangent segments: $AB = BK - AK$ and $AD = AN - DN$. Thus, $AB+AD = BK-AK+AN-DN = BK-DN$. Similarly, $CB = BL - CL$ and $CD = CM - DM$. Thus, $CB+CD = BL-CL+CM-DM = BL-DM$. Since $BK=BL$ and $DN=DM$, we conclude that $AB+AD=CB+CD$.","Let $\omega_1$ and $\omega_2$ be the incircles of $\triangle ABC$ and $\triangle ADC$ respectively, touching the common side $AC$ at points $P$ and $Q$. Given that $AB+AD=CB+CD$, prove that $AP=CQ$.","The distance from vertex $A$ to the tangency point of the incircle of $\triangle ABC$ on side $AC$ is given by the formula $AP = (AC+AB-BC)/2$. Similarly, the distance from vertex $C$ to the tangency point of the incircle of $\triangle ADC$ on side $AC$ is given by $CQ = (CA+CD-AD)/2$. The given condition $AB+AD=CB+CD$ can be rearranged to $AB-BC = CD-AD$. Substituting this into the expression for $AP$ gives $AP = (AC+CD-AD)/2$, which is equal to the expression for $CQ$.","Let $P, Q$ be the tangency points of $\omega_1, \omega_2$ on $AC$. Let $PP'$ and $QQ'$ be diameters of $\omega_1, \omega_2$ perpendicular to $AC$. Let $T$ be the endpoint, closer to $AC$, of the diameter of $\omega$ perpendicular to $AC$. Assuming $AP=CQ$, prove that $T$ is the center of the homothety that maps segment $PP'$ to segment $QQ' 褋褌邪薪.","The condition $AP=CQ$ implies that $Q$ is the tangency point of the excircle of $\triangle ABC$ on side $AC$. A known result then implies that points $B, P', Q$ are collinear. Symmetrically, $D, Q', P$ are collinear. There is a homothety centered at $B$ that maps $\omega_1$ to $\omega$, which takes $P'$ to $T$, so $B, P', T$ are collinear. This implies $T, P', Q$ are collinear. Similarly, a homothety centered at $D$ maps $\omega_2$ to $\omega$, taking $Q'$ to $T$, so $D, Q', T$ are collinear. This implies $T, Q', P$ are collinear. Thus, $T$ is the intersection of lines $P'Q$ and $PQ'$. As $PP' \parallel QQ'$, this intersection point $T$ is the center of homothety mapping segment $PP'$ to $QQ'$.","Let $A B C D$ be a convex quadrilateral with $A B \neq B C$. Denote by $\omega_{1}$ and $\omega_{2}$ the incircles of triangles $A B C$ and $A D C$. Suppose that there exists a circle $\omega$ inscribed in angle $A B C$, tangent to the extensions of line segments $A D$ and $C D$. Prove that the common external tangents of $\omega_{1}$ and $\omega_{2}$ intersect on $\omega$.","The existence of $\omega$ implies $AB+AD=CB+CD$ (Sub-problem 1), which in turn implies $AP=CQ$ (Sub-problem 2). From this, we showed that a specific point $T$ on $\omega$ is the center of the homothety that maps diameter $PP'$ of $\omega_1$ to diameter $QQ'$ of $\omega_2$ (Sub-problem 3). This homothety consequently maps circle $\omega_1$ to circle $\omega_2$. Since $AB \neq BC$, the radii of $\omega_1$ and $\omega_2$ are different, and the homothety is well-defined. The point $T$ is external to the strip between the parallel lines containing the diameters, so the ratio of homothety is positive. The center of a homothety with a positive ratio between two circles is the intersection of their common external tangents. Therefore, the common external tangents of $\omega_1$ and $\omega_2$ intersect at point $T$, which lies on the circle $\omega$."
2008n1,"Let $n$ be a positive integer and let $p$ be a prime number. Prove that if $a, b, c$ are integers (not necessarily positive) satisfying the equations

$$
a^{n}+p b=b^{n}+p c=c^{n}+p a,
$$

then $a=b=c$.",3,"Assuming $a,b,c$ are distinct integers satisfying the given equations, prove that the integer $n$ must be even.","Assume $a, b, c$ are distinct. The equations $a^{n}+p b=b^{n}+p c=c^{n}+p a$ yield $a^n - b^n = p(c-b)$, $b^n - c^n = p(a-c)$, and $c^n - a^n = p(b-a)$. Multiplying these gives $(a^n - b^n)(b^n - c^n)(c^n - a^n) = -p^3 (a-b)(b-c)(c-a)$. As $a,b,c$ are distinct, we divide by $(a-b)(b-c)(c-a)$ to get $\frac{a^{n}-b^{n}}{a-b} \cdot \frac{b^{n}-c^{n}}{b-c} \cdot \frac{c^{n}-a^{n}}{c-a}=-p^{3}$. If $n$ is odd, for distinct integers $x,y$, the term $\frac{x^n-y^n}{x-y} = x^{n-1} + x^{n-2}y + \dots + y^{n-1}$ is always positive. Thus, the left side of the equation is positive, while the right side, $-p^3$, is negative. This is a contradiction, so $n$ must be even.","Assuming $a,b,c$ are distinct, show that $p=2$ and that the differences $a-b, b-c, c-a$ are proportional to a permutation of $(-2, 1, 1)$.","From $a^n - b^n = -p(b-c)$, we have $(a-b) | p(b-c)$. Cyclically, $(b-c) | p(c-a)$ and $(c-a) | p(a-b)$. Let $a-b=du, b-c=dv, c-a=dw$ where $d=\gcd(a-b,b-c,c-a)$ and $\gcd(u,v,w)=1$. The conditions become $u|pv, v|pw, w|pu$. As $u,v,w$ are pairwise coprime and sum to 0, $p$ must divide exactly one of them, say $p|u$. Let $u=pu_1$. The divisibility conditions imply $u_1|v, v|w, w|u_1$, which gives $|u_1|=|v|=|w|=1$. The equation $u+v+w=0$ becomes $pu_1+v+w=0$. As $v,w \in \{-1,1\}$, $v+w$ must be $\pm 2$, which implies $v=w$. Then $pu_1 = -2v$. Since $|u_1|=|v|=1$ and $p$ is prime, this forces $p=2$. Consequently, $(u,v,w)$ is a permutation of $(\mp 2, \pm 1, \pm 1)$, meaning $(a-b, b-c, c-a)$ is proportional to a permutation of $(-2,1,1)$.","Let $n$ be a positive integer and let $p$ be a prime number. Prove that if $a, b, c$ are integers (not necessarily positive) satisfying the equations $a^{n}+p b=b^{n}+p c=c^{n}+p a$, then $a=b=c$.","If any two of $a,b,c$ are equal, say $a=b$, the equation $a^n+pb=b^n+pc$ implies $pa=pc$, so $a=c$. Thus $a=b=c$. Assume $a,b,c$ are distinct. From sub-problem 1, $n$ is even, say $n=2k$. From sub-problem 2, $p=2$ and, without loss of generality, $a-b = -2(b-c)$. Substituting this into the initial relation $a^n-b^n=-p(b-c)$ gives $a^n-b^n = a-b$. As $a \neq b$, dividing by $(a-b)$ yields $\frac{a^{2k}-b^{2k}}{a-b}=1$, which implies $(a^k+b^k) \frac{a^k-b^k}{a-b} = 1$. Since both factors are integers, we must have $a^k+b^k = \pm 1$. This implies that one of $a,b$ is $\pm 1$ and the other is $0$. Therefore, one is even and one is odd, so their difference $a-b$ must be odd. However, the relation $a-b = -2(b-c)$ shows $a-b$ is even. This contradiction proves the assumption that $a,b,c$ are distinct is false. Thus, $a=b=c$.",,
2008n2,"Let $a_{1}, a_{2}, \ldots, a_{n}$ be distinct positive integers, $n \geq 3$. Prove that there exist distinct indices $i$ and $j$ such that $a_{i}+a_{j}$ does not divide any of the numbers $3 a_{1}, 3 a_{2}, \ldots, 3 a_{n}$.",3,"Let $a_1 < a_2 < \dots < a_n$ be distinct positive integers. Suppose that for every pair of distinct indices $i, j$, there exists an index $k$ such that $a_i+a_j$ divides $3a_k$. Show that for all $i \in \{1, \dots, n-1\}$, $a_i$ and $a_{n-1}$ are congruent modulo 3, while $a_n$ has a different non-zero residue modulo 3.","For any $i \in \{1, \ldots, n-1\}$, by hypothesis, $a_n+a_i | 3a_j$ for some $j$. Since $a_n+a_i > a_n \geq a_j$, it's impossible for $a_n+a_i$ to divide $a_j$. Thus, $a_n+a_i$ must be a multiple of 3. This holds for all $i=1, \ldots, n-1$, which implies $a_i \equiv -a_n \pmod 3$ for these $i$. Assuming the numbers are coprime (WLOG), $a_n$ cannot be a multiple of 3. So if $a_n \equiv r \pmod 3$ with $r \in \{1,2\}$, then $a_i \equiv 3-r \pmod 3$ for all $i=1, \ldots, n-1$.","Under the same hypothesis as the previous sub-problem, and using its conclusion about the residues modulo 3, prove that $a_n = 2a_{n-1}$.","Consider a sum $a_{n-1}+a_i$ for $1 \leq i \leq n-2$. Since $a_{n-1}$ and $a_i$ have the same non-zero residue mod 3, their sum is not divisible by 3. By hypothesis, $a_{n-1}+a_i | 3a_j$ for some $j$, so $a_{n-1}+a_i | a_j$. As $a_{n-1} < a_{n-1}+a_i \leq a_j$, we must have $j=n$. So, $a_{n-1}+a_i$ divides $a_n$ for all $1 \leq i \leq n-2$. Now consider $a_n+a_{n-1}$, which must divide $3a_j$ for some $j$. Analysis shows $j$ must be $n-1$ or $n$. If $a_n+a_{n-1} | 3a_{n-1}$, then $a_n=2a_{n-1}$. If $a_n+a_{n-1} | 3a_n$, then $a_n=2a_{n-1}$. Thus, $a_n=2a_{n-1}$ must hold.","Let $a_{1}, a_{2}, \ldots, a_{n}$ be distinct positive integers, $n \geq 3$. Prove that there exist distinct indices $i$ and $j$ such that $a_{i}+a_{j}$ does not divide any of the numbers $3 a_{1}, 3 a_{2}, \ldots, 3 a_{n}$.","Assume for contradiction that for any distinct $i,j$, there is a $k$ such that $a_i+a_j | 3a_k$. Let $0<a_1<\cdots<a_n$. This assumption implies that $a_n=2a_{n-1}$ and that for $1 \le i \le n-2$, the sum $a_{n-1}+a_i$ must divide $a_n$. Since $n \ge 3$, we take $i=1$. Then $a_{n-1}+a_1$ must divide $a_n=2a_{n-1}$. However, as $0 < a_1 < a_{n-1}$, we have $a_{n-1} < a_{n-1}+a_1 < 2a_{n-1}$. This implies $2a_{n-1}=k(a_{n-1}+a_1)$ for some integer $k$, which must satisfy $1 < k < 2$. No such integer $k$ exists. This contradiction proves the original statement.",,
2008n3,"Let $a_{0}, a_{1}, a_{2}, \ldots$ be a sequence of positive integers such that the greatest common divisor of any two consecutive terms is greater than the preceding term; in symbols, $\operatorname{gcd}\left(a_{i}, a_{i+1}\right)>a_{i-1}$. Prove that $a_{n} \geq 2^{n}$ for all $n \geq 0$.",4,"Show that the sequence $(a_n)$ is strictly increasing and verify that $a_n \geq 2^n$ for $n=0, 1, 2, 3$.","For $i \geq 1$, we have $a_i \geq \operatorname{gcd}(a_i, a_{i+1}) > a_{i-1}$, so the sequence of positive integers is strictly increasing. For the base cases: $a_0$ is a positive integer, so $a_0 \geq 1 = 2^0$. Then $a_1 > a_0 \geq 1$, so $a_1 \geq 2 = 2^1$. From the problem statement, $a_{i+1} \geq a_i + \operatorname{gcd}(a_i, a_{i+1}) > a_i + a_{i-1}$. Thus $a_2 > a_1+a_0 \geq 2+1=3$, so $a_2 \geq 4=2^2$. Then $a_3 > a_2+a_1 \geq 4+2=6$, so $a_3 \geq 7$. If $a_1=2, a_2=4, a_3=7$, we get $\operatorname{gcd}(a_2,a_3)=\operatorname{gcd}(4,7)=1$, but we require $\operatorname{gcd}(a_2, a_3) > a_1=2$, a contradiction. Thus $a_3 \geq 8=2^3$. The statement holds for $n=0,1,2,3$.","Assume $a_i \geq 2^i$ for $0 \leq i \leq n$ with $n \geq 3$. Let $d=\operatorname{gcd}(a_n, a_{n+1})$. Show that if it's not the case that ($a_n = 2d$ and $a_{n+1} = 3d$), then $a_{n+1} \geq 2^{n+1}$.","By the inductive hypothesis and the problem statement, $d = \operatorname{gcd}(a_n, a_{n+1}) > a_{n-1} \geq 2^{n-1}$. Since $a_n$ and $a_{n+1}$ are multiples of $d$ and $a_{n+1} > a_n$, let $a_n=kd, a_{n+1}=ld$ for integers $l>k \geq 1$. We examine cases:
1. If $l \geq 4$, then $a_{n+1} \geq 4d > 4a_{n-1} \geq 4 \cdot 2^{n-1} = 2^{n+1}$.
2. If $k \geq 3$, then $a_n \geq 3d$, so $a_{n+1} \geq a_n+d \geq 4d$, which reduces to the first case.
3. If $k=1$, then $a_n=d$. Then $a_{n+1} \geq a_n+d=2a_n \geq 2 \cdot 2^n = 2^{n+1}$.
The only remaining possibility not covered is $k=2$ and $l=3$, which corresponds to $a_n=2d$ and $a_{n+1}=3d$. Thus, if this specific case does not hold, the inductive step is complete.","Continuing the induction, assume $a_n=2d$ and $a_{n+1}=3d$, where $d=\operatorname{gcd}(a_n, a_{n+1})$. Let $d' = \operatorname{gcd}(a_{n-1}, a_n)$ and $a_n = md'$. Show that if $m \neq 5$, then $a_{n+1} \geq 2^{n+1}$.","From the assumptions, we have $a_{n+1} = \frac{3}{2}a_n$. We are given $d' = \operatorname{gcd}(a_{n-1}, a_n) > a_{n-2} \geq 2^{n-2}$. Also, $d' \leq a_{n-1} < d = a_n/2$. With $a_n = md'$, this means $d' < md'/2$, so $m>2$. We analyze integer values of $m \geq 3$:
1. If $m \geq 6$, then $a_{n+1} = \frac{3}{2}a_n = \frac{3}{2}md' \geq 9d' > 9a_{n-2} \geq 9 \cdot 2^{n-2} > 2^{n+1}$.
2. If $m=3$ or $m=4$, then $d' \leq a_{n-1} < d = \frac{m}{2}d' \leq 2d'$. Since $a_{n-1}$ is a multiple of $d'$, we must have $a_{n-1}=d'$. Then $a_{n+1} = \frac{3}{2}ma_{n-1} \geq \frac{3}{2}(3)a_{n-1} = \frac{9}{2}a_{n-1} \geq \frac{9}{2} \cdot 2^{n-1} > 2^{n+1}$.
Thus, the claim holds for all cases except $m=5$.",Prove that $a_n \geq 2^n$ for all $n \geq 0$.,"We use strong induction. Part 1 establishes the base cases $n=0,1,2,3$. Assume $a_i \geq 2^i$ for $0 \leq i \leq n$ where $n \geq 3$. From Parts 2 and 3, the inductive step $a_{n+1} \geq 2^{n+1}$ holds unless we are in the specific case where $a_n=2d$ (with $d=\operatorname{gcd}(a_n,a_{n+1})$) and $a_n=5d'$ (with $d'=\operatorname{gcd}(a_{n-1},a_n)$). In this last case, $a_{n+1}=\frac{3}{2}a_n = \frac{15}{2}d'$. We have $a_{n-1} < d = \frac{5}{2}d'$, so $a_{n-1}$ is $d'$ or $2d'$. Let $d'' = \operatorname{gcd}(a_{n-2}, a_{n-1}) > a_{n-3}$. Since $d''|a_{n-1}$ and $a_{n-1}|2d'$, we have $d''|2d'$. Let $2d' = m'd''$. As $d'' \leq a_{n-2} < d'$, we have $m'>2$. Then $a_{n+1} = \frac{15}{2}d' = \frac{15}{4}m'd''$. If $m' \geq 5$, $a_{n+1} \geq \frac{75}{4}d'' > \frac{75}{4}a_{n-3} \geq \frac{75}{4} 2^{n-3} > 2^{n+1}$. If $m'=3$ or $m'=4$, then $a_{n-2} < d' = \frac{m'}{2}d'' \leq 2d''$, which implies $a_{n-2}=d''$. So $a_{n+1} = \frac{15}{4}m'a_{n-2} \geq \frac{15}{4}(3)a_{n-2} = \frac{45}{4}a_{n-2} \geq \frac{45}{4}2^{n-2} > 2^{n+1}$. Since all possible cases have been exhausted and lead to the desired conclusion, the induction is complete. Therefore, $a_n \geq 2^n$ for all $n \geq 0$."
2008n4,"Let $n$ be a positive integer. Show that the numbers

$$
\binom{2^{n}-1}{0}, \quad\binom{2^{n}-1}{1}, \quad\binom{2^{n}-1}{2}, \quad \ldots, \quad\binom{2^{n}-1}{2^{n-1}-1}
$$

are congruent modulo $2^{n}$ to $1,3,5, \ldots, 2^{n}-1$ in some order.",4,"Let $b_k = \binom{2^n-1}{k}$ and $a_k = \binom{2^{n-1}-1}{k}$. Prove the following congruences modulo $2^n$:
1. $b_{2k} + b_{2k+1} \equiv 0 \pmod{2^n}$
2. $b_{2k} \equiv (-1)^k a_k \pmod{2^n}$","1. The sum is given by Pascal's identity: $\binom{2^n-1}{2k} + \binom{2^n-1}{2k+1} = \binom{2^n}{2k+1} = \frac{2^n}{2k+1}\binom{2^n-1}{2k}$. Since $2k+1$ is odd, this expression is an integer multiple of $2^n$, so it is congruent to $0 \pmod{2^n}$.
2. We expand the binomial coefficient: $\binom{2^n-1}{2k} = \prod_{j=1}^{2k} \frac{2^n-j}{j} = \left(\prod_{i=1}^{k} \frac{2^n-(2i-1)}{2i-1}\right) \left(\prod_{i=1}^{k} \frac{2^n-2i}{2i}\right)$. Modulo $2^n$, the first product becomes $\prod_{i=1}^{k} \frac{-(2i-1)}{2i-1} = (-1)^k$. The second product is $\prod_{i=1}^{k} \frac{2^{n-1}-i}{i} = \binom{2^{n-1}-1}{k} = a_k$. Thus, $b_{2k} \equiv (-1)^k a_k \pmod{2^n}$.","Let $M = \{m \mid 0 \le m < 2^{n-1}, m \equiv 0 \text{ or } 3 \pmod 4\}$. Show that for any $m \in M$, we have the congruence $\binom{2^n-1}{m} \equiv \binom{2^{n-1}-1}{\lfloor m/2 \rfloor} \pmod{2^n}$.","Let $b_m = \binom{2^n-1}{m}$ and $a_k = \binom{2^{n-1}-1}{k}$. From the relations $b_{2k} \equiv (-1)^k a_k \pmod{2^n}$ and $b_{2k+1} \equiv -b_{2k} \pmod{2^n}$, we have $b_{2k+1} \equiv -(-1)^k a_k \pmod{2^n}$.
If $m = 4i$ for some integer $i$, then $m=2k$ with $k=2i$ (even). Thus, $b_{4i} \equiv (-1)^{2i} a_{2i} \equiv a_{2i} \pmod{2^n}$. Since $\lfloor m/2 \rfloor = 2i$, the relation holds.
If $m = 4i+3$ for some integer $i$, then $m=2k+1$ with $k=2i+1$ (odd). Thus, $b_{4i+3} \equiv -(-1)^{2i+1} a_{2i+1} \equiv a_{2i+1} \pmod{2^n}$. Since $\lfloor m/2 \rfloor = 2i+1$, the relation holds. In both cases, $b_m \equiv a_{\lfloor m/2 \rfloor} \pmod{2^n}$ for $m \in M$.","Assume the numbers $a_k = \binom{2^{n-1}-1}{k}$ for $k=0, \ldots, 2^{n-2}-1$ are distinct modulo $2^{n-1}$. Let $b_m = \binom{2^n-1}{m}$. Show that the sets of residues $\{b_m \pmod{2^n} \mid 0 \le m < 2^{n-1}, m \equiv 0 \text{ or } 3 \pmod 4\}$ and $\{b_l \pmod{2^n} \mid 0 \le l < 2^{n-1}, l \equiv 1 \text{ or } 2 \pmod 4\}$ each contain distinct elements.","Let $M = \{m \mid m \equiv 0,3 \pmod 4\}$ and $L = \{m \mid m \equiv 1,2 \pmod 4\}$. By assumption, the $a_k$ are distinct mod $2^{n-1}$. Since all $a_k$ are odd, they must also be distinct mod $2^n$. For $m \in M$, we have $b_m \equiv a_{\lfloor m/2 \rfloor} \pmod{2^n}$. The map $m \mapsto \lfloor m/2 \rfloor$ is a bijection from $M$ to $\{0, \ldots, 2^{n-2}-1\}$. Thus, the numbers $\{b_m \mid m \in M\}$ are distinct modulo $2^n$. For any $l \in L$, there is a unique $m' \in M$ such that $\{l,m'\} = \{2k, 2k+1\}$ for some $k$. We have $b_l \equiv -b_{m'} \pmod{2^n}$. Since the values $\{b_{m'} \mid m' \in M\}$ are distinct mod $2^n$ and are all odd, their negatives $\{-b_{m'}\}$ are also distinct mod $2^n$. Therefore, the numbers $\{b_l \mid l \in L\}$ are distinct modulo $2^n$.","Let $n$ be a positive integer. Show that the numbers

$$\binom{2^{n}-1}{0}, \quad\binom{2^{n}-1}{1}, \quad\binom{2^{n}-1}{2}, \quad \ldots, \quad\binom{2^{n}-1}{2^{n-1}-1}$$

are congruent modulo $2^{n}$ to $1,3,5, \ldots, 2^{n}-1$ in some order.","All these binomial coefficients are odd. We prove by induction on $n$ that they are distinct modulo $2^n$. The base case $n=1$ is trivial. Assume the assertion holds for $n-1$. Let $b_m = \binom{2^n-1}{m}$ and $a_k = \binom{2^{n-1}-1}{k}$. Let $M = \{m \mid m \equiv 0,3 \pmod 4\}$ and $L = \{m \mid m \equiv 1,2 \pmod 4\}$. The sets $\{b_m \pmod{2^n} \mid m \in M\}$ and $\{b_l \pmod{2^n} \mid l \in L\}$ each consist of distinct values. Suppose for contradiction $b_m \equiv b_l \pmod{2^n}$ for some $m \in M, l \in L$. Let $m' \in M$ be such that $\{l, m'\}$ forms a pair $\{2k, 2k+1\}$. Then $b_l \equiv -b_{m'} \pmod{2^n}$, so $b_m \equiv -b_{m'} \pmod{2^n}$. As $m, m' \in M$, this implies $a_{\lfloor m/2 \rfloor} \equiv -a_{\lfloor m'/2 \rfloor} \pmod{2^n}$. By the induction hypothesis for $n-1$, the only pairs whose sum is zero mod $2^{n-1}$ are of the form $\{a_{2i}, a_{2i+1}\}$. So we must have $\{\lfloor m/2 \rfloor, \lfloor m'/2 \rfloor\} = \{2i, 2i+1\}$ for some $i$. This requires $\binom{2^{n-1}-1}{2i} + \binom{2^{n-1}-1}{2i+1} = \binom{2^{n-1}}{2i+1} \equiv 0 \pmod{2^n}$. But the highest power of 2 dividing $\binom{2^{n-1}}{2i+1}$ is $2^{n-1}$, which contradicts the congruence. Thus, the two sets of values are disjoint, and all $b_m$ for $m=0, \dots, 2^{n-1}-1$ are distinct modulo $2^n$."
2008n6,Prove that there exist infinitely many positive integers $n$ such that $n^{2}+1$ has a prime divisor greater than $2 n+\sqrt{2 n}$.,3,"Let $p$ be a prime such that $p \equiv 1 \pmod 8$. Let $n$ be the smallest positive integer such that $p$ divides $n^2+1$. Show that if we write $n = \frac{p-1}{2} - \ell$ for some $\ell \ge 0$, then there exists an integer $r \ge 5$ such that $(2\ell+1)^2 + 4 = rp$.","Since $p \equiv 1 \pmod 4$, the congruence $x^2 \equiv -1 \pmod p$ has a solution. Let $n$ be the smaller solution in $[1, p-1]$, so $n \le (p-1)/2$. Substituting $n = (p-1)/2 - \ell$ into $n^2 \equiv -1 \pmod p$ gives $( (p-1)/2 - \ell )^2 \equiv (-1/2 - \ell)^2 \equiv (2\ell+1)^2/4 \equiv -1 \pmod p$. This implies $(2\ell+1)^2 + 4 \equiv 0 \pmod p$, so $(2\ell+1)^2+4 = rp$ for some integer $r>0$. As $p \equiv 1 \pmod 8$ and $(2\ell+1)^2 \equiv 1 \pmod 8$ for any integer $\ell$, we have $rp = (2\ell+1)^2+4 \equiv 1+4 \equiv 5 \pmod 8$. This implies $r \equiv 5 \pmod 8$. Thus, the smallest positive value for $r$ is 5.","For a prime $p \equiv 1 \pmod 8$ and the corresponding integer $n$ (the smallest positive integer such that $p | n^2+1$), prove that $p > 2n + \sqrt{10n}$.","From the previous result, $(2\ell+1)^2+4 = rp$ with $r \ge 5$, which implies $(2\ell+1)^2+4 \ge 5p$. This gives $\ell \ge (\sqrt{5p-4}-1)/2$. As $n = (p-1)/2 - \ell$, we have $n \le (p-\sqrt{5p-4})/2$. Let $u=\sqrt{5p-4}$. The inequality can be written as $p \ge 2n+u$. Also, substituting $p=(u^2+4)/5$ into $n \le (p-u)/2$ yields $10n \le u^2-5u+4$, which rearranges to $u^2-5u-(10n-4) \ge 0$. Solving this quadratic inequality for $u$ gives $u \ge (5+\sqrt{40n+9})/2$. Thus, $p \ge 2n+u \ge 2n + \frac{1}{2}(5+\sqrt{40n+9}) > 2n+\sqrt{10n}$.",Prove that there exist infinitely many positive integers $n$ such that $n^{2}+1$ has a prime divisor greater than $2 n+\sqrt{2 n}$.,"By Dirichlet's theorem, there are infinitely many primes $p$ such that $p \equiv 1 \pmod 8$. For each such prime, let $n$ be the smallest positive integer such that $p$ divides $n^2+1$. From the previous sub-problem, this prime divisor $p$ satisfies $p > 2n + \sqrt{10n}$. Since $\sqrt{10n} > \sqrt{2n}$ for $n>0$, the prime divisor $p$ of $n^2+1$ is greater than $2n+\sqrt{2n}$. As we choose a sequence of distinct primes $p_k \to \infty$, the corresponding values $n_k \le (p_k-1)/2$ must also be unbounded. This process generates an infinite set of distinct integers $n$ with the desired property.",,
2007a1,"A1. Given a sequence $a_1, a_2, \ldots, a_n$ of real numbers. For each $i(1 \leq i \leq n)$ define
$$
d_i=\max \left\{a_j: 1 \leq j \leq i\right\}-\min \left\{a_j: i \leq j \leq n\right\}
$$
and let
$$
d=\max \left\{d_i: 1 \leq i \leq n\right\} .
$$
(a) Prove that for arbitrary real numbers $x_1 \leq x_2 \leq \ldots \leq x_n$,
$$
\max \left\{\left|x_i-a_i\right|: 1 \leq i \leq n\right\} \geq \frac{d}{2} .
$$
(b) Show that there exists a sequence $x_1 \leq x_2 \leq \ldots \leq x_n$ of real numbers such that we have equality in (1).",3,"Let $d = d_q = a_p - a_r$ for some indices $p \leq q \leq r$ where $a_p = \max\left\{a_j: 1 \leq j \leq q\right\}$ and $a_r = \min\left\{a_j: q \leq j \leq n\right\}$. Prove that for any non-decreasing sequence of real numbers $x_1 \leq x_2 \leq \ldots \leq x_n$, we have $\max\left\{\left|x_p - a_p\right|, \left|x_r - a_r\right|\right\} \geq \frac{d}{2}$.","For any non-decreasing sequence $x_1 \leq \ldots \leq x_n$, we have $x_p \leq x_r$ since $p \leq r$. Consider the sum $(a_p - x_p) + (x_r - a_r) = (a_p - a_r) + (x_r - x_p)$. Since $a_p - a_r = d$ and $x_r - x_p \geq 0$, this sum is at least $d$. Therefore, at least one of the terms must be greater than or equal to $d/2$. That is, either $a_p - x_p \geq d/2$ or $x_r - a_r \geq d/2$. Since $|x_p - a_p| \geq a_p - x_p$ and $|x_r - a_r| \geq x_r - a_r$, we conclude that $\max\left\{\left|x_p - a_p\right|, \left|x_r - a_r\right|\right\} \geq \frac{d}{2}$.","Construct a non-decreasing sequence $x_1 \leq x_2 \leq \ldots \leq x_n$ of real numbers such that for all $k \in \{1, \ldots, n\}$, we have $\left|x_k - a_k\right| \leq \frac{d}{2}$.","Define the sequence by $x_1 = a_1 - \frac{d}{2}$ and $x_k = \max\left\{x_{k-1}, a_k - \frac{d}{2}\right\}$ for $k=2, \ldots, n$. By construction, the sequence is non-decreasing and $x_k \geq a_k - \frac{d}{2}$, so $x_k - a_k \geq -\frac{d}{2}$. To show the other side, $x_k - a_k \leq \frac{d}{2}$, let $\ell \leq k$ be an index such that $x_k = a_\ell - \frac{d}{2}$. Then $x_k - a_k = a_\ell - a_k - \frac{d}{2}$. Since $\ell \leq k$, $a_\ell - a_k \leq \max\left\{a_j: 1 \leq j \leq k\right\} - \min\left\{a_j: k \leq j \leq n\right\} = d_k \leq d$. Thus, $x_k - a_k \leq d - \frac{d}{2} = \frac{d}{2}$. Combining both inequalities, $\left|x_k - a_k\right| \leq \frac{d}{2}$ for all $k$.","Given a sequence $a_1, a_2, \ldots, a_n$ of real numbers, define $d_i=\max\left\{a_j: 1 \leq j \leq i\right\}-\min\left\{a_j: i \leq j \leq n\right\}$ and $d=\max\left\{d_i: 1 \leq i \leq n\right\}$. (a) Prove that for arbitrary real numbers $x_1 \leq x_2 \leq \ldots \leq x_n$, $\max\left\{\left|x_i-a_i\right|: 1 \leq i \leq n\right\} \geq \frac{d}{2}$. (b) Show that there exists a sequence $x_1 \leq x_2 \leq \ldots \leq x_n$ of real numbers such that $\max\left\{\left|x_i-a_i\right|: 1 \leq i \leq n\right\} = \frac{d}{2}$.","(a) Let $d = d_q$ and choose indices $p \leq q \leq r$ such that $a_p = \max\left\{a_j: 1 \leq j \leq q\right\}$ and $a_r = \min\left\{a_j: q \leq j \leq n\right\}$, so $d = a_p-a_r$. From Sub-problem 1, for any non-decreasing sequence $x_i$, we have $\max\left\{\left|x_p - a_p\right|, \left|x_r - a_r\right|\right\} \geq \frac{d}{2}$. Since $\max_{1 \leq i \leq n}\left\{\left|x_i - a_i\right|\right\}$ is taken over a larger set of indices, it must be at least this value. Thus, $\max\left\{\left|x_i - a_i\right|: 1 \leq i \leq n\right\} \geq \frac{d}{2}$.
(b) The sequence constructed in Sub-problem 2 is non-decreasing and satisfies $\left|x_k - a_k\right| \leq \frac{d}{2}$ for all $k$, which implies $\max\left\{\left|x_k - a_k\right|: 1 \leq k \leq n\right\} \leq \frac{d}{2}$. Combining this with the inequality from part (a), we must have $\max\left\{\left|x_k - a_k\right|: 1 \leq k \leq n\right\} = \frac{d}{2}$. Thus, such a sequence exists, and equality is achieved.",,
2007a3,"A3. Let $n$ be a positive integer, and let $x$ and $y$ be positive real numbers such that $x^n+y^n=1$. Prove that
$$
\left(\sum_{k=1}^n \frac{1+x^{2 k}}{1+x^{4 k}}\right)\left(\sum_{k=1}^n \frac{1+y^{2 k}}{1+y^{4 k}}\right)<\frac{1}{(1-x)(1-y)} .
$$
(Estonia)",1,"A3. Let $n$ be a positive integer, and let $x$ and $y$ be positive real numbers such that $x^n+y^n=1$. Prove that
$$
\left(\sum_{k=1}^n \frac{1+x^{2 k}}{1+x^{4 k}}\right)\left(\sum_{k=1}^n \frac{1+y^{2 k}}{1+y^{4 k}}\right)<\frac{1}{(1-x)(1-y)} .
$$
(Estonia)","For each real $t \in(0,1)$,
$$
\frac{1+t^2}{1+t^4}=\frac{1}{t}-\frac{(1-t)\left(1-t^3\right)}{t\left(1+t^4\right)}<\frac{1}{t}
$$

Substituting $t=x^k$ and $t=y^k$,
$$
0<\sum_{k=1}^n \frac{1+x^{2 k}}{1+x^{4 k}}<\sum_{k=1}^n \frac{1}{x^k}=\frac{1-x^n}{x^n(1-x)} \quad \text { and } \quad 0<\sum_{k=1}^n \frac{1+y^{2 k}}{1+y^{4 k}}<\sum_{k=1}^n \frac{1}{y^k}=\frac{1-y^n}{y^n(1-y)} .
$$

Since $1-y^n=x^n$ and $1-x^n=y^n$,
$$
\frac{1-x^n}{x^n(1-x)}=\frac{y^n}{x^n(1-x)}, \quad \frac{1-y^n}{y^n(1-y)}=\frac{x^n}{y^n(1-y)}
$$
and therefore
$$
\left(\sum_{k=1}^n \frac{1+x^{2 k}}{1+x^{4 k}}\right)\left(\sum_{k=1}^n \frac{1+y^{2 k}}{1+y^{4 k}}\right)<\frac{y^n}{x^n(1-x)} \cdot \frac{x^n}{y^n(1-y)}=\frac{1}{(1-x)(1-y)} .
$$",,,,,,
2007a5,"A5. Let $c>2$, and let $a(1), a(2), \ldots$ be a sequence of nonnegative real numbers such that
$$
a(m+n) \leq 2 a(m)+2 a(n) \quad \text { for all } m, n \geq 1
$$
and
$$
a\left(2^k\right) \leq \frac{1}{(k+1)^c} \quad \text { for all } k \geq 0
$$
Prove that the sequence $a(n)$ is bounded.",3,"Let the sequence $a(n)$ satisfy $a(m+n) \leq 2 a(m)+2 a(n)$ for all $m, n \geq 1$, and define $a(0)=0$. Prove the following two inequalities for any non-negative integers $n_1, \ldots, n_k$:
1. $a\left(\sum_{i=1}^k n_i\right) \leq \sum_{i=1}^k 2^i a\left(n_i\right)$
2. $a\left(\sum_{i=1}^k n_i\right) \leq 2k \sum_{i=1}^k a\left(n_i\right)$","1. We prove this by induction on $k$. The base case $k=1$ is trivial. For the induction step, $a\left(\sum_{i=1}^{k+1} n_i\right)=a\left(n_1+\sum_{i=2}^{k+1} n_i\right) \leq 2 a\left(n_1\right)+2 a\left(\sum_{i=1}^k n_{i+1}\right) \leq 2 a\left(n_1\right)+2 \sum_{i=1}^k 2^i a\left(n_{i+1}\right)=\sum_{i=1}^{k+1} 2^i a\left(n_i\right)$.
2. First, we prove by induction on $d$ that $a\left(\sum_{i=1}^{2^d} n_i\right) \leq 2^d \sum_{i=1}^{2^d} a\left(n_i\right)$. The base case $d=1$ is the given condition. The inductive step is $a(\sum_{i=1}^{2^{d+1}} n_i) \leq 2a(\sum_{i=1}^{2^d} n_i) + 2a(\sum_{i=2^d+1}^{2^{d+1}} n_i) \leq 2(2^d \sum_{i=1}^{2^d} a(n_i)) + 2(2^d \sum_{i=2^d+1}^{2^{d+1}} a(n_i)) = 2^{d+1}\sum_{i=1}^{2^{d+1}} a(n_i)$. For a general $k$, choose an integer $d$ such that $2^{d-1} < k \leq 2^d$. Let $n_i = 0$ for $i > k$. Then $a(\sum_{i=1}^k n_i) = a(\sum_{i=1}^{2^d} n_i) \leq 2^d \sum_{i=1}^{2^d} a(n_i) = 2^d \sum_{i=1}^k a(n_i) \leq 2k \sum_{i=1}^k a(n_i)$.","For an integer $n$ with binary expansion $n=\sum_{i=0}^d \varepsilon_i 2^i$, partition the indices of the sum using an increasing sequence of integers $0=M_0<M_1<\ldots$. Show that $a(n)$ is bounded by the series $\sum_{k=1}^\infty \left(\frac{M_k+1}{M_{k-1}+1}\right)^2 \frac{2^{k+1}}{\left(M_{k-1}+1\right)^{c-2}}$.","Let $n = \sum_{k=1}^f N_k$, where $N_k = \sum_{i=M_{k-1}}^{M_k-1} \varepsilon_i 2^i$ and $M_f > d$. Using the first inequality from Sub-problem 1, $a(n) \le \sum_{k=1}^f 2^k a(N_k)$. The sum for $N_k$ has at most $p_k = M_k - M_{k-1}$ non-zero terms. Using the second inequality from Sub-problem 1, $a(N_k) \le 2 p_k \sum_{i=M_{k-1}}^{M_k-1} \varepsilon_i a(2^i) \le 2 p_k^2 \max_{i \in [M_{k-1}, M_k-1]} a(2^i)$. With $a(2^i) \le \frac{1}{(i+1)^c}$, the maximum is at most $\frac{1}{(M_{k-1}+1)^c}$. Thus $a(n) \le \sum_{k=1}^f 2^{k+1} (M_k-M_{k-1})^2 \frac{1}{(M_{k-1}+1)^c}$. Using the looser bound $(M_k-M_{k-1})^2 \le (M_k+1)^2$, we get $a(n) \le \sum_{k=1}^f 2^{k+1}(M_k+1)^2 \frac{1}{(M_{k-1}+1)^c} = \sum_{k=1}^f \left(\frac{M_k+1}{M_{k-1}+1}\right)^2 \frac{2^{k+1}}{(M_{k-1}+1)^{c-2}}$. This finite sum is bounded by the corresponding infinite series.","Let $c>2$, and let $a(1), a(2), \ldots$ be a sequence of nonnegative real numbers such that
$a(m+n) \leq 2 a(m)+2 a(n) \quad \text{ for all } m, n \geq 1$
and
$a\left(2^k\right) \leq \frac{1}{(k+1)^c} \quad \text{ for all } k \geq 0$.
Prove that the sequence $a(n)$ is bounded.","From Sub-problem 2, we have the bound $a(n) \le \sum_{k=1}^\infty \left(\frac{M_k+1}{M_{k-1}+1}\right)^2 \frac{2^{k+1}}{\left(M_{k-1}+1\right)^{c-2}}$. We choose $M_k = 4^{k/(c-2)} - 1$, so $M_k+1 = 4^{k/(c-2)}$. The ratio $\frac{M_k+1}{M_{k-1}+1} = 4^{1/(c-2)}$. Substituting this into the series gives the general term as $(4^{1/(c-2)})^2 \frac{2^{k+1}}{(4^{(k-1)/(c-2)})^{c-2}} = 4^{2/(c-2)} \frac{2^{k+1}}{4^{k-1}} = 8 \cdot 4^{2/(c-2)} (\frac{1}{2})^k$. Thus, $a(n)$ is bounded by the sum of a convergent geometric series $8 \cdot 4^{2/(c-2)} \sum_{k=1}^\infty (\frac{1}{2})^k = 8 \cdot 4^{2/(c-2)}$, which is a finite constant. Therefore, the sequence $a(n)$ is bounded.",,
2007a6,"A6. Let $a_1, a_2, \ldots, a_{100}$ be nonnegative real numbers such that $a_1^2+a_2^2+\ldots+a_{100}^2=1$. Prove that
$$
a_1^2 a_2+a_2^2 a_3+\ldots+a_{100}^2 a_1<\frac{12}{25} .
$$",4,"Let $S = \sum_{k=1}^{100} a_k^2 a_{k+1}$ with indices modulo 100, and given $\sum_{k=1}^{100} a_k^2=1$. Prove that $(3S)^2 \le \sum_{k=1}^{100} (a_k^2+2 a_{k+1} a_{k+2})^2$.","We can write $3S = \sum_{k=1}^{100} (a_k^2 a_{k+1} + 2 a_k^2 a_{k+1})$. By re-indexing the second part (i.e., $k \to k+1$), we get $2 \sum a_k^2 a_{k+1} = 2 \sum a_{k+1}^2 a_{k+2}$. Thus, $3S = \sum_{k=1}^{100} (a_k^2 a_{k+1} + 2 a_{k+1}^2 a_{k+2}) = \sum_{k=1}^{100} a_{k+1}(a_k^2 + 2 a_{k+1} a_{k+2})$. By the Cauchy-Schwarz inequality, $(3S)^2 = (\sum_{k=1}^{100} a_{k+1}(a_k^2 + 2 a_{k+1} a_{k+2}))^2 \le (\sum_{k=1}^{100} a_{k+1}^2)(\sum_{k=1}^{100} (a_k^2+2 a_{k+1} a_{k+2})^2)$. Since $\sum a_{k+1}^2 = \sum a_k^2=1$, the inequality $(3S)^2 \le \sum_{k=1}^{100} (a_k^2+2 a_{k+1} a_{k+2})^2$ holds.",Prove the inequality $\sum_{k=1}^{100} (a_k^2+2 a_{k+1} a_{k+2})^2 \le \sum_{k=1}^{100}(a_k^4+6 a_k^2 a_{k+1}^2+2 a_k^2 a_{k+2}^2)$.,"Expanding the left side gives $\sum_{k=1}^{100} (a_k^4 + 4 a_k^2 a_{k+1} a_{k+2} + 4 a_{k+1}^2 a_{k+2}^2)$. By the AM-GM inequality, $2a_{k+1}a_{k+2} \le a_{k+1}^2 + a_{k+2}^2$ for non-negative $a_k$. Thus, $4a_k^2 a_{k+1} a_{k+2} \le 2a_k^2(a_{k+1}^2+a_{k+2}^2)$. Substituting this into the sum gives an upper bound: $\sum_{k=1}^{100} (a_k^4 + 2a_k^2(a_{k+1}^2+a_{k+2}^2) + 4a_{k+1}^2 a_{k+2}^2)$. We can separate this sum and re-index: $\sum a_k^4 + 2\sum a_k^2 a_{k+1}^2 + 2\sum a_k^2 a_{k+2}^2 + 4\sum a_{k+1}^2 a_{k+2}^2$. Using cyclic indices, $\sum a_{k+1}^2 a_{k+2}^2 = \sum a_k^2 a_{k+1}^2$. The expression simplifies to $\sum_{k=1}^{100}(a_k^4+6 a_k^2 a_{k+1}^2+2 a_k^2 a_{k+2}^2)$.",Prove that $\sum_{k=1}^{100}(a_k^4+6 a_k^2 a_{k+1}^2+2 a_k^2 a_{k+2}^2) \le 2$.,"We rewrite the expression as $\sum_{k=1}^{100}(a_k^4+2 a_k^2 a_{k+1}^2+2 a_k^2 a_{k+2}^2) + 4\sum_{k=1}^{100} a_k^2 a_{k+1}^2$. The first sum is a subsum of the non-negative terms in the expansion of $(\sum a_k^2)^2 = \sum a_k^4 + \sum_{i \ne j} a_i^2 a_j^2$. Therefore, $\sum(a_k^4+2 a_k^2 a_{k+1}^2+2 a_k^2 a_{k+2}^2) \le (\sum a_k^2)^2 = 1^2 = 1$. For the second term, let $O = \sum_{i=1}^{50} a_{2i-1}^2$ and $E = \sum_{j=1}^{50} a_{2j}^2$. We have $O+E=1$. The sum $\sum a_k^2 a_{k+1}^2$ is a subsum of the terms in the expansion of $OE$. Thus $\sum a_k^2 a_{k+1}^2 \le OE$. By AM-GM, $OE \le ((O+E)/2)^2 = (1/2)^2=1/4$. Combining these results, the original expression is bounded by $1 + 4(OE) \le 1 + 4(1/4) = 2$.","Let $a_1, a_2, \ldots, a_{100}$ be nonnegative real numbers such that $a_1^2+a_2^2+\ldots+a_{100}^2=1$. Prove that $a_1^2 a_2+a_2^2 a_3+\ldots+a_{100}^2 a_1 < \frac{12}{25}$.","Let $S = a_1^2 a_2+a_2^2 a_3+\ldots+a_{100}^2 a_1$. Combining the results from the previous sub-problems, we have $(3S)^2 \le \sum (a_k^2+2 a_{k+1} a_{k+2})^2 \le \sum(a_k^4+6 a_k^2 a_{k+1}^2+2 a_k^2 a_{k+2}^2) \le 2$. This implies $9S^2 \le 2$, so $S^2 \le 2/9$. Since $a_k \ge 0$, we have $S \ge 0$, so $S \le \sqrt{2}/3$. To prove the final strict inequality, we compare $\sqrt{2}/3$ with $12/25$. The inequality $\sqrt{2}/3 < 12/25$ is equivalent to $25\sqrt{2} < 36$. Squaring both positive sides gives $625 \times 2 < 36^2$, which is $1250 < 1296$. This is true, so we conclude that $S < 12/25$."
2007c2,"C2. A unit square is dissected into $n>1$ rectangles such that their sides are parallel to the sides of the square. Any line, parallel to a side of the square and intersecting its interior, also intersects the interior of some rectangle. Prove that in this dissection, there exists a rectangle having no point on the boundary of the square.",3,"Assume for contradiction that there is a dissection satisfying the problem's conditions but with no interior rectangle. Show that in such a dissection with the minimum possible number of rectangles, no two rectangles can share a full common side.","Let the dissection be minimal. Suppose two rectangles, R1 and R2, share a full common side. We can merge them into a single rectangle, R_union. The new dissection has one fewer rectangle. Any line intersecting the square's interior must have intersected some rectangle's interior in the original dissection; it will still do so in the new one (intersecting R_union if it previously intersected R1 or R2). So, there are no splitting lines. Since R1 and R2 were not interior, they both touched the square's boundary, and so their union R_union must also touch the boundary. The new dissection thus has no interior rectangles and fewer total rectangles, contradicting the minimality of the original dissection.","In a minimal dissection (as per sub-problem 1), let 'a' be the rectangle at the lower-left corner and 'b' be the one at the lower-right. Assume height(a) 鈮?height(b). Let 'c' be the rectangle adjacent to the upper-right corner of 'a'. Show that the case height(c) < height(a) leads to a contradiction.","Consider the rectangle 'd' that must exist adjacent to both 'a' (on its right) and 'c' (on its top). Rectangle 'd' cannot have a point on the bottom side (blocked by 'a' and 'c') or the left side (blocked by 'a'). Since height(a) 鈮?height(b), the horizontal path from 'd' to the right side of the square is blocked, so 'd' cannot touch the right side. By our main assumption that no rectangle is interior, 'd' must touch the top side of the square. But then the vertical line containing the left side of 'd' (which is an upward extension of the right side of 'a') does not intersect the interior of any rectangle below 'd', contradicting the condition that there are no splitting lines.","A unit square is dissected into n>1 rectangles such that their sides are parallel to the sides of the square. Any line, parallel to a side of the square and intersecting its interior, also intersects the interior of some rectangle. Prove that in this dissection, there exists a rectangle having no point on the boundary of the square.","Assume for contradiction that no interior rectangle exists. By Sub-Problem 1, we can analyze a minimal dissection where no two rectangles share a full side. Let 'a' and 'b' be the rectangles in the lower-left and lower-right corners. WLOG, assume height(a) 鈮?height(b). Let 'c' be the rectangle adjacent to the upper-right corner of 'a'. Since they don't share a full side, height(c) 鈮?height(a). Sub-Problem 2 shows that height(c) < height(a) leads to a contradiction. Now, consider height(c) > height(a). Let 'd' be the rectangle adjacent to 'a' on its top and 'c' on its left. Rectangle 'd' cannot touch the left side (blocked by 'a'), bottom side (blocked by 'a'), or right side (blocked by 'c'). So, 'd' must touch the top side of the square. The vertical line containing the right side of 'd' is an upward extension of part of the right side of 'c'. This line does not intersect any rectangle's interior below the top of rectangle 'a', creating a splitting line. This is a contradiction. Since all possibilities lead to a contradiction, the initial assumption is false, and an interior rectangle must exist.",,
2007c4,"C4. Let $A_0=\left(a_1, \ldots, a_n\right)$ be a finite sequence of real numbers. For each $k \geq 0$, from the sequence $A_k=\left(x_1, \ldots, x_n\right)$ we construct a new sequence $A_{k+1}$ in the following way.
1. We choose a partition $\{1, \ldots, n\}=I \cup J$, where $I$ and $J$ are two disjoint sets, such that the expression
$$
\left|\sum_{i \in I} x_i-\sum_{j \in J} x_j\right|
$$
attains the smallest possible value. (We allow the sets $I$ or $J$ to be empty; in this case the corresponding sum is 0 .) If there are several such partitions, one is chosen arbitrarily.
2. We set $A_{k+1}=\left(y_1, \ldots, y_n\right)$, where $y_i=x_i+1$ if $i \in I$, and $y_i=x_i-1$ if $i \in J$.

Prove that for some $k$, the sequence $A_k$ contains an element $x$ such that $|x| \geq n / 2$.",3,"Prove that for any sequence of real numbers $(x_1, \ldots, x_n)$ with $|x_i| < a$ for all $i=1, \ldots, n$, there exists a partition of $\{1, \ldots, n\}$ into two disjoint sets $I$ and $J$ such that $|\sum_{i \in I} x_i - \sum_{j \in J} x_j| < a$.","We use induction on $n$. The base case $n=1$ is trivial, as for the partition $I=\{1\}, J=\emptyset$, we have $|\sum_{i \in I} x_i - \sum_{j \in J} x_j| = |x_1| < a$. For the induction step, assume the statement holds for $n-1$. Given a sequence $(x_1, \ldots, x_n)$ with $|x_i| < a$, there is a partition $\{1, \ldots, n-1\} = I' \cup J'$ such that $|\sum_{i \in I'} x_i - \sum_{j \in J'} x_j| < a$. Let $D = \sum_{i \in I'} x_i - \sum_{j \in J'} x_j$. Without loss of generality, assume $D \ge 0$, so $D \in [0, a)$. If $x_n \ge 0$, we set $I=I', J=J'\cup\{n\}$. The new difference is $D - x_n$. Since $D \in [0, a)$ and $x_n \in [0, a)$, the difference is in $(-a, a)$. If $x_n < 0$, we set $I=I'\cup\{n\}, J=J'$. The new difference is $D + x_n$. Since $D \in [0, a)$ and $x_n \in (-a, 0)$, the difference is in $(-a, a)$. In all cases, we find a suitable partition for $n$ elements.","Assume that for all $k \geq 0$, every element $x_i$ in the sequence $A_k$ satisfies $|x_i| < n/2$. Let $S_k = \sum_{i=1}^n x_i^2$ where $A_k=(x_1, \ldots, x_n)$. Prove that $S_{k+1} > S_k$ for all $k \geq 0$.","Let $A_k = (x_1, \ldots, x_n)$ and $A_{k+1} = (y_1, \ldots, y_n)$. Let $\{1, \ldots, n\} = I \cup J$ be the partition used to generate $A_{k+1}$. By the assumption $|x_i| < n/2$ and the result of sub-problem 1, a partition exists such that the expression $|\sum_{i \in I} x_i - \sum_{j \in J} x_j|$ is less than $n/2$. Since the chosen partition minimizes this value, it must also satisfy this inequality. Let $D_k = \sum_{i \in I} x_i - \sum_{j \in J} x_j$, so $|D_k| < n/2$. We have $y_i = x_i+1$ for $i \in I$ and $y_i = x_i-1$ for $i \in J$. The change in the sum of squares is $S_{k+1} - S_k = \sum_{i \in I}((x_i+1)^2 - x_i^2) + \sum_{j \in J}((x_j-1)^2 - x_j^2) = \sum_{i \in I}(2x_i+1) + \sum_{j \in J}(-2x_j+1) = n + 2(\sum_{i \in I} x_i - \sum_{j \in J} x_j) = n + 2D_k$. Since $|D_k| < n/2$, we have $-n < 2D_k < n$. Therefore, $S_{k+1} - S_k = n+2D_k > n-n = 0$, which means $S_{k+1} > S_k$.","Prove that for some $k$, the sequence $A_k$ contains an element $x$ such that $|x| \geq n / 2$.","Assume for contradiction that for all $k \geq 0$, every element $x_i$ in $A_k=(x_1, \ldots, x_n)$ satisfies $|x_i| < n/2$. From sub-problem 2, this implies that the sequence of sums of squares, $S_k = \sum_{i=1}^n x_i^2$, is strictly increasing: $S_0 < S_1 < S_2 < \dots$. However, the set of possible sequences $A_k$ is finite. For any element $b_i$ in a sequence $A_k$, the value $b_i - a_i$ must be an integer, where $a_i$ is from the initial sequence $A_0$. The condition $|b_i| < n/2$ thus limits each $b_i$ to a finite set of possible values. Consequently, there are only a finite number of distinct sequences $A_k$. By the Pigeonhole Principle, the sequence of sequences $(A_k)_{k \ge 0}$ must eventually repeat. So, there exist integers $p < q$ such that $A_p = A_q$. This implies $S_p = S_q$, which contradicts the fact that the sequence $(S_k)$ is strictly increasing ($S_q > S_p$). Therefore, the initial assumption must be false.",,
2007c5,"C5. In the Cartesian coordinate plane define the strip $S_n=\{(x, y) \mid n \leq x<n+1\}$ for every integer $n$. Assume that each strip $S_n$ is colored either red or blue, and let $a$ and $b$ be two distinct positive integers. Prove that there exists a rectangle with side lengths $a$ and $b$ such that its vertices have the same color.",4,"Suppose the coloring of strips $S_n$ is such that for all integers $n$, $S_n$ and $S_{n+a}$ have opposite colors, and $S_n$ and $S_{n+b}$ have opposite colors. Prove that for any integers $p, q$, the strips $S_n$ and $S_{n+pa+qb}$ have the same color if $p+q$ is even, and opposite colors if $p+q$ is odd.","We prove this by induction on $|p|+|q|$. The base cases $|p|+|q|=1$ (i.e., $(p,q) = (\pm 1, 0)$ or $(0, \pm 1)$) hold by assumption. For the inductive step, assume the statement holds for $|p|+|q|=k$. Consider a pair $(p',q')$ with $|p'|+|q'|=k+1$. We can write $(p',q') = (p,q) + (\delta_p, \delta_q)$ where $|p|+|q|=k$ and $|\delta_p|+|\delta_q|=1$. For instance, let $p'=p+1, q'=q$. The strip $S_{n+(p+1)a+qb}$ has the opposite color of $S_{n+pa+qb}$. By the inductive hypothesis, the color of $S_{n+pa+qb}$ relative to $S_n$ depends on the parity of $p+q$. The color of $S_{n+(p+1)a+qb}$ relative to $S_n$ will thus depend on the parity of $(p+1)+q$, which is opposite to the parity of $p+q$. This completes the induction.","Let $d = \\operatorname{gcd}(a, b)$, $a=da_1$, $b=db_1$. Assuming the coloring property from the previous sub-problem, show that $a_1$ and $b_1$ must both be odd, and that for any integer $n$, strips $S_n$ and $S_{n+d}$ have opposite colors, which implies $S_n$ and $S_{n+2d}$ have the same color.","Since $\\operatorname{gcd}(a_1,b_1)=1$, by the Euclidean algorithm, we can find integers $p=b_1$ and $q=-a_1$. Then $pa+qb = b_1(da_1) - a_1(db_1) = 0$. The strips $S_n$ and $S_{n+0}$ are identical and thus have the same color. By the previous result, this means $p+q=b_1-a_1$ must be even. Since $a_1$ and $b_1$ are coprime, they cannot both be even. Thus, they must both be odd. Now, let $k, \\ell$ be integers such that $ka-\\ell b=d$, which means $ka_1-\\ell b_1=1$. Since $a_1$ and $b_1$ are odd, $k$ and $\\ell$ must have opposite parity, so $k-\\ell$ is odd. Applying the previous result again with $p=k, q=-\\ell$, the strips $S_n$ and $S_{n+d}$ must have opposite colors. Consequently, $S_{n+2d}$ has the opposite color to $S_{n+d}$, meaning it has the same color as $S_n$.","Assume the coloring is periodic with period $2d$ and that $S_n, S_{n+d}$ have opposite colors. Show that if there exist real numbers $t$ and $u$ such that $u-t = \frac{b}{a}\\sqrt{a^2-4d^2}$ and the strips $S_{\\lfloor t \rfloor}$ and $S_{\\lfloor u \rfloor}$ have the same color, then a rectangle with side lengths $a$ and $b$ and monochromatic vertices exists.","Construct a rectangle with vertices $A, B, C, D$. Let $A=(t, 0)$ and $B=(t+2d, \\sqrt{a^2-4d^2})$. The distance $|AB| = \\sqrt{(2d)^2 + a^2-4d^2} = a$. Let the other two vertices be $D$ and $C$ such that $\\vec{AD}$ is perpendicular to $\\vec{AB}$ and has length $b$. This fixes the geometry, including the relation $u-t = \frac{b}{a}\\sqrt{a^2-4d^2}$ where $u$ is the x-coordinate of $D$. The x-coordinates of $A$ and $B$ are $t$ and $t+2d$. Since the coloring has period $2d$, $S_{\\lfloor t \rfloor}$ and $S_{\\lfloor t+2d \rfloor}$ have the same color, so $A$ and $B$ have the same color. Similarly, the x-coordinates of $D$ and $C$ are $u$ and $u+2d$, so they have the same color. If we can choose $t$ and $u$ such that $S_{\\lfloor t \rfloor}$ and $S_{\\lfloor u \rfloor}$ have the same color, then $A$ and $D$ have the same color, and thus all four vertices will have the same color.","In the Cartesian coordinate plane define the strip $S_n=\\{(x, y) \\mid n \\leq x<n+1\\}$ for every integer $n$. Assume that each strip $S_n$ is colored either red or blue, and let $a$ and $b$ be two distinct positive integers. Prove that there exists a rectangle with side lengths $a$ and $b$ such that its vertices have the same color.","If for some $n$, $S_n$ and $S_{n+a}$ have the same color, a rectangle with vertices $(n,0), (n,b), (n+a,0), (n+a,b)$ works. A similar argument holds for $S_n$ and $S_{n+b}$. Otherwise, the assumptions of the previous sub-problems hold. We need to find $t, u$ as described in sub-problem 3. Let $K = \frac{b}{a}\\sqrt{a^2-4d^2}$. Since $a/d, b/d$ are distinct odd integers, $a/d \\ge 3$, so $(a/d)^2-4$ is not a perfect square, making $K$ irrational. Let $w$ be the maximum number of consecutive strips with the same color, say red, from $S_{n_0}$ to $S_{n_0+w-1}$. Choose $t$ in the interval $(n_0, n_0+w)$, so $A$ is in a red strip. Then $u=t+K$ must be in the interval $I=(n_0+K, n_0+w+K)$. This interval has length $w$ and irrational endpoints, so it intersects $w+1$ consecutive strips. By the maximality of $w$, these strips are not all of the same color. Thus, $I$ contains regions of both red and blue strips. We can choose a value for $u$ in $I$ such that $S_{\\lfloor u \rfloor}$ is red. This choice of $t$ and $u$ satisfies the conditions of sub-problem 3, guaranteeing a monochromatic rectangle."
2007c7,"Let $\alpha < \dfrac{3 - \sqrt{5}}{2}$ be a positive real number. Prove that there exist positive integers $n$ and $p > \alpha \cdot 2^n$ for which one can select $2p$ pairwise distinct subsets $S_1, \dots, S_p, T_1, \dots, T_p$ of the set $\{1, 2, \dots, n\}$ such that $S_i \cap T_j \ne \emptyset$ for all $1 \le i, j \le p$.",4,"For integers $k,m \\ge 1$, let $n=km$. Partition the set $\{1, \\dots, n\}$ into $k$ disjoint subsets $A_1, \\dots, A_k$, each of size $m$. Construct two disjoint families of subsets, $\\mathcal{S}$ and $\\mathcal{T}$, such that every set in $\\mathcal{S}$ has a non-empty intersection with every set in $\\mathcal{T}$.","Define $\\mathcal{S} = \\{ S \\subseteq \\{1,..,n\\} : \forall i, S \\cap A_i \ne \\emptyset \\}$ and $\\mathcal{T}_1 = \\{ T \\subseteq \\{1,..,n\\} : \\exists j, A_j \\subseteq T \\}$. Let $\\mathcal{T} = \\mathcal{T}_1 \\setminus \\mathcal{S}$. For any $S \\in \\mathcal{S}$ and $T \\in \\mathcal{T}$, there must be some index $j$ such that $A_j \\subseteq T$ (since $T \\in \\mathcal{T}_1$). As $S \\in \\mathcal{S}$, we have $S \\cap A_j \ne \\emptyset$. Thus $S \\cap T \\supseteq S \\cap A_j \ne \\emptyset$. The families $\\mathcal{S}$ and $\\mathcal{T}$ are disjoint by the definition of $\\mathcal{T}$ as a subset of the complement of $\\mathcal{S}$.","With the definitions from the previous step, derive expressions for the cardinalities $|\\mathcal{S}|$ and $|\\mathcal{T}|$ in terms of $k$ and $m$.","A set $S$ is in $\\mathcal{S}$ if for each $i \\in \\{1, \\dots, k\\}$, its intersection $S \\cap A_i$ is a non-empty subset of $A_i$. There are $2^m-1$ such choices for each $A_i$, so $|\\mathcal{S}| = (2^m-1)^k$. To find $|\\mathcal{T}| = |\\mathcal{T}_1| - |\\mathcal{S} \\cap \\mathcal{T}_1|$, we first calculate $|\\mathcal{T}_1| = 2^{km} - (2^m-1)^k$ and $|\\mathcal{S} \\setminus \\mathcal{T}_1| = (2^m-2)^k$. This implies $|\\mathcal{S} \\cap \\mathcal{T}_1| = |\\mathcal{S}| - |\\mathcal{S} \\setminus \\mathcal{T}_1| = (2^m-1)^k - (2^m-2)^k$. Combining these results yields $|\\mathcal{T}| = 2^{km} - 2(2^m - 1)^k + (2^m - 2)^k$.","Let $\\delta = \frac{3 - \\sqrt{5}}{2}$. Show that for any given positive constant $\\alpha < \\delta$, it is possible to choose integers $k$ and $m$ such that, with $n=km$, the families $\\mathcal{S}$ and $\\mathcal{T}$ satisfy both $|\\mathcal{S}| > \\alpha \\cdot 2^n$ and $|\\mathcal{T}| > \\alpha \\cdot 2^n$.","Consider the ratios $\frac{|\\mathcal{S}|}{2^n} = \\left(1-\frac{1}{2^m}\right)^k$ and $\frac{|\\mathcal{T}|}{2^n} = 1 - 2\\left(1-\frac{1}{2^m}\right)^k + \\left(1-\frac{2}{2^m}\right)^k$. Let $c = -\\log\\delta$. For any sufficiently large $m$, we can choose an integer $k$ such that $c \\cdot 2^m - 1 < k \\le c \\cdot 2^m$, which implies $k/2^m \to c$ as $m \to \\infty$. Then $\\lim_{m\to\\infty} \frac{|\\mathcal{S}|}{2^n} = e^{-c} = \\delta$. Similarly, $\\lim_{m\to\\infty} \frac{|\\mathcal{T}|}{2^n} = 1 - 2e^{-c} + e^{-2c} = 1 - 2\\delta + \\delta^2 = \\delta$, since $\\delta$ is a root of $x^2 - 3x + 1 = 0$. As both ratios converge to $\\delta > \\alpha$, for a sufficiently large $m$ and its corresponding $k$, both $|\\mathcal{S}|/2^n$ and $|\\mathcal{T}|/2^n$ will be greater than $\\alpha$.","Let $\\alpha < \\dfrac{3 - \\sqrt{5}}{2}$ be a positive real number. Prove that there exist positive integers $n$ and $p > \\alpha \\cdot 2^n$ for which one can select $2p$ pairwise distinct subsets $S_1, \\dots, S_p, T_1, \\dots, T_p$ of the set $\\{1, 2, \\dots, n\\}$ such that $S_i \\cap T_j \ne \\emptyset$ for all $1 \\le i, j \\le p$.","From the previous steps, we can find an integer $n$ and construct two disjoint families of subsets, $\\mathcal{S}$ and $\\mathcal{T}$, such that any set in $\\mathcal{S}$ intersects any set in $\\mathcal{T}$. We also showed that for any $\\alpha < (3 - \\sqrt{5})/2$, we can choose $n$ large enough such that $|\\mathcal{S}| > \\alpha \\cdot 2^n$ and $|\\mathcal{T}| > \\alpha \\cdot 2^n$. Let $p = \\min(|\\mathcal{S}|, |\\mathcal{T}|)$. Then $p > \\alpha \\cdot 2^n$. We can select $p$ distinct subsets $S_1, \\dots, S_p$ from $\\mathcal{S}$ and $p$ distinct subsets $T_1, \\dots, T_p$ from $\\mathcal{T}$. Since $\\mathcal{S}$ and $\\mathcal{T}$ are disjoint, these $2p$ subsets are all pairwise distinct, and they satisfy the intersection property by construction."
2007c8,"Given a convex $n$-gon $P$ in the plane. For every three vertices of $P$, consider the triangle determined by them. Call such a triangle \textit{good} if all its sides are of unit length.\\
Prove that there are not more than $\dfrac{2}{3}n$ good triangles.",4,Define a rule for 'assigning' good triangles to the vertices of the polygon $P$ such that each vertex is assigned at most two triangles.,"For any vertex $A$, all other vertices of good triangles containing $A$ lie on a circle $\omega_A$ of radius 1 centered at $A$. Due to the polygon's convexity, these vertices lie on an arc of less than $180^\circ$. Let the endpoints of the minimal such arc be $L_A$ (most counterclockwise) and $R_A$ (most clockwise). The good triangle with side $AL_A$ is assigned 'counterclockwise' to $A$. The good triangle with side $AR_A$ is assigned 'clockwise' to $A$. If only one good triangle contains $A$, it receives both assignments.",Let $K$ be the total number of assignments over all vertices. Show that $K \le 2n$.,"By the assignment rule, each vertex $A$ has at most one counterclockwise assignment (corresponding to $L_A$) and at most one clockwise assignment (corresponding to $R_A$). Since there are $n$ vertices in the polygon, the total number of assignments $K$ across all vertices is at most $2n$.",Prove that each good triangle is assigned to its vertices at least three times in total.,"Let $\triangle ABC$ be a good triangle with vertices ordered clockwise. Assume for contradiction it is not assigned counterclockwise to $C$ and not assigned clockwise to $B$. This implies the existence of other good triangles involving vertices $C$ and $B$, which in turn implies the existence of other vertices of the polygon, say $X$ and $Y$. The geometric constraints imposed by the circles and the convexity of $P$ would force vertex $A$ to lie inside the quadrilateral $XYBC$. This is impossible, as all five points must be vertices of the convex polygon. Thus, the assumption is false. By cyclic symmetry, this ensures at least one assignment between any two vertices, leading to a total of at least 3 assignments for $\triangle ABC$.",Prove that there are not more than $\dfrac{2}{3}n$ good triangles.,"Let $t$ be the number of good triangles and $K$ be the total number of assignments. From the previous steps, we have established two inequalities: 1) The total number of assignments is at most twice the number of vertices, $K \le 2n$. 2) Each good triangle receives at least three assignments, so the total number of assignments is at least three times the number of good triangles, $K \ge 3t$. Combining these inequalities, we get $3t \le K \le 2n$, which implies $t \le \dfrac{2}{3}n$."
2007g2,"Given an isosceles triangle $ABC$ with $AB = AC$. The midpoint of side $BC$ is denoted by $M$. Let $X$ be a variable point on the shorter arc $MA$ of the circumcircle of triangle $ABM$. Let $T$ be the point in the angle domain $BMA$, for which $\angle TMX = 90^\circ$ and $TX = BX$. Prove that $\angle MTB - \angle CTM$ does not depend on $X$.",2,Let N be the midpoint of segment BT. Show that $\angle MTB = \angle MXN$ and $\angle CTM = \angle BXN$.,"Since $TX = BX$, triangle $BXT$ is isosceles. As N is the midpoint of the base $BT$, $XN$ is the axis of symmetry, which implies $XN \perp BT$ and $XN$ bisects $\angle BXT$. Thus, $\angle TNX = 90^\circ$ and $\angle BXN = \angle NXT$. We are given $\angle TMX = 90^\circ$. The right angles at $M$ and $N$ subtend the segment $XT$, so the points $M, N, X, T$ are concyclic (lie on a circle with diameter $XT$). In this circle, angles subtended by the same arc are equal, so $\angle MTB = \angle MTN = \angle MXN$. In triangle $BCT$, since $M$ and $N$ are midpoints of $BC$ and $BT$ respectively, $MN$ is a midline parallel to $CT$. Therefore, $\angle CTM = \angle NMT$. Back in the cyclic quadrilateral $MNXT$, we have $\angle NMT = \angle NXT$. Combining our angle equalities, we get $\angle CTM = \angle NMT = \angle NXT = \angle BXN$.",Prove that $\angle MTB - \angle CTM$ does not depend on $X$.,"From the first sub-problem, we established that $\angle MTB = \angle MXN$ and $\angle CTM = \angle BXN$. Subtracting the second equality from the first gives $\angle MTB - \angle CTM = \angle MXN - \angle BXN = \angle MXB$. The point $X$ lies on the circumcircle of triangle $ABM$. Therefore, the inscribed angle $\angle MXB$ subtends the fixed arc $MB$. Its measure is equal to the measure of any other inscribed angle subtending the same arc, for instance, $\angle MAB$. Since the points A, B, and M are fixed, the angle $\angle MAB$ is constant. Thus, $\angle MTB - \angle CTM$ is constant and does not depend on $X$.",,,,
2007g3,"The diagonals of a trapezoid $ABCD$ intersect at point $P$. Point $Q$ lies between the parallel lines $BC$ and $AD$ such that $\angle AQD = \angle CQB$, and line $CD$ separates points $P$ and $Q$. Prove that $\angle BQP = \angle DAQ$.",3,"Let $P$ be the intersection of the diagonals of a trapezoid $ABCD$ with $AD \parallel BC$. Define a homothety $h$ with center $P$ that maps point $B$ to $D$. For any point $Q$, let $Q' = h(Q)$. Show that $\angle AQ'D = \angle CQB$.","Since $AD \parallel BC$, triangles $PDA$ and $PBC$ are similar. The homothety $h$ with center $P$ that maps $B$ to $D$ must have a scale factor of $k = -PD/PB = -AD/BC$. This homothety also maps $C$ to $A$. Therefore, triangle $CQB$ is mapped to triangle $AQ'D$ under $h$. Homothety preserves angles, so the corresponding angles are equal. Thus, $\angle AQ'D = \angle CQB$.","Using the setup from the first problem, let $Q'$ be the image of $Q$ under the homothety $h$. Given that $\angle AQD = \angle CQB$, prove that the quadrilateral $AQ'QD$ is cyclic.","From the previous sub-problem, we established that $\angle AQ'D = \angle CQB$. We are given that $\angle AQD = \angle CQB$. This implies $\angle AQ'D = \angle AQD$. Since point $Q$ is between the parallel lines containing $AD$ and $BC$, and $P$ is the center of homothety, it can be shown that $Q$ and $Q'$ lie on the same side of the line $AD$. The equality of angles $\angle AQ'D$ and $\angle AQD$ therefore proves that the points $A, Q', Q, D$ lie on a circle, meaning $AQ'QD$ is a cyclic quadrilateral.","The diagonals of a trapezoid $ABCD$ intersect at point $P$. Point $Q$ lies between the parallel lines $BC$ and $AD$ such that $\angle AQD = \angle CQB$, and line $CD$ separates points $P$ and $Q$. Prove that $\angle BQP = \angle DAQ$.","Let $h$ be the homothety with center $P$ mapping $B$ to $D$ and $C$ to $A$, and let $Q' = h(Q)$. As established in the previous step, the given conditions imply that $AQ'QD$ is a cyclic quadrilateral. By the definition of homothety, points $Q, P, Q'$ are collinear. Since $AQ'QD$ is cyclic, we have $\angle DAQ = \angle DQ'Q$ as they subtend the same arc $DQ$. Because $Q, P, Q'$ are collinear, $\angle DQ'Q = \angle DQ'P$. The homothety $h$ maps the angle $\angle BQP$ to the angle $\angle DQ'P$, so they are equal. Chaining these equalities gives $\angle DAQ = \angle DQ'Q = \angle DQ'P = \angle BQP$.",,
2007g4,"Consider five points $A, B, C, D, E$ such that $ABCD$ is a parallelogram and $BCED$ is a cyclic quadrilateral. Let $\ell$ be a line passing through $A$, and let $\ell$ intersect segment $DC$ and line $BC$ at points $F$ and $G$, respectively. Suppose that $EF = EG = EC$. Prove that $\ell$ is the bisector of angle $\angle DAB$.",2,"Given that $ABCD$ is a parallelogram, $BCED$ is a cyclic quadrilateral, line $\ell$ passes through A intersecting segment $DC$ at $F$ and line $BC$ at $G$, and $EF=EG=EC$, prove that $CF=CG$.","We prove this by contradiction. Assume $CF \neq CG$, for instance $CF < GC$. Let $EK$ and $EL$ be the altitudes from $E$ in the isosceles triangles $ECF$ and $EGC$. Then $K$ and $L$ are the midpoints of $CF$ and $GC$ respectively. So, $KF = CF/2 < GC/2 = LC$. From the right triangles $EKF$ and $ELC$, since $EF = EC$, we have $KE = \sqrt{EF^2 - KF^2} > \sqrt{EC^2 - LC^2} = LE$. As $BCED$ is a cyclic quadrilateral, $\angle EDC = \angle EBC$, which implies that the right triangles $DEK$ and $BEL$ are similar. From $KE > LE$, it follows that $DK > BL$. This leads to $DF > AD$. However, since $AD \parallel BC$, triangles $ADF$ and $GCF$ are similar, so $AD/DF = GC/CF$. Since $DF > AD$, this implies $GC/CF < 1$, which contradicts our assumption $CF < GC$. A similar argument for $CF > GC$ also leads to a contradiction. Therefore, we must have $CF = CG$.","Consider five points $A, B, C, D, E$ such that $ABCD$ is a parallelogram and $BCED$ is a cyclic quadrilateral. Let $\ell$ be a line passing through $A$, and let $\ell$ intersect segment $DC$ and line $BC$ at points $F$ and $G$, respectively. Suppose that $EF = EG = EC$. Prove that $\ell$ is the bisector of angle $\angle DAB$.","From the first sub-problem, we established that $CF = CG$. This implies that triangle $FGC$ is isosceles, and thus its base angles are equal: $\angle CFG = \angle CGF$. Since $ABCD$ is a parallelogram, we have parallel sides: $AB \parallel DC$ and $AD \parallel BC$. Because $AB \parallel DC$, the alternate interior angles are equal: $\angle GAB = \angle CFG$. Because $AD \parallel BC$, we also have $\angle FAD = \angle CGF$. Combining these equalities, we get $\angle GAB = \angle CFG = \angle CGF = \angle FAD$. Therefore, $\angle GAB = \angle FAD$, which means that the line $\ell$ is the bisector of $\angle DAB$.",,,,
2007g5,"Let $ABC$ be a fixed triangle, and let $A_1, B_1, C_1$ be the midpoints of sides $BC$, $CA$, $AB$, respectively. Let $P$ be a variable point on the circumcircle. Let lines $PA_1$, $PB_1$, $PC_1$ meet the circumcircle again at $A'$, $B'$, $C'$ respectively. Assume that the points $A$, $B$, $C$, $A'$, $B'$, $C'$ are distinct, and lines $A'A''$, $B'B''$, $C'C''$ form a triangle. Prove that the area of this triangle does not depend on $P$.",2,"Let the triangle in question be formed by the lines $A'A, B'B, C'C$. Let its vertices be $A_0 = B'B \cap C'C$, $B_0 = C'C \cap A'A$, and $C_0 = A'A \cap B'B$. Prove that the vertices $A_0, B_0, C_0$ lie on the midlines of triangle $ABC$.","Consider the hexagon $ABCC'PA'$ inscribed in the circumcircle. By Pascal's theorem, the intersections of its three pairs of opposite sides are collinear. These intersection points are $AB \cap PC' = C_1$, $BC \cap PA' = A_1$, and $CC' \cap A'A = B_0$. The collinearity of $A_1, C_1, B_0$ implies that vertex $B_0$ lies on the midline $A_1C_1$ of $\triangle ABC$. By applying Pascal's theorem to hexagons $BCAA'PB'$ and $CABB'PC'$ in a similar manner, we can show that vertex $C_0$ lies on midline $A_1B_1$ and vertex $A_0$ lies on midline $B_1C_1$.","Let $ABC$ be a fixed triangle, and let $A_1, B_1, C_1$ be the midpoints of sides $BC$, $CA$, $AB$, respectively. Let $P$ be a variable point on the circumcircle. Let lines $PA_1$, $PB_1$, $PC_1$ meet the circumcircle again at $A'$, $B'$, $C'$ respectively. Assume that the points $A$, $B$, $C$, $A'$, $B'$, $C'$ are distinct, and lines $A'A$, $B'B$, $C'C$ form a triangle. Prove that the area of this triangle does not depend on $P$.","Let the triangle be $\triangle A_0B_0C_0$. From the previous sub-problem, its vertices lie on the midlines of $\triangle ABC$. Consider vertex $C_0 = A'A \cap B'B$, which lies on the midline $A_1B_1$. Since $A_1B_1$ is parallel to side $AB$, the distance from $C_0$ to line $AB$ is constant and equal to half the altitude from $C$ to $AB$, denoted $h_c/2$. The provided proof establishes the equality $\text{area}(A_0B_0C_0) = \text{area}(ABC_0)$ using similarity arguments based on the parallel lines. Therefore, the area of the triangle is $\text{area}(A_0B_0C_0) = \text{area}(ABC_0) = \frac{1}{2} AB \\cdot d(C_0, AB) = \frac{1}{2} AB \\cdot \frac{h_c}{2} = \frac{1}{2} \text{area}(ABC)$. This value is constant as it depends only on the area of the fixed triangle $ABC$.",,,,
2007g7,"Given an acute triangle $ABC$ with angles $\alpha$, $\beta$ and $\gamma$ at vertices $A$, $B$ and $C$, respectively, such that $\beta > \gamma$. Point $I$ is the incenter, and $R$ is the circumradius. Point $D$ is the foot of the altitude from vertex $A$. Point $K$ lies on line $AD$ such that $AK = 2R$, and $D$ separates $A$ and $K$. Finally, lines $DI$ and $KI$ meet sides $AC$ and $BC$ at $E$ and $F$, respectively.

Prove that if $IE = IF$ then $\beta \le 3\gamma$.",1,"Given an acute triangle $ABC$ with angles $\alpha$, $\beta$ and $\gamma$ at vertices $A$, $B$ and $C$, respectively, such that $\beta > \gamma$. Point $I$ is the incenter, and $R$ is the circumradius. Point $D$ is the foot of the altitude from vertex $A$. Point $K$ lies on line $AD$ such that $AK = 2R$, and $D$ separates $A$ and $K$. Finally, lines $DI$ and $KI$ meet sides $AC$ and $BC$ at $E$ and $F$, respectively.

Prove that if $IE = IF$ then $\beta \le 3\gamma$.","We first prove that
\[
\angle KID = \frac{\beta - \gamma}{2} \tag{1}
\]
even without the assumption that $IE = IF$. Then we will show that the statement of the problem is a consequence of this fact.

Denote the circumcenter by $O$. On the circumcircle, let $P$ be the point opposite to $A$, and let the angle bisector $AI$ intersect the circle again at $M$. Since $AK = AP = 2R$, triangle $AKP$ is isosceles. It is known that $\angle BAD = \angle CAO$, hence
\[
\angle DAI = \angle BAI - \angle BAD = \angle CAI - \angle CAO = \angle OAI,
\]
and $AM$ is the bisector line in triangle $AKP$. Therefore, points $K$ and $P$ are symmetrical about $AM$, and $\angle AMK = \angle AMP = 90^\circ$. Thus, $M$ is the midpoint of $KP$, and $AM$ is the perpendicular bisector of $KP$.

Denote the perpendicular feet of incenter $I$ on lines $BC$, $AC$, and $AD$ by $A_1$, $B_1$, and $T$, respectively. Quadrilateral $DA_1IT$ is a rectangle, hence $TD = IA_1 = IB_1$.

Due to the right angles at $T$ and $B_1$, quadrilateral $AB_1IT$ is cyclic. Hence
\[
\angle B_1TI = \angle B_1AI = \angle CAM = \angle BAM = \angle BPM,
\]
and
\[
\angle IB_1T = \angle IAT = \angle MAK = \angle MAP = \angle MBP.
\]
Therefore, triangles $B_1TI$ and $BPM$ are similar and
\[
\frac{IT}{TD} = \frac{IT}{IB_1} = \frac{MP}{MB} = \frac{KM}{MI}.
\]
Hence, $\angle KIM = \angle IDT = \angle IDA$, and
\[
\angle KID = \angle MID - \angle KIM = (\angle IAD + \angle IDA) - \angle IDA = \angle IAD.
\]

From triangle $ADB$ we compute:
\[
\angle KID = \angle IAD = \angle IAB - \angle DAB = \frac{\alpha}{2} - (90^\circ - \beta) = \frac{\alpha + \beta + \gamma}{2} + \beta = \frac{\beta - \gamma}{2}.
\]

Now suppose that $IE = IF$. Since $IA_1 = IB_1$, the right triangles $IEB_1$ and $IFA_1$ are congruent, and $\angle IEB_1 = \angle IFA_1$. Since $\beta > \gamma$, $A_1$ lies in the interior of segment $CD$ and $F$ lies in the interior of $AD$. Hence, $\angle IFC$ is acute. There are two possible cases based on the order of points $A$, $C$, $B_1$, and $E$:

- If $E$ lies between $C$ and $B_1$, then $\angle IFC = \angle IEA$, and quadrilateral $CEIF$ is cyclic:
\[
\angle FCE = 180^\circ - \angle EIF = \angle KID.
\]
Using (1), we get $\angle FCE = \gamma = \angle KID = \frac{\beta - \gamma}{2} \Rightarrow \beta = 3\gamma$.

- If $E$ lies between $A$ and $B_1$, then $CEIF$ is a deltoid with $\angle IEC = \angle IFC < 90^\circ$:
\[
\angle FCE > 180^\circ - \angle EIF = \angle KID \Rightarrow \gamma > \frac{\beta - \gamma}{2} \Rightarrow \beta < 3\gamma.
\]
",,,,,,
2007g8,"Point $P$ lies on side $AB$ of a convex quadrilateral $ABCD$. Let $\omega$ be the incircle of triangle $CPD$, and let $I$ be its incenter. Suppose that $\omega$ is tangent to the incircles of triangles $APD$ and $BPC$ at points $K$ and $L$, respectively. Let lines $AC$ and $BD$ meet at $E$, and let lines $AK$ and $BL$ meet at $F$. Prove that points $E$, $I$, and $F$ are collinear.",3,"Let $\omega$ be the incircle of $\triangle CPD$ with incenter $I$. Let $\Omega$ be a circle tangent to segment $AB$ and rays $AD$ and $BC$, with center $J$. Let lines $AK$ and $BL$ meet at $F$. Prove that $F$ lies on the line $IJ$.","Let $\omega_A$ and $\omega_B$ be the incircles of $\triangle APD$ and $\triangle BPC$ respectively. Consider the homothety with a negative scale taking $\omega$ to $\Omega$. This homothety can be decomposed as a composition of a homothety centered at $K$ taking $\omega$ to $\omega_A$, and a homothety centered at $A$ taking $\omega_A$ to $\Omega$. By the theorem on three similitude centers, the center of the composite homothety lies on line $AK$. Similarly, it can be decomposed using $\omega_B$, with centers $L$ and $B$, which implies the center also lies on $BL$. Thus, the center of homothety is $F = AK \cap BL$. Since this homothety maps $\omega$ to $\Omega$, its center $F$ must lie on the line of centers $IJ$.","Let $\omega$ be the incircle of $\triangle CPD$ with incenter $I$, and $\Omega$ be the circle from the previous problem with center $J$. Let lines $AC$ and $BD$ meet at $E$. Prove that $E$ lies on the line $IJ$.","Consider the homothety with a positive scale taking $\omega$ to $\Omega$. This can be expressed as a composition of a homothety centered at $C$ (taking $\omega$ to an intermediate circle) and a homothety centered at $A$ (taking the intermediate circle to $\Omega$). By the theorem on three similitude centers, the center of this composite homothety lies on line $AC$. Analogously, by composing homotheties centered at $D$ and $B$, the center must also lie on line $BD$. Therefore, the center of the homothety taking $\omega$ to $\Omega$ is $E = AC \cap BD$. As the center of a homothety mapping two circles, $E$ must lie on the line of centers $IJ$.","Point $P$ lies on side $AB$ of a convex quadrilateral $ABCD$. Let $\omega$ be the incircle of triangle $CPD$, and let $I$ be its incenter. Suppose that $\omega$ is tangent to the incircles of triangles $APD$ and $BPC$ at points $K$ and $L$, respectively. Let lines $AC$ and $BD$ meet at $E$, and let lines $AK$ and $BL$ meet at $F$. Prove that points $E$, $I$, and $F$ are collinear.","Let $\Omega$ be the circle tangent to segment $AB$ and rays $AD$ and $BC$, and let its center be $J$. From sub-problem 1, point $F$ lies on the line $IJ$. From sub-problem 2, point $E$ lies on the line $IJ$. By definition, point $I$ also lies on the line $IJ$. Since points $E$, $I$, and $F$ all lie on the same line $IJ$, they are collinear.",,
2007n3,"Let $X$ be a set of 10,000 integers, none of them is divisible by 47. Prove that there exists a 2007-element subset $Y$ of $X$ such that $a - b + c - d + e$ is not divisible by 47 for any $a, b, c, d, e \in Y$.",4,"Let $J = \{-9, -7, -5, -3, -1, 1, 3, 5, 7, 9\}$. Prove that for any choice of $a, b, c, d, e \in J$, the value $a - b + c - d + e$ is not divisible by 47.","For any $a, b, c, d, e \in J$, the sum $S = a - b + c - d + e$ is an odd integer. The range of S is bounded by its minimum value, $(-9)-9+(-9)-9+(-9) = -45$, and its maximum value, $9-(-9)+9-(-9)+9 = 45$. There is no odd multiple of 47 in the interval $[-45, 45]$, so $S$ is not divisible by 47.","A set $M$ is called 'good' if $a - b + c - d + e$ is not divisible by 47 for any $a, b, c, d, e \in M$. Let $J$ be the set from the previous step. For each $k \in \{1, ..., 46\}$, define $A_k = \{x \in X \mid kx \pmod{47} \in J\}$. Prove that each set $A_k$ is good.","Assume for contradiction that some $A_k$ is not good. Then there exist $a, b, c, d, e \in A_k$ such that $a - b + c - d + e \equiv 0 \pmod{47}$. Since $k$ is not a multiple of 47, we can multiply by $k$ to get $k(a - b + c - d + e) \equiv 0 \pmod{47}$. By the definition of $A_k$, for each $x \in \{a,b,c,d,e\}$, there is a $j_x \in J$ such that $kx \equiv j_x \pmod{47}$. Thus, $j_a - j_b + j_c - j_d + j_e \equiv 0 \pmod{47}$, which contradicts that no such sum for elements in $J$ is divisible by 47. Therefore, each $A_k$ must be good.","Let $X$ be a set of 10,000 integers not divisible by 47. Let $J$ be a set of 10 distinct non-zero residues modulo 47. For $k \in \{1, ..., 46\}$, define $A_k = \{x \in X \mid kx \pmod{47} \in J\}$. Prove that the sum of the sizes of these sets is $\sum_{k=1}^{46} |A_k| = 10 \cdot |X|$.","We compute the sum by changing the order of summation: $\sum_{k=1}^{46} |A_k| = \sum_{k=1}^{46} \sum_{x \in X} \mathbf{1}_{A_k}(x) = \sum_{x \in X} \sum_{k=1}^{46} \mathbf{1}_{kx \pmod{47} \in J}$. For any fixed $x \in X$ (where $47 \nmid x$), the set of products $\{kx \pmod{47} \mid k=1, ..., 46\}$ covers all 46 non-zero residues modulo 47 exactly once. Since $|J|=10$, for each $x$, the condition $kx \pmod{47} \in J$ is met for exactly 10 values of $k$. Thus, the inner sum is 10 for every $x \in X$. The total sum is $\sum_{x \in X} 10 = 10 \cdot |X| = 100,000$.","Let $X$ be a set of 10,000 integers, none of them is divisible by 47. Prove that there exists a 2007-element subset $Y$ of $X$ such that $a - b + c - d + e$ is not divisible by 47 for any $a, b, c, d, e \in Y$.","From the previous steps, we have 46 'good' sets $A_k$, and the sum of their sizes is $\sum_{k=1}^{46} |A_k| = 100,000$. By the pigeonhole principle, there must be at least one set, say $A_{k_0}$, with size at least the average size: $|A_{k_0}| \ge \frac{100,000}{46} > 2173$. Since $2173 > 2007$, this set $A_{k_0}$ contains a 2007-element subset, let's call it $Y$. As $A_{k_0}$ is a good set, any of its subsets, including $Y$, must also be good. This completes the proof."
2007n4,"For every integer $k \ge 2$, prove that $2^{3k}$ divides the number
\[
\binom{2^{k+1}}{2^k} - \binom{2^k}{2^{k-1}}
\tag{1}
\]
but $2^{3k+1}$ does not. \hfill \textit{(Poland)}",1,"For every integer $k \ge 2$, prove that $2^{3k}$ divides the number
\[
\binom{2^{k+1}}{2^k} - \binom{2^k}{2^{k-1}}
\tag{1}
\]
but $2^{3k+1}$ does not. \hfill \textit{(Poland)}","\textbf{Solution.} We use the notation $(2n - 1)!! = 1 \cdot 3 \cdots (2n - 1)$ and $(2n)!! = 2 \cdot 4 \cdots (2n) = 2^n n!$ for any positive integer $n$. Observe that
\[
(2n)! = (2n)!! \cdot (2n - 1)!! = 2^n n! \cdot (2n - 1)!!.
\]

For any positive integer $n$ we have
\[
\binom{4n}{2n} = \frac{(4n)!}{(2n)!^2} = \frac{2^{2n}(2n)! \cdot (4n - 1)!!}{2^{2n}(n!)^2} = \frac{2^{2n}(2n)! \cdot (4n - 1)!!}{(2n)!^2} = \frac{2^{2n}}{(2n)!} \cdot (4n - 1)!!,
\]
\[
\binom{2n}{n} = \frac{(2n)!}{(n!)^2} = \frac{(2n)!! \cdot (2n - 1)!!}{(n!)^2} = \frac{2^n n! \cdot (2n - 1)!!}{(n!)^2} = \frac{2^n \cdot (2n - 1)!!}{n!}.
\]

Then expression (1) can be rewritten as follows:
\[
\binom{2^{k+1}}{2^k} - \binom{2^k}{2^{k-1}} = \frac{2^{2^k}}{(2^k)!} \cdot (2^{k+1} - 1)!! - \frac{2^{2^{k-1}}}{(2^{k-1})!} \cdot (2^k - 1)!!.
\]

We simplify further:
\[
= \frac{2^{2^k} (2^{k+1} - 1)!!}{(2^k)!} - \frac{2^{2^{k-1}} (2^k - 1)!!}{(2^{k-1})!}
= \frac{2^{2^k} (2^{k+1} - 1)!!}{(2^k)!} - \text{[smaller term]}.
\]

We compute the exponent of 2 in the prime decomposition of each factor. First, we show by induction on $n$ that the exponent of 2 in $(2n)!$ is $2n - 1$. The base case $n = 1$ is trivial.

Suppose that $(2n)! = 2^{2n - 1}(2d + 1)$ for some integer $d$. Then:
\[
(2n + 1)! = (2n + 1) \cdot (2n)! = (2n + 1) \cdot 2^{2n - 1}(2d + 1) = 2^{2n - 1} \cdot (2n + 1)(2d + 1).
\]

So the exponent increases by 1 for each increment of $n$.

Hence, the exponent of 2 in the first factor in (2) is $2^k - (2^k - 1) = 1$.

The second factor in (2) is a polynomial
\[
P(x) = (x + 1)(x + 3) \cdots (x + 2^k - 1) - (x - 1)(x - 3) \cdots (x - 2^k + 1),
\tag{3}
\]
evaluated at $x = 2^k$.

Note: $P(-x) = -P(x)$ so $P(x)$ is odd and has only odd powers of $x$. Hence,
\[
P(x) = x^3 Q(x) + cx,
\]
where $Q(x)$ has integer coefficients. To find the exponent of 2 in $c$, we compute:
\[
c = 2(2^k - 1)!! \sum_{i=1}^{2^{k-1}} \frac{1}{2i - 1} \cdot \frac{1}{2^k - 2i + 1}.
\]

This simplifies to:
\[
c = (2^k - 1)!! \sum_{i=1}^{2^{k-1}} \frac{2^k}{(2i - 1)(2^k - 2i + 1)} = 2^k (2^k - 1)!! \sum_{i=1}^{2^{k-1}} \frac{1}{(2i - 1)(2^k - 2i + 1)}.
\]

Let
\[
S = \sum_{i=1}^{2^{k-1}} \frac{(2^k - 1)!!}{(2i - 1)(2^k - 2i + 1)}.
\]

Set $a_{2i - 1}$ to be the inverse of $2i - 1$ modulo $2^k$.

Then:
\[
S = \sum_{i=1}^{2^{k-1}} \frac{(2^k - 1)!! a_{2i - 1}^2}{(2i - 1)^2} = - (2^k - 1)!! \sum_{i=1}^{2^{k-1}} (2i - 1)^2 = - (2^k - 1)!! \cdot \frac{2^{k-1}(2^k - 1)}{3} \pmod{2^k}.
\]

Hence, the exponent of 2 in $S$ is $k - 1$, so $c = 2^k \cdot 2^{k - 1} (2t + 1) = 2^{2k - 1}(2t + 1)$.

Finally,
\[
P(2^k) = 2^k Q(2^k)^3 + 2^k c = 2^k Q(2^k)^3 + 2^k \cdot 2^{2k - 1}(2t + 1),
\]
so
\[
P(2^k) \text{ is divisible by } 2^{3k}, \text{ but not by } 2^{3k + 1}.
\]

\vspace{1em}
\textbf{Comment.} The fact that (1) is divisible by $2^{2k}$ is known; but it does not help in solving this problem.
",,,,,,
2007n6,Let $k$ be a positive integer. Prove that the number $(4k^2 - 1)^2$ has a positive divisor of the form $8kn - 1$ if and only if $k$ is even.,3,"Let $x, y$ be positive integers. Show that if $4xy-1$ divides $(4x^2-1)^2$, then $4xy-1$ also divides $(4y^2-1)^2$.","Assume $4xy-1$ divides $(4x^2-1)^2$. This implies $(4x^2-1)^2 \equiv 0 \\pmod{4xy-1}$. We know that $4xy \equiv 1 \\pmod{4xy-1}$. Using this, we can write $(4y^2 - 1)^2 \equiv (4y^2 - (4xy)^2)^2 = (y^2(4 - 16x^2))^2 = 16y^4 (1-4x^2)^2 = 16y^4 (4x^2-1)^2 \\pmod{4xy-1}$. Since $(4x^2-1)^2$ is a multiple of $4xy-1$, so is $16y^4 (4x^2-1)^2$. Therefore, $(4y^2-1)^2 \equiv 0 \\pmod{4xy-1}$, which means $4xy-1$ divides $(4y^2-1)^2$.","For arbitrary positive integers $x$ and $y$, prove that $4xy - 1$ divides $(4x^2 - 1)^2$ if and only if $x = y$.","If $x=y$, then $4xy-1 = 4x^2-1$, which trivially divides $(4x^2-1)^2$. For the other direction, assume for contradiction that there exists a pair of distinct positive integers $(x,y)$ such that $4xy-1$ divides $(4x^2-1)^2$. Among all such pairs, choose one, say $(x_0, y_0)$, that minimizes the sum $x+y$. By the result of Sub-problem 1, the property is symmetric, so we can assume $x_0 < y_0$. Let $r = \frac{(4x_0^2-1)^2}{4x_0y_0-1}$. This is a positive integer. Considering the equation modulo $4x_0$, we have $r(4x_0y_0-1) = (4x_0^2-1)^2$, which implies $r(-1) \\equiv (-1)^2 \\pmod{4x_0}$, so $r \\equiv -1 \\pmod{4x_0}$. Thus, $r = 4x_0z-1$ for some positive integer $z$. Since $x_0 < y_0$, we have $4x_0y_0-1 > 4x_0^2-1$, so $r < 4x_0^2-1$. This gives $4x_0z-1 < 4x_0^2-1$, which implies $z < x_0$. Thus, $(x_0, z)$ is another pair satisfying the property, but $x_0+z < x_0+y_0$, contradicting the minimality of the sum. Therefore, we must have $x=y$.",Let $k$ be a positive integer. Prove that the number $(4k^2 - 1)^2$ has a positive divisor of the form $8kn - 1$ if and only if $k$ is even.,"We need to determine when there exists a positive integer $n$ such that $8kn - 1$ divides $(4k^2 - 1)^2$. The divisor can be written as $4k(2n) - 1$. Let $x=k$ and $y=2n$. The condition is that for positive integers $x, y$ (where $y$ is even), $4xy-1$ divides $(4x^2-1)^2$. From the result of Sub-problem 2, this divisibility condition holds if and only if $x=y$. Substituting back, the condition is equivalent to the existence of a positive integer $n$ such that $k = 2n$. This equation has a positive integer solution for $n$ if and only if $k$ is an even number. If $k$ is even, $n=k/2$ is a positive integer. If $k$ is odd, there is no integer solution for $n$.",,
2007n7,"For a prime $p$ and a positive integer $n$, denote by $\nu_p(n)$ the exponent of $p$ in the prime factorization of $n!$. Given a positive integer $d$ and a finite set $\{p_1, \dots, p_k\}$ of primes. Show that there are infinitely many positive integers $n$ such that $d \mid \nu_{p_i}(n)$ for all $1 \le i \le k$.",3,"Let $p$ be a prime, and $k, q, r$ be positive integers such that $p^k > r$. Prove that $\nu_p(qp^k + r) = \nu_p(qp^k) + \nu_p(r)$, where $\nu_p(n)$ is the exponent of $p$ in the prime factorization of $n!$.","For $1 \le i \le r$, since $i < p^k$, we have $\operatorname{ord}_p(i) < k$. Let $d=\operatorname{ord}_p(i)$. Then $qp^k+i = p^d(qp^{k-d} + i/p^d)$. Since $k>d$, $p$ divides the term $qp^{k-d}$ but does not divide $i/p^d$, so $\operatorname{ord}_p(qp^k+i) = d = \operatorname{ord}_p(i)$. Using the identity $\nu_p(n) = \sum_{j=1}^n \operatorname{ord}_p(j)$, we get $\nu_p(qp^k+r) = \nu_p(qp^k) + \sum_{i=1}^r \operatorname{ord}_p(qp^k+i) = \nu_p(qp^k) + \sum_{i=1}^r \operatorname{ord}_p(i) = \nu_p(qp^k) + \nu_p(r)$.","Let $\{p_1, \dots, p_k\}$ be a set of primes and let $P = p_1 \cdots p_k$. Define a sequence by $n_1=1$ and $n_{t+1} = P^{n_t}$ for $t \ge 1$. Let the vector function $f(n) = (\nu_{p_1}(n), \dots, \nu_{p_k}(n))$. Show that for any indices $\ell_1 < \ell_2 < \dots < \ell_m$, the function $f$ is additive, i.e., $f(\sum_{j=1}^m n_{\ell_j}) = \sum_{j=1}^m f(n_{\ell_j})$.","We prove by induction on $m$. The case $m=1$ is trivial. For $m>1$, let $N = \sum_{j=2}^m n_{\ell_j}$. For any $p_i$ in the set and any $j \ge 2$, $n_{\ell_j} = P^{n_{\ell_j-1}}$ is a multiple of $p_i^{n_{\ell_j-1}}$. Since $\ell_1 < \ell_2$, we have $n_{\ell_1} < n_{\ell_2-1} \le n_{\ell_j-1}$ for all $j \ge 2$. Thus, each $n_{\ell_j}$ (for $j \ge 2$) is a multiple of $p_i^{n_{\ell_1}}$, and so is their sum $N$. Let $N = q \cdot p_i^{n_{\ell_1}}$. Since $p_i^{n_{\ell_1}} > n_{\ell_1}$, we can apply the result from Sub-problem 1 to get $\nu_{p_i}(N + n_{\ell_1}) = \nu_{p_i}(N) + \nu_{p_i}(n_{\ell_1})$. This holds for all $i=1, \dots, k$, so $f(N+n_{\ell_1}) = f(N) + f(n_{\ell_1})$. By the induction hypothesis, $f(N) = \sum_{j=2}^m f(n_{\ell_j})$, which completes the proof.","For a prime $p$ and a positive integer $n$, denote by $\nu_p(n)$ the exponent of $p$ in the prime factorization of $n!$. Given a positive integer $d$ and a finite set $\{p_1, \dots, p_k\}$ of primes. Show that there are infinitely many positive integers $n$ such that $d \mid \nu_{p_i}(n)$ for all $1 \le i \le k$.","Consider the sequence $n_t$ from Sub-problem 2 and the vector sequence $f(n_t) = (\nu_{p_1}(n_t), \dots, \nu_{p_k}(n_t))$. Reducing each component modulo $d$, we obtain a sequence in the finite set $(\mathbb{Z}/d\mathbb{Z})^k$. By the pigeonhole principle, there exists an infinite subsequence of indices $\ell_1 < \ell_2 < \dots$ such that $f(n_{\ell_j})$ is constant modulo $d$. Let $N = n_{\ell_1} + \dots + n_{\ell_d}$. By the additivity property from Sub-problem 2, $f(N) = \sum_{j=1}^d f(n_{\ell_j})$. Modulo $d$, this gives $f(N) \equiv \sum_{j=1}^d f(n_{\ell_1}) \equiv d \cdot f(n_{\ell_1}) \equiv (0, \dots, 0) \pmod d$. This shows $d \mid \nu_{p_i}(N)$ for all $i$. We can construct an infinite sequence of such integers by taking sums of disjoint sets of $d$ elements from the infinite subsequence $\{n_{\ell_j}\}$.",,
2006a1,"A sequence of real numbers $a_0, a_1, a_2, \dots$ is defined by the formula
\[
a_{i+1} = \lfloor a_i \rfloor \cdot \langle a_i \rangle \quad \text{for } i \geq 0;
\]
here $a_0$ is an arbitrary real number, $\lfloor \cdot \rfloor$ denotes the greatest integer not exceeding $a_i$, and $\langle a_i \rangle = a_i - \lfloor a_i \rfloor$. Prove that $a_i = a_{i+2}$ for $i$ sufficiently large.",3,"Show that for any initial value $a_0$, the sequence of integer parts $\lfloor a_i \rfloor$ is eventually constant.","If $a_0 \geq 0$, then all $a_i \geq 0$. As long as $a_i \geq 1$, we have $a_{i+1} = \lfloor a_i \rfloor \langle a_i \rangle < \lfloor a_i \rfloor$, which implies $\lfloor a_{i+1} \rfloor < \lfloor a_i \rfloor$. Since $(\lfloor a_i \rfloor)$ is a strictly decreasing sequence of non-negative integers, it must eventually reach 0 and stay there. If $a_0 < 0$ and the sequence never reaches 0, then $a_i < 0$ and $\lfloor a_i \rfloor \leq -1$ for all $i$. We have $a_{i+1} = \lfloor a_i \rfloor \langle a_i \rangle > \lfloor a_i \rfloor$ because $\lfloor a_i \rfloor$ is negative and $\langle a_i \rangle \in [0, 1)$. This implies $\lfloor a_{i+1} \rfloor \geq \lfloor a_i \rfloor$. So, $(\lfloor a_i \rfloor)$ is a non-decreasing sequence of integers bounded above by -1, which must eventually become constant.","Suppose $\lfloor a_i \rfloor = c$ for some constant integer $c$ for all $i \ge i_0$. Show that either the sequence $(a_i)_{i \ge i_0}$ becomes constant, or $c=-1$ and $a_{i+1} = -a_i - 1$ for $i \ge i_0$.","For $i \ge i_0$, the recurrence is $a_{i+1} = c(a_i - c) = ca_i - c^2$. This is a linear recurrence. Since $a_i \in [c, c+1)$, the sequence $(a_i)$ is bounded for $i \ge i_0$. Let $b_i = a_i - \frac{c^2}{c-1}$ for $c \neq 1$. The recurrence becomes $b_{i+1} = cb_i$, so $b_i = c^{i-i_0} b_{i_0}$. For $(b_i)$ to be bounded, we must have either $b_{i_0}=0$ or $|c| \le 1$. Since $c$ is an integer, $|c| \le 1$ implies $c \in \{-1, 0, 1\}$. The case $c=1$ is impossible, as $a_i \in [1,2)$ would yield $a_{i+1} = a_i-1 \in [0,1)$, so $\lfloor a_{i+1} \rfloor = 0 \neq 1$. If $b_{i_0}=0$ or $c=0$, the sequence $(a_i)_{i \ge i_0}$ is constant (or becomes constant). If $c=-1$, the recurrence is $a_{i+1} = -a_i - 1$.",Prove that $a_i = a_{i+2}$ for $i$ sufficiently large.,"From sub-problem 1, there exists an integer $i_0$ such that $\lfloor a_i \rfloor = c$ for all $i \geq i_0$. From sub-problem 2, we have two cases for $i \ge i_0$. Case 1: The sequence $(a_i)_{i \ge i_0}$ becomes constant. If $a_i = K$ for $i$ sufficiently large, then $a_i = a_{i+2} = K$. This covers the cases where $c \geq 0$ and $c \leq -2$. Case 2: For $i \ge i_0$, $c=-1$ and $a_{i+1} = -a_i - 1$. Then we compute $a_{i+2} = -a_{i+1} - 1 = -(-a_i - 1) - 1 = a_i + 1 - 1 = a_i$. In all possible scenarios, we conclude that $a_i = a_{i+2}$ for sufficiently large $i$.",,
2006a2,"\textbf{A2.} The sequence of real numbers $a_0, a_1, a_2, \dots$ is defined recursively by
\[
a_0 = -1, \qquad \sum_{k=0}^{n} \frac{a_{n-k}}{k+1} = 0 \quad \text{for } n \ge 1.
\]
Show that $a_n > 0$ for $n \ge 1$.",3,Let the sequence of real numbers $a_n$ be defined by $a_0 = -1$ and $\sum_{k=0}^{n} \frac{a_{n-k}}{k+1} = 0$ for $n \ge 1$. Calculate $a_1$ and show it is positive.,"For $n=1$, the given recurrence relation is $\sum_{k=0}^{1} \frac{a_{1-k}}{k+1} = 0$. This expands to $\frac{a_1}{0+1} + \frac{a_0}{1+1} = 0$. Substituting the given value $a_0 = -1$, we get $a_1 + \frac{-1}{2} = 0$, which implies $a_1 = 1/2$. Thus, $a_1 > 0$.","Let the sequence $a_n$ be defined by $a_0 = -1$ and $\sum_{k=0}^{n} \frac{a_{n-k}}{k+1} = 0$ for $n \ge 1$. Show that for $n \ge 1$, the following recurrence relation holds: $$a_{n+1} = \frac{1}{n+2} \sum_{k=1}^{n} \frac{k}{(n-k+1)(n-k+2)} a_k.$$","The defining recurrence can be rewritten by changing the index of summation to $j=n-k$, which gives $\sum_{j=0}^{n} \frac{a_j}{n-j+1} = 0$ for $n \ge 1$. Writing this for $n$ and $n+1$, we have $\sum_{k=0}^{n} \frac{a_k}{n-k+1}=0$ and $\sum_{k=0}^{n+1} \frac{a_k}{n-k+2}=0$. Consider the linear combination $(n+2)\sum_{k=0}^{n+1} \frac{a_k}{n-k+2} - (n+1)\sum_{k=0}^{n} \frac{a_k}{n-k+1} = 0$. This simplifies to $(n+2)a_{n+1} + \sum_{k=0}^{n} a_k \left( \frac{n+2}{n-k+2} - \frac{n+1}{n-k+1} \right) = 0$. The coefficient of $a_0$ is $\frac{n+2}{n+2} - \frac{n+1}{n+1} = 0$. For $k \ge 1$, the coefficient of $a_k$ is $\frac{-k}{(n-k+1)(n-k+2)}$. Rearranging the equation gives $(n+2)a_{n+1} = \sum_{k=1}^{n} \frac{k}{(n-k+1)(n-k+2)} a_k$, which yields the desired formula.","The sequence of real numbers $a_0, a_1, a_2, \dots$ is defined recursively by
\[
a_0 = -1, \qquad \sum_{k=0}^{n} \frac{a_{n-k}}{k+1} = 0 \quad \text{for } n \ge 1.
\]
Show that $a_n > 0$ for $n \ge 1$.","We proceed by induction on $n$. 
\textbf{Base case (n=1):} The relation for $n=1$ is $\frac{a_1}{1} + \frac{a_0}{2} = 0$. With $a_0=-1$, we find $a_1=1/2 > 0$.
\textbf{Inductive step:} Assume $a_k > 0$ for $1 \le k \le n$ for some $n \ge 1$. For $n \ge 1$, we can use the identity $a_{n+1} = \frac{1}{n+2} \sum_{k=1}^{n} \frac{k}{(n-k+1)(n-k+2)} a_k$. In this sum, for $1 \le k \le n$, the coefficients $\frac{k}{(n-k+1)(n-k+2)}$ are positive, since $k>0$, $n-k+1 > 0$, and $n-k+2 > 0$. By the inductive hypothesis, each $a_k$ is also positive. Thus, the sum is a sum of positive terms and is itself positive. Since $n+2>0$, it follows that $a_{n+1} > 0$. By the principle of induction, $a_n > 0$ for all $n \ge 1$.",,
2006a3,"The sequence $c_0, c_1, \dots, c_n, \dots$ is defined by $c_0 = 1$, $c_1 = 0$ and $c_{n+2} = c_{n+1} + c_n$ for $n \ge 0$. Consider the set $S$ of ordered pairs $(x, y)$ for which there is a finite set $J$ of positive integers such that $x = \sum_{j \in J} c_j$, $y = \sum_{j \in J} c_{j-1}$. Prove that there exist real numbers $\alpha, \beta$ and $m, M$ with the following property: An ordered pair of nonnegative integers $(x, y)$ satisfies the inequality
\[
m < \alpha x + \beta y < M
\]
if and only if $(x, y) \in S$.",4,"Let $\\varphi = \frac{1+\\sqrt{5}}{2}$ and $\\psi = \frac{1-\\sqrt{5}}{2}$. For the inequality $m < \\alpha x + \beta y < M$ to hold for all $(x,y) \\in S$, the expression must be bounded for all pairs $(c_n, c_{n-1}) \\in S$. Use this condition to determine a suitable choice for the real numbers $\\alpha$ and $\beta$.","The pairs $(c_n, c_{n-1})$ for $n \\ge 1$ are in $S$. The closed form for $c_n$ is $c_n = \frac{\\varphi^{n-1} - \\psi^{n-1}}{\\sqrt{5}}$. The expression $\\alpha c_n + \beta c_{n-1}$ is proportional to $\\varphi^{n-2}(\\alpha\\varphi + \beta) - \\psi^{n-2}(\\alpha\\psi + \beta)$. As $n \to \\infty$, $|\varphi^{n-2}| \to \\infty$ while $|\\psi^{n-2}| \to 0$. For the expression to remain bounded, the coefficient of the growing term must be zero, so we must have $\\alpha\\varphi + \beta = 0$. A convenient choice satisfying this condition is $\\alpha = \\psi$ and $\beta = 1$.","Using the chosen values $\\alpha = \\psi$ and $\beta = 1$, find a simplified expression for $\\psi x + y$ where $(x, y) \\in S$.","For any $(x, y) \\in S$, we have $x = \\sum_{j \\in J} c_j$ and $y = \\sum_{j \\in J} c_{j-1}$ for some finite set of positive integers $J$. The expression is $\\psi x + y = \\sum_{j \\in J} (\\psi c_j + c_{j-1})$. We can prove by induction that $\\psi c_j + c_{j-1} = \\psi^{j-1}$ for all $j \\ge 1$. For the base case $j=1$, $\\psi c_1 + c_0 = \\psi(0) + 1 = 1 = \\psi^0$. For the inductive step, assume $\\psi c_k + c_{k-1} = \\psi^{k-1}$. Then $\\psi c_{k+1} + c_k = \\psi(c_k+c_{k-1})+c_k = (\\psi+1)c_k+\\psi c_{k-1} = \\psi^2 c_k + \\psi c_{k-1} = \\psi(\\psi c_k+c_{k-1}) = \\psi(\\psi^{k-1}) = \\psi^k$. Thus, $\\psi x + y = \\sum_{j \\in J} \\psi^{j-1}$.","For any $(x, y) \\in S$, establish lower and upper bounds, $m$ and $M$, for the expression $\\psi x + y$. This will prove one direction of the equivalence.","From the previous step, for any $(x, y) \\in S$, we have $\\psi x + y = \\sum_{j \\in J} \\psi^{j-1}$. Let $K = \\{j-1 \\mid j \\in J\\}$, which is a finite set of non-negative integers. The sum is $\\sum_{k \\in K} \\psi^k$. Since $\\psi \\in (-1, 0)$, the sum of any finite number of distinct powers of $\\psi$ is strictly bounded above by the sum of all even powers, $\\sum_{i=0}^\\infty \\psi^{2i} = \frac{1}{1-\\psi^2} = \\varphi$, and strictly bounded below by the sum of all odd powers, $\\sum_{i=0}^\\infty \\psi^{2i+1} = \frac{\\psi}{1-\\psi^2} = -1$. Therefore, for any $(x,y) \\in S$, we have $-1 < \\psi x + y < \\varphi$. We can set $m=-1$ and $M=\\varphi$.","Prove that there exist real numbers $\\alpha, \beta$ and $m, M$ with the following property: An ordered pair of nonnegative integers $(x, y)$ satisfies the inequality $m < \\alpha x + \beta y < M$ if and only if $(x, y) \\in S$.","From the previous steps, we choose $\\alpha=\\psi, \beta=1, m=-1, M=\\varphi$. We have shown that if $(x,y) \\in S$, then $-1 < \\psi x + y < \\varphi$. For the converse, assume $x, y$ are non-negative integers such that $-1 < \\psi x + y < \\varphi$. It can be shown that any such number can be represented as a finite sum $\\psi x + y = \\sum_{k \\in K} \\psi^k$ for some set $K$ of non-negative integers. Let $J = \\{k+1 \\mid k \\in K\\}$. Using the identity from the second sub-problem, $\\sum_{k \\in K} \\psi^k = \\sum_{j \\in J} \\psi^{j-1} = \\sum_{j \\in J} (\\psi c_j + c_{j-1}) = \\psi(\\sum_{j \\in J} c_j) + (\\sum_{j \\in J} c_{j-1})$. Let $x' = \\sum_{j \\in J} c_j$ and $y' = \\sum_{j \\in J} c_{j-1}$. Then $(x', y') \\in S$. We have $\\psi x + y = \\psi x' + y'$, which implies $\\psi(x-x') = y'-y$. Since $x,y,x',y'$ are integers and $\\psi$ is irrational, this requires $x-x'=0$ and $y'-y=0$. Thus $(x,y)=(x',y') \\in S$."
2006a4,"Prove the inequality
\[
\sum_{i<j} \frac{a_i a_j}{a_i + a_j} \le \frac{n}{2(a_1 + a_2 + \cdots + a_n)} \sum_{i<j} a_i a_j
\]
for positive real numbers $a_1, a_2, \dots, a_n$.",2,"Let $S = \sum_{i=1}^n a_i$. Let $L = \sum_{i<j} \frac{a_i a_j}{a_i + a_j}$ and $R = \frac{n}{2S} \sum_{i<j} a_i a_j$. Prove the following identities:
$L = \frac{n - 1}{4} S - \frac{1}{4} \sum_{i<j} \frac{(a_i - a_j)^2}{a_i + a_j}$
$R = \frac{n - 1}{4} S - \frac{1}{4S} \sum_{i<j} (a_i - a_j)^2$","For $L$, we use the identity $a_i a_j/(a_i+a_j) = \frac{1}{4}(a_i+a_j - (a_i-a_j)^2/(a_i+a_j))$ and the fact that $\sum_{i<j}(a_i+a_j)=(n-1)S$. Summing over $i<j$ yields $L = \frac{1}{4}(n-1)S - \frac{1}{4}\sum_{i<j}\frac{(a_i-a_j)^2}{a_i+a_j}$.
For $R$, we use the identity $n \sum_{i<j} a_i a_j = \frac{n - 1}{2} S^2 - \frac{1}{2} \sum_{i<j} (a_i - a_j)^2$, which can be derived by eliminating $\sum a_i^2$ from the standard expansions of $S^2$ and $\sum_{i<j}(a_i-a_j)^2$. Then we have $R = \frac{n}{2S}\sum_{i<j} a_i a_j = \frac{1}{2S} (n\sum_{i<j} a_i a_j) = \frac{1}{2S} (\frac{n - 1}{2} S^2 - \frac{1}{2} \sum_{i<j} (a_i - a_j)^2) = \frac{n-1}{4}S - \frac{1}{4S}\sum_{i<j}(a_i-a_j)^2$.","Prove the inequality
\[
\sum_{i<j} \frac{a_i a_j}{a_i + a_j} \le \frac{n}{2(a_1 + a_2 + \cdots + a_n)} \sum_{i<j} a_i a_j
\]
for positive real numbers $a_1, a_2, \dots, a_n$.","Let $L$ and $R$ be the left and right sides of the inequality, and $S = \sum_i a_i$. From the first sub-problem, we have the expressions:
$L = \frac{n - 1}{4} S - \frac{1}{4} \sum_{i<j} \frac{(a_i - a_j)^2}{a_i + a_j}$
$R = \frac{n - 1}{4} S - \frac{1}{4S} \sum_{i<j} (a_i - a_j)^2$
The inequality $L \le R$ is thus equivalent to:
$-\frac{1}{4} \sum_{i<j} \frac{(a_i - a_j)^2}{a_i + a_j} \le -\frac{1}{4S} \sum_{i<j} (a_i - a_j)^2$
which simplifies to
$\sum_{i<j} \frac{(a_i - a_j)^2}{a_i + a_j} \ge \sum_{i<j} \frac{(a_i - a_j)^2}{S}$
This holds because for each term in the sums, since $a_k>0$ for all $k$, we have $S = \sum_k a_k \ge a_i + a_j$. Therefore, $\frac{1}{a_i + a_j} \ge \frac{1}{S}$. Multiplying by the non-negative term $(a_i - a_j)^2$ gives $\frac{(a_i - a_j)^2}{a_i + a_j} \ge \frac{(a_i - a_j)^2}{S}$. Summing over all $i<j$ completes the proof.",,,,
2006a5,"Let $a, b, c$ be the sides of a triangle. Prove that
\[
\frac{\sqrt{b + c - a}}{\sqrt{b + \sqrt{c - \sqrt{a}}}} + \frac{\sqrt{c + a - b}}{\sqrt{c + \sqrt{a - \sqrt{b}}}} + \frac{\sqrt{a + b - c}}{\sqrt{a + \sqrt{b - \sqrt{c}}}} \le 3.
\]",2,"Let $x, y, z$ be positive real numbers corresponding to the denominators in the original inequality. Assuming the relations $b+c-a = x^2 - \frac{1}{2}(x-y)(x-z)$, $c+a-b = y^2 - \frac{1}{2}(y-z)(y-x)$, and $a+b-c = z^2 - \frac{1}{2}(z-x)(z-y)$, use the inequality $\sqrt{1+u} \le 1+u/2$ to show that the original inequality can be reduced to proving $\frac{(x-y)(x-z)}{x^2} + \frac{(y-z)(y-x)}{y^2} + \frac{(z-x)(z-y)}{z^2} \ge 0$.","Let the left-hand side of the original inequality be $LHS$. The first term is $\frac{\sqrt{b+c-a}}{x} = \sqrt{\frac{x^2 - \frac{1}{2}(x-y)(x-z)}{x^2}} = \sqrt{1 - \frac{(x-y)(x-z)}{2x^2}}$. Using the inequality $\sqrt{1+u} \le 1+u/2$, this term is less than or equal to $1 - \frac{(x-y)(x-z)}{4x^2}$. Applying this approximation to all three terms, we find that the sum is bounded above: $LHS \le \left(1 - \frac{(x-y)(x-z)}{4x^2}\right) + \left(1 - \frac{(y-z)(y-x)}{4y^2}\right) + \left(1 - \frac{(z-x)(z-y)}{4z^2}\right) = 3 - \frac{1}{4} \left( \frac{(x-y)(x-z)}{x^2} + \frac{(y-z)(y-x)}{y^2} + \frac{(z-x)(z-y)}{z^2} \right)$. For the original inequality $LHS \le 3$ to hold, it is sufficient that the parenthesized expression is non-negative.","Let $a, b, c$ be the sides of a triangle. Prove that
\[
\frac{\sqrt{b + c - a}}{\sqrt{b + \sqrt{c - \sqrt{a}}}} + \frac{\sqrt{c + a - b}}{\sqrt{c + \sqrt{a - \sqrt{b}}}} + \frac{\sqrt{a + b - c}}{\sqrt{a + \sqrt{b - \sqrt{c}}}} \le 3.
\]","From Part 1, the problem reduces to proving that for positive $x, y, z$, the inequality $\frac{(x-y)(x-z)}{x^2} + \frac{(y-z)(y-x)}{y^2} + \frac{(z-x)(z-y)}{z^2} \ge 0$ holds. Assume without loss of generality that $x \le y \le z$. The inequality can be written as $\frac{(y-x)(z-x)}{x^2} - \frac{(y-x)(z-y)}{y^2} + \frac{(z-x)(z-y)}{z^2} \ge 0$. We can group the terms as $\left(\frac{(y-x)(z-x)}{x^2} - \frac{(y-x)(z-y)}{y^2}\right) + \frac{(z-x)(z-y)}{z^2} \ge 0$. Since $x \le y \le z$, the term $\frac{(z-x)(z-y)}{z^2}$ is non-negative. For the first group, the inequality $\frac{(y-x)(z-x)}{x^2} \ge \frac{(y-x)(z-y)}{y^2}$ is equivalent to $(z-x)y^2 \ge (z-y)x^2$ (since $y-x \ge 0$). This simplifies to $z(y^2-x^2) \ge xy(y-x)$, and further to $z(y+x) \ge xy$, which is true as $z \ge y$. Thus, the expression is a sum of two non-negative terms, which is itself non-negative. The inequality is proven.",,,,
2006c1,"We have $n \ge 2$ lamps $L_1, \ldots, L_n$ in a row, each of them being either \textit{on} or \textit{off}. Every second we simultaneously modify the state of each lamp as follows:

\begin{itemize}
\item If the lamp $L_i$ and its neighbours (only one neighbour for $i = 1$ or $i = n$, two neighbours for other $i$) are in the same state, then $L_i$ is switched off;
\item otherwise, $L_i$ is switched on.
\end{itemize}

Initially all the lamps are off except the leftmost one which is on.

\begin{enumerate}
\item[(a)] Prove that there are infinitely many integers $n$ for which all the lamps will eventually be off.
\item[(b)] Prove that there are infinitely many integers $n$ for which the lamps will never be all off.
\end{enumerate}",3,"For $n=2^k$ lamps ($k \ge 1$), starting with the leftmost lamp on and all others off, prove that the state at time $t=2^k-1$ is all lamps on.","We use induction on $k$. Base case $k=1, n=2$: The initial state $[1,0]$ evolves to $[1,1]$ at $t=1=2^1-1$. The claim holds. For the inductive step, assume the claim holds for $k$. For $n=2^{k+1}$, the first $2^k$ lamps evolve as an $n=2^k$ system for $2^k-1$ steps, while the other lamps remain off. So at $t=2^k-1$, the state is $[1, \dots, 1, 0, \dots, 0]$ (first $2^k$ lamps are on). At $t=2^k$, the state becomes $[0, \dots, 0, 1, 1, 0, \dots, 0]$, with ones at positions $2^k$ and $2^k+1$. This state is symmetric, and since the rules are symmetric, the evolution remains symmetric. This implies that the state of lamp $L_{2^k}$ is always the same as lamp $L_{2^k+1}$ for $t \ge 2^k$. This makes the right half of the lamps ($L_{2^k+1}, \dots, L_{2^{k+1}}$) evolve identically to an $n=2^k$ system. By the inductive hypothesis, this right half becomes all ones after another $2^k-1$ steps, i.e., at total time $t=(2^k-1)+2^k=2^{k+1}-1$. By symmetry, the left half is also all ones. The induction is complete.","For $n=2^k+1$ lamps ($k \ge 1$), starting with the leftmost lamp on, prove that the sequence of states becomes periodic and never reaches the all-off state.","Consider the evolution for $n=2^k+1$. For the first $2^k-1$ steps, the state of the first $2^k$ lamps evolves almost as in the $n=2^k$ case. At time $t=2^k-1$, the state is $[1, \dots, 1, 0]$ where the first $2^k$ lamps are on. At time $t=2^k$, the state becomes $[0, \dots, 0, 1, 1]$. Notice that the state at $t=1$ is $[1, 1, 0, \dots, 0]$. The state at $t=2^k$ is the reverse of the state at $t=1$. Since the update rule is symmetric with respect to a left-right reversal of the lamps, the sequence of states starting from $t=2^k$ will be the time-reversed sequence of the states from $t=1$ to $t=2^k-1$. This implies the state configuration will eventually return to that of $t=1$, forming a cycle. This cycle does not contain the initial state $[1, 0, \ldots, 0]$ nor the all-off state $[0, 0, \ldots, 0]$. Thus, the lamps will never be all off.",Initially all the lamps are off except the leftmost one which is on. (a) Prove that there are infinitely many integers $n$ for which all the lamps will eventually be off. (b) Prove that there are infinitely many integers $n$ for which the lamps will never be all off.,"(a) Consider the infinite set of integers $n=2^k$ for $k \ge 1$. By Sub-problem 1, the system reaches the state where all lamps are on at time $t=2^k-1$. At the next step, $t=2^k$, every lamp $L_i$ and its neighbors are in the same state (on). According to the rule, each lamp is switched off. Thus, the system reaches the all-off state. \n(b) Consider the infinite set of integers $n=2^k+1$ for $k \ge 1$. By Sub-problem 2, the system of lamps enters a periodic sequence of states. This periodic cycle does not contain the all-off state. Therefore, for these values of $n$, the lamps will never be all off.",,
2006c3,"Let $S$ be a finite set of points in the plane such that no three of them are on a line. For each convex polygon $P$ whose vertices are in $S$, let $a(P)$ be the number of vertices of $P$, and let $b(P)$ be the number of points of $S$ which are outside $P$. Prove that for every real number $x$,
\[
\sum_P x^{a(P)} (1 - x)^{b(P)} = 1,
\]
where the sum is taken over all convex polygons with vertices in $S$.

\textit{NB.} A line segment, a point and the empty set are considered as convex polygons of 2, 1 and 0 vertices, respectively.",2,"Let $S$ be a finite set of $n$ points in the plane with no three collinear. For a convex polygon $P$ with vertices in $S$, let $a(P)$ be the number of its vertices and $c(P)$ be the number of points of $S$ in its interior. Prove that for any integer $r$ where $0 \le r \le n$, the binomial coefficient $\binom{n}{r}$ can be expressed as the sum $\sum_P \binom{c(P)}{r-a(P)}$ over all convex polygons $P$ with vertices in $S$.","We establish the identity by counting the number of $r$-element subsets of $S$ in two different ways. The first way is by definition, which gives $\binom{n}{r}$. For the second way, consider any $r$-element subset $R \subseteq S$. The convex hull of $R$, denoted $P=CH(R)$, has a set of vertices $V(P) \subseteq R$. The remaining points, $R \setminus V(P)$, lie in the interior of $P$. This gives a unique partition of $R$. Conversely, any pair $(P, A)$, where $P$ is a convex polygon with vertices $V(P) \subset S$ and $A$ is a set of points from $S$ in the interior of $P$, defines a unique subset $R = V(P) \cup A$. To form an $r$-element subset $R$ this way, we must have $|A| = r-a(P)$. For a fixed polygon $P$, the number of ways to choose $A$ is $\binom{c(P)}{r-a(P)}$. Summing over all possible polygons $P$ gives the total number of $r$-element subsets of $S$. Therefore, $\sum_P \binom{c(P)}{r-a(P)} = \binom{n}{r}$.","Let $S$ be a finite set of points in the plane such that no three of them are on a line. For each convex polygon $P$ whose vertices are in $S$, let $a(P)$ be the number of vertices of $P$, and let $b(P)$ be the number of points of $S$ which are outside $P$. Prove that for every real number $x$,
\[
\sum_P x^{a(P)} (1 - x)^{b(P)} = 1,
\]
where the sum is taken over all convex polygons with vertices in $S$.","Let $n = |S|$ and $c(P)$ be the number of points of $S$ inside $P$. We have $a(P)+b(P)+c(P)=n$. Let $y=1-x$. The sum is $\sum_P x^{a(P)} y^{b(P)}$. As $x+y=1$, we can write this as $\sum_P x^{a(P)} y^{b(P)} (x+y)^{c(P)}$. Expanding $(x+y)^{c(P)}$ using the binomial theorem gives $\sum_P x^{a(P)} y^{b(P)} \sum_{i=0}^{c(P)} \binom{c(P)}{i} x^i y^{c(P)-i} = \sum_P \sum_{i=0}^{c(P)} \binom{c(P)}{i} x^{a(P)+i} y^{n-a(P)-i}$. This is a homogeneous polynomial of degree $n$. The coefficient of $x^r y^{n-r}$ is found by setting $a(P)+i=r$, so it is $\sum_P \binom{c(P)}{r-a(P)}$. From the first sub-problem, this coefficient is $\binom{n}{r}$. Thus, the sum is equivalent to $\sum_{r=0}^n \binom{n}{r} x^r y^{n-r}$, which by the binomial theorem is $(x+y)^n = (x+1-x)^n = 1^n = 1$.",,,,
2006c4,"A cake has the form of an $n \times n$ square composed of $n^2$ unit squares. Strawberries lie on some of the unit squares so that each row or column contains exactly one strawberry; call this arrangement $\mathcal{A}$.

Let $\mathcal{B}$ be another such arrangement. Suppose that every grid rectangle with one vertex at the top left corner of the cake contains no fewer strawberries of arrangement $\mathcal{B}$ than of arrangement $\mathcal{A}$. Prove that arrangement $\mathcal{B}$ can be obtained from $\mathcal{A}$ by performing a number of \emph{switches}, defined as follows:

A \emph{switch} consists in selecting a grid rectangle with only two strawberries, situated at its top right corner and bottom left corner, and moving these two strawberries to the other two corners of that rectangle.",3,"Establish an inductive framework. Let arrangements $\mathcal{A}$ and $\mathcal{B}$ be represented by functions $a(X)$ and $b(X)$ counting items in any top-left rectangle $[OX]$. Given $a(X) \le b(X)$ for all squares $X$, show that if any arrangement $\mathcal{A} \neq \mathcal{B}$ can be transformed by one switch into an arrangement $\mathcal{A}'$ such that $a(X) \le a'(X) \le b(X)$ for all $X$ and $\sum_X a(X) < \sum_X a'(X)$, then $\mathcal{B}$ is obtainable from $\mathcal{A}$ by a sequence of switches.","Define a potential function $\Phi(\mathcal{A}) = \sum_{X} a(X)$, where the sum is over all $n^2$ unit squares $X$. The condition that a switch transforms $\mathcal{A}$ to $\mathcal{A}'$ such that $a(X) \le a'(X)$ for all $X$ and the sum strictly increases means $\Phi(\mathcal{A}) < \Phi(\mathcal{A}')$. Since $\Phi(\mathcal{A})$ is an integer bounded above by $\Phi(\mathcal{B})$, any sequence of such switches must be finite. The process terminates only when no such switch can be found, which can only happen if $a(X) = b(X)$ for all $X$, implying $\mathcal{A}=\mathcal{B}$. Thus, proving the existence of such a switch for any $\mathcal{A} \neq \mathcal{B}$ is sufficient.","For any arrangement $\mathcal{A} \ne \mathcal{B}$ satisfying $a(X) \le b(X)$, identify a pair of strawberries in $\mathcal{A}$ suitable for a switch, i.e., located at the top-right and bottom-left corners of some rectangle.","Since $\mathcal{A} \ne \mathcal{B}$, let $r_1$ be the uppermost row where they differ. Let the strawberry $S$ of $\mathcal{A}$ be at $(r_1, c_S)$ and the plum $P$ of $\mathcal{B}$ be at $(r_1, c_P)$. The condition $a(X) \le b(X)$ for a rectangle ending in row $r_1$ between columns $c_P$ and $c_S$ implies $c_P < c_S$. Let the strawberry in column $c_P$ be $V$ at position $(r_V, c_P)$. In all rows above $r_1$, the strawberry and plum positions are identical, so $V$ cannot be in a row $r_V < r_1$. Since $S$ is the strawberry in row $r_1$, we must have $r_V > r_1$. Thus, the strawberries $S$ at $(r_1, c_S)$ and $V$ at $(r_V, c_P)$ are at the top-right and bottom-left corners of a rectangle.","A cake has the form of an $n \times n$ square composed of $n^2$ unit squares. Strawberries lie on some of the unit squares so that each row or column contains exactly one strawberry; call this arrangement $\mathcal{A}$. Let $\mathcal{B}$ be another such arrangement. Suppose that every grid rectangle with one vertex at the top left corner of the cake contains no fewer strawberries of arrangement $\mathcal{B}$ than of arrangement $\mathcal{A}$. Prove that arrangement $\mathcal{B}$ can be obtained from $\mathcal{A}$ by performing a number of \emph{switches}, defined as follows:

A \emph{switch} consists in selecting a grid rectangle with only two strawberries, situated at its top right corner and bottom left corner, and moving these two strawberries to the other two corners of that rectangle.","If $\mathcal{A} = \mathcal{B}$, we are done. Otherwise, per sub-problem 2, we can find strawberries $S(r_1, c_S)$ and $V(r_V, c_P)$ with $r_1 < r_V$ and $c_P < c_S$, where a plum $P$ is at $(r_1, c_P)$. A switch moves $S$ and $V$ to $U(r_1, c_P)$ and $W(r_V, c_S)$, yielding arrangement $\mathcal{A}'$. This change increases the strawberry count $a'(X)$ by 1 if and only if $X$ is in the rectangle with corners $(r_1, c_P)$ and $(r_V-1, c_S-1)$. This ensures $a(X) \le a'(X)$ and $\sum a(X) < \sum a'(X)$. For any such $X$, we must verify $a'(X) \le b(X)$, which requires $a(X) < b(X)$. This strict inequality holds because in the rectangle $[OX]$, the plum at $P$ is counted in $b(X)$, but the strawberry $S$ is not in $[OX]$, while in all rows above $r_1$ counts are balanced. Thus, the switch is valid. By the inductive argument from sub-problem 1, a finite sequence of such switches transforms $\mathcal{A}$ into $\mathcal{B}$.",,
2006c6,"\textit{A holey triangle} is an upward equilateral triangle of side length $n$ with $n$ upward unit triangular holes cut out. A \textit{diamond} is a $60^\circ$閿熸枻鎷烽敓?120^\circ$ unit rhombus. Prove that a holey triangle $T$ can be tiled with diamonds if and only if the following condition holds: Every upward equilateral triangle of side length $k$ in $T$ contains at most $k$ holes, for $1 \leq k \leq n$.",4,"Prove that if a holey triangle $T$ of side length $n$ can be tiled with diamonds, then every upward equilateral triangle of side length $k$ in $T$ contains at most $k$ holes, for $1 \leq k \leq n$.","Assume a tiling exists. Let $T'$ be an upward equilateral triangle of size $k$ within $T$ containing $h$ holes. An upward equilateral triangle of size $k$ has $(k^2+k)/2$ upward unit triangles (cells) and $(k^2-k)/2$ downward unit cells. With $h$ holes, $T'$ contains $(k^2+k)/2 - h$ upward cells. The diamonds covering $T'$ cover these upward cells. Since each diamond covers one upward and one downward cell, the number of upward cells must be greater than or equal to the number of downward cells covered inside $T'$. Thus, $(k^2+k)/2 - h \geq (k^2-k)/2$, which simplifies to $h \leq k$.","Let a set of holes in a triangle be *spread out* if every upward equilateral triangle of size $k$ contains at most $k$ holes. A triangle is *full* if it has size $k$ and contains exactly $k$ holes. Prove that if two full triangles $T'$ and $T''$ touch or intersect, the smallest upward triangle containing them, $T' + T''$, is also full.","Let the sizes of $T'$, $T''$, $T' \cap T''$, and $T' + T''$ be $a, b, c, d$ respectively. Let them contain $a, b, x, y$ holes. The geometry of the triangles implies $a+b = c+d$. The number of holes in the union is $|H(T') \cup H(T'')| = |H(T')| + |H(T'')| - |H(T' \cap T'')|$, so $y = a+b-x$. Since the holes are spread out, we have $x \le c$ and $y \le d$. The total number of holes counted is $a+b = |H(T')|+|H(T'')| \le |H(T'\cup T'')| + |H(T' \cap T'')| = y+x$. Combining these, we get $c+d = a+b \le x+y \le c+d$. This forces all inequalities to be equalities, so $x=c$ and $y=d$. Thus, $T' + T''$ is full.","Let $H$ be a spread out set of holes in a triangle $T_n$. Let $u$ be one of the holes in the bottom row. Show that we can replace $u$ with a specific upward cell $w$ in the row immediately above, such that the new set of holes $H' = (H \setminus \{u\}) \cup \{w\}$ is also spread out.","Let $\ell$ be the line separating the bottom row from the triangle above it. Let $\Delta$ be the largest full triangle with its base on $\ell$ that contains the top vertex of hole $u$. Let $w$ be the upward cell on $\ell$ immediately to the right of $\Delta$. The maximality of $\Delta$ ensures $w$ is not a hole. Assume for contradiction that the new set of holes $H'$ is not spread out. Then there must be a triangle $\Gamma$ that is full with respect to $H \setminus \{u\}$ and contains $w$. By the lemma in sub-problem 2, $\Gamma + \Delta$ is full of $H \setminus \{u\}$. If $\Gamma$ is above $\ell$, then $\Gamma+\Delta$ is also above $\ell$, contradicting the maximality of $\Delta$. If $\Gamma$ intersects the bottom row, then $\Gamma+\Delta$ contains the original hole $u$. If $\Gamma+\Delta$ has size $s$, it contains $s$ holes from $H\setminus\{u\}$ plus the hole $u$, for a total of $s+1$ holes. This violates the condition that the original set of holes $H$ is spread out. Therefore, no such $\Gamma$ exists and $H'$ is spread out.","Prove that a holey triangle $T$ can be tiled with diamonds if and only if every upward equilateral triangle of side length $k$ in $T$ contains at most $k$ holes, for $1 \leq k \leq n$.","The 'only if' direction is proven in Sub-problem 1. For the 'if' direction, we use induction on the side length $n$. The base case $n=1$ is trivial. For $n>1$, assume the statement holds for triangles of size less than $n$. Let $T_n$ have a spread out set of holes $H$. The bottom row must contain $m \ge 1$ holes $a_1, \dots, a_m$. By repeatedly applying the result of Sub-problem 3, we can replace the holes $a_1, \dots, a_m$ with $m-1$ new holes $b_1, \dots, b_{m-1}$ in the row above, such that the new set of holes remains spread out in the remaining triangle of size $n-1$. The bottom row and the cells $b_i$ can be tiled with diamonds. The remaining holey triangle of size $n-1$ can be tiled by the induction hypothesis. Combining these tilings gives a valid tiling for $T_n$."
2006g1,"Let $ABC$ be a triangle with incenter $I$. A point $P$ in the interior of the triangle satisfies
\[
\angle PBA + \angle PCA = \angle PBC + \angle PCB.
\]
Show that $AP \geq AI$ and that equality holds if and only if $P$ coincides with $I$.",2,"Let $ABC$ be a triangle with incenter $I$. If a point $P$ in the interior of the triangle satisfies $\angle PBA + \angle PCA = \angle PBC + \angle PCB$, show that $P$ lies on the circumcircle of triangle $BCI$.","Let $\angle B = \beta$ and $\angle C = \gamma$. The condition $\angle PBA + \angle PCA = \angle PBC + \angle PCB$ and the fact that $(\angle PBA + \angle PBC) + (\angle PCA + \angle PCB) = \beta + \gamma$ together imply that $2(\angle PBC + \angle PCB) = \beta + \gamma$, so $\angle PBC + \angle PCB = (\beta+\gamma)/2$. In $\triangle BPC$, this means $\angle BPC = 180^\circ - (\beta+\gamma)/2 = 90^\circ + \angle A/2$. For the incenter $I$, we have $\angle IBC = \beta/2$ and $\angle ICB = \gamma/2$, so $\angle BIC = 180^\circ - (\beta+\gamma)/2 = 90^\circ + \angle A/2$. Since $\angle BPC = \angle BIC$ and $P$ and $I$ are on the same side of $BC$, the points $B, C, I, P$ are concyclic. Thus $P$ lies on the circumcircle of $\triangle BCI$.","Let $ABC$ be a triangle with incenter $I$. A point $P$ in the interior of the triangle satisfies
\[
\angle PBA + \angle PCA = \angle PBC + \angle PCB.
\]
Show that $AP \geq AI$ and that equality holds if and only if $P$ coincides with $I$.","From the first sub-problem, the condition on $P$ implies that $P$ lies on the circumcircle $\omega$ of $\triangle BCI$. The center of $\omega$ is the point $M$ where the angle bisector of $\angle A$ intersects the circumcircle of $\triangle ABC$. Thus, $A, I, M$ are collinear. Since $P$ and $I$ are on $\omega$ with center $M$, we have $MP=MI$. By the triangle inequality in $\triangle APM$, we have $AP + PM \geq AM$. As $A, I, M$ are collinear, $AM = AI + IM$. Substituting this and $PM=IM$ into the inequality gives $AP + IM \geq AI + IM$, which simplifies to $AP \geq AI$. Equality holds if and only if $P$ lies on the line segment $AM$. Since $P$ must also lie on the circle $\omega$ and is inside $\triangle ABC$, the only possibility is $P=I$.",,,,
2006g2,"Let $ABCD$ be a trapezoid with parallel sides $AB > CD$. Points $K$ and $L$ lie on the line segments $AB$ and $CD$, respectively, so that $AK/KB = DL/LC$. Suppose that there are points $P$ and $Q$ on the line segment $KL$ satisfying
\[
\angle APB = \angle BCD \quad \text{and} \quad \angle CQD = \angle ABC.
\]
Prove that the points $P$, $Q$, $B$ and $C$ are concyclic.",2,"Let $(APB)$ denote the circumcircle of triangle $APB$ and $(CDQ)$ denote the circumcircle of triangle $CDQ$. Prove that line $BC$ is tangent to circle $(APB)$ at point $B$, and also tangent to circle $(CDQ)$ at point $C$.","The condition $AK/KB = DL/LC$ on the parallel sides of the trapezoid implies that the lines $AD$, $BC$, and $KL$ are concurrent at a point, let's call it $S$. Let the circle $(APB)$ intersect the line $SKL$ at a second point $X$. In the cyclic quadrilateral $APBX$, we have $\angle AXB = 180^\circ - \angle APB$. From the problem statement, $\angle APB = \angle BCD$. Since $ABCD$ is a trapezoid with $AB \parallel CD$, $\angle ABC + \angle BCD = 180^\circ$. Therefore, $\angle AXB = 180^\circ - \angle BCD = \angle ABC$. By the converse of the tangent-secant theorem, this means line $BC$ is tangent to circle $(APB)$ at $B$. A similar argument, using the condition $\angle CQD = \angle ABC$, shows that line $BC$ is tangent to circle $(CDQ)$ at $C$.","Prove that the points $P$, $Q$, $B$ and $C$ are concyclic.","Let $S$ be the point of concurrency of lines $AD, BC, KL$. From the first sub-problem, we know that $SB$ is tangent to the circle $(APB)$ at $B$. By the power of a point theorem, $SB^2 = SP \cdot SX$, where $X$ is the second intersection of line $SKL$ with circle $(APB)$. Consider the homothety $h$ with center $S$ mapping $B$ to $C$. This homothety maps line $AB$ to $CD$ and, due to the tangency property, circle $(APB)$ to circle $(CDQ)$. It also maps the line $SKL$ to itself. Therefore, $h$ maps the intersection point $X$ to the intersection point $Q$. This implies the ratio of distances from the center $S$ is constant: $SQ/SX = SC/SB$. From the power of a point relation, we have $SX = SB^2/SP$. Substituting this into the homothety relation gives $SQ / (SB^2/SP) = SC/SB$, which simplifies to $SP \cdot SQ = SB \cdot SC$. By the converse of the power of a point theorem, as $S, B, C$ and $S, P, Q$ are sets of collinear points, this means points $P, Q, B, C$ are concyclic.",,,,
2006g3,"\textbf{G3.} Let $ABCDE$ be a convex pentagon such that
\[
\angle BAC = \angle CAD = \angle DAE \quad \text{and} \quad \angle ABC = \angle ACD = \angle ADE.
\]
The diagonals $BD$ and $CE$ meet at $P$. Prove that the line $AP$ bisects the side $CD$.",2,"Let $Q$ be the intersection of diagonals $AC$ and $BD$, and $R$ be the intersection of diagonals $AD$ and $CE$. Prove that $\frac{AQ}{QC} = \frac{AR}{RD}$.","The given angle equalities $\angle BAC = \angle CAD = \angle DAE$ and $\angle ABC = \angle ACD = \angle ADE$ imply the similarity of triangles $\triangle ABC \sim \triangle ACD \sim \triangle ADE$. From this, we have the ratio of corresponding sides $\frac{AB}{AC} = \frac{AC}{AD} = \frac{AD}{AE}$. Also, $\angle BAD = \angle BAC + \angle CAD$ and $\angle CAE = \angle CAD + \angle DAE$, so $\angle BAD = \angle CAE$. From the side ratios, we have $\frac{AB}{AC} = \frac{AD}{AE}$, which rearranges to $\frac{AB}{AD} = \frac{AC}{AE}$. By SAS similarity, $\triangle ABD \sim \triangle ACE$. In this similarity, point $Q$ (intersection of cevian $AC$ and side $BD$ in $\triangle ABD$) corresponds to point $R$ (intersection of the corresponding cevian $AD$ and side $CE$ in $\triangle ACE$). Therefore, the ratio of distances from vertex A is equal to the similarity ratio: $\frac{AQ}{AR} = \frac{AB}{AC}$. Since we know $\frac{AB}{AC} = \frac{AC}{AD}$, we get $\frac{AQ}{AR} = \frac{AC}{AD}$, which implies $\frac{AQ}{AC} = \frac{AR}{AD}$. This states that $Q$ and $R$ divide segments $AC$ and $AD$ proportionally, which is equivalent to $\frac{AQ}{QC} = \frac{AR}{RD}$.",Let $ABCDE$ be a convex pentagon such that $\angle BAC = \angle CAD = \angle DAE$ and $\angle ABC = \angle ACD = \angle ADE$. The diagonals $BD$ and $CE$ meet at $P$. Prove that the line $AP$ bisects the side $CD$.,"Let $Q = AC \cap BD$, $R = AD \cap CE$, and let the line $AP$ intersect the side $CD$ at $M$. Consider the triangle $ACD$. The lines $AM$, $CR$ (which is a segment of $CE$), and $DQ$ (which is a segment of $BD$) are cevians. Since $P = BD \cap CE$, the lines $DQ$ and $CR$ intersect at $P$. As $AM$ also passes through $P$, the three cevians $AM$, $CR$, and $DQ$ are concurrent at $P$. By Ceva's theorem on $\triangle ACD$, we have $\frac{AQ}{QC} \cdot \frac{CM}{MD} \cdot \frac{DR}{RA} = 1$. From the first sub-problem, we know that $\frac{AQ}{QC} = \frac{AR}{RD}$. Substituting this into the Ceva equation yields $\frac{AR}{RD} \cdot \frac{CM}{MD} \cdot \frac{DR}{RA} = 1$. This simplifies to $\frac{CM}{MD} = 1$, which means $CM = MD$. Therefore, the line $AP$ bisects the side $CD$.",,,,
2006g7,"In a triangle $ABC$, let $M_a, M_b, M_c$ be respectively the midpoints of the sides $BC$, $CA$, $AB$ and $T_a, T_b, T_c$ be the midpoints of the arcs $BC$, $CA$, $AB$ of the circumcircle of $ABC$, not containing the opposite vertices. For $i \in \{a,b,c\}$, let $\omega_i$ be the circle with $M_iT_i$ as diameter. Let $p_i$ be the common external tangent to $\omega_j$, $\omega_k$ ($\{i,j,k\} = \{a,b,c\}$) such that $\omega_i$ lies on the opposite side of $p_i$ than $\omega_j$, $\omega_k$ do. Prove that the lines $p_a, p_b, p_c$ form a triangle similar to $ABC$ and find the ratio of similitude.",3,Let $I$ be the incenter of triangle $ABC$. Show that the common external tangent $p_a$ to circles $\omega_b$ and $\omega_c$ is the line parallel to $BC$ that lies midway between the line $M_bM_c$ and the line through $I$ parallel to $BC$.,"It is a known property that the points $T_a, T_b, T_c$ are centers of circles passing through pairs of vertices and the incenter $I$; for instance $T_aI=T_aB=T_aC$. This implies that the line $PQ$, where $P = T_aT_b \cap AC$ and $Q = T_aT_c \cap AB$, passes through $I$ and is parallel to $BC$. Using homothety, one can show that the tangent line $p_a$ is parallel to $BC$. Further geometric considerations show that the points of tangency of $p_a$ with the lines $AB$ and $AC$ are the midpoints of the segments $QM_c$ and $PM_b$. This implies that $p_a$ is the midline of the trapezoid $PM_bM_cQ$. Therefore, $p_a$ is the line parallel to $BC$ that is midway between the line $M_bM_c$ and the line $PQ$ (the line through $I$ parallel to $BC$).","Let $\\Delta_p$ be the triangle formed by the lines $p_a, p_b, p_c$. Show that $\\Delta_p$ is homothetic to the medial triangle $M_aM_bM_c$ with the incenter $I$ as the center of homothety and a ratio of $1/2$.","From the previous result, the line $p_a$ is the line midway between the line segment $M_bM_c$ and the incenter $I$. By symmetry, $p_b$ is midway between $M_aM_c$ and $I$, and $p_c$ is midway between $M_aM_b$ and $I$. Let the lines containing the sides of the medial triangle $M_aM_bM_c$ be $l_a, l_b, l_c$. The lines $p_a, p_b, p_c$ are the mid-parallels between the sides of the medial triangle and the incenter $I$. This configuration implies that the triangle $\\Delta_p$ formed by $p_a, p_b, p_c$ is the image of the medial triangle $M_aM_bM_c$ under a homothety centered at $I$ with a ratio of $1/2$.","Prove that the lines $p_a, p_b, p_c$ form a triangle similar to $ABC$ and find the ratio of similitude.","From the second sub-problem, the triangle $\\Delta_p$ formed by lines $p_a, p_b, p_c$ is homothetic to the medial triangle $\triangle M_aM_bM_c$ with ratio $1/2$. Thus, $\\Delta_p$ is similar to $\triangle M_aM_bM_c$ with a ratio of similitude of $1/2$. The medial triangle $\triangle M_aM_bM_c$ is itself similar to $\triangle ABC$, with a ratio of similitude of $1/2$. By transitivity of similarity, $\\Delta_p$ is similar to $\triangle ABC$. The ratio of similitude is the product of the individual ratios, which is $(1/2) \times (1/2) = 1/4$.",,
2006g9,"Points $A_1, B_1, C_1$ are chosen on the sides $BC$, $CA$, $AB$ of a triangle $ABC$, respectively. The circumcircles of triangles $AB_1C_1$, $BC_1A_1$, $CA_1B_1$ intersect the circumcircle of triangle $ABC$ again at points $A_2, B_2, C_2$, respectively ($A_2 \ne A$, $B_2 \ne B$, $C_2 \ne C$). Points $A_3, B_3, C_3$ are symmetric to $A_1, B_1, C_1$ with respect to the midpoints of the sides $BC$, $CA$, $AB$ respectively. Prove that the triangles $A_2B_2C_2$ and $A_3B_3C_3$ are similar.",4,"Let $P$ be the second intersection of the circumcircles of triangles $AB_1C_1$ and $BC_1A_1$. Show that $P$ also lies on the circumcircle of triangle $CA_1B_1$, and that there is a constant angle $\varphi$ such that $\\varphi = \\angle(PA_1, BC) = \\angle(PB_1, CA) = \\angle(PC_1, AB)$, using oriented angles.","Let the circumcircles of $\triangle AB_1C_1$ and $\triangle BC_1A_1$ intersect at $C_1$ and $P$. Using oriented angles for concyclic points, we have the chain of equalities: $\\angle(PA_1, BC) = \\angle(PC_1, AB) = \\angle(PB_1, AC)$. Let this common angle be $\\varphi$. From the same properties, we also get $\\angle(PA_1, CA_1) = \\angle(PB_1, CB_1)$, which shows that points $A_1, B_1, P, C$ are concyclic. Therefore, $P$ is the common intersection of the three circles $(AB_1C_1)$, $(BC_1A_1)$, and $(CA_1B_1)$.","Let $O$ be the circumcenter of $\triangle ABC$. Let the lines $A_2P, B_2P, C_2P$ meet the circumcircle of $\triangle ABC$ again at $A_4, B_4, C_4$ respectively. Prove that $\triangle ABC$ is the image of $\triangle A_4B_4C_4$ under a rotation about $O$ by an angle of $2\\varphi$.","Points $A, P, C_1, A_2$ lie on circle $(AB_1C_1)$. Using oriented angles, $\\angle(PA_2, AA_2) = \\angle(PC_1, AC_1)$. Since $A, C_1, B$ are collinear, this equals $\\angle(PC_1, AB)$, which is $\\varphi$ from the previous step. The line $PA_2$ is the same as $A_4A_2$. So the angle subtended by arc $A_4A$ at point $A_2$ on the circumcircle is $\\varphi$. The central angle $\\angle A_4OA$ is $2\\varphi$. Therefore, a rotation about the circumcenter $O$ by $2\\varphi$ maps $A_4$ to $A$. Similarly, it maps $B_4$ to $B$ and $C_4$ to $C$, hence it maps $\triangle A_4B_4C_4$ to $\triangle ABC$.","Let lines $PC_1, PA_1, PB_1$ intersect the sides $A_4B_4, B_4C_4, C_4A_4$ of $\triangle A_4B_4C_4$ at $C_5, A_5, B_5$ respectively. Prove that $\triangle A_3B_3C_3$ is congruent to $\triangle A_5B_5C_5$.","The rotation from the previous step maps $\triangle A_4B_4C_4$ to $\triangle ABC$. We show it maps $C_5$ to $C_3$. From the rotation, $\\angle(A_4B_4, AB) = 2\\varphi$. Using this and $\\angle(AB, PC_1) = -\\varphi$, we get $\\angle(A_4B_4, PC_1) = \\varphi$. Also $\\angle(PC_1, AC_1) = \\varphi$. This implies $AB_4C_5C_1$ is an isosceles trapezoid, so $AC_1 = B_4C_5$. Similarly, $BC_1 = A_4C_5$. By definition of $C_3$, $AC_3 = BC_1$ and $BC_3 = AC_1$. Thus, point $C_5$ on segment $A_4B_4$ satisfies $A_4C_5=AC_3$ and $B_4C_5=BC_3$. The rotation mapping $A_4 \to A$ and $B_4 \to B$ must map $C_5$ to $C_3$. Similarly, it maps $A_5 \to A_3$ and $B_5 \to B_3$. Therefore, $\triangle A_5B_5C_5 \\cong \triangle A_3B_3C_3$.",Prove that the triangles $A_2B_2C_2$ and $A_3B_3C_3$ are similar.,"From the previous step, $\triangle A_3B_3C_3 \\cong \triangle A_5B_5C_5$, so we prove $\triangle A_2B_2C_2 \\sim \triangle A_5B_5C_5$. We show their angles are equal. First, we establish that quadruples $(P, B_4, C_5, A_5)$, $(P, C_4, A_5, B_5)$, and $(P, A_4, B_5, C_5)$ are concyclic using angle chasing. Using these cyclic quadrilaterals, we express an angle of $\triangle A_5B_5C_5$: $\\angle(A_5B_5, C_5B_5) = \\angle(A_5C_4, PC_4) + \\angle(PA_4, C_5A_4)$. For $\triangle A_2B_2C_2$, $\\angle(A_2B_2, C_2B_2) = \\angle(A_2A_4, B_4A_4) + \\angle(B_4C_4, C_2C_4)$. By construction, the lines in these two sums are identical pairs (e.g., $A_2A_4$ is $PA_4$, $B_4A_4$ is $C_5A_4$). Thus, $\\angle(A_5B_5, C_5B_5) = \\angle(A_2B_2, C_2B_2)$. By cyclic permutation of indices, the triangles have equal corresponding angles and are similar, completing the proof."
2006n2,"\textbf{N2.} For $x \in (0,1)$ let $y \in (0,1)$ be the number whose $n$th digit after the decimal point is the $(2^n)$th digit after the decimal point of $x$. Show that if $x$ is rational then so is $y$.",2,"Let $d$ be a positive integer. Show that there exists a positive integer $w$ such that for all sufficiently large integers $n$, we have $2^{n+w} \equiv 2^n \\pmod{d}$.","Let the prime factorization of $d$ be $d = 2^u \cdot v$, where $v$ is odd. Since $\\gcd(2, v)=1$, by Euler's totient theorem, there exists a positive integer $w$ (e.g., $w=\\varphi(v)$) such that $2^w \\equiv 1 \\pmod{v}$. This implies $2^{n+w} = 2^n \\cdot 2^w \\equiv 2^n \\pmod{v}$ for all integers $n \\ge 0$. Also, for any $n \\ge u$, both $2^n$ and $2^{n+w}$ are divisible by $2^u$, so $2^{n+w} \\equiv 2^n \\equiv 0 \\pmod{2^u}$. Since $2^{n+w} - 2^n$ is a multiple of both $v$ and $2^u$, and $\\gcd(2^u, v) = 1$, it must be a multiple of their product $d$. Thus, for all $n \\ge u$, we have $2^{n+w} \\equiv 2^n \\pmod{d}$.","For $x \\in (0,1)$ let $y \\in (0,1)$ be the number whose $n$th digit after the decimal point is the $(2^n)$th digit after the decimal point of $x$. Show that if $x$ is rational then so is $y$.","A number is rational if and only if its decimal expansion is eventually periodic. Since $x$ is rational, its decimal expansion is eventually periodic with some period $d$ after some initial block of digits. This means that for sufficiently large indices $k_1, k_2$, if $k_1 \\equiv k_2 \\pmod{d}$, the $k_1$-th digit of $x$ equals the $k_2$-th digit. From the previous sub-problem, there exist integers $w>0$ and $N_1$ such that for all $n \\ge N_1$, we have $2^{n+w} \\equiv 2^n \\pmod{d}$. For $n$ large enough, both $2^n$ and $2^{n+w}$ will be indices within the periodic part of $x$'s decimal expansion. Therefore, for all sufficiently large $n$, the $(2^n)$-th digit of $x$ is equal to the $(2^{n+w})$-th digit of $x$. By definition of $y$, this means the $n$-th digit of $y$ is equal to the $(n+w)$-th digit of $y$. This shows that the decimal expansion of $y$ is eventually periodic, and thus $y$ is rational.",,,,
2006n3,"The sequence $f(1), f(2), f(3), \dots$ is defined by
\[
f(n) = \frac{1}{n} \left( \left\lfloor \frac{n}{1} \right\rfloor + \left\lfloor \frac{n}{2} \right\rfloor + \cdots + \left\lfloor \frac{n}{n} \right\rfloor \right),
\]
where $\lfloor x \rfloor$ denotes the integer part of $x$.

\begin{itemize}
\item[(a)] Prove that $f(n+1) > f(n)$ infinitely often.
\item[(b)] Prove that $f(n+1) < f(n)$ infinitely often.
\end{itemize}",3,"Let $d(k)$ be the number of positive divisors of an integer $k$. Prove that $f(n)$ is the arithmetic mean of the number of divisors of the first $n$ integers, i.e., $f(n) = \frac{1}{n} \sum_{k=1}^{n} d(k)$.","Let $g(n) = n f(n) = \sum_{k=1}^{n} \lfloor \frac{n}{k} \rfloor$. Consider the difference $g(n) - g(n-1) = \sum_{k=1}^{n} (\lfloor \frac{n}{k} \rfloor - \lfloor \frac{n-1}{k} \rfloor)$. The term $\lfloor \frac{n}{k} \rfloor - \lfloor \frac{n-1}{k} \rfloor$ is 1 if $k$ divides $n$ and 0 otherwise. Thus, the sum counts the number of divisors of $n$, so $g(n) - g(n-1) = d(n)$. Since $g(1)=d(1)=1$, it follows by induction that $g(n) = \sum_{k=1}^{n} d(k)$. Therefore, $f(n) = \frac{g(n)}{n} = \frac{1}{n} \sum_{k=1}^{n} d(k)$.","Show that $f(n+1) > f(n)$ is equivalent to $d(n+1) > f(n)$, and $f(n+1) < f(n)$ is equivalent to $d(n+1) < f(n)$.","Using the result from the previous sub-problem, we have $f(n+1) = \frac{1}{n+1} \sum_{k=1}^{n+1} d(k) = \frac{(\sum_{k=1}^{n} d(k)) + d(n+1)}{n+1} = \frac{n f(n) + d(n+1)}{n+1}$. The inequality $f(n+1) > f(n)$ is equivalent to $\frac{n f(n) + d(n+1)}{n+1} > f(n)$. Multiplying by $n+1$ gives $n f(n) + d(n+1) > (n+1) f(n) = n f(n) + f(n)$, which simplifies to $d(n+1) > f(n)$. The argument for $f(n+1) < f(n)$ being equivalent to $d(n+1) < f(n)$ is analogous.",Prove that $f(n+1) > f(n)$ infinitely often and $f(n+1) < f(n)$ infinitely often.,"Using the equivalences from the previous sub-problem, we need to show that $d(n+1) < f(n)$ and $d(n+1) > f(n)$ each hold for infinitely many $n$. 
(a) For $f(n+1) < f(n)$: Let $n+1 = p$, where $p$ is a prime number. Then $d(n+1)=2$. For $n \ge 6$, $f(n) = \frac{1}{n}\sum_{k=1}^n d(k) > \frac{d(1)+d(2)+d(3)+d(4)+d(5)+d(6)}{6} = \frac{1+2+2+3+2+4}{6} = \frac{14}{6} > 2$. Since there are infinitely many primes, there are infinitely many $n$ such that $n+1$ is prime and $n \ge 6$. For these $n$, $d(n+1) = 2 < f(n)$.
(b) For $f(n+1) > f(n)$: The sequence of divisor counts $d(k)$ is unbounded (e.g., $d(2^k) = k+1$). Thus, there are infinitely many integers $m$ such that $d(m) > \max\{d(1), \dots, d(m-1)\}$. Let $n+1=m$ for such an integer. Since $f(n)$ is the average of $d(1), \dots, d(n)$, we have $f(n) \le \max\{d(1), \dots, d(n)\}$. Therefore, for these infinitely many $n$, $d(n+1) > f(n)$.",,
2006n4,"Let $P$ be a polynomial of degree $n > 1$ with integer coefficients and let $k$ be any positive integer. Consider the polynomial $Q(x) = P(P(\ldots P(P(x)) \ldots ))$, with $k$ pairs of parentheses. Prove that $Q$ has no more than $n$ integer fixed points, i.e. integers satisfying the equation $Q(x) = x$.",4,"Let $P(x)$ be a polynomial with integer coefficients. Prove that for any distinct integers $u$ and $v$, the difference $u-v$ divides $P(u)-P(v)$.","Let $P(x) = \\sum_{i=0}^n a_i x^i$ with $a_i \\in \\mathbb{Z}$. Then $P(u) - P(v) = \\sum_{i=1}^n a_i (u^i - v^i)$. For each $i \\ge 1$, we can factor $u^i - v^i = (u-v)(u^{i-1} + u^{i-2}v + \\dots + v^{i-1})$. Since $u$ and $v$ are integers, the second factor is an integer. Thus, $u-v$ divides $u^i-v^i$ for each $i \\ge 1$. As all coefficients $a_i$ are integers, $u-v$ must divide the sum $\\sum_{i=1}^n a_i (u^i - v^i)$, which is equal to $P(u)-P(v)$.","Let $x_0$ be an integer fixed point of $Q(x)$, the $k$-th iterate of $P$. Prove that $x_0$ must also be a fixed point of the second iterate, i.e., $P(P(x_0))=x_0$.","Define a sequence by $x_{i+1}=P(x_i)$ for $i \\ge 0$. Since $Q(x_0)=x_0$, we have $x_k=x_0$. If $x_1=x_0$, then $P(x_0)=x_0$, and $P(P(x_0))=P(x_0)=x_0$. Now, assume $x_1 \neq x_0$. From the property that $u-v$ divides $P(u)-P(v)$, we have that $x_i-x_{i+1}$ divides $P(x_i)-P(x_{i+1}) = x_{i+1}-x_{i+2}$ for all $i \\ge 0$. This implies a chain of divisibility $x_0-x_1 \\mid x_1-x_2 \\mid \\dots \\mid x_{k-1}-x_k$. As $x_k=x_0$ and $x_{k+1}=P(x_k)=P(x_0)=x_1$, the chain closes with $x_{k-1}-x_k \\mid x_k-x_{k+1}=x_0-x_1$. Thus, all differences $|x_i-x_{i+1}|$ must be equal. Let $x_m$ be a term of minimum value in the cycle $\{x_0, ..., x_{k-1}\}$. Then $x_{m-1}-x_m > 0$ and $x_m-x_{m+1} < 0$. Since their absolute values are equal, we must have $x_{m-1}-x_m = -(x_m-x_{m+1})$, which simplifies to $x_{m-1}=x_{m+1}$. This implies the sequence has period 2. In particular, $x_2=x_0$, which means $P(P(x_0))=x_0$.",Assume there exists an integer $a$ such that $P(a) = b$ and $P(b) = a$ with $a \neq b$. Let $\\alpha$ be any integer satisfying $P(P(\\alpha)) = \\alpha$. Prove that $\\alpha + P(\\alpha) = a+b$.,"Let $\beta = P(\\alpha)$, so $P(\beta)=\\alpha$. Using the property that $u-v$ divides $P(u)-P(v)$, we have that $\\alpha-a$ divides $P(\\alpha)-P(a)=\beta-b$, and $\beta-b$ divides $P(\beta)-P(b)=\\alpha-a$. This implies $|\\alpha-a|=|\beta-b|$, so $\\alpha-a = \\pm(\beta-b)$. Similarly, $\\alpha-b$ divides $P(\\alpha)-P(b)=\beta-a$, and $\beta-a$ divides $P(\beta)-P(a)=\\alpha-b$. This implies $|\\alpha-b|=|\beta-a|$, so $\\alpha-b = \\pm(\beta-a)$. Suppose both relations hold with a plus sign: $\\alpha-a = \beta-b$ and $\\alpha-b = \beta-a$. Subtracting the second equation from the first gives $b-a = a-b$, implying $2a=2b$, which contradicts $a \neq b$. Therefore, at least one relation must hold with a minus sign. If $\\alpha-a = -(\beta-b)$ or $\\alpha-b = -(\beta-a)$, both simplify to $\\alpha+\beta = a+b$. Thus, $\\alpha+P(\\alpha) = a+b$.","Let $P$ be a polynomial of degree $n > 1$ with integer coefficients and let $k$ be any positive integer. Consider the polynomial $Q(x) = P(P(\\ldots P(P(x)) \\ldots ))$, with $k$ pairs of parentheses. Prove that $Q$ has no more than $n$ integer fixed points.","Let $x$ be an integer fixed point of $Q$, i.e., $Q(x)=x$. By the result of sub-problem 2, any such $x$ must also satisfy $P(P(x))=x$. We count the integer solutions to this equation. Case 1: All integer solutions to $P(P(x))=x$ are also solutions to $P(x)=x$. These are the integer roots of $P(x)-x=0$. Since $P(x)$ has degree $n > 1$, $P(x)-x$ is a polynomial of degree $n$ and has at most $n$ roots. Case 2: There exists an integer $a$ such that $P(P(a))=a$ but $P(a) \neq a$. Let $b=P(a)$, so $a \neq b$ and $P(b)=a$. By the result of sub-problem 3, any integer solution $\\alpha$ to $P(P(\\alpha))=\\alpha$ must satisfy $\\alpha+P(\\alpha)=a+b$. This means every integer fixed point of $Q$ is a root of the polynomial $F(x) = P(x)+x-(a+b)$. Since $P(x)$ has degree $n>1$, $F(x)$ is a polynomial of degree $n$, which has at most $n$ roots. In both cases, the number of integer fixed points is at most $n$."
2006n7,"Prove that, for every positive integer $n$, there exists an integer $m$ such that $2^m + m$ is divisible by $n$.",3,"Let $a > 1$ be an integer and let $k$ be the eventual period of the sequence $2^i \pmod a$. Prove that $d = \gcd(a, k) < a$.","The sequence of remainders $2^i \pmod a$ becomes periodic for sufficiently large $i$. Let the period be $k$. The set of values in the periodic part cannot include all $a$ residues modulo $a$. This is because the residue 0 either never appears, or if it does (only possible if $a$ is a power of 2), the sequence remains 0 forever, so the period is $k=1$. In neither case can the periodic part contain all $a$ residues. Thus, the number of distinct values in the period is less than $a$, which implies the period length $k$ must be less than $a$. Since $d = \gcd(a, k)$, it follows that $d \le k < a$.","Let $a > 1$, $k$ be the eventual period of $2^i \pmod a$, and $d = \gcd(a, k) < a$. Assume that for any integer $N$, there exist $d$ integers $b_0, \dots, b_{d-1} > N$ such that $2^{b_i} + b_i \equiv i \pmod d$ for each $i=0, \dots, d-1$. Show that the set of values $\{2^m+m \pmod a\}$, for suitably chosen $m$, forms a complete residue system modulo $a$.","Let $a' = a/d$. By assumption, we can choose $b_0, \dots, b_{d-1}$ large enough such that $2^{b_i+jk} \equiv 2^{b_i} \pmod a$ for any integer $j \ge 0$. Consider the $a'd = a$ numbers $m_{i,j} = b_i + jk$ for $i \in \{0, \dots, d-1\}$ and $j \in \{0, \dots, a'-1\}$. For these numbers, $2^{m_{i,j}} + m_{i,j} \equiv 2^{b_i} + b_i + jk \pmod a$. Suppose $2^{b_i} + b_i + j_1k \equiv 2^{b_l} + b_l + j_2k \pmod a$. Reducing this modulo $d$ gives $2^{b_i}+b_i \equiv 2^{b_l}+b_l \pmod d$, which means $i \equiv l \pmod d$, so $i=l$. The congruence simplifies to $j_1k \equiv j_2k \pmod a$. Since $\gcd(k/d, a/d)=1$, this implies $j_1 \equiv j_2 \pmod{a/d}$, so $j_1=j_2$. Thus, the $a$ values $\{2^{m_{i,j}}+m_{i,j} \pmod a\}$ are all distinct, forming a complete residue system modulo $a$.","Prove that, for every positive integer $n$, there exists an integer $m$ such that $2^m + m$ is divisible by $n$.","We prove by strong induction on $n$ the stronger claim that for any $n \ge 1$, the set of values $\{2^m+m \pmod n\}$ for sufficiently large $m$ covers all residues modulo $n$. The base case $n=1$ is trivial. Assume the claim holds for all integers less than $n$. Let $k$ be the eventual period of $2^i \pmod n$. From the result of the first sub-problem, $d = \gcd(n,k) < n$. By the inductive hypothesis, the claim holds for $d$. The second sub-problem provides the inductive step, showing that if the claim holds for $d$, it also holds for $n$. By induction, the claim is true for all $n$. This means for any $n$, the set of residues $\{2^m+m \pmod n\}$ includes $0$, so there exists an $m$ such that $2^m+m \equiv 0 \pmod n$.",,
2005p1,"Six points are chosen on the sides of an equilateral triangle $ABC$: $A_1, A_2$ on $BC$, $B_1$, $B_2$ on $CA$ and $C_1$, $C_2$ on $AB$, such that they are the vertices of a convex hexagon $A_1A_2B_1B_2C_1C_2$ with equal side lengths. Prove that the lines $A_1B_2, B_1C_2$ and $C_1A_2$ are concurrent.",2,"Prove that the triangle with vertices $A_2, B_2, C_2$ is equilateral.","Let $s$ be the side length of the hexagon. The sum of the vectors of the hexagon's sides is zero. The sum of vectors along the sides of $\triangle ABC$, $\overrightarrow{A_1A_2} + \overrightarrow{B_1B_2} + \overrightarrow{C_1C_2}$, is also zero because $A_1A_2=B_1B_2=C_1C_2=s$ and the unit vectors for the directions of an equilateral triangle's sides sum to zero. This implies $\overrightarrow{A_2B_1} + \overrightarrow{B_2C_1} + \overrightarrow{C_2A_1} = 0$. Since these three vectors have equal length $s$, the angle between any two is $120^\circ$. Let $D$ be the intersection of the lines $C_2A_1$ and $A_2B_1$. The angle between these lines is $60^\circ$, so $\angle A_1DB_1 = 60^\circ$. As $\angle A_1CB_1 = 60^\circ$, the quadrilateral $A_1DCB_1$ is cyclic. This implies that $\triangle C_2A_1A_2$ and $\triangle A_2B_1B_2$ are congruent, which gives $C_2A_2 = A_2B_2$. By symmetry, $A_2B_2 = B_2C_2$, and thus $\triangle A_2B_2C_2$ is equilateral.","Six points are chosen on the sides of an equilateral triangle $ABC$: $A_1, A_2$ on $BC$, $B_1$, $B_2$ on $CA$ and $C_1$, $C_2$ on $AB$, such that they are the vertices of a convex hexagon $A_1A_2B_1B_2C_1C_2$ with equal side lengths. Prove that the lines $A_1B_2, B_1C_2$ and $C_1A_2$ are concurrent.","From the first sub-problem, we know that $\triangle A_2B_2C_2$ is equilateral. Consider the line $C_1A_2$. The hexagon has equal side lengths, so $C_1B_2 = s$ and $C_1C_2 = s$. This means $\triangle C_1B_2C_2$ is isosceles, and $C_1$ must lie on the perpendicular bisector of the segment $B_2C_2$. Since $\triangle A_2B_2C_2$ is equilateral, $A_2B_2 = A_2C_2$, which means $A_2$ also lies on the perpendicular bisector of $B_2C_2$. Therefore, the line $C_1A_2$ is the perpendicular bisector of the side $B_2C_2$ of $\triangle A_2B_2C_2$. By a symmetrical argument, the lines $A_1B_2$ and $B_1C_2$ are the perpendicular bisectors of sides $C_2A_2$ and $A_2B_2$ respectively. The three perpendicular bisectors of the sides of a triangle are concurrent at its circumcenter.",,,,
2005p2,"Let $a_1, a_2, \dots$ be a sequence of integers with infinitely many positive and negative terms. Suppose that for every positive integer $n$ the numbers $a_1, a_2, \dots, a_n$ leave $n$ different remainders upon division by $n$. Prove that every integer occurs exactly once in the sequence.",2,"Prove that for any positive integer $n$, the set of numbers $\{a_1, a_2, \dots, a_n\}$ is a set of $n$ consecutive integers.","We prove this by induction on $n$. The base case $n=1$ is trivial, as $\{a_1\}$ is a set of 1 consecutive integer. Assume for induction that $\{a_1, \dots, a_k\}$ is a set of $k$ consecutive integers, say $S_k = \{m, m+1, \dots, M\}$, where $M-m+1=k$. By the problem's condition for $n=k+1$, the set $\{a_1, \dots, a_{k+1}\}$ must have distinct remainders modulo $k+1$. Since the numbers in $S_k$ are $k$ consecutive integers, their remainders modulo $k+1$ are distinct. Therefore, $a_{k+1} \pmod{k+1}$ must be the unique remainder in $\{0, 1, \dots, k\}$ that is not taken by any element of $S_k$. This unique remainder is congruent to both $m-1$ and $M+1$ modulo $k+1$. It can be shown that $|a_n| < n$ for $n>1$. Applying this property, $|a_{k+1}| \le k$. The only candidates for $a_{k+1}$ congruent to $m-1 \pmod{k+1}$ that could extend the consecutive block and satisfy this bound are $m-1$ and $M+1$. Thus, $a_{k+1}$ must be one of these two values. In either case, the new set $\{a_1, \dots, a_{k+1}\}$ is a set of $k+1$ consecutive integers, completing the induction.","Let $a_1, a_2, \dots$ be a sequence of integers with infinitely many positive and negative terms. Suppose that for every positive integer $n$ the numbers $a_1, a_2, \dots, a_n$ leave $n$ different remainders upon division by $n$. Prove that every integer occurs exactly once in the sequence.","From the first sub-problem, we know that for each $n$, the set $S_n = \{a_1, \dots, a_n\}$ consists of $n$ consecutive integers. This immediately implies that all terms in the sequence are distinct, otherwise $S_n$ for a sufficiently large $n$ would have fewer than $n$ elements. Let $m_n = \\min(S_n)$ and $M_n = \\max(S_n)$. The proof of the first part shows that $a_{n+1}$ is either $m_n - 1$ or $M_n + 1$. So at each step, the block of consecutive integers is extended by one at either its minimum or maximum end. The condition that the sequence has infinitely many positive and negative terms implies that both cases must occur infinitely often. This means that as $n \to \infty$, $m_n \to -\infty$ and $M_n \to \infty$. The set of all terms in the sequence is the union $\bigcup_{n=1}^{\\infty} S_n$. Since $S_n = [m_n, M_n]$ is an expanding interval of integers whose bounds go to $-\\infty$ and $+\\infty$, this union is the set of all integers, $\\mathbb{Z}$. As all terms are distinct and their union is $\\mathbb{Z}$, every integer appears exactly once in the sequence.",,,,
2005p3,"Let $x, y, z > 0$ satisfy $xyz\ge 1$. Prove that \[\frac{x^5-x^2}{x^5+y^2+z^2} + \frac{y^5-y^2}{x^2+y^5+z^2} + \frac{z^5-z^2}{x^2+y^2+z^5} \ge 0.\]",1,"Let $x, y, z > 0$ satisfy $xyz\ge 1$. Prove that \[\frac{x^5-x^2}{x^5+y^2+z^2} + \frac{y^5-y^2}{x^2+y^5+z^2} + \frac{z^5-z^2}{x^2+y^2+z^5} \ge 0.\]",,,,,,,
2005p5,"Let $ABCD$ be a fixed convex quadrilateral with $BC = DA$ and $BC \nparallel DA$. Let two variable points $E$ and $F$ lie of the sides $BC$ and $DA$, respectively, and satisfy $BE = DF$. The lines $AC$ and $BD$ meet at $P$, the lines $BD$ and $EF$ meet at $Q$, the lines $EF$ and $AC$ meet at $R$. Prove that the circumcircles of the triangles $PQR$, as $E$ and $F$ vary, have a common point other than $P$.",2,"Let $P = AC \cap BD$, and let $M$ be the second point of intersection of the circumcircles of $\triangle APD$ and $\triangle BPC$. Show that $M$ lies on the circumcircles of $\triangle ARF$ and $\triangle QDF$, where $Q=BD \cap EF$ and $R=AC \cap EF$.","The point $M$ is the center of a spiral similarity that maps $\triangle MAD$ to $\triangle MCB$. Since $DA=BC$, this similarity is a rotation. This rotation maps the segment $DA$ to $BC$, and because $DF=BE$, it also maps point $F$ to point $E$. Consequently, there are two further spiral similarities (which are also rotations) centered at $M$: one mapping the pair of points $(D, B)$ to $(F, E)$ and another mapping $(A, C)$ to $(F, E)$. From a key property of spiral similarities, if the center is $M$ and it maps $(X, Y)$ to $(X', Y')$, then $M$ is concyclic with $X, X'$ and the intersection of lines $XY$ and $X'Y'$. Applying this to our case, since $Q = DB \cap FE$, the points $M, Q, D, F$ are concyclic. Similarly, since $R = AC \cap FE$, the points $M, R, A, F$ are concyclic. Thus, $M$ lies on the circumcircles of $\triangle QDF$ and $\triangle ARF$.","Let $ABCD$ be a fixed convex quadrilateral with $BC = DA$ and $BC \nparallel DA$. Let two variable points $E$ and $F$ lie of the sides $BC$ and $DA$, respectively, and satisfy $BE = DF$. The lines $AC$ and $BD$ meet at $P$, the lines $BD$ and $EF$ meet at $Q$, the lines $EF$ and $AC$ meet at $R$. Prove that the circumcircles of the triangles $PQR$, as $E$ and $F$ vary, have a common point other than $P$.","Consider the complete quadrilateral formed by the four lines $AD, AC, BD, EF$. The circumcircles of the four triangles $(\triangle APD, \triangle ARF, \triangle QDF, \triangle PQR)$ formed by these lines are concurrent at a single point, the Miquel point. Let $M$ be the point defined in the first sub-problem. By its definition, $M$ lies on the circumcircle of $\triangle APD$. From the result of the first sub-problem, $M$ also lies on the circumcircles of $\triangle ARF$ and $\triangle QDF$. Since $M$ lies on three of these four concurrent circles, it must be their common Miquel point. Therefore, $M$ must also lie on the fourth circle, the circumcircle of $\triangle PQR$. The definition of $M$ depends only on the fixed quadrilateral $ABCD$, so $M$ is a fixed point. Thus, as $E$ and $F$ vary, all circumcircles of $\triangle PQR$ pass through the fixed point $M$.",,,,
2005p6,"In a mathematical competition, in which 6 problems were posed to the participants, every two of these problems were solved by more than 2/5 of the contestants. Moreover, no contestant solved all the 6 problems. Show that there are at least 2 contestants who solved exactly 5 problems each.",4,"Assume for contradiction that at most one contestant solved 5 problems. Let n be the total number of contestants and t_1, ..., t_15 be the integer counts of contestants solving each of the 15 pairs of problems. Establish a lower bound for each t_i.","Assume at most one contestant solved 5 problems. The condition that for each pair of problems more than 2/5 of contestants solved them translates to t_i > 2n/5 for i=1, ..., 15. Since each t_i must be an integer, we have the strict lower bound t_i >= floor(2n/5) + 1.","Under the assumption of at most one 5-problem solver, calculate the sum of the number of solvers over all 15 pairs of problems, sum(t_i), and show that this implies 2n+1 is a multiple of 5.","To establish a tight bound, we assume one contestant solved 5 problems and the other n-1 contestants each solved exactly 4 problems. The contestant with 5 solved problems contributes to C(5,2)=10 pairs. Each of the n-1 contestants with 4 solved problems contributes to C(4,2)=6 pairs. The total sum is sum(t_i) = 10 + 6(n-1) = 6n+4. Combining with t_i >= floor(2n/5) + 1, let 2n = 5q+r. The sum inequality 6n+4 >= 15(q+1) implies 3(5q+r)+4 >= 15q+15, which simplifies to 3r >= 11. The only possible integer value for r in {0,1,2,3,4} is r=4. Thus, 2n = 5q+4, which means 2n+1 is a multiple of 5.","Given that 2n+1 is a multiple of 5, let k=(2n+1)/5. Determine the exact values of the 15 counts t_1, ..., t_15.","From Part 2, 2n+1=5k for some integer k. The inequality t_i > 2n/5 is equivalent to t_i > (5k-1)/5 = k - 1/5. Since t_i is an integer, this implies t_i >= k. We also know from Part 2 that sum(t_i) = 6n+4. The minimum possible sum is 15k = 15(2n+1)/5 = 3(2n+1) = 6n+3. As the actual sum is 6n+4, which is one greater than the minimum, exactly one of the t_i values must be k+1 and the other fourteen must be k.",Show that there are at least 2 contestants who solved exactly 5 problems each.,"A linear congruence can be established between different t_i values by expressing them in terms of the number of contestants in each subgroup. For example, t_{45} is congruent to 1 + t_1 + t_2 + t_3 + t_{12} + t_{23} + t_{31} (mod 3). The set of values for the t variables is {k, k, ..., k, k+1}, as found in Part 3. Substituting these values into the congruence relation and its permutations leads to a contradiction. Depending on whether the term with value k+1 is included in a specific instance of the congruence, we obtain contradictory requirements on the value of k mod 3. This contradiction proves the initial assumption (of at most one 5-problem solver) was false. Therefore, there must be at least two contestants who solved exactly 5 problems."
2004p1,Let $ABC$ be an acute-angled triangle with $AB\neq AC$. The circle with diameter $BC$ intersects the sides $AB$ and $AC$ at $M$ and $N$ respectively. Denote by $O$ the midpoint of the side $BC$. The bisectors of the angles $\angle BAC$ and $\angle MON$ intersect at $R$. Prove that the circumcircles of the triangles $BMR$ and $CNR$ have a common point lying on the side $BC$.,3,"Let R be the intersection of the bisectors of angles $\angle BAC$ and $\angle MON$. Prove that the points A, M, R, N are concyclic.","The angle bisector of $\angle BAC$ intersects the circumcircle of $\triangle AMN$ at the midpoint of the arc $MN$ not containing $A$. The line $OR$ is the bisector of the angle $\angle MON$ in the isosceles triangle $\triangle MON$ (since $OM=ON$ are radii of the circle with diameter $BC$). Therefore, $OR$ is also the perpendicular bisector of the segment $MN$. The perpendicular bisector of a chord $MN$ also passes through the midpoint of the arc $MN$. Since both angle bisectors pass through the same point on the circumcircle of $\triangle AMN$, their intersection $R$ must lie on this circle. Thus, $A, M, R, N$ are concyclic.",Prove that the sum of the angles $\angle RMB$ and $\angle CNR$ is $180^\circ$.,"Let $\angle ABC = \beta$ and $\angle ACB = \gamma$. Since $O$ is the center of the circle on diameter $BC$, $\triangle OBM$ and $\triangle OCN$ are isosceles, giving $\angle OMB = \beta$ and $\angle ONC = \gamma$. As $R$ is on the angle bisector of $\angle MON$ in the isosceles $\triangle MON$, let $\angle RMO = \angle RNO = k$. From the concyclicity of A, M, R, N and the fact that AR bisects $\angle BAC$, it follows that $\angle RMN = \angle RAN = \angle BAC/2$. A key intermediate step is to show that $k = \angle BAC/2$. With this, we can write the required angles as $\angle RMB = \angle OMB + \angle RMO = \beta + k$ and $\angle CNR = \angle ONC + \angle RNO = \gamma + k$. The sum is $\angle RMB + \angle CNR = \beta + \gamma + 2k = \beta + \gamma + \angle BAC = 180^\circ$.",Let $ABC$ be an acute-angled triangle with $AB\neq AC$. The circle with diameter $BC$ intersects the sides $AB$ and $AC$ at $M$ and $N$ respectively. Denote by $O$ the midpoint of the side $BC$. The bisectors of the angles $\angle BAC$ and $\angle MON$ intersect at $R$. Prove that the circumcircles of the triangles $BMR$ and $CNR$ have a common point lying on the side $BC$.,"Let the circumcircle of $\triangle CNR$ intersect the side $BC$ at a point $K$. Since $C, N, R, K$ are concyclic, the quadrilateral $CNRK$ is cyclic. Therefore, $\angle RKB = 180^\circ - \angle RKC = \angle CNR$. From the previous sub-problem, we have shown that $\angle CNR + \angle RMB = 180^\circ$. Substituting, we get $\angle RKB + \angle RMB = 180^\circ$. This condition implies that the quadrilateral $BMRK$ is also cyclic. Thus, $K$ lies on the circumcircle of $\triangle BMR$. Since $K$ was defined to be on the side $BC$, this common point lies on $BC$, completing the proof.",,
2004p4,"Let $n \geq 3$ be an integer. Let $t_1, t_2, \dots , t_n$ be positive real numbers such that

\[n^2 + 1 > \left( t_1 + t_2 + ... + t_n \right) \left( \frac {1}{t_1} + \frac {1}{t_2} + ... + \frac {1}{t_n} \right).\]

Show that $t_i$, $t_j$, $t_k$ are side lengths of a triangle for all $i$, $j$, $k$ with $1 \leq i < j < k \leq n$.",2,"Let $t_1, t_2, t_3$ be positive real numbers such that $10 > (t_1+t_2+t_3)(\frac{1}{t_1}+\frac{1}{t_2}+\frac{1}{t_3})$. Show that $t_1, t_2, t_3$ are the side lengths of a triangle.","Assume for the sake of contradiction that $t_1, t_2, t_3$ do not form a triangle. Without loss of generality, let $t_3 \ge t_1 + t_2$. We can write $t_3 = t_1 + t_2 + k$ for some $k \ge 0$. The given expression is $(t_1+t_2+t_1+t_2+k)(\frac{1}{t_1}+\frac{1}{t_2}+\frac{1}{t_1+t_2+k}) = (2(t_1+t_2)+k)(\frac{1}{t_1}+\frac{1}{t_2}+\frac{1}{t_1+t_2+k})$. Expanding this, we get $2(t_1+t_2)(\frac{1}{t_1}+\frac{1}{t_2}) + k(\frac{1}{t_1}+\frac{1}{t_2}) + \frac{2(t_1+t_2)+k}{t_1+t_2+k}$. By Cauchy-Schwarz, $(t_1+t_2)(\frac{1}{t_1}+\frac{1}{t_2}) \\ge 4$. The expression is then $\\ge 8 + k(\frac{1}{t_1}+\frac{1}{t_2}) + \frac{2(t_1+t_2+k)-k}{t_1+t_2+k} = 10 + k(\frac{1}{t_1}+\frac{1}{t_2} - \frac{1}{t_1+t_2+k})$. Since $t_1, t_2 > 0$, we have $\frac{1}{t_1} > \frac{1}{t_1+t_2+k}$, so the term multiplying $k$ is positive. Thus the whole expression is $\\ge 10$, which contradicts the given condition. Therefore, $t_1, t_2, t_3$ must form a triangle.","Let $n \\geq 3$ be an integer. Let $t_1, t_2, \\dots , t_n$ be positive real numbers such that $n^2 + 1 > \\left( t_1 + t_2 + ... + t_n \right) \\left( \frac {1}{t_1} + \frac {1}{t_2} + ... + \frac {1}{t_n} \right)$. Show that $t_i$, $t_j$, $t_k$ are side lengths of a triangle for all $i$, $j$, $k$ with $1 \\leq i < j < k \\leq n$.","Let $f(S) = (\\sum_{t \\in S} t)(\\sum_{t \\in S} \frac{1}{t})$. We are given $f(\\{t_1, \\dots, t_n\\}) < n^2+1$. Consider any subset of $n-1$ elements, say $S' = \\{t_1, \\dots, t_{n-1}\\}$. We can write $f(\\{t_1, \\dots, t_n\\}) = f(S') + \\sum_{i=1}^{n-1}(\frac{t_n}{t_i} + \frac{t_i}{t_n}) + 1$. By AM-GM, $\frac{t_n}{t_i} + \frac{t_i}{t_n} \\ge 2$ for each $i$. Thus, $f(\\{t_1, \\dots, t_n\\}) \\ge f(S') + 2(n-1) + 1 = f(S') + 2n - 1$. This implies $f(S') < (n^2+1) - (2n-1) = (n-1)^2+1$. So any subset of $n-1$ numbers satisfies the condition. By repeatedly applying this reduction, any subset of 3 numbers, say $\\{t_i, t_j, t_k\\}$, must satisfy $(t_i+t_j+t_k)(\frac{1}{t_i}+\frac{1}{t_j}+\frac{1}{t_k}) < 3^2+1=10$. From the first sub-problem, this implies $t_i, t_j, t_k$ form a triangle. Since $i, j, k$ are arbitrary, the statement holds for all such triplets.",,,,
2004p5,"In a convex quadrilateral $ABCD$, the diagonal $BD$ bisects neither the angle $ABC$ nor the angle $CDA$. The point $P$ lies inside $ABCD$ and satisfies \[\angle PBC = \angle DBA \text{ and } \angle PDC = \angle BDA.\]

Prove that $ABCD$ is a cyclic quadrilateral if and only if $AP = CP.$",1,"In a convex quadrilateral $ABCD$, the diagonal $BD$ bisects neither the angle $ABC$ nor the angle $CDA$. The point $P$ lies inside $ABCD$ and satisfies \[\angle PBC = \angle DBA \text{ and } \angle PDC = \angle BDA.\]

Prove that $ABCD$ is a cyclic quadrilateral if and only if $AP = CP.$","Let $a = t_1$, $b = t_2$, $c = t_3$. Expand:
\[
n^2 + 1 > (t_1 + t_2 + \cdots + t_n) \left( \frac{1}{t_1} + \cdots + \frac{1}{t_n} \right)
\]
\[
= n + \sum_{1 \le i < j \le n} \left( \frac{t_i}{t_j} + \frac{t_j}{t_i} \right)
\]
\[
= n + \sum_{1 \le i < j \le n} \left( \frac{t_i}{t_j} + \frac{t_j}{t_i} \right)
\]
\[
\ge n + \sum_{1 \le i < j \le 3} \left( \frac{t_i}{t_j} + \frac{t_j}{t_i} \right) + \sum_{\substack{1 \le i < j \le n\\ j > 3}} 2
\]
\[
= n + 2\left( \binom{n}{2} - 3 \right) + \left( \frac{a}{b} + \frac{b}{a} \right) + \frac{a + b}{c} + \frac{c}{b} + \frac{c}{a}
\]
\[
\ge n + 2\left( \binom{n}{2} - 3 \right) + 2 + \frac{a + b}{c} + c \cdot \frac{4}{a + b}
\]

So, we conclude that
\[
\frac{a + b}{c} + \frac{4c}{a + b} < 5
\]

which rearranges to
\[
(4c - (a + b))(c - (a + b)) < 0.
\]

This is enough to imply $c \le a + b$.

\textbf{Remark.} A variant of the same argument allows one to improve the left-hand side to $(n + \sqrt{10} - 3)^2$. One does so by writing
\[
\text{RHS} \ge \left( \sqrt{(a + b + c) \left( \frac{1}{a} + \frac{1}{b} + \frac{1}{c} \right)} + (n - 3) \right)^2
\]
and estimating the square root as in the previous approach.

In addition, $(n + \sqrt{10} - 3)^2$ is best possible, as seen by taking $(a,b,c) = (2,1,1)$ and $t_4 = t_5 = \cdots = \frac{2}{5}\sqrt{10}$.",,,,,,
2003p1,"$S$ is the set  $\{1, 2, 3, \dots ,1000000\}$. Show that for any subset $A$ of $S$ with $101$ elements we can find $100$ distinct elements $x_i$ of $S$, such that the sets $\{a + x_i \mid a \in A\}$ are all pairwise disjoint.",2,"Let $S = \{1, 2, \dots, 10^6\}$ and $A \subset S$ with $|A|=101$. Let $X$ be a subset of $S$ of size $n$ with the property that for any two distinct $x_i, x_j \in X$, the sets $A+x_i = \{a+x_i \mid a \in A\}$ and $A+x_j = \{a+x_j \mid a \in A\}$ are disjoint. If $X$ is a maximal such set (i.e., no more elements from $S$ can be added to $X$ without violating the property), show that $|S| \le n(1 + |A|(|A|-1))$.","Let $X = \{x_1, \dots, x_n\}$ be a maximal set with the given property. By maximality, for any element $y \in S \setminus X$, the set $X \cup \{y\}$ does not have the property. This means that for any $y \in S \setminus X$, there exists some $x_i \in X$ such that $(A+y) \cap (A+x_i) \neq \emptyset$. This implies there exist $a, b \in A$ such that $y+a = x_i+b$, so $y = x_i+b-a$. Since $y \notin X$, we must have $a \neq b$. Therefore, every element of $S$ is either in $X$ or in the set $\{x_i+b-a \mid x_i \in X, a,b \in A, a \neq b\}$. By the union bound, $|S| \le |X| + |\{x_i+b-a \mid x_i \in X, a,b \in A, a \neq b\}|$. The size of the second set is at most $n \cdot |A| \cdot (|A|-1)$. So, $|S| \le n + n|A|(|A|-1) = n(1+|A|(|A|-1))$.","$S$ is the set  $\{1, 2, 3, \dots ,1000000\}$. Show that for any subset $A$ of $S$ with $101$ elements we can find $100$ distinct elements $x_i$ of $S$, such that the sets $\{a + x_i \mid a \in A\}$ are all pairwise disjoint.","Let $X$ be a maximal subset of $S$ with the property that the sets $\{a+x \mid a \in A\}$ are pairwise disjoint for all $x \in X$. Let $n=|X|$. From the first sub-problem, we have the inequality $|S| \le n(1+|A|(|A|-1))$. Plugging in the values $|S|=1000000$ and $|A|=101$, we get $1000000 \le n(1+101(100)) = 10101n$. Solving for $n$ gives $n \ge 1000000/10101 \approx 99.000...$. Since $n$ must be an integer, $n \ge 100$. This shows that any maximal set with the property has at least 100 elements. Thus, we can find a set of 100 such elements by taking any 100 elements from a maximal set.",,,,
2003p3,Each pair of opposite sides of convex hexagon has the property that the distance between their midpoints is $\frac{\sqrt{3}}{2}$ times the sum of their lengths. Prove that the hexagon is equiangular.,3,"Let the vertices of the hexagon be represented by vectors $\vec{A}, \vec{B}, \dots, \vec{F}$. Define $\vec{x} = (\vec{B}-\vec{A}) - (\vec{E}-\vec{D})$, $\vec{y} = (\vec{D}-\vec{C}) - (\vec{A}-\vec{F})$, and $\vec{z} = (\vec{F}-\vec{E}) - (\vec{C}-\vec{B})$. Using the given condition that the distance between the midpoints of any pair of opposite sides is $\frac{\sqrt{3}}{2}$ times the sum of their lengths, derive the inequalities $|\vec{y}-\vec{z}| \ge \sqrt{3}|\vec{x}|$, $|\vec{z}-\vec{x}| \ge \sqrt{3}|\vec{y}|$, and $|\vec{x}-\vec{y}| \ge \sqrt{3}|\vec{z}|$.","The distance between the midpoints of opposite sides $AB$ and $DE$ is $|\frac{\vec{D}+\vec{E}}{2} - \frac{\vec{A}+\vec{B}}{2}|$. It can be shown that this equals $|\frac{\vec{y}-\vec{z}}{2}|$. The problem states this distance is $\frac{\sqrt{3}}{2}(|\vec{B}-\vec{A}| + |\vec{E}-\vec{D}|)$. By the triangle inequality, $|\vec{B}-\vec{A}| + |\vec{E}-\vec{D}| \ge |(\vec{B}-\vec{A}) - (\vec{E}-\vec{D})| = |\vec{x}|$. Combining these, we get $|\frac{\vec{y}-\vec{z}}{2}| \ge \frac{\sqrt{3}}{2}|\vec{x}|$, which simplifies to $|\vec{y}-\vec{z}| \ge \sqrt{3}|\vec{x}|$. The other two inequalities are derived by cyclic permutation of the sides.","Given three vectors $\vec{x}, \vec{y}, \vec{z}$ in a plane satisfying the inequalities $|\vec{y}-\vec{z}| \ge \sqrt{3}|\vec{x}|$, $|\vec{z}-\vec{x}| \ge \sqrt{3}|\vec{y}|$, and $|\vec{x}-\vec{y}| \ge \sqrt{3}|\vec{z}|$, prove that these must be equalities, that $\vec{x}+\vec{y}+\vec{z}=\vec{0}$, and that $|\vec{x}|=|\vec{y}|=|\vec{z}|$.","Squaring the given inequalities yields $|\vec{y}|^2 - 2\vec{y}\cdot\vec{z} + |\vec{z}|^2 \ge 3|\vec{x}|^2$ and its cyclic permutations. Summing these three inequalities gives $2(|\vec{x}|^2+|\vec{y}|^2+|\vec{z}|^2) - 2(\vec{x}\cdot\vec{y}+\vec{y}\cdot\vec{z}+\vec{z}\cdot\vec{x}) \ge 3(|\vec{x}|^2+|\vec{y}|^2+|\vec{z}|^2)$. This simplifies to $-(|\vec{x}|^2+|\vec{y}|^2+|\vec{z}|^2) - 2(\vec{x}\cdot\vec{y}+\vec{y}\cdot\vec{z}+\vec{z}\cdot\vec{x}) \ge 0$, which is equivalent to $-|\vec{x}+\vec{y}+\vec{z}|^2 \ge 0$. Since a squared magnitude cannot be negative, we must have $\vec{x}+\vec{y}+\vec{z}=\vec{0}$ and all three initial inequalities must be equalities. Using $\vec{z}=-(\vec{x}+\vec{y})$ in the equality $|\vec{x}-\vec{y}|^2 = 3|\vec{z}|^2$ and its cyclic permutations leads to a system of equations which implies $|\vec{x}|=|\vec{y}|=|\vec{z}|$.",Each pair of opposite sides of convex hexagon has the property that the distance between their midpoints is $\frac{\sqrt{3}}{2}$ times the sum of their lengths. Prove that the hexagon is equiangular.,"From sub-problem 1 and 2, the given condition implies that the triangle inequality used, $|\vec{B}-\vec{A}| + |\vec{E}-\vec{D}| \ge |(\vec{B}-\vec{A}) - (\vec{E}-\vec{D})|$, must be an equality. This holds if and only if the vectors $\vec{B}-\vec{A}$ and $\vec{E}-\vec{D}$ are collinear and point in opposite directions. Thus, all pairs of opposite sides are parallel. From sub-problem 2, the vectors $\vec{x}, \vec{y}, \vec{z}$ (which are differences of opposite side vectors) have equal magnitude and sum to zero, meaning they are separated by $120^\circ$ angles. These two conditions combined imply that the vectors representing the sides of the hexagon must all have the same length, and the angle between consecutive side vectors (e.g., $\vec{A}-\vec{B}$ and $\vec{C}-\vec{B}$) is $120^\circ$. This means every internal angle of the hexagon is $120^\circ$, so the hexagon is equiangular.",,
2003p4,"Let $ABCD$ be a cyclic quadrilateral. Let $P$, $Q$, and $R$ be the feet of perpendiculars from $D$ to lines $\overline{BC}$, $\overline{CA}$, and $\overline{AB}$, respectively. Show that $PQ=QR$ if and only if the bisectors of angles $ABC$ and $ADC$ meet on segment $\overline{AC}$.",1,"Let $ABCD$ be a cyclic quadrilateral. Let $P$, $Q$, and $R$ be the feet of perpendiculars from $D$ to lines $\overline{BC}$, $\overline{CA}$, and $\overline{AB}$, respectively. Show that $PQ=QR$ if and only if the bisectors of angles $ABC$ and $ADC$ meet on segment $\overline{AC}$.","Let $\gamma$ denote the circumcircle of $ABCD$. The condition on bisectors is equivalent to 
\[
(AC;BD)_\gamma = -1.
\]
Meanwhile if $\infty$ denotes the point at infinity along Simson line $\overline{PQR}$ then $PQ = QR$ if and only if 
\[
(PR;Q\infty) = -1.
\]
Let rays $BQ$ and $DQ$ meet the circumcircle again at $F$ and $E$.

\textbf{Lemma (EGMO Proposition 4.1)} \quad Then $\overline{BE} \parallel \overline{PQR}$.

\textit{Proof.} Since $\angle DPR = \angle DAR = \angle DAB = \angle DEB$.

\[
\text{Now we have} \quad (PR;Q\infty) \overset{B}{=} (CA;FE)_\gamma \overset{Q}{=} (AC;BD)_\gamma
\]
as desired. \qed",,,,,,
2003p5,"Let $n$ be a positive integer and let $x_1 \le x_2 \le \cdots \le x_n$ be real numbers. Prove that

\[\left( \sum_{i=1}^{n}\sum_{j=i}^{n} |x_i-x_j|\right)^2 \le \frac{2(n^2-1)}{3}\sum_{i=1}^{n}\sum_{j=i}^{n}(x_i-x_j)^2\]

with equality if and only if $x_1, x_2, ..., x_n$ form an arithmetic sequence.",1,"Let $n$ be a positive integer and let $x_1 \le x_2 \le \cdots \le x_n$ be real numbers. Prove that

\[\left( \sum_{i=1}^{n}\sum_{j=i}^{n} |x_i-x_j|\right)^2 \le \frac{2(n^2-1)}{3}\sum_{i=1}^{n}\sum_{j=i}^{n}(x_i-x_j)^2\]

with equality if and only if $x_1, x_2, ..., x_n$ form an arithmetic sequence.","Let $d_1 = x_2 - x_1, \dots, d_{n-1} = x_n - x_{n-1}$. The inequality in question becomes:
\[
\left( \sum_i i(n-i)d_i \right)^2 \leq \frac{n^2 - 1}{3} \cdot \left( \sum_i i(n-i)d_i^2 + 2\sum_{i<j} i(n-j)d_i d_j \right).
\]

Clearing the square on the right-hand side we want to show
\[
\sum_{i<j} \left( 3ij(n-i)(n-j) - (n^2 - 1)i(n-j) \right) \cdot 2 d_i d_j \le \sum_i \left(n^2 - 1 - 3i(n - i) \right) \cdot i(n - i) d_i^2.
\]

We use AM-GM directly on $2d_i d_j \le d_i^2 + d_j^2$: this actually solves the problem. The annoying part is to check that the coefficients actually match:

\textbf{Claim (Big bash)} 閿熸枻鎷烽敓?For an index $1 \le k \le n-1$, we have
\[
\sum_{i<k} \left( 3ik(n-i)(n-k) - (n^2 - 1)i(n-k) \right)
+ \sum_{j>k} \left( 3kj(n-k)(n-j) - (n^2 - 1)k(n-j) \right)
= (n^2 - 1 - 3k(n-k)) \cdot k(n-k).
\]

\textit{Proof.} Rewrite as:
\[
3k(n-k) \left( -k(n-k) + \sum_i i(n-i) \right)
= (n^2 - 1)\left( (n-k) \sum_{i<k} i + k \sum_{j>k} (n-j) \right)
\]
\[
\Longleftrightarrow 3k(n-k) \sum_i i(n-i)
= (n^2 - 1)\left( (n-k) \sum_{i<k} i + k \sum_{j>k} (n-j) \right)
+ (n^2 - 1)k(n-k) - 3k^2(n-k)^2
\]
\[
\Longleftrightarrow 3k(n-k) \left( \sum_i i(n-i) \right)
= (n^2 - 1)\left( (n-k) \sum_{i<k} i + k \sum_{i<n-k} i \right)
\]

\[
\Longleftrightarrow 3k(n-k) \cdot \frac{(n-1)n(n+1)}{6}
= (n^2 - 1)k(n-k) \cdot \frac{n}{2}
\]

which is visibly true. \qed

Equality occurs only if all $d_i$ are equal because the coefficient of $d_i d_j$ is nonzero for any $i \le n/2$ and $j \ge n/2$.",,,,,,
2003p6,"Let $p$ be a prime number. Prove that there exists a prime number $q$ such that for every integer $n$, the number $n^p-p$ is not divisible by $q$.",3,Let $p$ and $q$ be primes with $q \equiv 1 \pmod p$. Show that the condition '$n^p-p$ is not divisible by $q$ for any integer $n$' is equivalent to the condition $p^{(q-1)/p} \not\equiv 1 \pmod q$.,"The condition that $n^p-p$ is not divisible by $q$ for any integer $n$ is equivalent to $p$ not being a $p$-th power residue modulo $q$. Since $q \equiv 1 \pmod p$, we have $q>p$, so $q \nmid p$. The criterion for an integer $a \not\equiv 0 \pmod q$ to be a $p$-th power residue modulo $q$ is $a^{(q-1)/p} \equiv 1 \pmod q$. Therefore, the desired condition is equivalent to $p^{(q-1)/p} \not\equiv 1 \pmod q$.",Let $p$ be a prime and let $\Phi_p(x) = \frac{x^p-1}{x-1}$. Prove that any prime divisor $q$ of $\Phi_p(p)$ satisfies $q \equiv 1 \pmod p$ and that the multiplicative order of $p$ modulo $q$ is exactly $p$.,"Let $q$ be a prime divisor of $\Phi_p(p)$. Then $p^p - 1 = (p-1)\Phi_p(p) \equiv 0 \pmod q$. The order of $p$ modulo $q$ must divide $p$, so it is 1 or $p$. If the order were 1, then $p \equiv 1 \pmod q$. This would imply $\Phi_p(p) \equiv \Phi_p(1) = p \pmod q$. Since $q \mid \Phi_p(p)$, it would follow that $q \mid p$, so $q=p$. But this leads to the contradiction $p \equiv 1 \pmod p$. Thus, the order of $p$ modulo $q$ must be $p$. By Fermat's Little Theorem, the order $p$ must divide $q-1$, which means $q \equiv 1 \pmod p$.","Let $p$ be a prime number. Prove that there exists a prime number $q$ such that for every integer $n$, the number $n^p-p$ is not divisible by $q$.","Consider $N = \Phi_p(p) = 1+p+\dots+p^{p-1}$. We have $N \equiv 1+p \pmod{p^2}$, so $N \not\equiv 1 \pmod{p^2}$. Assume all prime factors of $N$ are congruent to $1 \pmod{p^2}$. Then $N$ itself must be congruent to $1 \pmod{p^2}$, a contradiction. Thus, there exists a prime factor $q$ of $N$ such that $q \not\equiv 1 \pmod{p^2}$. By sub-problem 2, this $q$ satisfies $q \equiv 1 \pmod p$ and the order of $p$ mod $q$ is $p$. Since the order is $p$, the condition $p^{(q-1)/p} \not\equiv 1 \pmod q$ is equivalent to $p \nmid (q-1)/p$, which is $q \not\equiv 1 \pmod{p^2}$. Our chosen $q$ satisfies this. By sub-problem 1, this prime $q$ has the desired property.",,
2002p1,"$S$ is the set of all $(h,k)$ with $h,k$ non-negative integers such that $h + k < n$. Each element of $S$ is colored red or blue, so that if $(h,k)$ is red and $h' \le h,k' \le k$, then $(h',k')$ is also red. A type $1$ subset of $S$ has $n$ blue elements with different first member and a type $2$ subset of $S$ has $n$ blue elements with different second member. Show that there are the same number of type $1$ and type $2$ subsets.",3,"Let $a_i$ be the number of blue elements $(h,k)$ with $h=i$, and $b_k$ be the number of blue elements with $k=j$. Show that the problem is equivalent to proving that the multiset $\{a_0, a_1, \ldots, a_{n-1}\}$ is a permutation of the multiset $\{b_0, b_1, \ldots, b_{n-1}\}$.","A type 1 subset is formed by choosing one blue element for each distinct first member $h=0, \ldots, n-1$. There are $a_i$ choices for each $h=i$, so the total number of type 1 subsets is $\prod_{i=0}^{n-1} a_i$. Similarly, the number of type 2 subsets is $\prod_{k=0}^{n-1} b_k$. If the multiset $\{a_0, \ldots, a_{n-1}\}$ is a permutation of $\{b_0, \ldots, b_{n-1}\}$, their products are equal, proving the original statement.","Characterize any valid coloring by a non-increasing sequence of integers $c_0, \ldots, c_{n-1}$. Then, establish the base case for an inductive proof by showing that for the 'all blue' coloring, the multisets $\{a_i\}$ and $\{b_k\}$ are identical.","Let $c_i$ be the largest $k$ such that $(i,k)$ is red, or $c_i=-1$ if no such $k$ exists. The coloring rule implies $c_0 \ge c_1 \ge \dots \ge c_{n-1}$. We proceed by induction. The base case is when all $c_i = -1$, meaning all elements of $S$ are blue. In this case, $a_i$ is the total number of points with first member $i$, which is $n-i$. Similarly, $b_k$ is the total number of points with second member $k$, which is $n-k$. The multisets $\{a_0, \dots, a_{n-1}\}$ and $\{b_0, \dots, b_{n-1}\}$ are both $\{n, n-1, \dots, 1\}$ and thus are permutations of each other.","S is the set of all $(h,k)$ with $h,k$ non-negative integers such that $h + k < n$. Each element of $S$ is colored red or blue, so that if $(h,k)$ is red and $h' \le h,k' \le k$, then $(h',k')$ is also red. A type $1$ subset of $S$ has $n$ blue elements with different first member and a type $2$ subset of $S$ has $n$ blue elements with different second member. Show that there are the same number of type $1$ and type $2$ subsets.","We prove by induction on the coloring sequence $c_i$. Assume for a coloring defined by $(c_0, \ldots, c_i, -1, \ldots, -1)$ that the multisets of counts $\{a_j'\}$ and $\{b_j'\}$ are permutations. Consider changing $c_{i+1}$ from $-1$ to its final value $c$. The multiset of $a_j$ values changes by replacing $a'_{i+1}=n-i-1$ with $a''_{i+1}=n-i-c-2$. The multiset of $b_j$ values changes because for each $k \in \{0, \ldots, c\}$, $b_k$ is reduced by 1. For the coloring with $c_{i+1}=-1$, the values of $\{b'_0, \ldots, b'_c\}$ were $\{n-i-1, n-i-2, \ldots, n-i-c-1\}$. After changing $c_{i+1}$ to $c$, these become $\{n-i-2, \ldots, n-i-c-2\}$. This corresponds to removing $n-i-1$ and adding $n-i-c-2$ to the multiset. The change is identical for both multisets. Since they were permutations before the change, they remain so after. The base case was established in the previous step. By induction, the property holds for any valid coloring.",,
2002p4,Let $n>1$ be an integer and let $1=d_{1}<d_{2}<d_{3} \cdots <d_{r}=n$ be all of its positive divisors in increasing order. Show that \[d=d_1d_2+d_2d_3+ \cdots +d_{r-1}d_r <n^2\],1,Let $n>1$ be an integer and let $1=d_{1}<d_{2}<d_{3} \cdots <d_{r}=n$ be all of its positive divisors in increasing order. Show that \[d=d_1d_2+d_2d_3+ \cdots +d_{r-1}d_r <n^2\],,,,,,,
2002p6,"Let $n \ge 3$ be a positive integer. Let $C_1,C_2,...,C_n$ be unit circles in the plane, with centers $O_1,O_2,...,O_n$ respectively. If no line meets more than two of the circles, prove that

\[\sum_{1\le i< j \le n}^{}\frac{1}{O_iO_j}\le\frac{(n-1)\pi}{4}\]",4,"For any distinct indices $i, j, m$, prove that the angle $\angle O_i O_m O_j$ satisfies $\angle O_i O_m O_j \ge 2/O_mO_i$. This also holds for the external angle at $O_m$ between lines $O_mO_i$ and $O_mO_j$.","The condition that no line intersects more than two circles implies that the distance from any center $O_i$ to the line connecting two other centers $O_m$ and $O_j$ must be at least 2. This distance is $O_mO_i \sin(\angle O_iO_mO_j)$. Thus, $O_mO_i \sin(\angle O_iO_mO_j) \ge 2$. Since $\theta \ge \sin\theta$ for any angle $\theta \in [0, \pi]$, we conclude that $\angle O_iO_mO_j \ge \sin(\angle O_iO_mO_j) \ge 2/O_mO_i$. This argument applies to any angle formed by the lines, so it holds for the external angle as well.","Let $O_b$ be a center on the convex hull of \{$O_1, \dots, O_n\}$. Let $\angle_b$ be the interior angle of the convex hull at vertex $O_b$. Show that $\sum_{i \ne b} \frac{2}{O_bO_i} \le \frac{n-1}{n-2} \angle_b$.","Order the other centers angularly around $O_b$. Let the angles between consecutive rays $O_bO_i$ be $\theta_1, \dots, \theta_{n-2}$, which sum to $\angle_b$. From Sub-problem 1, for each $i \ne b$, $2/O_bO_i$ is bounded by the one or two adjacent angles $\theta_k$. Summing these inequalities carefully yields $\sum_{i\ne b} \frac{2}{O_bO_i} \le \sum_{k=1}^{n-2} \theta_k + \kappa$, where $\kappa$ is the smallest of these angles. Since $\kappa \le \frac{1}{n-2} \sum \theta_k = \frac{\angle_b}{n-2}$, the sum is bounded by $\angle_b + \frac{\angle_b}{n-2} = \frac{n-1}{n-2} \angle_b$.","For any center $O_b$, whether or not it is on the convex hull, show that $\sum_{i \ne b} \frac{2}{O_bO_i} \le \frac{n-1}{n-2} \pi$.","The argument is analogous to that of Sub-problem 2. We order the other centers $O_i$ ($i \ne b$) by the angle of the line $O_b O_i$. As we rotate a line through $O_b$, it sweeps through all other points in a rotation of $\pi$ radians. The sum of the angles between consecutive lines is $\pi$. Using the inequalities from Sub-problem 1, which apply to any angle between the lines, the same summation technique yields the bound $\sum_{i \ne b} \frac{2}{O_bO_i} \le \frac{n-1}{n-2} \pi$.",Prove that $\sum_{1\le i< j \le n}^{}\frac{1}{O_iO_j}\le\frac{(n-1)\pi}{4}$.,"Let $S = \sum_{1\le i< j \le n} \frac{1}{O_iO_j}$. Summing the results from Sub-problems 2 and 3 over all centers $b=1, \dots, n$, we get $4S = \sum_{b=1}^n \sum_{i \ne b} \frac{2}{O_bO_i}$. Let $r$ be the number of centers on the convex hull $\mathcal{H}$. The sum is bounded by $\sum_{b \in \mathcal{H}} \frac{n-1}{n-2}\angle_b + \sum_{b \notin \mathcal{H}} \frac{n-1}{n-2}\pi$. The sum of interior angles of the convex hull is $(r-2)\pi$, and there are $n-r$ points inside. Thus, $4S \le \frac{n-1}{n-2}((r-2)\pi + (n-r)\pi) = \frac{n-1}{n-2}(n-2)\pi = (n-1)\pi$. Therefore, $S \le \frac{(n-1)\pi}{4}$."
2001p1,"Consider an acute triangle $\triangle ABC$. Let $P$ be the foot of the altitude of triangle $\triangle ABC$ issuing from the vertex $A$, and let $O$ be the circumcenter of triangle $\triangle ABC$. Assume that $\angle C \geq \angle B+30^{\circ}$. Prove that $\angle A+\angle COP < 90^{\circ}$.",1,"Consider an acute triangle $\triangle ABC$. Let $P$ be the foot of the altitude of triangle $\triangle ABC$ issuing from the vertex $A$, and let $O$ be the circumcenter of triangle $\triangle ABC$. Assume that $\angle C \geq \angle B+30^{\circ}$. Prove that $\angle A+\angle COP < 90^{\circ}$.","The conclusion rewrites as
\[
\angle COP < 90^\circ - \angle A = \angle OCP
\iff PC < PO
\iff PC^2 < PO^2
\iff PC^2 < R^2 - PB \cdot PC
\iff PC \cdot BC < R^2
\iff ab \cos C < R^2
\iff \sin A \sin B \cos C < \frac{1}{4}.
\]

Now
\[
\cos C \sin B = \frac{1}{2} (\sin(C + B) - \sin(C - B)) \le \frac{1}{2} \left(1 - \frac{1}{2} \right) = \frac{1}{4}
\]
which finishes when combined with \( \sin A < 1 \).",,,,,,
2001p2,"Let $a,b,c$ be positive real numbers. Prove that $\frac{a}{\sqrt{a^{2}+8bc}}+\frac{b}{\sqrt{b^{2}+8ca}}+\frac{c}{\sqrt{c^{2}+8ab}}\ge 1$.",1,"Let $a,b,c$ be positive real numbers. Prove that $\frac{a}{\sqrt{a^{2}+8bc}}+\frac{b}{\sqrt{b^{2}+8ca}}+\frac{c}{\sqrt{c^{2}+8ab}}\ge 1$.","Firstly, $a^{2}+8bc=(a^{2}+2bc)+6bc \leq^{AG} (a^{2}+b^{2}+c^{2})+6bc=S+6bc$ (where $S=a^{2}+b^{2}+c^{2}$) and its cyclic variations. Next note that $(a,b,c)$ and $\left( \frac{1}{\sqrt{S+6bc}}, \frac{1}{\sqrt{S+6ca}}, \frac{1}{\sqrt{S+6ab}} \right)$ are similarly oriented sequences. Thus \[\sum_{cyc} \frac{a}{\sqrt{a^{2}+8bc}} \ge \sum_{cyc} \frac{a}{\sqrt{S+6bc}}\]\[\geq ^{Cheff} \frac{1}{3}(a+b+c)\left( \frac{1}{\sqrt{S+6bc}}+\frac{1}{\sqrt{S+6ca}}+\frac{1}{\sqrt{S+6ab}} \right)\]\[\geq^{AH}\frac{1}{3}(a+b+c) \left( \frac{9}{\sqrt{S+6bc}+\sqrt{S+6ca}+\sqrt{S+6ab}} \right)\]\[\geq^{QA} (a+b+c) \sqrt{\frac{3}{(S+6bc)+(S+6ca)+(S+6ab)}}\]\[=(a+b+c)\sqrt{\frac{3}{3(a+b+c)^{2}}}=1\] Hence the inequality has been established. Equality holds if $a=b=c$.",,,,,,
2001p3,"Twenty-one girls and twenty-one boys took part in a mathematical competition. It turned out that each contestant solved at most six problems, and for each pair of a girl and a boy, there was at least one problem that was solved by both the girl and the boy. Show that there is a problem that was solved by at least three girls and at least three boys.",3,"For any given girl, show that she shares a problem with at least 11 boys, where each such shared problem was solved by at least three boys.","Let g be a girl. Partition the (at most 6) problems she solved, P_g, into P_h (solved by 鈮? boys) and P_l (solved by <3 boys). Let B_h be the set of boys who share a problem from P_h with g. Every boy must share a problem with g from either P_h or P_l. The set of boys who share *only* problems from P_l is a subset of the union of boys who solved problems in P_l, which has a maximum size of 2 * |P_l| 鈮?12. If we assume |B_h| < 11 (i.e., |B_h| 鈮?10), then at least 21 - 10 = 11 boys must share problems *only* from P_l. This requires 11 鈮?2 * |P_l|, so |P_l| must be 6. If |P_l|=6, then P_h is empty and B_h is empty. Then all 21 boys must share problems only from P_l, requiring 21 鈮?2 * |P_l| = 12, a contradiction. Thus, for each girl, |B_h| 鈮?11.",Assume that no problem was solved by at least three girls and at least three boys. Show that there must be a boy who solved at least 6 problems that were each solved by at least three boys.,"Let P_sp be the set of problems solved by at least 3 boys. The assumption means that for any p in P_sp, it is solved by fewer than 3 girls (g(p) 鈮?2). Let's count the number of pairs (g, b) where girl g and boy b share a problem in P_sp. From sub-problem 1, each of the 21 girls contributes at least 11 such pairs, for a total of at least 21 * 11 = 231. This count is also less than or equal to the sum over all problems p in P_sp of g(p)b(p). Using our assumption, this sum is at most 危 2*b(p) = 2 * N, where N is the total number of times a boy solved a problem from P_sp. Thus, 231 鈮?2N, so N 鈮?116. If every boy solved at most 5 problems from P_sp, the total N would be at most 21 * 5 = 105. This is a contradiction. Therefore, at least one boy must have solved at least 6 problems from P_sp.","Twenty-one girls and twenty-one boys took part in a mathematical competition. It turned out that each contestant solved at most six problems, and for each pair of a girl and a boy, there was at least one problem that was solved by both the girl and the boy. Show that there is a problem that was solved by at least three girls and at least three boys.","Assume for contradiction that no such problem exists. From sub-problem 2, this assumption implies there is a boy, b_0, who solved a set of k 鈮?6 problems, P_b0, all of which were solved by at least 3 boys. For each of the 21 girls, she must share at least one problem with b_0 from his set P_b0. By the Pigeonhole Principle, with 21 girls (pigeons) and k 鈮?6 problems (holes), at least one problem in P_b0 must have been solved by at least 鈱?1/k鈱?鈮?鈱?1/6鈱?= 4 girls. Let this problem be p. We have found a problem p that was solved by at least 4 girls (and thus at least 3 girls) and is in P_b0, meaning it was also solved by at least 3 boys. This contradicts our initial assumption. Therefore, such a problem must exist.",,
2001p4,"\textbf{Let } n > 1 \text{ be an odd integer and let } c_1, c_2, \ldots, c_n \text{ be integers. For each permutation } a = (a_1, a_2, \ldots, a_n) \text{ of } \{1,2,\ldots,n\}, \text{ define } S(a) = \sum_{i=1}^{n} c_i a_i. \text{ Prove that there exist two permutations } a \ne b \text{ of } \{1,2,\ldots,n\} \text{ such that } n! \text{ is a divisor of } S(a) - S(b).",2,"Let n > 1 be an integer, c_1, \ldots, c_n be integers, and for each permutation a = (a_1, \ldots, a_n) of \{1, \ldots, n\}, let S(a) = \sum_{i=1}^{n} c_i a_i. Calculate the sum of S(a) over all n! permutations, \sum_a S(a).","We can swap the order of summation: \sum_a S(a) = \sum_a \sum_{i=1}^{n} c_i a_i = \sum_{i=1}^{n} c_i \left(\sum_a a_i\right). For any fixed position i, each number k \in \{1, \ldots, n\} appears as a_i in exactly (n-1)! permutations. Thus, the inner sum is \sum_a a_i = (n-1)! \sum_{k=1}^{n} k = (n-1)! \frac{n(n+1)}{2} = n! \frac{n+1}{2}. Substituting this back, we get \sum_a S(a) = \sum_{i=1}^{n} c_i \left(n! \frac{n+1}{2}\right) = n! \frac{n+1}{2} \sum_{i=1}^{n} c_i.","Let n > 1 be an odd integer and let c_1, c_2, \ldots, c_n be integers. For each permutation a = (a_1, a_2, \ldots, a_n) of \{1,2,\ldots,n\}, define S(a) = \sum_{i=1}^{n} c_i a_i. Prove that there exist two permutations a \ne b of \{1,2,\ldots,n\} such that n! is a divisor of S(a) - S(b).","Assume for contradiction that all S(a) are distinct modulo n!. Then the set of S(a) values over all n! permutations forms a complete residue system modulo n!. The sum of these values is congruent to the sum of \{1, 2, \ldots, n!\} modulo n!, which is \frac{n!(n!+1)}{2}. From the previous sub-problem, \sum_a S(a) = n! \frac{n+1}{2} \sum_{i=1}^{n} c_i. Since n is odd, n+1 is even, so \frac{n+1}{2} is an integer. This implies \sum_a S(a) is a multiple of n!, so \sum_a S(a) \equiv 0 \pmod{n!}. This leads to the congruence \frac{n!(n!+1)}{2} \equiv 0 \pmod{n!}, which implies n! divides \frac{n!(n!+1)}{2}. This is only possible if \frac{n!+1}{2} is an integer. But for n > 1, n! is even, so n!+1 is odd, and \frac{n!+1}{2} is not an integer. This is a contradiction. Therefore, there must exist two distinct permutations a and b such that S(a) \equiv S(b) \pmod{n!}.",,,,
2001p6,$K > L > M > N$ are positive integers such that $KM + LN = (K + L - M + N)(-K + L + M + N)$. Prove that $KL + MN$ is not prime.,1,$K > L > M > N$ are positive integers such that $KM + LN = (K + L - M + N)(-K + L + M + N)$. Prove that $KL + MN$ is not prime.,"First, $(KL+MN)-(KM+LN)=(K-N)(L-M)>0$ as $K>N$ and $L>M$. Thus, $KL+MN>KM+LN$.

Similarly, $(KM+LN)-(KN+LM)=(K-L)(M-N)>0$ since $K>L$ and $M>N$. Thus, $KM+LN>KN+LM$.

Putting the two together, we have \[KL+MN>KM+LN>KN+LM\]

Now, we have: \[(K+L-M+N)(-K+L+M+N)=KM+LN\]\[-K^2+KM+L^2+LN+KM-M^2+LN+N^2=KM+LN\]\[L^2+LN+N^2=K^2-KM+M^2\] So, we have: \[(KM+LN)(L^2+LN+N^2)=KM(L^2+LN+N^2)+LN(L^2+LN+N^2)\]\[=KM(L^2+LN+N^2)+LN(K^2-KM+M^2)\]\[=KML^2+KMN^2+K^2LN+LM^2N\]\[=(KL+MN)(KN+LM)\] Thus, it follows that \[(KM+LN) \mid (KL+MN)(KN+LM).\] Now, since $KL+MN>KM+LN$ if $KL+MN$ is prime, then there are no common factors between the two. So, in order to have \[(KM+LN)\mid (KL+MN)(KN+LM),\] we would have to have \[(KM+LN) \mid (KN+LM).\] This is impossible as $KM+LN>KN+LM$. Thus, $KL+MN$ must be composite.",,,,,,
2000p1,"Two circles $G_1$ and $G_2$ intersect at two points $M$ and $N$. Let $AB$ be the line tangent to these circles at $A$ and $B$, respectively, so that $M$ lies closer to $AB$ than $N$. Let $CD$ be the line parallel to $AB$ and passing through the point $M$, with $C$ on $G_1$ and $D$ on $G_2$. Lines $AC$ and $BD$ meet at $E$; lines $AN$ and $CD$ meet at $P$; lines $BN$ and $CD$ meet at $Q$. Show that $EP=EQ$.",2,Let the line $CD$ intersect lines $AN$ and $BN$ at $P$ and $Q$ respectively. Prove that $M$ is the midpoint of the segment $PQ$.,"Let the line containing the common chord $MN$ intersect the tangent line $AB$ at $X$. By the power of a point theorem with respect to circle $G_1$, we have $XA^2 = XM \cdot XN$. Similarly, for circle $G_2$, $XB^2 = XM \cdot XN$. This implies $XA^2 = XB^2$, so $XA=XB$, meaning $X$ is the midpoint of $AB$. Since $CD$ is parallel to $AB$, triangles $\triangle NMP$ and $\triangle NXA$ are similar, as are triangles $\triangle NMQ$ and $\triangle NXB$. From these similarities, we get the proportions $\frac{MP}{XA} = \frac{NM}{NX}$ and $\frac{MQ}{XB} = \frac{NM}{NX}$. As $XA=XB$, it follows that $MP=MQ$. Thus, $M$ is the midpoint of $PQ$.",Show that $EP=EQ$.,"We first prove that the point $E$ coincides with the point $M$. Since $AB \parallel CD$, triangles $\triangle EAB$ and $\triangle ECD$ are similar. This implies $\angle EAB = \angle ECD$ and $\angle EBA = \angle EDC$. By the alternate segment theorem on $G_1$, $\angle BAM = \angle ANM$. As $A,C,M,N$ are concyclic, $\angle ANM = \angle ACM$. Thus, $\angle BAM = \angle ACM$, which is the same as $\angle ECD$. Combining this with the similarity result, we get $\angle EAB = \angle BAM$, which implies that $A, M, E$ are collinear. Similarly, for $G_2$, $\angle ABM = \angle BNM = \angle BDM$. $\angle BDM$ is the same as $\angle EDC$. As $\angle EBA = \angle EDC$, we have $\angle EBA = \angle ABM$, implying $B, M, E$ are collinear. Since $M$ lies on both line $AE$ and line $BE$, and $A, B, M$ are not collinear, it must be that $E=M$. The problem then becomes showing $MP=MQ$. This was proven in the first sub-problem. Thus, $EP=EQ$.",,,,
2000p2,"Let $a, b, c$ be positive real numbers with $abc=1$. Show that

\[\left( a-1+\frac{1}{b} \right)\left( b-1+\frac{1}{c} \right)\left( c-1+\frac{1}{a} \right) \le 1\]",2,"Let $a, b, c$ be positive real numbers with $abc=1$. Show that the inequality $\left( a-1+\frac{1}{b} \right)\left( b-1+\frac{1}{c} \right)\left( c-1+\frac{1}{a} \right) \le 1$ can be rewritten as $(y+z-x)(z+x-y)(x+y-z) \le xyz$ by using the substitution $a = x/y, b = y/z, c = z/x$ for some positive real numbers $x, y, z$.","The condition $abc=1$ is automatically satisfied by the substitution $a = x/y, b = y/z, c = z/x$. Substituting these into the left-hand side of the inequality gives:
\[\left( \frac{x}{y}-1+\frac{z}{y} \right)\left( \frac{y}{z}-1+\frac{x}{z} \right)\left( \frac{z}{x}-1+\frac{y}{x} \right)\]
\[= \left( \frac{x-y+z}{y} \right)\left( \frac{y-z+x}{z} \right)\left( \frac{z-x+y}{x} \right) = \frac{(x-y+z)(y-z+x)(z-x+y)}{xyz}\]
So the original inequality is equivalent to $\frac{(x-y+z)(y-z+x)(z-x+y)}{xyz} \le 1$. Since $x,y,z>0$, this is equivalent to $(y+z-x)(z+x-y)(x+y-z) \le xyz$.","Let $a, b, c$ be positive real numbers with $abc=1$. Show that
\[\left( a-1+\frac{1}{b} \right)\left( b-1+\frac{1}{c} \right)\left( c-1+\frac{1}{a} \right) \le 1\]","From the first sub-problem, we need to prove $(y+z-x)(z+x-y)(x+y-z) \le xyz$ for some positive $x,y,z$. Let $u = y+z-x$, $v = z+x-y$, $w = x+y-z$. If one of these quantities is negative, the left-hand side is negative (at most one can be negative) while the right-hand side $xyz$ is positive, so the inequality holds. If all quantities $u,v,w$ are non-negative, then we have $u+v=2z, v+w=2x, w+u=2y$. By AM-GM, we have $2x = v+w \ge 2\sqrt{vw}$, $2y = w+u \ge 2\sqrt{wu}$, and $2z = u+v \ge 2\sqrt{uv}$. Multiplying these three inequalities yields $(2x)(2y)(2z) \ge (2\sqrt{vw})(2\sqrt{wu})(2\sqrt{uv})$, which simplifies to $8xyz \ge 8\sqrt{u^2v^2w^2} = 8uvw$. Therefore, $xyz \ge uvw$, proving the inequality.",,,,
2000p6,"Let $\overline{AH_1}$, $\overline{BH_2}$, and $\overline{CH_3}$ be the altitudes of an acute triangle $ABC$. The incircle $\omega$ of triangle $ABC$ touches the sides $BC$, $CA$, and $AB$ at $T_1$, $T_2$, and $T_3$, respectively. Consider the reflections of the lines $H_1H_2$, $H_2H_3$, and $H_3H_1$ with respect to the lines $T_1T_2$, $T_2T_3$, and $T_3T_1$. Prove that these images form a triangle whose vertices line on $\omega$.",3,"Let the incircle $\omega$ of $\triangle ABC$ be the unit circle in the complex plane, with tangency points $T_1, T_2, T_3$ at complex coordinates $a, b, c$ respectively. If $H_1$ is the foot of the altitude from vertex $A$ to side $BC$, find the coordinate of $H_1$ in terms of $a, b, c$.","The vertex $A$ is the intersection of tangents at $b$ and $c$, so its coordinate is $A = \frac{2bc}{b+c}$. The side $BC$ is the tangent to the unit circle at $a$. The foot of the altitude $H_1$ is the projection of $A$ onto this tangent line. Its coordinate is given by the formula $H_1 = \frac{1}{2}(A + a + a - a^2 \bar{A})$. Substituting the expressions for $A$ and $\bar{A}=\frac{2}{b+c}$, we calculate $H_1 = \frac{ab+bc+ca-a^2}{b+c}$.","Using the complex number setup and the coordinate for $H_1$ from the previous step, show that the reflection of the point $H_1$ with respect to the line $T_1T_2$ lies on the line passing through the points $ca/b$ and $cb/a$ on the incircle $\omega$.","The line $T_1T_2$ passes through $a$ and $b$ on the unit circle. The reflection of a point $z$ across this line is $z' = a+b-ab\bar{z}$. For $z=H_1$, the reflection is $H_1' = a+b-ab\overline{H_1} = \frac{c(a^2+b^2)}{a(b+c)}$. A point $p$ lies on the line through unit-modulus points $z_1, z_2$ if $p+z_1z_2\bar{p} = z_1+z_2$. For the line through $ca/b$ and $cb/a$, we must check if $H_1' + c^2\overline{H_1'} = ca/b+cb/a$. The calculation $H_1' + c^2\overline{H_1'} = \frac{c(a^2+b^2)}{a(b+c)} + c^2 \frac{a^2+b^2}{ab(b+c)} = \frac{c(a^2+b^2)}{ab} = \frac{ca}{b}+\frac{cb}{a}$ confirms this.","Let $\overline{AH_1}$, $\overline{BH_2}$, and $\overline{CH_3}$ be the altitudes of an acute triangle $ABC$. The incircle $\omega$ of triangle $ABC$ touches the sides $BC$, $CA$, and $AB$ at $T_1$, $T_2$, and $T_3$, respectively. Consider the reflections of the lines $H_1H_2$, $H_2H_3$, and $H_3H_1$ with respect to the lines $T_1T_2$, $T_2T_3$, and $T_3T_1$. Prove that these images form a triangle whose vertices line on $\omega$.","Let $\omega$ be the unit circle and $T_1,T_2,T_3$ be $a,b,c$. The reflection of $H_1$ across line $T_1T_2$ lies on the line $L_1$ through $ca/b$ and $cb/a$. A symmetric argument holds for $H_2$, so the reflection of line $H_1H_2$ is $L_1$. By cyclic permutation of $(a,b,c)$, the reflected line of $H_2H_3$ w.r.t. $T_2T_3$ is $L_2$ through $ab/c$ and $ac/b$, and the reflected line of $H_3H_1$ w.r.t. $T_3T_1$ is $L_3$ through $bc/a$ and $ba/c$. The vertices of the new triangle are the intersections of these lines. The equations for $L_1$ and $L_2$ are $z+c^2\bar{z} = c(a/b+b/a)$ and $z+a^2\bar{z} = a(b/c+c/b)$. Solving this system yields the intersection point $z=ac/b$. By symmetry, the other vertices are $ab/c$ and $bc/a$. These three vertices have modulus 1, and therefore lie on $\omega$.",,
1999p5,"Two circles $G_{1}$ and $G_{2}$ are contained inside the circle $G$, and are tangent to $G$ at the distinct points $M$ and $N$, respectively. $G_{1}$ passes through the center of $G_{2}$. The line passing through the two points of intersection of $G_{1}$ and $G_{2}$ meets $G$ at $A$ and $B$. The lines $MA$ and $MB$ meet $G_{1}$ at $C$ and $D$, respectively.

Prove that $CD$ is tangent to $G_{2}$.",1,"Two circles $G_{1}$ and $G_{2}$ are contained inside the circle $G$, and are tangent to $G$ at the distinct points $M$ and $N$, respectively. $G_{1}$ passes through the center of $G_{2}$. The line passing through the two points of intersection of $G_{1}$ and $G_{2}$ meets $G$ at $A$ and $B$. The lines $MA$ and $MB$ meet $G_{1}$ at $C$ and $D$, respectively.

Prove that $CD$ is tangent to $G_{2}$.","Two circles \( G_1 \) and \( G_2 \) are contained inside the circle \( G \), and are tangent to \( G \) at the distinct points \( M \) and \( N \), respectively. \( G_1 \) passes through the center of \( G_2 \). The line passing through the two points of intersection of \( G_1 \) and \( G_2 \) meets \( G \) at \( A \) and \( B \). The lines \( MA \) and \( MB \) meet \( G_1 \) at \( C \) and \( D \), respectively.

Prove that \( CD \) is tangent to \( G_2 \).

Let \( P \) and \( Q \) be the centers of \( G_1 \) and \( G_2 \). Let line \( MQ \) meet \( G_1 \) again at \( W \), the homothetic image of \( Q \) under \( G_1 \to G \). Meanwhile, let \( T \) be the intersection of segment \( PQ \) with \( G_2 \), and let \( L \) be its homothetic image on \( G \). Since \( PTQ \perp AB \), it follows \( LW \) is a diameter of \( G \). Let \( O \) be its center.

\textbf{Claim 閿熸枻鎷烽敓绲?\( MNTQ \) is cyclic.

\textit{Proof.} By Reim: 
\[
\angle TQM = \angle LWM = \angle LNM = \angle TNM.
\]
\hfill\qedsymbol

Let \( E \) be the midpoint of \( AB \).

\textbf{Claim 閿熸枻鎷烽敓绲?\( OEMN \) is cyclic.

\textit{Proof.} By radical axis, the lines \( MM, NN, AEB \) meet at a point \( R \). Then \( OEMN \) lies on the circle with diameter \( OR \).
\hfill\qedsymbol

\textbf{Claim 閿熸枻鎷烽敓绲?\( MTE \) are collinear.

\textit{Proof.} 
\[
\angle NMT = \angle TQN = \angle LON = \angle NOE = \angle NME.
\]
\hfill\qedsymbol

Now consider the homothety mapping \( \triangle WAB \) to \( \triangle QCD \). It should map \( E \) to a point on line \( ME \) which is also on the line through \( Q \) perpendicular to \( AB \); that is, to point \( T \). Hence \( TCD \) are collinear, and it閿熸枻鎷烽敓绲?immediate that \( T \) is the desired tangency point.
",,,,,,
1998p1,"In the convex quadrilateral $ABCD$, the diagonals $AC$ and $BD$ are perpendicular and the opposite sides $AB$ and $DC$ are not parallel. Suppose that the point $P$, where the perpendicular bisectors of $AB$ and $DC$ meet, is inside $ABCD$. Prove that $ABCD$ is a cyclic quadrilateral if and only if the triangles $ABP$ and $CDP$ have equal areas.",2,Let $E$ be the intersection of the diagonals $AC$ and $BD$. Let $M$ and $N$ be the midpoints of the sides $AB$ and $DC$ respectively. Show that the condition Area($\triangle ABP$) = Area($\triangle CDP$) is equivalent to the geometric condition $EM \cdot PM = EN \cdot PN$.,"By definition, $P$ is the intersection of the perpendicular bisectors of $AB$ and $DC$. Let $M$ and $N$ be the midpoints of $AB$ and $DC$. Then $PM$ is the altitude from $P$ to $AB$, and $PN$ is the altitude from $P$ to $DC$. The areas of the triangles are Area($\triangle ABP$) = $\frac{1}{2}AB \cdot PM$ and Area($\triangle CDP$) = $\frac{1}{2}DC \cdot PN$. The equality of areas is thus equivalent to $AB \cdot PM = DC \cdot PN$. Since the diagonals $AC$ and $BD$ are perpendicular at $E$, the triangles $\triangle AEB$ and $\triangle CED$ are right-angled. In a right-angled triangle, the median to the hypotenuse is half the length of the hypotenuse. Thus, $EM = \frac{1}{2}AB$ and $EN = \frac{1}{2}DC$. Substituting these into the area equality gives $(2EM) \cdot PM = (2EN) \cdot PN$, which simplifies to $EM \cdot PM = EN \cdot PN$.","In the convex quadrilateral $ABCD$, the diagonals $AC$ and $BD$ are perpendicular and the opposite sides $AB$ and $DC$ are not parallel. Suppose that the point $P$, where the perpendicular bisectors of $AB$ and $DC$ meet, is inside $ABCD$. Prove that $ABCD$ is a cyclic quadrilateral if and only if the triangles $ABP$ and $CDP$ have equal areas.","From sub-problem 1, the condition of equal areas is equivalent to $EM \cdot PM = EN \cdot PN$. We now prove this condition is equivalent to $ABCD$ being cyclic.\n($\Leftarrow$) Assume $ABCD$ is cyclic. For a cyclic quadrilateral with perpendicular diagonals, a consequence of Brahmagupta's theorem is that the perpendicular from the diagonal intersection $E$ to any side bisects the opposite side. Thus, the line through $E$ perpendicular to $AB$ passes through $N$ (so $EN \perp AB$), and the line through $E$ perpendicular to $DC$ passes through $M$ (so $EM \perp DC$). Since $PM \perp AB$ and $PN \perp DC$ by definition of $P$, we have $PM \parallel EN$ and $PN \parallel EM$. Therefore, $EMPN$ is a parallelogram. This implies $EM = PN$ and $EN = PM$. Hence, $EM \cdot PM = EN \cdot PN$, which means the areas are equal.\n($\Rightarrow$) Assume the areas are equal, so $EM \cdot PM = EN \cdot PN$. It can be shown that in this configuration, the directed angles satisfy $\angle MEN = -\angle MPN$. The area condition can be written as the ratio equality $\frac{EM}{PN} = \frac{EN}{PM}$. Together with the angle relation, this implies that $\triangle MEN$ is oppositely congruent to $\triangle PNM$. Thus $EM=PN$ and $EN=PM$, which means $EMPN$ is a parallelogram. From $EM \parallel PN$ and $PN \perp DC$, we get $EM \perp DC$. In right $\triangle AEB$, $EM=AM$, so $\triangle AEM$ is isosceles and $\angle AEM = \angle EAM = \angle CAB$. The condition $EM \perp DC$ implies that $\angle CAB = \angle BDC$. This is the condition for $A, B, C, D$ to lie on a circle, so $ABCD$ is cyclic.",,,,
1998p2,"In a competition, there are $a$ contestants and $b$ judges, where $b\ge3$ is an odd integer. Each judge rates each contestant as either 閿熸枻鎷烽敓绲ss閿熸枻鎷烽敓?or 閿熸枻鎷烽敓绲漚il閿熸枻鎷烽敓? Suppose $k$ is a number such that, for any two judges, their ratings coincide for at most $k$ contestants. Prove that $\frac{k}{a}\ge\frac{b-1}{2b}$.",2,"Let $N$ be the total number of instances of agreement between any two judges on any single contestant's rating. Establish a lower bound for $N$ in terms of $a$ and $b$. Specifically, prove that $N \ge a \left( \frac{b-1}{2} \right)^2$.","For any given contestant, let $c$ be the number of judges who pass them. Then $b-c$ judges fail them. The number of pairs of judges who agree on this contestant's rating is $\binom{c}{2} + \binom{b-c}{2}$. This is a quadratic function of $c$, $f(c) = \frac{1}{2}(2c^2 - 2bc + b^2 - b)$, which is minimized when $c$ is as close to $b/2$ as possible. Since $b$ is an odd integer, the minimum is achieved when $c = (b-1)/2$ or $c = (b+1)/2$. The minimum number of agreements for one contestant is $\binom{(b-1)/2}{2} + \binom{(b+1)/2}{2} = \frac{(b-1)^2}{4}$. Summing over all $a$ contestants, the total number of agreements $N$ satisfies $N \ge a \frac{(b-1)^2}{4} = a \left(\frac{b-1}{2}\right)^2$.",Prove that $\frac{k}{a}\ge\frac{b-1}{2b}$.,"From the previous step, a lower bound for the total number of agreements $N$ is $N \ge a \left( \frac{b-1}{2} \right)^2$. An upper bound can be derived from the problem statement: there are $\binom{b}{2}$ pairs of judges, and each pair agrees on at most $k$ contestants, so $N \le k \binom{b}{2} = k\frac{b(b-1)}{2}$. Combining these two inequalities gives $a \left( \frac{b-1}{2} \right)^2 \le k\frac{b(b-1)}{2}$. This simplifies to $a \frac{(b-1)^2}{4} \le k\frac{b(b-1)}{2}$. As $b \ge 3$, we can divide by $a(b-1)$ and rearrange the terms to obtain the desired result: $\frac{k}{a} \ge \frac{b-1}{2b}$.",,,,
1997p2,"The angle at $A$ is the smallest angle of triangle $ABC$. The points $B$ and $C$ divide the circumcircle of the triangle into two arcs. Let $U$ be an interior point of the arc between $B$ and $C$ which does not contain $A$. The perpendicular bisectors of $AB$ and $AC$ meet the line $AU$ and $V$ and $W$, respectively. The lines $BV$ and $CW$ meet at $T$. Show that.

$AU=TB+TC$",1,"The angle at $A$ is the smallest angle of triangle $ABC$. The points $B$ and $C$ divide the circumcircle of the triangle into two arcs. Let $U$ be an interior point of the arc between $B$ and $C$ which does not contain $A$. The perpendicular bisectors of $AB$ and $AC$ meet the line $AU$ and $V$ and $W$, respectively. The lines $BV$ and $CW$ meet at $T$. Show that.

$AU=TB+TC$","Let $\overline{BTV}$ meet the circle again at $U_1$, so that $AU_1UB$ is an isosceles trapezoid. Define $U_2$ similarly.

Now from the isosceles trapezoids we get
\[
AU = BU_1 = BT + TU_1 = BT + TC
\]
as desired.",,,,,,
1997p3,"Let $x_{1}$, $x_{2}$,...,$x_{n}$ be real numbers satisfying the conditions

$|x_{1}+x_{2}+...+x_{n}|=1$

and

$|x_{i}| \le \frac{n+1}{2}$, for $i=1,2,...,n$

Show that there exists a permutation $y_{1}$, $y_{2}$,...,$y_{n}$ of $x_{1}$, $x_{2}$,...,$x_{n}$ such that

$|y_{1}+2y_{2}+...+ny_{n}|\le \frac{n+1}{2}$",2,"Let $x_1, \dots, x_n$ be real numbers such that $\sum_{i=1}^n x_i = 1$ and they are sorted as $x_1 \le x_2 \le \dots \le x_n$. Define the sums $A = \sum_{i=1}^n i x_i$ and $B = \sum_{i=1}^n i x_{n-i+1}$. Show that $B \le \frac{n+1}{2} \le A$.","We can express the sums relative to the value $\frac{n+1}{2}$. Since $\sum x_i = 1$, we have $\frac{n+1}{2} = \frac{n+1}{2} \sum x_i = \sum \frac{n+1}{2} x_i$. Then, $A - \frac{n+1}{2} = \sum_{i=1}^n i x_i - \sum_{i=1}^n \frac{n+1}{2} x_i = \sum_{i=1}^n (i - \frac{n+1}{2}) x_i$. The sequence $(i - \frac{n+1}{2})$ for $i=1, \dots, n$ is non-decreasing, and by assumption, the sequence $(x_i)$ is also non-decreasing. The sum of products of two similarly sorted sequences is non-negative, so $A - \frac{n+1}{2} \ge 0$, which means $A \ge \frac{n+1}{2}$.
Similarly, $B - \frac{n+1}{2} = \sum_{i=1}^n (i - \frac{n+1}{2}) x_{n-i+1}$. Here, the sequence $(i - \frac{n+1}{2})$ is non-decreasing, while the sequence $(x_{n-i+1})$ is non-increasing. The sum of products of two oppositely sorted sequences is non-positive, so $B - \frac{n+1}{2} \le 0$, which means $B \le \frac{n+1}{2}$. Thus, we have $B \le \frac{n+1}{2} \le A$.","Let $x_{1}$, $x_{2}$,...,$x_{n}$ be real numbers satisfying the conditions $|x_{1}+x_{2}+...+x_{n}|=1$ and $|x_{i}| \le \frac{n+1}{2}$, for $i=1,2,...,n$. Show that there exists a permutation $y_{1}$, $y_{2}$,...,$y_{n}$ of $x_{1}$, $x_{2}$,...,$x_{n}$ such that $|y_{1}+2y_{2}+...+ny_{n}|\le \frac{n+1}{2}$.","Without loss of generality, assume $\sum x_i = 1$ (if it is -1, we can negate all $x_i$ and the final sum). Sort the numbers such that $x_1 \le x_2 \le \dots \le x_n$. Let $S(\pi) = \sum_{i=1}^n i y_i$ for a permutation $\pi=(y_1, \dots, y_n)$. Consider the permutation $\pi_A = (x_1, \dots, x_n)$ and the reverse permutation $\pi_B = (x_n, \dots, x_1)$. From the previous sub-problem, we have $S(\pi_B) \le \frac{n+1}{2} \le S(\pi_A)$.
Any permutation can be reached from another by a sequence of adjacent swaps. Swapping two adjacent elements $y_k$ and $y_{k+1}$ changes the sum $S$ by $y_k - y_{k+1}$. The magnitude of this change is $|y_k - y_{k+1}| \le |y_k| + |y_{k+1}| \le \frac{n+1}{2} + \frac{n+1}{2} = n+1$. Consider a sequence of permutations from $\pi_A$ to $\pi_B$ using single adjacent swaps. This generates a sequence of sums $S_0, S_1, \dots, S_m$, where $S_0 = S(\pi_A) \ge \frac{n+1}{2}$ and $S_m = S(\pi_B) \le \frac{n+1}{2}$. There must be a first index $j$ such that $S_j \le \frac{n+1}{2}$. If $S_0$ satisfies this, we are done. Otherwise, $S_{j-1} > \frac{n+1}{2}$. Since $|S_j - S_{j-1}| \le n+1$, we have $S_j \ge S_{j-1} - (n+1) > \frac{n+1}{2} - (n+1) = -\frac{n+1}{2}$. Thus, we have $-\frac{n+1}{2} < S_j \le \frac{n+1}{2}$, which proves the claim.",,,,
1997p6,"For each positive integer $n$, let $f(n)$ denote the number of ways of representing $n$ as a sum of powers of $2$ with nonnegative integer exponents. Representations which differ only in the ordering of their summands are considered to be the same. For instance, $f(4)=4$, because the number 4 can be represented in the following four ways:

$4;2+2;2+1+1;1+1+1+1$

Prove that, for any integer $n \ge 3$,

$2^{n^{2}/4}<f(2^{n})<2^{n^{2}/2}$.",3,"Establish the recurrence relation for $f(n)$, the number of ways to represent $n$ as a sum of powers of 2. Use this to prove the upper bound $f(2^n) < 2^{n^2/2}$ for $n \ge 3$.","A representation of $N$ is obtained by choosing the number of 1s, say $k_0$, and partitioning the even remainder $(N-k_0)/2$ into powers of 2. Summing over all valid choices for $k_0$ gives the recurrence $f(N) = \sum_{j=0}^{\lfloor N/2 \rfloor} f(j)$. This implies $f$ is non-decreasing. For the upper bound, we use induction. The base case $n=3$ holds. Assume $f(2^{n-1}) < 2^{(n-1)^2/2}$. Then $f(2^n) = \sum_{j=0}^{2^{n-1}} f(j) \le (2^{n-1}+1)f(2^{n-1}) < (2^{n-1}+1)2^{(n-1)^2/2}$. Since $2^{n-1}+1 < 2^{(2n-1)/2}$ for $n \ge 3$, we have $f(2^n) < 2^{(2n-1)/2} \cdot 2^{(n^2-2n+1)/2} = 2^{n^2/2}$.","Prove that the function $f$ has a convexity-like property: for any non-negative integers $a, b$ such that $a+b$ is even, $f(2a)+f(2b) \ge 2f(a+b)$.","Using the recurrence $f(2k) = \sum_{j=0}^k f(j)$, the inequality is equivalent to $\sum_{j=0}^a f(j) + \sum_{j=0}^b f(j) \ge 2\sum_{j=0}^{(a+b)/2} f(j)$. Assume WLOG $a \ge b$. Let $m=(a+b)/2$. The inequality can be rewritten as $\sum_{j=m+1}^a f(j) \ge \sum_{j=b+1}^m f(j)$. The number of terms on both sides is equal to $(a-b)/2$. Since $f$ is non-decreasing, for each $i$ from $1$ to $(a-b)/2$, we have $f(m+i) \ge f(b+i)$, because $m \ge b$. Summing these term-wise inequalities proves the claim.","Prove that, for any integer $n \ge 3$, $2^{n^{2}/4}<f(2^{n})<2^{n^{2}/2}$.","The upper bound was proven in Part 1. For the lower bound $f(2^n) > 2^{n^2/4}$, we use induction. Base cases hold. Assume $f(2^{n-2}) > 2^{(n-2)^2/4}$. From Part 1, $f(2^n) = f(0) + \sum_{j=1}^{2^{n-1}} f(j)$. We pair terms in the sum: $\sum_{j=1}^{2^{n-1}} f(j) = \frac{1}{2}\sum_{k=0}^{2^{n-1}-1} [f(k+1) + f(2^{n-1}-k)]$. For each pair, since $f(2t+1)=f(2t)$, we can reduce the arguments to be even and apply the convexity from Part 2 to show $f(k+1)+f(2^{n-1}-k) \ge 2f(2^{n-2})$. This implies $\sum_{j=1}^{2^{n-1}} f(j) \ge 2^{n-1}f(2^{n-2})$. Therefore, $f(2^n) > 2^{n-1}f(2^{n-2}) > 2^{n-1} \cdot 2^{(n-2)^2/4} = 2^{n^2/4}$.",,
1996p2,"Let $P$ be a point inside triangle $ABC$ such that

\[\angle APB-\angle ACB = \angle APC-\angle ABC\]

Let $D$, $E$ be the incenters of triangles $APB$, $APC$, respectively. Show that $AP$, $BD$, $CE$ meet at a point.",2,"Let D and E be the incenters of triangles APB and APC, respectively. Show that the lines AP, BD, CE are concurrent if and only if the ratio of sides $\frac{AB}{PB} = \frac{AC}{PC}$ holds.","Since D is the incenter of $\triangle APB$, the line BD is the angle bisector of $\angle ABP$. Let BD intersect AP at a point X. By the Angle Bisector Theorem in $\triangle ABP$, we have $\frac{AX}{PX} = \frac{AB}{PB}$. Similarly, since E is the incenter of $\triangle APC$, the line CE is the angle bisector of $\angle ACP$. Let CE intersect AP at a point Y. By the Angle Bisector Theorem in $\triangle APC$, we have $\frac{AY}{PY} = \frac{AC}{PC}$. The lines AP, BD, CE are concurrent if and only if the points X and Y coincide, which requires $\frac{AX}{PX} = \frac{AY}{PY}$. Therefore, the concurrency condition is equivalent to showing $\frac{AB}{PB} = \frac{AC}{PC}$.","Let $P$ be a point inside triangle $ABC$ such that $\angle APB-\angle ACB = \angle APC-\angle ABC$. Let $D$, $E$ be the incenters of triangles $APB$, $APC$, respectively. Show that $AP$, $BD$, $CE$ meet at a point.","From the first sub-problem, it suffices to show $\frac{AB}{PB} = \frac{AC}{PC}$. Construct a point $Q$ outside $\triangle APC$ such that $\triangle AQC \sim \triangle APB$. This implies $\angle AQC = \angle APB$ and $\frac{AC}{AB} = \frac{AQ}{AP} = \frac{QC}{PB}$. The condition $\frac{AC}{AB} = \frac{AQ}{AP}$ and $\angle QAC = \angle PAB$ (which implies $\angle QAP = \angle CAB$) leads to $\triangle APQ \sim \triangle ABC$. This second similarity gives $\angle AQP = \angle ACB$ and $\angle APQ = \angle ABC$. Now consider angles in $\triangle PQC$: $\angle PQC = \angle AQC - \angle AQP = \angle APB - \angle ACB$, and $\angle QPC = \angle APC - \angle APQ = \angle APC - \angle ABC$. The given condition, $\angle APB-\angle ACB = \angle APC-\angle ABC$, thus implies $\angle PQC = \angle QPC$. Therefore, $\triangle PQC$ is isosceles with $PC = QC$. Substituting $PC$ for $QC$ in the ratio from the first similarity, $\frac{QC}{PB} = \frac{AC}{AB}$, gives $\frac{PC}{PB} = \frac{AC}{AB}$. This rearranges to $\frac{AB}{PB} = \frac{AC}{PC}$, which satisfies the condition for concurrency.",,,,
1996p5,"Let $ABCDEF$ be a convex hexagon such that $AB$ is parallel to $DE$, $BD$ is parallel to $EF$, and $CD$ is parallel to $FA$. Let $R_{A}$, $R_{C}$, $R_{E}$ denote the circumradii of triangles $FAB$, $BCD$, $DEF$, respectively, and let $P$ denote the perimeter of the hexagon. Prove that

$R_{A}+R_{C}+R_{E} \ge \frac{P}{2}$",3,"Let $s_i$ be the side lengths and $\alpha_i$ be the internal angles of the hexagon, for $i=1,..,6$. For triangle $FAB$ with circumradius $R_A$, prove the inequality $4R_{A} \ge (s_{3}+s_{6})\frac{\sin(\alpha_{3})}{\sin(\alpha_{1})}+(s_{1}+s_{4})\frac{\sin(\alpha_{2})}{\sin(\alpha_{1})}$.","The hexagon's parallel side conditions ($AB \parallel DE$, $BD \parallel EF$, $CD \parallel FA$) imply that its opposite internal angles are equal: $\alpha_1=\alpha_4, \alpha_2=\alpha_5, \alpha_3=\alpha_6$. Let $d_1 = |FB|$. The diagonal length is bounded by sums of projections of sides, leading to inequalities $d_1 \ge s_6\sin(\alpha_6)+s_1\sin(\alpha_2)$ and $d_1 \ge s_3\sin(\alpha_3)+s_4\sin(\alpha_5)$. Using the angle equalities, these become $d_1 \ge s_6\sin(\alpha_3)+s_1\sin(\alpha_2)$ and $d_1 \ge s_3\sin(\alpha_3)+s_4\sin(\alpha_2)$. Summing them yields $2d_1 \ge (s_3+s_6)\sin(\alpha_3)+(s_1+s_4)\sin(\alpha_2)$. By the extended sine rule in $\triangle FAB$, $d_1 = 2R_A\sin(\alpha_1)$. Substituting this and rearranging gives the desired inequality.","By summing the inequality for $R_A$ with the analogous inequalities for $R_C$ and $R_E$, establish the lower bound: $4(R_A+R_C+R_E) \ge (s_1+s_4)(\frac{\sin(\alpha_2)}{\sin(\alpha_1)} + \frac{\sin(\alpha_1)}{\sin(\alpha_2)}) + (s_2+s_5)(\frac{\sin(\alpha_3)}{\sin(\alpha_2)} + \frac{\sin(\alpha_2)}{\sin(\alpha_3)}) + (s_3+s_6)(\frac{\sin(\alpha_1)}{\sin(\alpha_3)} + \frac{\sin(\alpha_3)}{\sin(\alpha_1)})$.","The inequality from the first sub-problem is $4R_{A} \ge (s_{3}+s_{6})\frac{\sin(\alpha_{3})}{\sin(\alpha_{1})}+(s_{1}+s_{4})\frac{\sin(\alpha_{2})}{\sin(\alpha_{1})}$. By cyclic symmetry, the corresponding inequalities for the circumradii $R_C$ of $\triangle BCD$ and $R_E$ of $\triangle DEF$ are: $4R_{C} \ge (s_{5}+s_{2})\frac{\sin(\alpha_{2})}{\sin(\alpha_{3})}+(s_{3}+s_{6})\frac{\sin(\alpha_{1})}{\sin(\alpha_{3})}$ and $4R_{E} \ge (s_{1}+s_{4})\frac{\sin(\alpha_{1})}{\sin(\alpha_{2})}+(s_{5}+s_{2})\frac{\sin(\alpha_{3})}{\sin(\alpha_{2})}$. Summing these three inequalities and grouping terms by the factors $(s_1+s_4)$, $(s_2+s_5)$, and $(s_3+s_6)$ yields the stated result.","Let $ABCDEF$ be a convex hexagon such that $AB$ is parallel to $DE$, $BD$ is parallel to $EF$, and $CD$ is parallel to $FA$. Let $R_{A}$, $R_{C}$, $R_{E}$ denote the circumradii of triangles $FAB$, $BCD$, $DEF$, respectively, and let $P$ denote the perimeter of the hexagon. Prove that $R_{A}+R_{C}+R_{E} \ge \frac{P}{2}$.","From the second sub-problem's result, we apply the AM-GM inequality, $x + \frac{1}{x} \ge 2$ for $x>0$. Since the hexagon is convex, its internal angles $\alpha_i$ are in $(0, \pi)$, so their sines are positive. Thus, each term of the form $(\frac{\sin(\alpha_a)}{\sin(\alpha_b)} + \frac{\sin(\alpha_b)}{\sin(\alpha_a)})$ is at least 2. This simplifies the inequality to $4(R_A+R_C+R_E) \ge 2(s_1+s_4) + 2(s_2+s_5) + 2(s_3+s_6)$. The right-hand side is $2(s_1+s_2+s_3+s_4+s_5+s_6) = 2P$. Therefore, $4(R_A+R_C+R_E) \ge 2P$. Dividing by 4 gives the final inequality, $R_A+R_C+R_E \ge \frac{P}{2}$.",,
1995p1,"Let $A,B,C,D$ be four distinct points on a line, in that order. The circles with diameters $AC$ and $BD$ intersect at $X$ and $Y$. The line $XY$ meets $BC$ at $Z$. Let $P$ be a point on the line $XY$ other than $Z$. The line $CP$ intersects the circle with diameter $AC$ at $C$ and $M$, and the line $BP$ intersects the circle with diameter $BD$ at $B$ and $N$. Prove that the lines $AM,DN,XY$ are concurrent.",2,"Let $A,B,C,D$ be four distinct points on a line, in that order. The circles with diameters $AC$ and $BD$ intersect at $X$ and $Y$. Let $P$ be a point on the line $XY$. The line $CP$ intersects the circle with diameter $AC$ at $C$ and $M$, and the line $BP$ intersects the circle with diameter $BD$ at $B$ and $N$. Prove that the points $A, M, N, D$ are concyclic.","The line $XY$ is the radical axis of the two circles with diameters $AC$ and $BD$. Since $P$ lies on $XY$, its power with respect to both circles is equal, which means $PM \cdot PC = PN \cdot PB$. By the converse of the Power of a Point theorem, the points $M, N, B, C$ are concyclic. From this cyclic quadrilateral, we have $\angle BNM = \angle BCM = \angle ACM$. Since $M$ is on the circle with diameter $AC$, $\angle AMC = 90^\circ$, so $\angle MAC + \angle ACM = 90^\circ$. Since $N$ is on the circle with diameter $BD$, $\angle BND=90^\circ$. In quadrilateral $AMND$, the sum of opposite angles is $\angle DAM + \angle MND = \angle MAC + (\angle MNB + \angle BND) = \angle MAC + \angle ACM + 90^\circ = 90^\circ + 90^\circ = 180^\circ$. Therefore, $AMND$ is a cyclic quadrilateral.","Let $A,B,C,D$ be four distinct points on a line, in that order. The circles with diameters $AC$ and $BD$ intersect at $X$ and $Y$. The line $XY$ meets $BC$ at $Z$. Let $P$ be a point on the line $XY$ other than $Z$. The line $CP$ intersects the circle with diameter $AC$ at $C$ and $M$, and the line $BP$ intersects the circle with diameter $BD$ at $B$ and $N$. Prove that the lines $AM,DN,XY$ are concurrent.","Let $C_1$ be the circle with diameter $AC$ and $C_2$ be the circle with diameter $BD$. From the previous sub-problem, we know that $A, M, N, D$ are concyclic; let $C_3$ be the circle passing through them. The line $XY$ is the radical axis of $C_1$ and $C_2$. The line $AM$ is the radical axis of $C_1$ and $C_3$, as it passes through their intersection points $A$ and $M$. The line $DN$ is the radical axis of $C_2$ and $C_3$, as it passes through their intersection points $D$ and $N$. By the Radical Axis Theorem, the three pairwise radical axes of three circles are concurrent. Thus, the lines $AM, DN, XY$ are concurrent.",,,,
1995p2,"Let $a, b, c$ be positive real numbers such that $abc = 1$. Prove that\[\frac{1}{a^3(b+c)} + \frac{1}{b^3(c+a)} + \frac{1}{c^3(a+b)} \geq \frac{3}{2}.\]",1,"Let $a, b, c$ be positive real numbers such that $abc = 1$. Prove that\[\frac{1}{a^3(b+c)} + \frac{1}{b^3(c+a)} + \frac{1}{c^3(a+b)} \geq \frac{3}{2}.\]","We make the substitution $x= 1/a$, $y=1/b$, $z=1/c$. Then\begin{align*} \frac{1}{a^3(b+c)} + \frac{1}{b^3(c+a)} + \frac{1}{c^3(a+b)} &= \frac{x^3}{xyz(1/y+1/z)} + \frac{y^3}{xyz(1/z+1/x)} + \frac{z^3}{xyz(1/x+1/z)} \\ &= \frac{x^2}{y+z} + \frac{y^2}{z+x} + \frac{z^2}{x+y} . \end{align*}Since $(x^2,y^2,z^2)$ and $\bigl( 1/(y+z), 1/(z+x), 1/(x+y) \bigr)$ are similarly sorted sequences, it follows from the Rearrangement Inequality that\[\frac{x^2}{y+z} + \frac{y^2}{z+x} + \frac{z^2}{x+y} \ge \frac{1}{2} \left( \frac{y^2+z^2}{y+z} + \frac{z^2+x^2}{z+x} + \frac{x^2+y^2}{x+y} \right) .\]By the Power Mean Inequality,\[\frac{y^2+z^2}{y+z} \ge \frac{(y+z)^2}{2(x+y)} = \frac{x+y}{2} .\]Symmetric application of this argument yields\[\frac{1}{2}\left( \frac{y^2+z^2}{y+z} + \frac{z^2+x^2}{z+x} + \frac{x^2+y^2}{x+y} \right) \ge \frac{1}{2}(x+y+z) .\]Finally, AM-GM gives us\[\frac{1}{2}(x+y+z) \ge \frac{3}{2}xyz = \frac{3}{2},\] as desired.",,,,,,
1995p5,"Let $ABCDEF$ be a convex hexagon with $AB=BC=CD$ and $DE=EF=FA$, such that $\angle BCD=\angle EFA=\frac{\pi}{3}$. Suppose $G$ and $H$ are points in the interior of the hexagon such that $\angle AGB=\angle DHE=\frac{2\pi}{3}$. Prove that $AG+GB+GH+DH+HE\ge CF$.",1,"Let $ABCDEF$ be a convex hexagon with $AB=BC=CD$ and $DE=EF=FA$, such that $\angle BCD=\angle EFA=\frac{\pi}{3}$. Suppose $G$ and $H$ are points in the interior of the hexagon such that $\angle AGB=\angle DHE=\frac{2\pi}{3}$. Prove that $AG+GB+GH+DH+HE\ge CF$.","Draw $AE$ and $BD$ to make equilateral $\triangle EFA$ and $\triangle BCD$, and draw points $I$ and $J$ such that $IA=IB$, $JD=JE$, directed angle $\measuredangle IAB=-\measuredangle CDB$, and directed angle $\measuredangle JDE=-\measuredangle FAE$ to make equilateral $\triangle AIB$ and $\triangle DJE$. Notice that $G$ is on the circumcircle of $\triangle AIB$ and $H$ is on the circumcircle of $\triangle DJE$. By Ptolemy, $GA+GB=GI$ and $HD+HE=HJ$. So,\[AG+GB+GH+DH+HE=IG+GH+HJ.\]Notice that octagon $AIBCDJEF$ is symmetric about $\overline{BE}$. So, $IG+GH+HJ\ge IJ=CF$",,,,,,
1994p1,"Let $m$ and $n$ be two positive integers. Let $a_1$, $a_2$, $\ldots$, $a_m$ be $m$ different numbers from the set $\{1, 2,\ldots, n\}$ such that for any two indices $i$ and $j$ with $1\leq i \leq j \leq m$ and $a_i + a_j \leq n$, there exists an index $k$ such that $a_i + a_j = a_k$. Show that\[\frac{a_1+a_2+...+a_m}{m} \ge \frac{n+1}{2}\]",2,"Let the set of numbers be $A = \{a_1, a_2, \\ldots, a_m\}$, sorted such that $a_1 < a_2 < \\dots < a_m$. Show that for all integers $j$ with $1 \\le j \\le m$, the inequality $a_j + a_{m-j+1} \\ge n+1$ holds.","Assume for contradiction that for some $j \\in \\{1, \\ldots, m\\}$, we have $a_j + a_{m-j+1} \\le n$. Since $a_1 < a_2 < \\dots < a_j$, it follows that for each $i \\in \\{1, \\ldots, j\\}$, $a_i + a_{m-j+1} \\le a_j + a_{m-j+1} \\le n$. By the given property, each of these $j$ sums must be an element of the set $A$. Let $a_i + a_{m-j+1} = a_{k_i}$. Since $a_i > 0$, we have $a_{k_i} > a_{m-j+1}$, which implies $k_i > m-j+1$. The $a_i$ are distinct, so the sums $a_{k_i}$ are distinct, and thus the indices $k_i$ are distinct. This gives $j$ distinct indices \\{k_1, \\ldots, k_j\\} from the set \\{m-j+2, \\ldots, m\\}. This latter set has only $j-1$ elements, a contradiction. Therefore, the assumption is false, and $a_j + a_{m-j+1} \\ge n+1$ for all $j$.","Let $m$ and $n$ be two positive integers. Let $a_1$, $a_2$, $\\ldots$, $a_m$ be $m$ different numbers from the set $\\{1, 2,\\ldots, n\\}$ such that for any two indices $i$ and $j$ with $1\\leq i \\leq j \\leq m$ and $a_i + a_j \\leq n$, there exists an index $k$ such that $a_i + a_j = a_k$. Show that\\[\frac{a_1+a_2+...+a_m}{m} \\ge \frac{n+1}{2}\\]","Let the numbers be sorted, $a_1 < a_2 < \\dots < a_m$. Using the result from the first sub-problem, we have the inequality $a_j + a_{m-j+1} \\ge n+1$ for each $j \\in \\{1, \\ldots, m\\}$. Summing these $m$ inequalities from $j=1$ to $m$ gives $\\sum_{j=1}^{m} (a_j + a_{m-j+1}) \\ge m(n+1)$. The sum on the left is $2 \\sum_{j=1}^{m} a_j$, since $\\sum_{j=1}^{m} a_{m-j+1}$ is a reordering of $\\sum_{j=1}^{m} a_j$. Thus, $2(a_1 + \\dots + a_m) \\ge m(n+1)$. Dividing by $2m$ yields the final result: $\frac{a_1+\\dots+a_m}{m} \\ge \frac{n+1}{2}$.",,,,
1994p2,"Let $ABC$ be an isosceles triangle with $AB = AC$. $M$ is the midpoint of $BC$ and $O$ is the point on the line $AM$ such that $OB$ is perpendicular to $AB$. $Q$ is an arbitrary point on $BC$ different from $B$ and $C$. $E$ lies on the line $AB$ and $F$ lies on the line $AC$ such that $E, Q, F$ are distinct and collinear. Prove that $OQ$ is perpendicular to $EF$ if and only if $QE = QF$.",2,"Let $ABC$ be an isosceles triangle with $AB = AC$. $M$ is the midpoint of $BC$ and $O$ is the point on the line $AM$ such that $OB$ is perpendicular to $AB$. $Q$ is an arbitrary point on $BC$ different from $B$ and $C$. $E$ lies on the line $AB$ and $F$ lies on the line $AC$ such that $E, Q, F$ are distinct and collinear. Prove that if $OQ$ is perpendicular to $EF$, then $QE = QF$.","Assume $OQ \perp EF$. Since $O$ is on the symmetry axis $AM$ of isosceles $\triangle ABC$, $OB\perp AB$ implies $OC\perp AC$, and $\triangle OBC$ is isosceles giving $\angle OBQ=\angle OCQ$. The condition $\angle EBO = \angle EQO = 90^\circ$ implies the quadrilateral $EBOQ$ is cyclic, so $\angle OEQ = \angle OBQ$. Similarly, $\angle OCF = \angle OQF = 90^\circ$ implies the quadrilateral $OQCF$ is cyclic, so $\angle OFQ = \angle OCQ$. Combining these, $\angle OEQ = \angle OBQ = \angle OCQ = \angle OFQ$. Thus $\triangle OEF$ is isosceles with $OE=OF$. The right-angled triangles $\triangle OEQ$ and $\triangle OFQ$ are congruent (RHS: common side $OQ$, equal hypotenuses $OE=OF$), which gives $QE=QF$.","Let $ABC$ be an isosceles triangle with $AB = AC$. $M$ is the midpoint of $BC$ and $O$ is the point on the line $AM$ such that $OB$ is perpendicular to $AB$. $Q$ is an arbitrary point on $BC$ different from $B$ and $C$. $E$ lies on the line $AB$ and $F$ lies on the line $AC$ such that $E, Q, F$ are distinct and collinear. Prove that $OQ$ is perpendicular to $EF$ if and only if $QE = QF$.","The proof is in two parts. The forward direction ($OQ \perp EF \implies QE = QF$) is proven in the first sub-problem. For the reverse direction, assume $QE=QF$. Suppose for contradiction that $OQ$ is not perpendicular to $EF$. Let the line through $Q$ perpendicular to $OQ$ be $E'F'$, with $E'$ on line $AB$ and $F'$ on line $AC$. By the first sub-problem, we must have $QE'=QF'$. We are given $QE=QF$. Since $QE=QF$, $QE'=QF'$ and $\angle E'QE=\angle F'QF$ (vertically opposite angles), $\triangle QEE' \cong \triangle QFF'$ (SAS). This congruence implies $\angle QEE' = \angle QFF'$, meaning the line $EF$ makes equal angles with lines $AB$ and $AC$. This forces $AB$ and $AC$ to be parallel, which is a contradiction. Therefore, the assumption is false and $OQ \perp EF$ must hold.",,,,
1994p6,Show that there exists a set $A$ of positive integers with the following property: For any infinite set $S$ of primes there exist two positive integers $m \in A$ and $n \not\in A$ each of which is a product of $k$ distinct elements of $S$ for some $k \ge 2$.,2,"Define a set $A$ of positive integers whose membership rule for an integer $x$, being a product of $k$ distinct primes, depends on a comparison between its smallest prime factor and the $k$-th prime number $p_k$.","Let the primes in increasing order be $p_1 < p_2 < p_3 < \dots$. Define the set $A$ to be the set of all positive integers which are products of $k$ distinct primes, for some integer $k \ge 1$, where the smallest prime factor of the product is strictly greater than $p_k$.",Show that there exists a set $A$ of positive integers with the following property: For any infinite set $S$ of primes there exist two positive integers $m \\in A$ and $n \notin A$ each of which is a product of $k$ distinct elements of $S$ for some $k \\ge 2$.,"Let $A$ be the set defined in the first part. Let $S = \\{p_{i_1}, p_{i_2}, \\dots\\}$ be an infinite set of primes, with $p_{i_1} < p_{i_2} < \\dots$. Let $k = i_1$. We can assume $k \\ge 2$, since if $p_1 \\in S$, we can instead analyze the infinite set $S \\setminus \\{p_1\\}$ for which the smallest prime has an index of at least 2. Let $n = p_{i_1}p_{i_2} \\dots p_{i_k}$. This is a product of $k$ primes from $S$, and its smallest prime factor is $p_{i_1} = p_k$. By definition, $n \notin A$. Now let $m = p_{i_2}p_{i_3} \\dots p_{i_{k+1}}$. This is also a product of $k$ primes from $S$. Its smallest prime factor is $p_{i_2}$. Since $i_2 > i_1 = k$, we have $p_{i_2} > p_k$. Therefore, by definition, $m \\in A$.",,,,
1993p1,"Let $f\left(x\right)=x^n+5x^{n-1}+3$, where $n>1$ is an integer. Prove that $f\left(x\right)$ cannot be expressed as the product of two non-constant polynomials with integer coefficients.",2,"Let $f(x) = x^n + 5x^{n-1} + 3$, where $n > 1$ is an integer. Assume $f(x) = g(x)h(x)$, where $g(x)$ and $h(x)$ are non-constant polynomials with integer coefficients. Prove that one of $g(x)$ or $h(x)$ must have degree 1.","Let $g(x) = \sum_{i=0}^m b_i x^i$ and $h(x) = \sum_{j=0}^{n-m} c_j x^j$. The constant term of $f(x)$ is $3=b_0c_0$. Since 3 is prime, one of $b_0$ or $c_0$ must be divisible by 3. Without loss of generality, assume $3|b_0$ and $3 \nmid c_0$. The coefficients of $x^k$ for $1 \le k < n-1$ are all 0. For $k=1$, we have $b_0c_1+b_1c_0=0$. Since $3|b_0$ and $3 \nmid c_0$, it must be that $3|b_1$. Inductively, we can show $3|b_k$ for all $k \le n-2$. The coefficient of $x^{n-1}$ is $5 = b_0c_{n-1}+b_1c_{n-2}+\ldots+b_{n-2}c_1+b_{n-1}c_0$. Taking this modulo 3 gives $2 \equiv b_{n-1}c_0 \pmod 3$. As $3 \nmid c_0$, we must have $b_{n-1} \not\equiv 0 \pmod 3$, which implies $b_{n-1} \neq 0$. Thus, the degree of $g(x)$ is at least $n-1$. Since $h(x)$ is non-constant, its degree is at least 1, so the degree of $g(x)$ is at most $n-1$. Therefore, $\\deg(g)=n-1$ and $\\deg(h)=1$.","Let $f\\left(x\right)=x^n+5x^{n-1}+3$, where $n>1$ is an integer. Prove that $f\\left(x\right)$ cannot be expressed as the product of two non-constant polynomials with integer coefficients.","Assume for contradiction that $f(x)=g(x)h(x)$ where $g(x)$ and $h(x)$ are non-constant polynomials with integer coefficients. From the previous step, one of these factors must have degree 1. This implies that $f(x)$ must have a linear factor $(x-r)$ where $r$ is an integer root (by the Rational Root Theorem, since the leading coefficient is 1). However, for any integer $x$, we can analyze $f(x)$ modulo 2: $f(x) = x^n + 5x^{n-1} + 3 \\equiv x^n + x^{n-1} + 1 \\equiv x^{n-1}(x+1) + 1 \\pmod 2$. Since for any integer $x$, either $x$ or $x+1$ is even, $x^{n-1}(x+1) \\equiv 0 \\pmod 2$. Thus, $f(x) \\equiv 1 \\pmod 2$ for all integers $x$. This means $f(x)$ is always odd and can never be zero for any integer $x$. This contradicts the conclusion that $f(x)$ has an integer root. Therefore, $f(x)$ cannot be factored into two non-constant polynomials with integer coefficients.",,,,
1993p4,"For three points $A,B,C$ in the plane, we define $m(ABC)$ to be the smallest length of the three heights of the triangle $ABC$, where in the case $A$, $B$, $C$ are collinear, we set $m(ABC) = 0$. Let $A$, $B$, $C$ be given points in the plane. Prove that for any point $X$ in the plane,

$m(ABC) \leq m(ABX) + m(AXC) + m(XBC)$.",4,"Prove that for a triangle $ABC$ and any point $X$ inside or on its boundary, $m(ABC) \leq m(ABX) + m(AXC) + m(XBC)$.","Assume without loss of generality that $a=BC$ is the longest side of $\triangle ABC$. Then the smallest height is $m(ABC) = 2[ABC]/a$. Since $X$ is within or on $\triangle ABC$, the longest side of any of the triangles $ABX$, $BCX$, or $CAX$ cannot exceed $a$. Thus, $m(ABX) \\ge 2[ABX]/a$, $m(BCX) \\ge 2[BCX]/a$, and $m(CAX) \\ge 2[CAX]/a$. As areas add up for an internal point, $[ABC] = [ABX] + [BCX] + [CAX]$, so summing the inequalities gives $m(ABX)+m(BCX)+m(CAX) \\ge 2([ABX]+[BCX]+[CAX])/a = 2[ABC]/a = m(ABC)$.","Let $ABCX$ be a convex quadrilateral, and let $D$ be the intersection of the diagonal $AX$ and the side $BC$. Prove the helper lemma $m(ABX) \ge m(ABD)$.","We prove this by a case-by-case analysis on which height of $\triangle ABX$ is the minimum. Let $h_V(S)$ denote the height from vertex $V$ in triangle $S$. 1) If $m(ABX) = h_X(ABX)$, then $m(ABX) > h_D(ABD) \\ge m(ABD)$ since $D$ lies on the segment $AX$. 2) If $m(ABX) = h_B(ABX)$, then $m(ABX) = h_B(ABD) \\ge m(ABD)$ since the height is to the same line $ADX$. 3) If $m(ABX) = h_A(ABX)$, then $m(ABX) \\ge h_A(ABD) \\ge m(ABD)$ because the line segment $BD$ is closer to vertex $A$ than the line segment $BX$. In all cases, the inequality holds.",Prove the inequality $m(ABC) \leq m(ABX) + m(AXC) + m(XBC)$ for any point $X$ outside triangle $ABC$.,"A point $X$ outside $\triangle ABC$ results in a quadrilateral $ABCX$ that is either convex or concave. If $ABCX$ is convex, let $D$ be the intersection of $AX$ and $BC$. By the lemma in Sub-problem 2, $m(ABX) \\ge m(ABD)$ and similarly $m(ACX) \\ge m(ACD)$. Point $D$ lies on the boundary of $\triangle ABC$, so from Sub-problem 1, $m(ABC) \\le m(ABD)+m(ACD)$ (since $m(DBC)=0$). Thus $m(ABC) \\le m(ABD)+m(ACD) \\le m(ABX)+m(ACX) \\le m(ABX)+m(ACX)+m(XBC)$. If $ABCX$ is concave, assume WLOG that vertex $B$ is inside $\triangle ACX$. The inequality holds if $m(ABC) \\le m(ACX)$, as other terms are non-negative. This is true because $\triangle ABC$ is contained within $\triangle ACX$, and it can be shown that each height of $\triangle ABC$ is less than or equal to a corresponding height in $\triangle ACX$.","For three points $A,B,C$ in the plane, we define $m(ABC)$ to be the smallest length of the three heights of the triangle $ABC$. Let $A, B, C$ be given points in the plane. Prove that for any point $X$ in the plane, $m(ABC) \leq m(ABX) + m(AXC) + m(XBC)$.","The location of point $X$ relative to $\triangle ABC$ can be divided into two exhaustive and mutually exclusive cases: (1) $X$ is inside or on the boundary of $\triangle ABC$, and (2) $X$ is outside $\triangle ABC$. Sub-problem 1 proves the inequality for the first case. Sub-problem 3 proves the inequality for the second case, building upon the results of the previous sub-problems. Since these two cases cover all possible locations for $X$ in the plane, the inequality is proven to be true for any point $X$."
1992p5,"Let $S$ be a finite set of points in three-dimensional space. Let $S_x$, $S_y$, $S_z$ be the sets consisting of the orthogonal projections of the points of $S$ onto the $yz$-plane, $zx$-plane, $xy$-plane respectively. Prove that:
\[
|S|^2 \leq |S_x| \cdot |S_y| \cdot |S_z|,
\]
where $|A|$ denotes the number of points in the set $A$.

\textit{[The orthogonal projection of a point onto a plane is the foot of the perpendicular from the point to the plane.]}",2,"For any non-negative real numbers $a, b, c, d$, prove the inequality $\sqrt{ab} + \sqrt{cd} \leq \sqrt{(a+c)(b+d)}$.","This is a form of the Cauchy-Schwarz inequality. Consider the vectors $\mathbf{u} = (\sqrt{a}, \sqrt{c})$ and $\mathbf{v} = (\sqrt{b}, \sqrt{d})$ in $\mathbb{R}^2$. The Cauchy-Schwarz inequality states that $(\mathbf{u} \cdot \mathbf{v})^2 \leq (\mathbf{u} \cdot \mathbf{u})(\mathbf{v} \cdot \mathbf{v})$. Substituting the components gives $(\sqrt{a}\sqrt{b} + \sqrt{c}\sqrt{d})^2 \leq (a+c)(b+d)$. Taking the square root of both sides, which are non-negative, yields the desired result: $\sqrt{ab} + \sqrt{cd} \leq \sqrt{(a+c)(b+d)}$.","Let $S$ be a finite set of points in three-dimensional space. Let $S_x$, $S_y$, $S_z$ be the sets consisting of the orthogonal projections of the points of $S$ onto the $yz$-plane, $zx$-plane, $xy$-plane respectively. Prove that $|S|^2 \leq |S_x| \cdot |S_y| \cdot |S_z|$.","We use induction on the number of distinct z-coordinates in $S$. The base case, where all points have the same z-coordinate, is straightforward as $|S_z|=|S|$ and $|S| \le |S_x||S_y|$. For the inductive step, assume the inequality holds for sets with fewer than $k$ distinct z-coordinates. Let $S$ have $k$ distinct z-coordinates. Split $S$ by a horizontal plane into two non-empty subsets $T$ and $U$. By the inductive hypothesis, $|T| \le (|T_x||T_y||T_z|)^{1/2}$ and $|U| \le (|U_x||U_y||U_z|)^{1/2}$. Since $T$ and $U$ have disjoint sets of z-coordinates, their projections onto the yz and zx planes are disjoint, so $|S_x|=|T_x|+|U_x|$ and $|S_y|=|T_y|+|U_y|$. Also, $|T_z| \le |S_z|$ and $|U_z| \le |S_z|$. Thus, $|S| = |T|+|U| \le (|T_x||T_y||S_z|)^{1/2} + (|U_x||U_y||S_z|)^{1/2} = |S_z|^{1/2}(\sqrt{|T_x||T_y|} + \sqrt{|U_x||U_y|})$. Using the inequality from the first sub-problem, this is $\le |S_z|^{1/2} \sqrt{(|T_x|+|U_x|)(|T_y|+|U_y|)} = |S_z|^{1/2} \sqrt{|S_x||S_y|}$. Squaring both sides yields $|S|^2 \le |S_x||S_y||S_z|$.",,,,
1991p1,"Given a triangle $ABC$ let $I$ be the center of its inscribed circle. The internal bisectors of the angles $A,B,C$ meet the opposite sides in $A^\prime,B^\prime,C^\prime$ respectively. Prove that

$\frac {1}{4} < \frac {AI\cdot BI\cdot CI}{AA^{\prime }\cdot BB^{\prime }\cdot CC^{\prime }} \leq \frac {8}{27}$",1,"Given a triangle $ABC$ let $I$ be the center of its inscribed circle. The internal bisectors of the angles $A,B,C$ meet the opposite sides in $A^\prime,B^\prime,C^\prime$ respectively. Prove that

$\frac {1}{4} < \frac {AI\cdot BI\cdot CI}{AA^{\prime }\cdot BB^{\prime }\cdot CC^{\prime }} \leq \frac {8}{27}$","We have $\prod\frac{AI}{AA^\prime}=\prod\frac{1}{1+\frac{IA^\prime}{IA}}$. From Van Aubel's Theorem, we have $\frac{IA}{IA^\prime}=\frac{AB^\prime}{B^\prime C}+\frac{AC^\prime}{C^\prime B}$ which from the Angle Bisector Theorem reduces to $\frac{b+c}{a}$. We find similar expressions for the other terms in the product so that the product simplifies to $\prod\frac{1}{1+\frac{a}{b+c}}=\prod\frac{b+c}{a+b+c}$. Letting $a=x+y,b=y+z,c=z+x$ for positive reals $x,y,z$, the product becomes $\frac{1}{8}\prod\frac{x+2y+z}{x+y+z}=\frac{1}{8}\prod\left(1+\frac{y}{x+y+z}\right)$. To prove the right side of the inequality, we simply apply AM-GM to the product to get

$\frac{1}{8}\prod\left(1+\frac{y}{x+y+z}\right)\le\frac{1}{8}\left(\frac{\sum1+\frac{y}{x+y+z}}{3}\right)^3=\frac{8}{27}$

To prove the left side of the inequality, simply multiply out the product to get

$\frac{1}{8}\left(1+\sum\frac{y}{x+y+z}+\sum\frac{yz}{(x+y+z)^2}+\frac{xyz}{(x+y+z)^3}\right)$

$>\frac{1}{8}\left(1+\sum\frac{y}{x+y+z}\right)=\frac{1}{4}$

as desired.",,,,,,
1991p2,"Let $\,n > 6\,$ be an integer and $\,a_{1},a_{2},\cdots ,a_{k}\,$ be all the natural numbers less than $n$ and relatively prime to $n$. If\[a_{2} - a_{1} = a_{3} - a_{2} = \cdots = a_{k} - a_{k - 1} > 0,\]prove that $\,n\,$ must be either a prime number or a power of $\,2$.",3,"Let $a_1, \ldots, a_k$ be the natural numbers less than $n$ and relatively prime to $n$, forming an arithmetic progression. Show that the first term is $a_1=1$ and the common difference is $d=p-1$, where $p$ is the smallest prime number that does not divide $n$.","The first term $a_1$ must be the smallest positive integer coprime to $n$, which is $1$. The integers $2, 3, \ldots, a_2-1$ are not coprime to $n$, which means that every prime number less than $a_2$ must be a prime factor of $n$. Consequently, $a_2$ must be the smallest prime number, which we denote by $p$, that does not divide $n$. The common difference is therefore $d = a_2 - a_1 = p - 1$.",Let $p$ be the smallest prime not dividing $n$. Show that the assumption $p \ge 5$ leads to a contradiction.,"Let $q$ be the largest prime less than $p$. Since all primes smaller than $p$ must divide $n$, we have $q|n$. Using Bertrand's Postulate, it can be established that $pq < n$. Consider the terms of the progression $a_j = 1+(j-1)(p-1)$ for $j=1, \ldots, q$. All these terms are less than $1+(q-1)(p-1) < pq < n$. For $p \ge 5$, Bertrand's Postulate implies $p/2 < q < p$, so $q$ does not divide $p-1$. As $q$ is prime, the values $a_j \pmod q$ for $j=1,\ldots,q$ are all distinct and thus cover all residues modulo $q$. Therefore, one term, say $a_{j_0}$, must be divisible by $q$. Since $q|n$, this implies $\gcd(a_{j_0}, n) \ge q > 1$, which contradicts the condition that $a_{j_0}$ is relatively prime to $n$.","Let $\,n > 6\,$ be an integer and $\,a_{1},a_{2},\cdots ,a_{k}\,$ be all the natural numbers less than $n$ and relatively prime to $n$. If\[a_{2} - a_{1} = a_{3} - a_{2} = \cdots = a_{k} - a_{k - 1} > 0,\]prove that $\,n\,$ must be either a prime number or a power of $\,2$.","From Sub-problem 1, the common difference of the arithmetic progression of coprime numbers is $p-1$, where $p$ is the smallest prime not dividing $n$. We analyze the cases for $p$. 
Case 1: $p=2$. The common difference is 1. The coprime numbers are $1, 2, 3, \ldots, n-1$. This is only possible if $n$ is a prime number. 
Case 2: $p=3$. The common difference is 2. The coprime numbers are the odd integers $1, 3, 5, \ldots$ less than $n$. This means $n$ has no odd prime factors. Since $p=3$ is the smallest prime not dividing $n$, $2$ must divide $n$. Therefore, $n$ must be a power of 2. 
Case 3: $p \ge 5$. From Sub-problem 2, this case leads to a contradiction. 
Combining these cases, $n$ must be either a prime number or a power of 2.",,
1991p4,"Suppose $\,G\,$ is a connected graph with $\,k\,$ edges. Prove that it is possible to label the edges $1,2,\ldots ,k\,$ in such a way that at each vertex which belongs to two or more edges, the greatest common divisor of the integers labeling those edges is equal to 1.",3,"Show that for any vertex v with degree at least 2, if two of its incident edges are labeled with consecutive integers, the greatest common divisor of the labels of all edges incident to v is 1.","Let the labels of the edges incident to vertex v be $l_1, l_2, \ldots, l_d$, where $d \ge 2$. Suppose two of these labels are consecutive integers, say $l_i = n$ and $l_j = n+1$ for some integer $n$. The greatest common divisor of all the labels, $\text{gcd}(l_1, \ldots, l_d)$, must divide every label in the set. In particular, it must divide both $n$ and $n+1$. Any common divisor of $n$ and $n+1$ must also divide their difference, which is $(n+1) - n = 1$. The only positive integer that divides 1 is 1. Therefore, $\text{gcd}(l_1, \ldots, l_d) = 1$.","Describe an algorithm to label the edges of any path $P=(v_1, v_2, \ldots, v_n)$ with $n-1$ available consecutive integers, say $u, u+1, \ldots, u+n-2$, such that the GCD condition is satisfied for all internal vertices of the path ($v_2, \ldots, v_{n-1}$).","Let the path be $P = (v_1, v_2, \ldots, v_n)$. Label the edge $(v_i, v_{i+1})$ with the integer $u+i-1$ for $i = 1, 2, \ldots, n-1$. Consider any internal vertex $v_j$ where $2 \le j \le n-1$. This vertex is incident to two edges on the path: $(v_{j-1}, v_j)$ and $(v_j, v_{j+1})$. The label of edge $(v_{j-1}, v_j)$ is $u+(j-1)-1 = u+j-2$, and the label of edge $(v_j, v_{j+1})$ is $u+j-1$. Since these are consecutive integers, based on the first sub-problem, the greatest common divisor of all edge labels incident to $v_j$ is 1.","Suppose $G$ is a connected graph with $k$ edges. Prove that it is possible to label the edges $1,2,\ldots ,k$ in such a way that at each vertex which belongs to two or more edges, the greatest common divisor of the integers labeling those edges is equal to 1.","We construct the labeling algorithmically. Let $U = \{1, 2, \ldots, k\}$ be the set of available labels and let $G_U$ be the subgraph of unlabeled edges, initially $G$. While $G_U$ contains a path, find a maximal path $P$ in $G_U$. Let $u$ be the smallest integer in $U$. Label the edges of $P$ with consecutive integers starting from $u$, as described in the second sub-problem. This satisfies the GCD condition for all internal vertices of $P$. The maximality of the path ensures its endpoints are also handled correctly with respect to other labeled edges. Remove the used labels from $U$ and the labeled edges from $G_U$. Repeat until $G_U$ has no paths left. For any remaining vertex $v$ with degree $\ge 2$ that still has unlabeled incident edges, pick two such edges and label them with the next two available consecutive integers from $U$. Finally, assign any remaining labels to any remaining unlabeled edges arbitrarily. This process ensures the GCD condition is met for all vertices of degree at least 2.",,
1991p5,"Let $\,ABC\,$ be a triangle and $\,P\,$ an interior point of $\,ABC\,$. Show that at least one of the angles $\,\angle PAB,\;\angle PBC,\;\angle PCA\,$ is less than or equal to $30^{\circ }$.",3,"Let $\,ABC\,$ be a triangle with angles $A_1, A_2, A_3$. Let $P$ be an interior point. Let $\alpha_1 = \angle PAB$, $\alpha_2 = \angle PBC$, $\alpha_3 = \angle PCA$. Prove that $\sum_{i=1}^{3}\frac{\sin(A_{i}-\alpha_{i})}{\sin(\alpha_{i})} \ge 3$.","Applying the Law of Sines on $\Delta PAB$, $\Delta PBC$, and $\Delta PCA$ respectively gives $\frac{|PA|}{|PB|} = \frac{\sin(A_2-\alpha_2)}{\sin(\alpha_1)}$, $\frac{|PB|}{|PC|} = \frac{\sin(A_3-\alpha_3)}{\sin(\alpha_2)}$, and $\frac{|PC|}{|PA|} = \frac{\sin(A_1-\alpha_1)}{\sin(\alpha_3)}$. Multiplying these three equations yields the trigonometric form of Ceva's Theorem for the concurrent lines AP, BP, CP: $1 = \prod_{i=1}^{3} \frac{\sin(A_i-\alpha_i)}{\sin(\alpha_i)}$. By the AM-GM inequality, $\frac{1}{3}\sum_{i=1}^{3}\frac{\sin(A_i-\alpha_i)}{\sin(\alpha_i)} \ge \sqrt[3]{\prod_{i=1}^{3} \frac{\sin(A_i-\alpha_i)}{\sin(\alpha_i)}} = 1$. Therefore, $\sum_{i=1}^{3}\frac{\sin(A_{i}-\alpha_{i})}{\sin(\alpha_{i})} \ge 3$.","For any triangle with angles $A_1, A_2, A_3$, prove the inequality $\sum_{i=1}^{3}\frac{\sin(A_{i}-30^{\circ})}{\sin(30^{\circ})} \le 3$.","We use the sum-to-product inequality $\sin(x)+\sin(y) \le 2\sin(\frac{x+y}{2})$, which follows from Jensen's inequality for the concave sine function. Applying this, we get $\sin(A_1-30^{\circ})+\sin(A_2-30^{\circ}) \le 2\sin(\frac{A_1+A_2-60^{\circ}}{2})$ and $\sin(A_3-30^{\circ})+\sin(30^{\circ}) \le 2\sin(\frac{A_3}{2})$. Adding them yields $\sum_{i=1}^{3}\sin(A_{i}-30^{\circ}) + \sin(30^{\circ}) \le 2[\sin(\frac{180^{\circ}-A_3-60^{\circ}}{2}) + \sin(\frac{A_3}{2})] = 2[\sin(60^{\circ}-\frac{A_3}{2}) + \sin(\frac{A_3}{2})]$. The right side is $2[2\sin(30^{\circ})\cos(30^{\circ}-\frac{A_3}{2})] \le 4\sin(30^{\circ}) = 2$. Thus, $\sum_{i=1}^{3}\sin(A_{i}-30^{\circ}) + \frac{1}{2} \le 2$, which means $\sum_{i=1}^{3}\sin(A_{i}-30^{\circ}) \le \frac{3}{2}$. Dividing by $\sin(30^{\circ})=\frac{1}{2}$ gives the desired result: $\sum_{i=1}^{3}\frac{\sin(A_{i}-30^{\circ})}{\sin(30^{\circ})} \le 3$.","Let $\,ABC\,$ be a triangle and $\,P\,$ an interior point of $\,ABC\,$. Show that at least one of the angles $\,\angle PAB,\;\angle PBC,\;\angle PCA\,$ is less than or equal to $30^{\circ }$.","Let $\alpha_1 = \angle PAB, \alpha_2 = \angle PBC, \alpha_3 = \angle PCA$, and let $A_1, A_2, A_3$ be the angles of $\triangle ABC$. From the first sub-problem, we have $\sum_{i=1}^{3}\frac{\sin(A_{i}-\alpha_{i})}{\sin(\alpha_{i})} \ge 3$. From the second sub-problem, we have $\sum_{i=1}^{3}\frac{\sin(A_{i}-30^{\circ})}{\sin(30^{\circ})} \le 3$. Combining these inequalities, we get $\sum_{i=1}^{3}\frac{\sin(A_{i}-30^{\circ})}{\sin(30^{\circ})} \le \sum_{i=1}^{3}\frac{\sin(A_{i}-\alpha_{i})}{\sin(\alpha_{i})}$. This implies that for at least one index $i \in \{1, 2, 3\}$, we must have $\frac{\sin(A_{i}-30^{\circ})}{\sin(30^{\circ})} \le \frac{\sin(A_{i}-\alpha_{i})}{\sin(\alpha_{i})}$. The function $f(x) = \frac{\sin(A-x)}{\sin(x)} = \sin(A)\cot(x) - \cos(A)$ is a strictly decreasing function for $x \in (0, A)$. Therefore, the inequality $f(30^{\circ}) \le f(\alpha_i)$ implies $\alpha_i \le 30^{\circ}$ for at least one $i$.",,
1990p6,"Prove that there exists a convex $1990\text{-gon}$ with the following two properties: (a) All angles are equal. (b) The lengths of the $1990$ sides are the numbers $1^2, 2^2,3^2,\dots, 1990^2$ in some order.",1,"Prove that there exists a convex $1990\text{-gon}$ with the following two properties: (a) All angles are equal. (b) The lengths of the $1990$ sides are the numbers $1^2, 2^2,3^2,\dots, 1990^2$ in some order.","Let $\{a_1,a_2,\cdots,a_{1990}\}=\{1,2,\cdots,1990\}$ and $\theta=\frac{\pi}{995}$. Then the problem is equivalent to that there exists a way to assign $a_1,a_2,\cdots,a_{1990}$ such that $\sum_{i=1}^{1990}a_i^2e^{i\theta}=0$. Note that $e^{i\theta}+e^{i\theta+\pi}=0$, then if we can find a sequence $\{b_n\}$ such that $b_i=a_p^2-a_q^2, (p\not=q)$ and $\sum_{i=1}^{995}b_ie^{i\theta}=0$, the problem will be solved. Note that $2^2-1^2=3,4^2-3^2=7,\cdots,1990^2-1989^2=3979$, then $3,7,\cdots,3979$ can be written as a sum from two elements in sets $A=\{3,3+4\times199,3+4\times398,3+4\times597,3+4\times796\}$ and $B=\{0,4\times1,4\times2,\cdots,4\times 198\}$. If we assign the elements in $A$ in the way that $l_{a1}=3,l_{a2}=3+4\times199,l_{a3}=3+4\times398,l_{a4}=3+4\times597,l_{a5}=3+4\times796$, then clearly $\sum_{i=1}^{199}l_{aj}e^{i\frac{2\pi}{199}}=0, (j\in\{1,2,3,4,5\})$ Similarly, we could assign elements in $B$ in that way ($l_{b1}=0,l_{b2}=4,\cdots$) to $e^{i\frac{2\pi}{5}}$. Then we make $b_i$ according to the previous steps. Let $i\equiv j$ (mod 5), $i\equiv k$ (mod 199), and $b_i=l_{aj}+l_{bk}$, then each $b_i$ will be some $a_ p^2-a_q^2$ and $\sum_{i=1}^{995}b_ie^{i\theta}=\sum_{j=1}^5\sum_{i=1}^{199}l_{aj}e^{i\frac{2\pi}{199}}+\sum_{k=1}^{199}\sum_{i=1}^{5}l_{bk}e^{i\frac{2\pi}{5}}=0$ And we are done.",,,,,,
1989p1,"Prove that in the set $\{1,2, \ldots, 1989\}$ can be expressed as the disjoint union of subsets $A_i, \{i = 1,2, \ldots, 117\}$ such that

i.) each $A_i$ contains 17 elements

ii.) the sum of all the elements in each $A_i$ is the same.",3,"Determine the required sum for each of the 117 subsets. Then, partition the set $S=\{1, 2, \\ldots, 1989\}$ into a collection of pairs with a constant sum and a set of remaining single numbers.","The total sum of elements in $S$ is $\frac{1989 \times 1990}{2} = 1979055$. For 117 subsets with equal sums, each must sum to $1979055 / 117 = 16915$. We partition $S$ by forming $936$ pairs $(k, 1990-k)$ for $k \\in \\{1, \\ldots, 936\\}$. Each pair sums to 1990. These pairs use numbers from $\\{1, \\ldots, 936\\} \\cup \\{1054, \\ldots, 1989\\}$. The $1989 - 2 \times 936 = 117$ remaining numbers are $R = \\{937, 938, \\ldots, 1053\\}$.","Construct 117 disjoint subsets, each containing 16 elements, such that the sum of elements in each subset is a constant value $K$.","The set of numbers $\\{1, \\ldots, 936\\} \\cup \\{1054, \\ldots, 1989\\}$ can be partitioned into 936 pairs of the form $(k, 1990-k)$. We distribute these pairs evenly among 117 subsets $A'_i$. Since $936 = 117 \times 8$, each subset receives 8 pairs. For instance, we can assign the 8 pairs $\{(i+117j, 1990-(i+117j)) \\mid j=0, \\ldots, 7\}$ to the set $A'_i$ for $i=1, \\ldots, 117$. Each resulting subset $A'_i$ has $16$ elements, and the sum of elements is constant for all subsets: $K = 8 \times 1990 = 15920$.","Prove that in the set $\\{1,2, \\ldots, 1989\\}$ can be expressed as the disjoint union of subsets $A_i, \\{i = 1,2, \\ldots, 117\\}$ such that i.) each $A_i$ contains 17 elements and ii.) the sum of all the elements in each $A_i$ is the same.","We start with 117 disjoint sets $A'_i$, each with 16 elements and sum 15920, constructed from pairs $(k, 1990-k)$. The remaining numbers are $R=\\{937, \\ldots, 1053\\}$, which can be written as $\\{995+d \\mid d \\in \\{-58, \\ldots, 58\\}\}$. The target sum is $16915 = 15920+995$. We systematically swap elements between the sets $A'_i$ to create a set of sum imbalances $\\{d'_i\\}_{i=1}^{117}$ that is a permutation of $\\{-58, \\ldots, 58\\}$. Let $A''_i$ be the set $A'_i$ after these swaps, with sum $15920+d'_i$. We then form the final sets $A_i$ by adding the remaining number $r_i = 995-d'_i \\in R$ to the corresponding set $A''_i$. The final sum of each set $A_i$ is $(15920+d'_i) + (995-d'_i) = 16915$. Each $A_i$ now has 17 elements, and the construction ensures they form a disjoint partition of $\\{1, \\ldots, 1989\\}$ with the required equal sum property.",,
1989p2,"$ABC$ is a triangle, the bisector of angle $A$ meets the circumcircle of triangle $ABC$ in $A_1$, points $B_1$ and $C_1$ are defined similarly. Let $AA_1$ meet the lines that bisect the two external angles at $B$ and $C$ in $A_0$. Define $B_0$ and $C_0$ similarly. Prove that the area of triangle $A_0B_0C_0 = 2 \cdot$ area of hexagon $AC_1BA_1CB_1 \geq 4 \cdot$ area of triangle $ABC$.",2,"Let $\triangle ABC$ be a triangle. Let $A_0, B_0, C_0$ be the centers of the excircles opposite to vertices $A, B, C$ respectively. Let the angle bisector of $A$ meet the circumcircle of $\triangle ABC$ at $A_1$, and define $B_1, C_1$ similarly. Prove that the area of $\triangle A_0B_0C_0$ is twice the area of the hexagon $AC_1BA_1CB_1$.","The point $A_0$ is the excenter $I_a$, and similarly $B_0=I_b, C_0=I_c$. The area of the excentral triangle is $[A_0B_0C_0] = [ABC] + [A_0BC] + [B_0CA] + [C_0AB]$. The area of $\triangle A_0BC$ is $\frac{1}{2}ar_a$, where $r_a$ is the exradius. Using $r_a=r\frac{a+b+c}{b+c-a}$, we have $[A_0B_0C_0] = [ABC] + \sum_{cyc} \frac{ar}{2}\frac{a+b+c}{b+c-a}$. The area of hexagon $AC_1BA_1CB_1$ is $[ABC] + [A_1BC] + [B_1CA] + [C_1AB]$. Since $A_1$ is on the circumcircle and the angle bisector of $A$, $\triangle A_1BC$ is isosceles with base angles $A/2$, so its area is $\frac{a^2}{4}\tan(A/2)$. Using $\tan(A/2) = \frac{2r}{b+c-a}$, the hexagon's area is $[ABC] + \sum_{cyc} \frac{a^2r}{2(b+c-a)}$. The equality $[A_0B_0C_0] = 2[\text{Hexagon}]$ is equivalent to $[ABC] + \sum\frac{ar}{2}\frac{a+b+c}{b+c-a} = 2[ABC] + \sum\frac{a^2r}{b+c-a}$, which simplifies to $\sum \frac{ar}{2(b+c-a)}(a+b+c-2a) = [ABC]$. The sum becomes $\sum \frac{ar}{2} = \frac{r(a+b+c)}{2} = rs = [ABC]$, which confirms the equality.","$ABC$ is a triangle, the bisector of angle $A$ meets the circumcircle of triangle $ABC$ in $A_1$, points $B_1$ and $C_1$ are defined similarly. Let $AA_1$ meet the lines that bisect the two external angles at $B$ and $C$ in $A_0$. Define $B_0$ and $C_0$ similarly. Prove that the area of triangle $A_0B_0C_0 = 2 \cdot$ area of hexagon $AC_1BA_1CB_1 \geq 4 \cdot$ area of triangle $ABC$.","From the previous sub-problem, we have established the equality: Area($\triangle A_0B_0C_0$) = 2 * Area(Hexagon $AC_1BA_1CB_1$). We now prove the inequality: $2 \cdot$ Area(Hexagon) $\geq 4 \cdot$ Area($\triangle ABC$). Using the equality, this is equivalent to showing Area($\triangle A_0B_0C_0$) $\geq 4 \cdot$ Area($\triangle ABC$). We have Area($\triangle A_0B_0C_0$) = $[ABC] + \sum_{cyc} \frac{1}{2}ar_a$. The inequality becomes $[ABC] + \sum_{cyc} \frac{1}{2}ar_a \geq 4[ABC]$, or $\sum_{cyc} \frac{1}{2}ar_a \geq 3[ABC]$. Substituting $r_a = \frac{[ABC]}{s-a}$, we get $\sum_{cyc} \frac{a[ABC]}{2(s-a)} \geq 3[ABC]$. Dividing by $[ABC]/2$ gives $\sum_{cyc} \frac{a}{s-a} \geq 6$. Using the Ravi substitution $a=y+z, b=z+x, c=x+y$, where $x,y,z$ are positive reals, $s=x+y+z$, and the inequality becomes $\frac{y+z}{x} + \frac{z+x}{y} + \frac{x+y}{z} \geq 6$. The left side is $(\frac{y}{x}+\frac{x}{y}) + (\frac{z}{y}+\frac{y}{z}) + (\frac{x}{z}+rac{z}{x})$. By the AM-GM inequality, each term in parentheses is at least 2, so their sum is at least 6. This completes the proof.",,,,
1989p3,"Let $n$ and $k$ be positive integers and let $S$ be a set of $n$ points in the plane such that

i.) no three points of $S$ are collinear, and

ii.) for every point $P$ of $S$ there are at least $k$ points of $S$ equidistant from $P.$

Prove that:\[k < \frac {1}{2} + \sqrt {2 \cdot n}\]",2,"Let $S$ be a set of $n$ points satisfying the given conditions. By counting the number of triples of distinct points $(P, Q, R)$ from $S$ such that $d(P,Q)=d(P,R)$ in two different ways, prove that the inequality $k(k-1) \le 2(n-1)$ must hold.","Consider the set of triples $(P, \{Q, R\})$ where $P, Q, R$ are distinct points in $S$ and $P$ is equidistant from $Q$ and $R$. For each point $P \in S$, there are at least $k$ points equidistant from it, so there are at least $\binom{k}{2}$ pairs $\{Q, R\}$. This gives a total of at least $n \binom{k}{2}$ such triples. On the other hand, for any pair of points $\{Q, R\}$, the points $P$ equidistant from them lie on the perpendicular bisector of the segment $QR$. Since no three points in $S$ are collinear, there are at most two such points $P$ in $S$. With $\binom{n}{2}$ total pairs, this gives an upper bound of $2\binom{n}{2}$ triples. Combining these, we get $n \frac{k(k-1)}{2} \le 2 \frac{n(n-1)}{2}$, which simplifies to $k(k-1) \le 2(n-1)$.","Let $n$ and $k$ be positive integers and let $S$ be a set of $n$ points in the plane such that i.) no three points of $S$ are collinear, and ii.) for every point $P$ of $S$ there are at least $k$ points of $S$ equidistant from $P.$ Prove that:\[k < \frac {1}{2} + \sqrt {2 \cdot n}\]","From the previous step, we have the inequality $k(k-1) \le 2(n-1)$. Assume for contradiction that $k \ge \frac{1}{2} + \sqrt{2n}$. Then $k - \frac{1}{2} \ge \sqrt{2n}$. As $k \ge 1$, both sides are positive, so we can square to get $(k - \frac{1}{2})^2 \ge 2n$, which expands to $k^2 - k + \frac{1}{4} \ge 2n$, or $k(k-1) \ge 2n - \frac{1}{4}$. Combining this with our derived inequality gives $2n - \frac{1}{4} \le k(k-1) \le 2(n-1) = 2n-2$. This implies $2n - \frac{1}{4} \le 2n-2$, which simplifies to $2 \le \frac{1}{4}$, a contradiction. Therefore, the assumption is false, and we must have $k < \frac{1}{2} + \sqrt{2n}$.",,,,
1989p4,"Let $ABCD$ be a convex quadrilateral such that the sides $AB,AD,BC$ satisfy $AB=AD+BC$. There exists a point $P$ inside the quadrilateral at a distance $h$ from the line $CD$ such that $AP=h+AD$ and $BP=h+BC$. Show that:

$\frac{1}{\sqrt{h}}\ge\frac{1}{\sqrt{AD}}+\frac{1}{\sqrt{BC}}$",3,"Let circle $C_A$ be centered at A with radius $r_A=AD$, circle $C_B$ be centered at B with radius $r_B=BC$, and circle $C_P$ be centered at P with radius $r_P=h$. Based on the problem's conditions $AB=AD+BC$, $AP=h+AD$, and $BP=h+BC$, describe the geometric relationship between these three circles and the line $CD$.","The condition $AB = AD+BC$ implies the distance between the centers of $C_A$ and $C_B$ is the sum of their radii, so they are externally tangent. Similarly, $AP=h+AD$ implies $C_A$ and $C_P$ are externally tangent, and $BP=h+BC$ implies $C_B$ and $C_P$ are externally tangent. Therefore, the three circles $C_A, C_B, C_P$ are mutually externally tangent. The condition that $P$ is at a distance $h$ from line $CD$ means that circle $C_P$ is tangent to the line $CD$.","To find an upper bound for $h$, consider the specific configuration where the line $CD$ is a common external tangent to circles $C_A$ and $C_B$. Calculate the value of $\sqrt{h}$ in this arrangement.","When $CD$ is the common external tangent to $C_A$ and $C_B$, the points where $C_A$, $C_P$, and $C_B$ touch the line $CD$ are collinear. The distance along the tangent line between the tangency points of $C_A$ and $C_B$ is $2\sqrt{AD \cdot BC}$. This distance must be the sum of the distances between the tangency points of $C_A$ and $C_P$ ($2\sqrt{AD \cdot h}$) and of $C_P$ and $C_B$ ($2\sqrt{BC \cdot h}$). Thus, we have the relation $2\sqrt{AD \cdot BC} = 2\sqrt{AD \cdot h} + 2\sqrt{BC \cdot h}$. Dividing by 2 and factoring gives $\sqrt{AD \cdot BC} = \sqrt{h}(\sqrt{AD} + \sqrt{BC})$. Solving for $\sqrt{h}$ yields $\sqrt{h} = \frac{\sqrt{AD \cdot BC}}{\sqrt{AD}+\sqrt{BC}}$.","Show that for any point $P$ inside the quadrilateral satisfying the given conditions, it holds that $\frac{1}{\sqrt{h}}\ge\frac{1}{\sqrt{AD}}+\frac{1}{\sqrt{BC}}$.","The quantity $\frac{1}{\sqrt{AD}}+\frac{1}{\sqrt{BC}}$ is fixed. To prove the inequality, we must find the maximum possible value for $h$. The value of $h$ is maximized when circle $C_P$ is as large as possible, which occurs when the line $CD$ is the common external tangent to circles $C_A$ and $C_B$. Any other line $CD$ passing through a point on $C_A$ and a point on $C_B$ would further constrain the position of $P$, leading to a smaller $h$. Thus, for any valid configuration, $h \le h_{max}$, where $h_{max}$ is the value from the previous sub-problem. This implies $\sqrt{h} \le \sqrt{h_{max}} = \frac{\sqrt{AD \cdot BC}}{\sqrt{AD}+\sqrt{BC}}$. Taking the reciprocal reverses the inequality: $\frac{1}{\sqrt{h}} \ge \frac{\sqrt{AD}+\sqrt{BC}}{\sqrt{AD \cdot BC}}$. Splitting the fraction on the right gives $\frac{1}{\sqrt{h}} \ge \frac{\sqrt{AD}}{\sqrt{AD \cdot BC}} + \frac{\sqrt{BC}}{\sqrt{AD \cdot BC}}$, which simplifies to the desired result: $\frac{1}{\sqrt{h}} \ge \frac{1}{\sqrt{BC}} + \frac{1}{\sqrt{AD}}$.",,
1989p5,Prove that for each positive integer $n$ there exist $n$ consecutive positive integers none of which is an integral power of a prime number.,2,"Let $S$ be the set of integers that are an integral power of a prime number (i.e., of the form $p^k$ for a prime $p$ and integer $k \ge 1$). Let $C(N)$ be the number of elements in $S$ that are less than or equal to $N$. Prove that the density of $S$ is zero, i.e., $\lim_{N \to \infty} \frac{C(N)}{N} = 0$.","The set $S$ is the union of the set of primes $P = \{p^1\}$ and the set of higher prime powers $S' = \{p^k : p \text{ is prime}, k \ge 2\}$. Let $\pi(N)$ be the number of primes $\le N$, and let $C'(N)$ be the number of elements of $S'$ that are $\le N$. We have $C(N) \le \pi(N) + C'(N)$.
From the Prime Number Theorem, we know that $\lim_{N \to \infty} \frac{\pi(N)}{N} = 0$. 
To bound $C'(N)$, we can count all perfect powers $m^k$ for $k \ge 2$ and $m^k \le N$. The number of $k$-th powers $\le N$ is at most $N^{1/k}$. The possible exponents $k$ range from $2$ to $\lfloor\log_2 N\rfloor$. 
So, $C'(N) \le \sum_{k=2}^{\lfloor\log_2 N\rfloor} N^{1/k} \le N^{1/2} + \sum_{k=3}^{\lfloor\log_2 N\rfloor} N^{1/3} \le N^{1/2} + (\log_2 N) N^{1/3}$.
Dividing by $N$, we get $\frac{C'(N)}{N} \le \frac{N^{1/2}}{N} + \frac{(\log_2 N) N^{1/3}}{N} = \frac{1}{N^{1/2}} + \frac{\log_2 N}{N^{2/3}}$. As $N \to \infty$, both terms approach 0. Thus, $\lim_{N \to \infty} \frac{C'(N)}{N} = 0$.
Since $\frac{C(N)}{N} \le \frac{\pi(N)}{N} + \frac{C'(N)}{N}$, and both terms on the right go to 0, we conclude $\lim_{N \to \infty} \frac{C(N)}{N} = 0$.",Prove that for each positive integer $n$ there exist $n$ consecutive positive integers none of which is an integral power of a prime number.,"Let $S$ be the set of integral powers of prime numbers. From the previous sub-problem, we know that the density of $S$ is zero, i.e., $\lim_{N \to \infty} \frac{|S \cap \{1, \dots, N\}|}{N} = 0$. 
Assume for contradiction that there is a positive integer $n$ such that every sequence of $n$ consecutive positive integers contains at least one element from $S$. This implies that the gap between any two consecutive elements of $S$ is at most $n-1$. 
Let the elements of $S$ be $s_1 < s_2 < s_3 < \dots$. The assumption implies $s_{i+1} - s_i \le n$ for all $i \ge 1$. This means that for any integer $N$, the number of elements of $S$ up to $N$, denoted $C(N)$, must be at least $\lfloor N/n \rfloor$. 
Therefore, $\frac{C(N)}{N} \ge \frac{\lfloor N/n \rfloor}{N}$. As $N \to \infty$, the right side approaches $1/n$. So, $\liminf_{N \to \infty} \frac{C(N)}{N} \ge \frac{1}{n}$. 
This contradicts our result that the limit is 0, since $1/n > 0$. Thus, the assumption must be false. For any $n$, there must exist a gap of length at least $n$ in the set $S$, which proves the existence of $n$ consecutive integers, none of which is an integral power of a prime.",,,,
1989p6,"A permutation $\{x_1, \ldots, x_{2n}\}$ of the set$\{1,2, \ldots, 2n\}$ where $\mbox{n}$ is a positive integer, is said to have property $T$ if $|x_i - x_{i + 1}| = n$ for at least one $i \in \{1,2, \ldots, 2n - 1\}$. Show that, for each $\mbox{n}$, there are more permutations with property $T$ than without.",3,"Let $F_i$ be the set of permutations $\{x_1, \ldots, x_{2n}\}$ of $\{1, \ldots, 2n\}$ such that $|x_i - x_{i+1}| = n$. Calculate the sum $\sum_{i=1}^{2n-1} |F_i|$.","For any given $i$, there are $n$ pairs of values $(k, k+n)$ that can be chosen for $(x_i, x_{i+1})$. Each pair can be ordered in 2 ways, so there are $2n$ choices for the ordered pair $(x_i, x_{i+1})$. The remaining $2n-2$ numbers can be arranged in $(2n-2)!$ ways. Thus, $|F_i| = 2n \cdot (2n-2)!$. Summing over the $2n-1$ possible values for $i$, we get $\sum_{i=1}^{2n-1} |F_i| = (2n-1) \cdot 2n \cdot (2n-2)! = (2n)!$.",Let $F_i$ be defined as in the previous sub-problem. Show that $\sum_{1 \le i < j \le 2n-1} |F_i \cap F_j| < \frac{(2n)!}{2}$.,"The intersection $F_i \cap F_j$ is non-empty only if $j > i+1$, as $j=i+1$ implies $x_i=x_{i+2}$, which is impossible in a permutation. For such a pair $(i,j)$, $|F_i \cap F_j| = 2n(2n-2)(2n-4)!$. The number of such pairs $(i,j)$ is $\frac{(2n-2)(2n-3)}{2}$. The total sum is $\sum |F_i \cap F_j| = \frac{(2n-2)(2n-3)}{2} \cdot 2n(2n-2)(2n-4)! = \frac{(2n)!}{2} \cdot \frac{2n-2}{2n-1}$. Since $\frac{2n-2}{2n-1} < 1$ for $n \ge 1$, the sum is strictly less than $\frac{(2n)!}{2}$.","A permutation $\{x_1, \ldots, x_{2n}\}$ of the set $\{1,2, \ldots, 2n\}$ where $n$ is a positive integer, is said to have property $T$ if $|x_i - x_{i + 1}| = n$ for at least one $i \in \{1,2, \ldots, 2n - 1\}$. Show that, for each $n$, there are more permutations with property $T$ than without.","Let $F$ be the set of permutations with property $T$, so $F = \bigcup_{i=1}^{2n-1} F_i$. By a Bonferroni inequality, $|F| \ge \sum_{i=1}^{2n-1} |F_i| - \sum_{1 \le i < j \le 2n-1} |F_i \cap F_j|$. From sub-problem 1, the first sum is $(2n)!$. From sub-problem 2, the second sum is strictly less than $\frac{(2n)!}{2}$. Therefore, $|F| > (2n)! - \frac{(2n)!}{2} = \frac{(2n)!}{2}$. As the total number of permutations is $(2n)!$, this proves that more than half of the permutations have property $T$.",,
1988p4,"Show that the solution set of the inequality

$\sum_{k=1}^{70}\frac{k}{x-k}\ge\frac{5}{4}$

is a union of disjoint intervals, the sum of whose length is $1988$.",3,"Let $f(x)=\sum_{k=1}^{70}\frac{k}{x-k}$. Show that the solution set of the inequality $f(x) \\ge \frac{5}{4}$ is a union of 70 disjoint intervals, $(k, r_k]$ for $k=1, \\dots, 70$, where $r_k$ are the roots of the equation $f(x) = \frac{5}{4}$.","The function $f(x)$ has vertical asymptotes at $x=k$ for $k=1, \\dots, 70$. The derivative $f'(x) = -\\sum_{k=1}^{70}\frac{k}{(x-k)^2}$ is always negative, so $f(x)$ is strictly decreasing on each interval where it is defined. For each $k \\in \\{1, \\dots, 69\\}$, on the interval $(k, k+1)$, $f(x)$ decreases from $+\\infty$ to $-\\infty$. On $(70, \\infty)$, $f(x)$ decreases from $+\\infty$ to $0$. By the Intermediate Value Theorem, the equation $f(x) = 5/4$ must have exactly one root, $r_k$, in each of the 70 intervals $(k, k+1)$ for $k=1,...,69$ and $(70, \\infty)$. Since $f(x)$ is decreasing, the inequality $f(x) \\ge 5/4$ holds on the union of the 70 disjoint intervals $(k, r_k]$ for $k=1, \\dots, 70$.","Let $r_1, r_2, \\ldots, r_{70}$ be the roots of the equation $\\sum_{k=1}^{70}\frac{k}{x-k} = \frac{5}{4}$. Find the sum of these roots, $\\sum_{k=1}^{70} r_k$.","Clearing denominators, the equation becomes $4 \\sum_{k=1}^{70} k \\prod_{j \ne k} (x-j) = 5 \\prod_{j=1}^{70} (x-j)$. This can be rearranged into a polynomial equation $P(x) = 5 \\prod_{j=1}^{70} (x-j) - 4 \\sum_{k=1}^{70} k \\prod_{j \ne k} (x-j) = 0$. This is a polynomial of degree 70. The coefficient of $x^{70}$ is $5$. The coefficient of $x^{69}$ is $5(-\\sum_{j=1}^{70} j) - 4(\\sum_{k=1}^{70} k) = -9 \\sum_{k=1}^{70} k$. By Vieta's formulas, the sum of the roots is $\\sum_{k=1}^{70} r_k = - \frac{-9 \\sum_{k=1}^{70} k}{5} = \frac{9}{5} \\sum_{k=1}^{70} k = \frac{9}{5} \frac{70 \\cdot 71}{2} = 4473$.","Show that the solution set of the inequality\n\n$\\sum_{k=1}^{70}\frac{k}{x-k}\\ge\frac{5}{4}$\n\nis a union of disjoint intervals, the sum of whose length is $1988$.","From the first part, the solution set is a union of disjoint intervals $\bigcup_{k=1}^{70} (k, r_k]$. The total length of these intervals is $L = \\sum_{k=1}^{70} (r_k - k) = (\\sum_{k=1}^{70} r_k) - (\\sum_{k=1}^{70} k)$. From the second part, the sum of the roots is $\\sum_{k=1}^{70} r_k = 4473$. The sum of the first 70 integers is $\\sum_{k=1}^{70} k = \frac{70 \\cdot 71}{2} = 2485$. Therefore, the sum of the lengths is $L = 4473 - 2485 = 1988$.",,
1988p5,"In a right-angled triangle $ABC$ let $AD$ be the altitude drawn to the hypotenuse and let the straight line joining the incentres of the triangles $ABD, ACD$ intersect the sides $AB, AC$ at the points $K,L$ respectively. If $E$ and $E_1$ dnote the areas of triangles $ABC$ and $AKL$ respectively, show that\[\frac {E}{E_1} \geq 2.\]",2,"In a right-angled triangle $ABC$ with the right angle at $A$, let $AD$ be the altitude to the hypotenuse $BC$. Let the line joining the incentres $I_1, I_2$ of the triangles $ABD, ACD$ intersect the sides $AB, AC$ at the points $K,L$ respectively. Show that $AK=AD=AL$.","Let $E$ be the intersection of the line $KL$ and the altitude $AD$. A known property for a line passing through the incenter of a triangle, when applied to $\triangle ABD$ (with incenter $I_1$) and $\triangle ACD$ (with incenter $I_2$), yields two equations:
$\frac{AB}{AK} \cdot AD + \frac{AD}{AE} \cdot AB = AB+BD+AD$
$\frac{AC}{AL} \cdot AD + \frac{AD}{AE} \cdot AC = AC+CD+AD$
By eliminating the term containing $AE$ and simplifying using identities for right-angled triangles (such as $AC \cdot BD - AB \cdot CD = AD(AB-AC)$), we deduce that $AK=AL$. Since $\angle BAC = 90^\circ$, $\triangle AKL$ is an isosceles right-angled triangle, which implies $\angle AKL = 45^\circ$. In the right-angled $\triangle ABD$, the bisector of $\angle ADB$ is $DI_1$, so $\angle ADI_1 = 45^\circ$. Now consider $\triangle AKD$. Since $AI_1$ is the angle bisector of $\angle KAD$, we have $\angle KAI_1 = \angle DAI_1$. With $\angle AKI_1 = \angle AKL = 45^\circ$ and $\angle ADI_1 = 45^\circ$, and the common side $AI_1$, we find $\triangle AKI_1 \cong \triangle ADI_1$ by AAS congruence. Therefore, $AK=AD$. Combined with $AK=AL$, we have $AK=AD=AL$.","In a right-angled triangle $ABC$ let $AD$ be the altitude drawn to the hypotenuse and let the straight line joining the incentres of the triangles $ABD, ACD$ intersect the sides $AB, AC$ at the points $K,L$ respectively. If $E$ and $E_1$ dnote the areas of triangles $ABC$ and $AKL$ respectively, show that\[\frac {E}{E_1} \geq 2.\]","From the result of the previous sub-problem, we have $AK=AL=AD$. The area of $\triangle ABC$ is $E = \frac{1}{2}AB \cdot AC$. The area of $\triangle AKL$ is $E_1 = \frac{1}{2}AK \cdot AL = \frac{1}{2}AD^2$. The ratio of the areas is $\frac{E}{E_1} = \frac{\frac{1}{2}AB \cdot AC}{\frac{1}{2}AD^2} = \frac{AB \cdot AC}{AD^2}$. In a right-angled triangle, we have the geometric relations $AB \cdot AC = BC \cdot AD$ and $AD^2 = BD \cdot CD$. Substituting these into the ratio expression gives: \[\frac{E}{E_1} = \frac{BC \cdot AD}{AD^2} = \frac{BC}{AD} = \frac{BD+CD}{\sqrt{BD \cdot CD}}.\]By the Arithmetic Mean-Geometric Mean (AM-GM) inequality, $BD+CD \geq 2\sqrt{BD \cdot CD}$. Therefore, \[\frac{E}{E_1} \geq \frac{2\sqrt{BD \cdot CD}}{\sqrt{BD \cdot CD}} = 2.\]",,,,
1988p6,Let $a$ and $b$ be positive integers such that $ab + 1$ divides $a^{2} + b^{2}$. Show that $\frac {a^{2} + b^{2}}{ab + 1}$ is the square of an integer.,2,"Let $k = \frac{a^2+b^2}{ab+1}$ be a positive integer for some positive integers $a, b$. Among all pairs of positive integers $(x,y)$ for which $\frac{x^2+y^2}{xy+1}=k$, let $(a,b)$ be one that minimizes the sum $x+y$, with $a \ge b$. Show that the quadratic equation $x^2 - kbx + (b^2-k)=0$, which has $a$ as a root, must have $0$ as its other root.","Let the quadratic be $f(x)=x^2 - kbx + (b^2-k)$. Since $(a,b)$ is a solution to the original problem, $a^2-kba+b^2-k=0$, so $a$ is a root of $f(x)=0$. Let the other root be $x_2$. By Vieta's formulas, $x_2 = kb-a$, which means $x_2$ is an integer. If $x_2>0$, then $(x_2, b)$ is another solution pair. But $x_2 = \frac{b^2-k}{a} < \frac{b^2}{a} \le \frac{a^2}{a} = a$. Thus $x_2+b < a+b$, contradicting the minimality of $(a,b)$. So we must have $x_2 \le 0$. Now, consider $f(-1) = (-1)^2-kb(-1)+b^2-k = 1+kb+b^2-k = b^2+1+k(b-1)$. Since $b\ge 1$ and $k>0$, $f(-1)>0$. As $f(x)$ is an upward-opening parabola with a positive root $a$, the other root $x_2$ must be greater than $-1$. The only integer satisfying $x_2 \le 0$ and $x_2 > -1$ is $x_2=0$.",Let $a$ and $b$ be positive integers such that $ab + 1$ divides $a^{2} + b^{2}$. Show that $\frac {a^{2} + b^{2}}{ab + 1}$ is the square of an integer.,"Let $k = \frac{a^2+b^2}{ab+1}$. We are given that $k$ is an integer. Let $(a,b)$ be a pair of positive integers satisfying this equation for which the sum $a+b$ is minimal, and assume $a \ge b$. From the first sub-problem, we know that for this minimal pair, the quadratic equation $x^2 - kbx + (b^2 - k) = 0$ has roots $a$ and $0$. By Vieta's formulas, the product of the roots is given by $a \cdot 0 = b^2-k$. This implies $b^2-k=0$, or $k=b^2$. Since $b$ is an integer, $k$ is the square of an integer.",,,,
1987p1,"Let $p_n (k)$ be the number of permutations of the set $\{ 1, \ldots , n \} , \; n \ge 1$, which have exactly $k$ fixed points. Prove that

$\sum_{k=0}^{n} k \cdot p_n (k) = n!$.

(Remark: A permutation $f$ of a set $S$ is a one-to-one mapping of $S$ onto itself. An element $i$ in $S$ is called a fixed point of the permutation $f$ if $f(i) = i$.)",2,"Let $S_n$ be the set of all permutations of $\{1, \\ldots, n\}$. Show that the sum $S = \\sum_{k=0}^{n} k \\cdot p_n (k)$ represents the total number of fixed points over all permutations in $S_n$.",The term $p_n(k)$ is the number of permutations that have exactly $k$ fixed points. The product $k \\cdot p_n(k)$ therefore counts the total number of fixed points contributed by this specific group of permutations. Summing this product over all possible values of $k$ (from 0 to $n$) gives the grand total of all fixed points across all permutations in $S_n$.,"Let $p_n (k)$ be the number of permutations of the set $\{ 1, \\ldots , n \\}$, which have exactly $k$ fixed points. Prove that $\\sum_{k=0}^{n} k \\cdot p_n (k) = n!$.","The sum represents the total number of fixed points over all permutations. We can also count this total by summing, for each element $i \\in \\{1, \\ldots, n\\}$, the number of permutations that fix $i$. For any specific element $i$, the number of permutations that fix $i$ is $(n-1)!$, as the remaining $n-1$ elements can be permuted freely. Since there are $n$ choices for the element $i$ to be fixed, the total count of fixed points is $n \times (n-1)! = n!$.",,,,
1987p2,"In an acute-angled triangle $ABC$ the interior bisector of the angle $A$ intersects $BC$ at $L$ and intersects the circumcircle of $ABC$ again at $N$. From point $L$ perpendiculars are drawn to $AB$ and $AC$, the feet of these perpendiculars being $K$ and $M$ respectively. Prove that the quadrilateral $AKNM$ and the triangle $ABC$ have equal areas.",2,Show that the area equality $[AKNM] = [ABC]$ is equivalent to the projection formula $BC = AB \cos B + AC \cos C$.,"The proof first establishes that the area equality $[AKNM]=[ABC]$ is equivalent to the relation $[BNC]=[KNC]+[BMN]$. This second relation is expressed using trigonometry: $\frac{1}{2}BN^2\sin(\angle BNC) = \frac{1}{2}CN \cdot CK\sin(\angle KCN)+\frac{1}{2}BN \cdot BM\sin(\angle MBN)$. Since $AN$ is an angle bisector meeting the circumcircle at $N$, we have $BN=CN$, $\angle BNC = 180^\circ - A$, and $\angle NBC = \angle NCB = A/2$. The equation simplifies to $BN \sin A = CK \sin(C+A/2) + BM \sin(B+A/2)$. Using the sine rule in $\triangle BNC$, we have $BN=\frac{BC}{2\cos(A/2)}$. Substituting this, expanding the sine terms, and replacing trigonometric functions with ratios of lengths from the right-angled triangles $\triangle BKL$, $\triangle CLM$, and $\triangle AKL$ shows this is equivalent to $BC=AC\cos C+AB\cos B$.","In an acute-angled triangle $ABC$ the interior bisector of the angle $A$ intersects $BC$ at $L$ and intersects the circumcircle of $ABC$ again at $N$. From point $L$ perpendiculars are drawn to $AB$ and $AC$, the feet of these perpendiculars being $K$ and $M$ respectively. Prove that the quadrilateral $AKNM$ and the triangle $ABC$ have equal areas.","Let $A'$ be the foot of the altitude from vertex $A$ to the side $BC$. Since $\triangle ABC$ is acute-angled, $A'$ lies between $B$ and $C$. In the right-angled triangle $AA'B$, we have $A'B = AB \cos B$. In the right-angled triangle $AA'C$, we have $A'C = AC \cos C$. Therefore, $BC = A'B + A'C = AB \cos B + AC \cos C$. As established in the first sub-problem, this identity is equivalent to the area equality $[AKNM] = [ABC]$. Thus, the quadrilateral $AKNM$ and the triangle $ABC$ have equal areas.",,,,
1987p3,"Let $x_1 , x_2 , \ldots , x_n$ be real numbers satisfying $x_1^2 + x_2^2 + \cdots + x_n^2 = 1$. Prove that for every integer $k \ge 2$ there are integers $a_1, a_2, \ldots a_n$, not all 0, such that $| a_i | \le k-1$ for all $i$ and

$|a_1x_1 + a_2x_2 + \cdots + a_nx_n| \le \frac{ (k-1) \sqrt{n} }{ k^n - 1 }$.",1,"Let $x_1 , x_2 , \ldots , x_n$ be real numbers satisfying $x_1^2 + x_2^2 + \cdots + x_n^2 = 1$. Prove that for every integer $k \ge 2$ there are integers $a_1, a_2, \ldots a_n$, not all 0, such that $| a_i | \le k-1$ for all $i$ and

$|a_1x_1 + a_2x_2 + \cdots + a_nx_n| \le \frac{ (k-1) \sqrt{n} }{ k^n - 1 }$.","We first note that by the Power Mean Inequality, $\sum_{i=1}^{n} x_i \le \sqrt{n}$. Therefore all sums of the form $\sum_{i=1}^{n} b_i x_i$, where the $b_i$ is a non-negative integer less than $k$, fall in the interval $[ 0 , (k-1)\sqrt{n} ]$. We may partition this interval into $k^n - 1$ subintervals of length $\frac{ (k-1)\sqrt{n} }{k^n - 1}$. But since there are $k^n$ such sums, by the pigeonhole principle, two must fall into the same subinterval. It is easy to see that their difference will form a sum with the desired properties.",,,,,,
1987p4,Prove that there is no function $f$ from the set of non-negative integers into itself such that $f(f(n)) = n + 1987$ for every $n$.,3,"Let $f$ be a function from the set of non-negative integers into itself such that $f(f(n)) = n + k$ for some fixed positive integer $k$. Prove that if $f(m)=n$, then $m$ and $n$ cannot have the same residue modulo $k$.","Assume for contradiction that $m \equiv n \pmod k$. Since $f$ is injective ($f(a)=f(b) \implies a+k=b+k \implies a=b$), we must have $m \neq n$. So, we can write $n = m+ks$ or $m = n+ks$ for some positive integer $s$. Assume $n=m+ks$. An induction shows $f(x+kr) = f(x)+kr$ for any integer $r \ge 1$. The base case $r=1$ holds since $f(x+k) = f(f(f(x))) = f(x)+k$. Using this property, $f(n) = f(m+ks) = f(m)+ks = n+ks$. But by definition, $f(n) = f(f(m)) = m+k$. Equating the two expressions for $f(n)$ gives $m+k = n+ks$. Substituting $n=m+ks$, we get $m+k = (m+ks)+ks = m+2ks$. This implies $k=2ks$, so $1=2s$, which is impossible for an integer $s$. A similar contradiction arises if we assume $m=n+ks$. Therefore, $m \not\equiv n \pmod k$.","Let $f$ be a function from the set of non-negative integers into itself such that $f(f(n)) = n + k$ for a fixed positive integer $k$. Show that $f$ induces a permutation on the set of residues modulo $k$, $Z_k = \{0, 1, \dots, k-1\}$, which consists entirely of disjoint 2-cycles (pairs).","For any $n$, $f(n+k) = f(f(f(n))) = f(n)+k$. This implies that if $n_1 \equiv n_2 \pmod k$, then $f(n_1) \equiv f(n_2) \pmod k$. Thus, $f$ induces a well-defined map $\pi$ on the residues $Z_k$. From $f(f(n)) = n+k \equiv n \pmod k$, it follows that $\pi(\pi(r)) = r$ for any residue $r \in Z_k$. This means $\pi$ is a permutation of $Z_k$ which is its own inverse. Such a permutation can be decomposed into disjoint cycles of length 1 (fixed points) and 2 (transpositions). A fixed point would mean $\pi(r)=r$ for some $r$. This would imply that for an integer $n \equiv r \pmod k$, we have $f(n) \equiv r \pmod k$. This contradicts the result from Sub-problem 1. Therefore, $\pi$ has no fixed points and must be composed entirely of disjoint 2-cycles.",Prove that there is no function $f$ from the set of non-negative integers into itself such that $f(f(n)) = n + 1987$ for every $n$.,"Let $k=1987$. Suppose such a function $f$ exists. According to Sub-problem 2, this function must induce a permutation on the set of residues modulo 1987, $Z_{1987} = \{0, 1, \dots, 1986\}$, which consists entirely of disjoint 2-cycles. For the set $Z_{1987}$ to be partitioned into disjoint pairs (2-cycles), the total number of elements in the set must be even. The size of $Z_{1987}$ is $k=1987$, which is an odd number. An odd number of elements cannot be partitioned into pairs. This is a contradiction, so no such function $f$ can exist.",,
1987p5,Let $n$ be an integer greater than or equal to 3. Prove that there is a set of $n$ points in the plane such that the distance between any two points is irrational and each set of three points determines a non-degenerate triangle with rational area.,2,"Let $n \ge 3$ be an integer. Consider the set of points $S = \{ (k, k^2) \mid k=1, 2, \dots, n \}$. Prove that the distance between any two distinct points in $S$ is irrational, and that no three points in $S$ are collinear.","The distance between two distinct points $(x_1, x_1^2)$ and $(x_2, x_2^2)$ in $S$ is $d = \sqrt{(x_1-x_2)^2 + (x_1^2 - x_2^2)^2} = |x_1-x_2|\sqrt{1+(x_1+x_2)^2}$. Since $x_1, x_2$ are distinct integers, $x_1+x_2$ is an integer, and $1+(x_1+x_2)^2$ is an integer that is not a perfect square. Thus, its square root is irrational. The product of a non-zero integer and an irrational number is irrational. All points in $S$ lie on the parabola $y=x^2$. A line can intersect a parabola at most at two points, so no three points in $S$ can be collinear.",Let $n$ be an integer greater than or equal to 3. Prove that there is a set of $n$ points in the plane such that the distance between any two points is irrational and each set of three points determines a non-degenerate triangle with rational area.,"Consider the set of points $S = \{ (k, k^2) \mid k=1, 2, \dots, n \}$. From the previous sub-problem, the distance between any two points in $S$ is irrational, and no three points are collinear, which implies they form a non-degenerate triangle. All points in $S$ have integer coordinates (they are lattice points). By Pick's Theorem, the area of a triangle with lattice point vertices is $A = I + B/2 - 1$, where $I$ is the number of interior lattice points and $B$ is the number of boundary lattice points. Since $I$ and $B$ are integers, the area $A$ must be a rational number. Thus, the set $S$ satisfies all the required conditions.",,,,
1987p6,"Let $n$ be an integer greater than or equal to 2. Prove that if $k^2 + k + n$ is prime for all integers $k$ such that $0 \leq k \leq \sqrt{n/3}$, then $k^2 + k + n$ is prime for all integers $k$ such that $0 \leq k \leq n - 2$.",2,"Prove the following primality criterion: Let $m$ be an odd integer greater than 1. If for some integer $b \ge 1$, we have $(2b+1)^2 > m$ and $\gcd(m, j) = 1$ for all integers $j$ such that $b+1 \le j \le 2b$, then $m$ is prime.","Assume $m$ is composite and let $p$ be its smallest prime factor. Then $p \le \sqrt{m}$. The condition $(2b+1)^2 > m$ implies $\sqrt{m} < 2b+1$, so $p \le 2b$. Since $m$ is odd, $p$ is an odd prime. If $b+1 \le p \le 2b$, then $\gcd(m, p) = p > 1$, contradicting the hypothesis. If $p \le b$, there exists an integer $i \ge 0$ such that $b+1 \le 2^i p \le 2b$. To see this, note that repeated multiplication of $p$ by 2 will eventually yield a number greater than $b$. Let $2^{i-1}p \le b$ and $2^i p > b$. Then $2^i p \le 2b$. Let $j = 2^i p$. Since $p|m$ and $p|j$, we have $\gcd(m, j) \ge p > 1$, which again contradicts the hypothesis. Thus, $m$ cannot be composite and must be prime.","Let $n$ be an integer greater than or equal to 2. Prove that if $k^2 + k + n$ is prime for all integers $k$ such that $0 \leq k \leq \sqrt{n/3}$, then $k^2 + k + n$ is prime for all integers $k$ such that $0 \leq k \leq n - 2$.","Let $P_k = k^2+k+n$ and $r = \lfloor \sqrt{n/3} \rfloor$. By hypothesis, $P_k$ is prime for $0 \le k \le r$. We prove by strong induction that $P_k$ is prime for $r < k \le n-2$. Assume $P_i$ is prime for all $0 \le i < k$. We use the criterion from sub-problem 1 to prove $P_k$ is prime, with $m=P_k$ and $b=k$. Note $P_k$ is odd for prime $n>2$ (if $n=2$, the statement is trivial). We verify the two conditions:
1. $(2k+1)^2 > P_k$: This is equivalent to $3k^2+3k+1 > n$. Since $k > r$, we have $k \ge r+1$. Also, by definition of floor, $r+1 > \sqrt{n/3}$, so $(r+1)^2 > n/3$, which implies $3(r+1)^2 > n$. As $k \ge r+1$, we have $3k^2+3k+1 > 3k^2 \ge 3(r+1)^2 > n$. The condition holds.
2. $\gcd(P_k, j) = 1$ for $k+1 \le j \le 2k$: Let $j=k+a$ with $1 \le a \le k$. Let $d=\gcd(P_k, j)$. From $k \equiv -a \pmod d$, it follows that $d$ divides $P_{a-1} = (a-1)^2+(a-1)+n$. Let $k'=a-1$, so $0 \le k' \le k-1$. By the induction hypothesis, $P_{k'}$ is prime. Thus $d=1$ or $d=P_{k'}$. If $d=P_{k'}$, then $P_{k'} | j$, so $P_{k'} \le j$. This means $k'^2+k'+n \le k+k'+1$, or $k'^2+n-1 \le k$. However, for $k \le n-2$ and $k' \ge 0$, we have $k \le n-2 < n-1 \le k'^2+n-1$. This is a contradiction. Thus, $d$ must be 1.
Both conditions hold, so $P_k$ is prime. By induction, the statement is proven.",,,,
1986p1,"Let $d$ be any positive integer not equal to $2, 5$ or $13$. Show that one can find distinct $a,b$ in the set $\{2,5,13,d\}$ such that $ab-1$ is not a perfect square.",1,"Let $d$ be any positive integer not equal to $2, 5$ or $13$. Show that one can find distinct $a,b$ in the set $\{2,5,13,d\}$ such that $ab-1$ is not a perfect square.","Suppose $p^2=2d-1$, $q^2=5d-1$ and $r^2=13d-1$. From the first equation, $p$ is an odd integer. Let $p=2k-1$. We have $d=2k^2-2k+1$, which is an odd integer. Then $q^2$ and $r^2$ must be even integers, denoted by $4n^2$ and $4m^2$ respectively, and thus $r^2-q^2=4m^2-4n^2=8d$, from which\[2d=m^2-n^2=(m+n)(m-n)\]can be deduced. Since $m^2-n^2$ is even, $m$ and $n$ have the same parity, so $(m+n)(m-n)$ is divisible by $4$. It follows that the odd integer $d$ must be divisible by $2$, leading to a contradiction. We are done.",,,,,,
1986p2,"Given a point $P_0$ in the plane of the triangle $A_1A_2A_3$. Define $A_s=A_{s-3}$ for all $s\ge4$. Construct a set of points $P_1,P_2,P_3,...$ such that $P_{k+1}$ is the image of $P_k$ under a rotation center $A_{k+1}$ through an angle $120^\circ$ clockwise for $k=0,1,2,...$. Prove that if $P_{1986}=P_0$, then the triangle $A_1A_2A_3$ is equilateral.",2,"Let the vertices of the triangle be $A_1, A_2, A_3$ and a point $P_0$ be represented by complex numbers. A sequence of points $P_k$ is generated by rotating $P_{k-1}$ about $A_k$ by an angle of $120^\circ$ clockwise. Show that the composition of the first three rotations, mapping $P_0$ to $P_3$, is a translation, and that the condition $P_{1986}=P_0$ implies that this translation is by a zero vector.","Let $\omega = e^{-2i\pi/3}$ represent the rotation. The transformation from a point $p$ to $p'$ by rotation about a center $c$ is $p' = \omega(p-c)+c$. The composite transformation for three steps ($p_0 \to p_3$) is $p_3 = \omega(\omega(\omega(p_0-a_1)+a_1-a_2)+a_2-a_3)+a_3$. Since $\omega^3=1$, this simplifies to $p_3 = p_0 + T$, where $T$ is a translation vector independent of $p_0$. This transformation is a translation. The transformation from $P_0$ to $P_{1986}$ consists of $1986/3 = 662$ such translations. Thus, $p_{1986} = p_0 + 662T$. The given condition $p_{1986}=p_0$ implies $662T=0$, so the translation vector $T$ must be zero.","Given a point $P_0$ in the plane of the triangle $A_1A_2A_3$. Define $A_s=A_{s-3}$ for all $s\ge4$. Construct a set of points $P_1,P_2,P_3,...$ such that $P_{k+1}$ is the image of $P_k$ under a rotation center $A_{k+1}$ through an angle $120^\circ$ clockwise for $k=0,1,2,...$. Prove that if $P_{1986}=P_0$, then the triangle $A_1A_2A_3$ is equilateral.","From the previous sub-problem, $P_{1986}=P_0$ implies the composite transformation $P_0 \to P_3$ is the identity map, meaning the net translation is zero. Let the vertices be complex numbers. Without loss of generality, set $A_1=0$, $A_2=1$, and $A_3=a$. Let $\omega = e^{-2i\pi/3}$. The position $p_3$ after three rotations is $p_3 = \omega(\omega(\omega p_0 - 1)+1 - a)+a = p_0 + (\omega - \omega^2) + a(1-\omega)$. For this to be the identity map for any $p_0$, the translation vector must be zero: $(\omega - \omega^2) + a(1-\omega) = 0$. This simplifies to $a(1-\omega) = \omega^2 - \omega = -\omega(1-\omega)$, which gives $a=-\omega$. Thus, $a = -e^{-2i\pi/3} = e^{i\pi}e^{-2i\pi/3} = e^{i\pi/3}$. The vertices are $0, 1, e^{i\pi/3}$. The side lengths are $|1-0|=1$, $|e^{i\pi/3}-0|=1$, and $|e^{i\pi/3}-1|=1$. Therefore, the triangle $A_1A_2A_3$ is equilateral.",,,,
1985p1,A circle has center on the side $AB$ of the cyclic quadrilateral $ABCD$. The other three sides are tangent to the circle. Prove that $AD + BC = AB$.,1,A circle has center on the side $AB$ of the cyclic quadrilateral $ABCD$. The other three sides are tangent to the circle. Prove that $AD + BC = AB$.,"Let $O$ be the center of the circle mentioned in the problem. Let $T$ be the second intersection of the circumcircle of $CDO$ with $AB$. By measures of arcs, $\angle DTA = \angle DCO = \frac{\angle DCB}{2} = \frac{\pi}{2} - \frac{\angle DAB}{2}$. It follows that $AT = AD$. Likewise, $TB = BC$, so $AD + BC = AB$, as desired.",,,,,,
1985p2,"Let $n$ and $k$ be given relatively prime natural numbers, $k < n$. Each number in the set $M = \{ 1,2, \ldots , n-1 \}$ is colored either blue or white. It is given that

(i) for each $i \in M$, both $i$ and $n-i$ have the same color;

(ii) for each $i \in M, i \neq k$, both $i$ and $|i-k|$ have the same color.

Prove that all the numbers in $M$ have the same color.",2,"Let $C(i)$ denote the color of an element $i \in M$. Show that for any $i \in M$, $C(i) = C((i+k) \pmod n)$, provided $(i+k) \pmod n \neq 0$.","The given conditions are (i) $C(i) = C(n-i)$ for any $i \in M$, and (ii) $C(j) = C(|j-k|)$ for any $j \in M, j \neq k$. Using modular arithmetic, condition (i) is equivalent to $C(i) = C(-i \pmod n)$. For any $i \in M$, we have $C(i) = C(-i \pmod n)$ from (i). Let's apply condition (ii) to the element $-i \pmod n$, which is $n-i \in M$. Assuming $n-i \neq k$, we have $C(n-i) = C(|(n-i)-k|) = C(|n-(i+k)|)$. Combining these facts gives $C(i) = C(|n-(i+k)|)$. The residue $|n-(i+k)| \pmod n$ is either $(i+k) \pmod n$ or $-(i+k) \pmod n$. By condition (i), these two residues have the same color. Therefore, $C(i) = C((i+k) \pmod n)$. This relation holds for all elements where the intermediate steps are valid.",Prove that all the numbers in $M$ have the same color.,"From the first sub-problem, we established that adding $k$ (modulo $n$) to an element does not change its color. By repeated application, for any $i \in M$ and any integer $m$, $i$ and $(i+mk) \pmod n$ have the same color (provided the results are in $M$). Let's pick an arbitrary element, say $1 \in M$. The set of elements that must have the same color as $1$ is $\{ (1+mk) \pmod n \mid m \in \mathbb{Z} \} \cap M$. Since $k$ and $n$ are relatively prime, the set of residues $\{ (1+mk) \pmod n \mid m \in \mathbb{Z} \}$ covers all residues modulo $n$, which is $\{0, 1, \dots, n-1\}$. Therefore, the set of elements with the same color as $1$ is $\{1, 2, \dots, n-1\}=M$. Thus, all numbers in $M$ have the same color.",,,,
1985p3,"For any polynomial $P(x) = a_0 + a_1 x + \cdots + a_k x^k$ with integer coefficients, the number of coefficients which are odd is denoted by $w(P)$. For $i = 0, 1, \ldots$, let $Q_i (x) = (1+x)^i$. Prove that if $i_1, i_2, \ldots , i_n$ are integers such that $0 \leq i_1 < i_2 < \cdots < i_n$, then

$w(Q_{i_1} + Q_{i_2} + \cdots + Q_{i_n}) \ge w(Q_{i_1})$.",2,"Let $k=2^m$ for some integer $m \ge 0$. Let $A(x)$ and $B(x)$ be polynomials with integer coefficients and with degrees strictly less than $k$. Define $P(x) = A(x) + (1+x)^k B(x)$. Prove that $w(P) \ge w(A)$. Furthermore, show that if $A(x) = 0$, then $w(P) = 2w(B)$.","We work with coefficients modulo 2. For a polynomial $F$, $w(F)$ is the number of non-zero coefficients in $F(x) \pmod 2$. Since $k=2^m$, we have $(1+x)^k \equiv 1+x^k \pmod 2$. Thus, $P(x) \equiv A(x) + (1+x^k)B(x) = (A(x)+B(x)) + x^k B(x) \pmod 2$. As $\deg(A) < k$ and $\deg(B) < k$, the polynomial $A(x)+B(x)$ has degree less than $k$. The polynomial $x^k B(x)$ has only terms with exponents from $k$ to $2k-1$. Therefore, the sets of exponents in $A(x)+B(x)$ and $x^k B(x)$ are disjoint. This means $w(P) = w(A+B) + w(B)$. Let $S_A$ and $S_B$ be the sets of exponents of odd coefficients of $A(x)$ and $B(x)$ respectively. Then $w(A)=|S_A|$ and $w(B)=|S_B|$. The set of exponents for $A(x)+B(x) \pmod 2$ is the symmetric difference $S_A \Delta S_B$. So, $w(A+B)=|S_A \Delta S_B| = |S_A|+|S_B|-2|S_A \cap S_B|$. Then, $w(P) = (|S_A|+|S_B|-2|S_A \cap S_B|) + |S_B| = |S_A| + 2(|S_B| - |S_A \cap S_B|) = w(A) + 2|S_B \setminus S_A|$. Since $|S_B \setminus S_A| \ge 0$, we have $w(P) \ge w(A)$. If $A(x)=0$, then $w(A)=0$ and $S_A=\emptyset$. The formula becomes $w(P) = 0 + 2(|S_B| - |\emptyset|) = 2|S_B| = 2w(B)$.","For any polynomial $P(x) = a_0 + a_1 x + \cdots + a_k x^k$ with integer coefficients, the number of coefficients which are odd is denoted by $w(P)$. For $i = 0, 1, \ldots$, let $Q_i (x) = (1+x)^i$. Prove that if $i_1, i_2, \ldots , i_n$ are integers such that $0 \leq i_1 < i_2 < \cdots < i_n$, then $w(Q_{i_1} + Q_{i_2} + \cdots + Q_{i_n}) \ge w(Q_{i_1})$.","We prove the statement by induction on $i_n$. The base case $i_n=0$ is trivial. Assume the statement holds for all sequences with a maximum index less than $i_n$. Let $k=2^m$ be the largest power of 2 such that $k \le i_n$. Let $P(x) = \sum_{j=1}^n Q_{i_j}(x)$. We can write $P(x) = A(x) + (1+x)^k B(x)$, where $A(x) = \sum_{i_j < k} Q_{i_j}(x)$ and $B(x) = \sum_{i_j \ge k} Q_{i_j-k}(x)$. The degrees of $A(x)$ and $B(x)$ are less than $k$ (since $i_n-k < 2k-k=k$). We can therefore apply the result from Sub-problem 1.
Case 1: $i_1 \ge k$. Here, $A(x)=0$. By Sub-problem 1, $w(P) = 2w(B)$. The indices for $B(x)$ are $i'_j = i_j-k$, with largest index $i'_n = i_n-k < i_n$. By the induction hypothesis, $w(B) \ge w(Q_{i'_1})$. Also from Sub-problem 1, $w(Q_{i_1}) = w((1+x)^k Q_{i_1-k}) = 2w(Q_{i'_1})$. Thus, $w(P) = 2w(B) \ge 2w(Q_{i'_1}) = w(Q_{i_1})$.
Case 2: $i_1 < k$. Here, $A(x)$ is non-zero. By Sub-problem 1, $w(P) \ge w(A)$. The sum $A(x) = \sum_{i_j < k} Q_{i_j}(x)$ involves indices strictly smaller than $k \le i_n$. By the induction hypothesis, $w(A) \ge w(Q_{i_1})$. Therefore, $w(P) \ge w(A) \ge w(Q_{i_1})$.
In both cases, the inequality holds, completing the induction.",,,,
1985p4,"Given a set $M$ of $1985$ distinct positive integers, none of which has a prime divisor greater than $23$, prove that $M$ contains a subset of $4$ elements whose product is the $4$th power of an integer.",2,"Let $M$ be a set of $1985$ distinct positive integers, none of which has a prime divisor greater than $23$. Prove that there are at least 513 disjoint pairs of elements $\{a_i, b_i\} \subset M$ such that each product $a_ib_i$ is a perfect square.","Each integer in $M$ has the form $x = 2^{e_1}3^{e_2}\cdots 23^{e_9}$. The product of two such integers is a perfect square if and only if the vectors of their prime exponents have the same parity vector modulo 2. There are $2^9 = 512$ possible parity vectors. Let $k_j$ be the number of elements in $M$ with the $j$-th parity vector, for $j=1, \dots, 512$. We have $\sum_{j=1}^{512} k_j = 1985$. The total number of disjoint pairs with the same parity vector is $\sum_{j=1}^{512} \lfloor k_j/2 \rfloor$. This sum is minimized when the $k_j$ are as close as possible. Since $1985 = 3 \times 512 + 449$, the minimum occurs when 449 of the $k_j$ are 4 and 63 are 3. The minimum number of pairs is $449 \times \lfloor 4/2 \rfloor + 63 \times \lfloor 3/2 \rfloor = 449 \times 2 + 63 \times 1 = 961$. Since $961 \ge 513$, the statement holds.","Given a set $M$ of $1985$ distinct positive integers, none of which has a prime divisor greater than $23$, prove that $M$ contains a subset of $4$ elements whose product is the $4$th power of an integer.","From the previous sub-problem, we can find a set of at least 513 disjoint pairs $\{a_i, b_i\}$ from $M$ such that $a_ib_i = y_i^2$ for some integers $y_i$. Let $S = \{y_1, y_2, \dots, y_k\}$ where $k \ge 513$. The prime divisors of each $y_i$ are also less than or equal to 23. Thus, we can associate each $y_i$ with one of $2^9=512$ parity vectors based on its prime exponents. Since $|S| \ge 513 > 512$, by the Pigeonhole Principle, there must exist at least two distinct elements, say $y_j, y_l \in S$, with the same parity vector. Their product $y_j y_l$ must be a perfect square, say $z^2$. We have $y_j = \sqrt{a_j b_j}$ and $y_l = \sqrt{a_l b_l}$. Then $y_j y_l = \sqrt{a_j b_j a_l b_l} = z^2$, which implies $a_j b_j a_l b_l = z^4$. Since the pairs $\{a_j, b_j\}$ and $\{a_l, b_l\}$ are disjoint, the set $\{a_j, b_j, a_l, b_l\}$ is a subset of $M$ with 4 distinct elements whose product is a 4th power.",,,,
1985p5,A circle with center $O$ passes through the vertices $A$ and $C$ of the triangle $ABC$ and intersects the segments $AB$ and $BC$ again at distinct points $K$ and $N$ respectively. Let $M$ be the point of intersection of the circumcircles of triangles $ABC$ and $KBN$ (apart from $B$). Prove that $\angle OMB = 90^{\circ}$.,2,"Let $O$ be the center of the circle passing through $A, K, N, C$. Let $O'$ and $O''$ be the circumcenters of triangles $ABC$ and $KBN$ respectively. Prove that the line segment $MO$ is parallel to the line segment $O'O''$.","Let $\angle ACB = \gamma$. Since the quadrilateral $AKNC$ is cyclic, its exterior angle at vertex $K$ equals the interior opposite angle, so $\angle BKN = \angle ACB = \gamma$. The point $M$ lies on the circumcircle of $\triangle KBN$ (with center $O''$), so by the extended sine rule, the radius is $MO'' = \frac{BN}{2\sin(\angle BKN)} = \frac{BN}{2\sin\gamma}$. A known geometric result establishes that the distance between the centers $O$ and $O'$ is also $OO' = \frac{BN}{2\sin\gamma}$. It is also a known property that the points $M, O, O', O''$ are concyclic. The quadrilateral $MO''O'O$ is a cyclic trapezium with equal adjacent sides $MO'' = OO'$, which implies that its opposite sides $MO$ and $O'O''$ are parallel.",A circle with center $O$ passes through the vertices $A$ and $C$ of the triangle $ABC$ and intersects the segments $AB$ and $BC$ again at distinct points $K$ and $N$ respectively. Let $M$ be the point of intersection of the circumcircles of triangles $ABC$ and $KBN$ (apart from $B$). Prove that $\angle OMB = 90^{\circ}$.,"Let the circumcircles of $\triangle ABC$ and $\triangle KBN$ be centered at $O'$ and $O''$ respectively. The line $BM$ is the radical axis (common chord) of these two circles. The line of centers, $O'O''$, is perpendicular to the radical axis. Therefore, $O'O'' \perp BM$. From the previous sub-problem, we established that $MO \parallel O'O''$. Since $O'O'' \perp BM$ and $MO \parallel O'O''$, it follows that $MO \perp BM$, which proves that $\angle OMB = 90^{\circ}$.",,,,
1985p6,"For every real number $x_1$, construct the sequence $x_1,x_2,\ldots$ by setting $x_{n+1}=x_n \left(x_n + \frac{1}{n}\right)$ for each $n \geq 1$. Prove that there exists exactly one value of $x_<x_n<x_{n+1}<1$ for every $n$.",2,"Define sequences \{a_n\} and \{b_n\} such that the condition $0 < x_k < x_{k+1} < 1$ for all $k \ge 1$ is equivalent to $x_1 \in \bigcap_{n=1}^\infty (a_n, b_n)$. Prove that this intersection is a non-empty interval, thereby establishing the existence of at least one suitable value for $x_1$.","Let $x_n = P_n(x_1)$, where $P_n$ is a polynomial with non-negative coefficients. The condition $0 < x_k < x_{k+1} < 1$ is equivalent to $1 - 1/k < x_k < 1$ for all $k \ge 1$. Define $a_n = P_n^{-1}(1 - 1/n)$ and $b_n = P_n^{-1}(1)$. The condition on $x_1$ becomes $x_1 \in \bigcap_{n=1}^\infty (a_n, b_n)$. We show \{a_n\} is strictly increasing and \{b_n\} is strictly decreasing. If $x_1 = a_n$, then $x_n = 1-1/n$, so $x_{n+1} = (1-1/n)(1-1/n+1/n) = 1-1/n$. Since $P_{n+1}(a_{n+1}) = 1-1/(n+1) > 1-1/n = P_{n+1}(a_n)$, we have $a_{n+1} > a_n$. If $x_1 = b_n$, then $x_n = 1$, so $x_{n+1} = 1(1+1/n) = 1+1/n$. Since $P_{n+1}(b_{n+1}) = 1 < 1+1/n = P_{n+1}(b_n)$, we have $b_{n+1} < b_n$. Thus, we have a sequence of nested closed intervals $[a_n, b_n]$ whose intersection $[a,b]$ is non-empty, proving existence.","For every real number $x_1$, construct the sequence $x_1,x_2,\ldots$ by setting $x_{n+1}=x_n \left(x_n + \frac{1}{n}\right)$ for each $n \geq 1$. Prove that there exists exactly one value of $x_1$ such that $0 < x_n < x_{n+1} < 1$ for every $n$.","From the existence proof, the set of suitable $x_1$ values forms a non-empty interval $[a, b]$. To prove uniqueness, we must show $a=b$. Let $x_1, x_1' \in [a,b]$ with $x_1 \le x_1'$, and let \{x_n\} and \{x_n'\} be the corresponding sequences. The difference satisfies $x_{n+1}' - x_{n+1} = (x_n' - x_n)(x_n' + x_n + 1/n)$. Since $1-1/n < x_n \le x_n' < 1$, we have $x_n' + x_n + 1/n > 2(1-1/n) + 1/n = 2 - 1/n \ge 1$ for $n \ge 1$. Thus, $x_{n+1}' - x_{n+1} \ge x_n' - x_n$, which implies by induction that $x_n' - x_n \ge x_1' - x_1$. However, we also know that $0 \le x_n' - x_n < 1 - (1-1/n) = 1/n$. Combining these results gives $0 \le x_1' - x_1 \le x_n' - x_n < 1/n$. As $n \to \infty$, $1/n \to 0$, so we must have $x_1' - x_1 = 0$, meaning $x_1' = x_1$. Therefore, the interval $[a, b]$ contains a single point, proving uniqueness.",,,,
1984p1,"Let $x$, $y$, $z$ be nonnegative real numbers with $x + y + z = 1$. Show that $0 \leq xy+yz+zx-2xyz \leq \frac{7}{27}$",2,"Let $x, y, z$ be nonnegative real numbers with $x+y+z=1$. Show that $xy+yz+zx-2xyz \geq 0$.","Given $x,y,z \geq 0$ and $x+y+z=1$, at least one variable must be less than or equal to $1/2$. Without loss of generality, assume $x \leq 1/2$, which implies $1-2x \geq 0$. The expression can be rewritten as $xy+yz+zx-2xyz = yz(1-2x) + x(y+z)$. Since all variables are non-negative and $(1-2x) \geq 0$, both terms $yz(1-2x)$ and $x(y+z)$ are non-negative. Therefore, their sum is non-negative.","Let $x$, $y$, $z$ be nonnegative real numbers with $x + y + z = 1$. Show that $0 \leq xy+yz+zx-2xyz \leq \frac{7}{27}$.","The lower bound is established in the first sub-problem. For the upper bound, let $f(x,y,z) = xy+yz+zx-2xyz$. Assume without loss of generality that $x \leq y \leq z$. This implies $x \leq 1/3$ and $y \leq 1/2$. Consider replacing $(x, z)$ with a new pair $(x', z') = (1/3, x+z-1/3)$ while keeping $y$ fixed. This 'smoothing' process keeps the sum $x'+y+z'=1$ and increases the value of $f$, since $f(x',y,z') - f(x,y,z) = (1-2y)(1/3-x)(z-1/3) \ge 0$. This implies that the maximum value of $f$ is achieved when the variables are as close as possible, which is when they are equal. Thus, the maximum occurs at $x=y=z=1/3$. Evaluating $f(1/3, 1/3, 1/3)$ gives $3(1/3)^2 - 2(1/3)^3 = 1/3 - 2/27 = 7/27$. Therefore, $xy+yz+zx-2xyz \leq 7/27$.",,,,
1984p3,"Given points $O$ and $A$ in the plane. Every point in the plane is colored with one of a finite number of colors. Given a point $X$ in the plane, the circle $C(X)$ has center $O$ and radius $OX+{\angle AOX\over OX}$, where $\angle AOX$ is measured in radians in the range $[0,2\pi)$. Prove that we can find a point $X$, not on $OA$, such that its color appears on the circumference of the circle $C(X)$.",2,"Prove that if for every point $X$ not on the ray $OA$, its color does not appear on the circle $C(X)$, then there exists an infinite matrix of points $(x_{i,j})_{i,j \ge 1}$ such that for any $i, j, m \ge 1$, the color of $x_{i,j}$ is different from the color of $x_{i+j, m}$.","Let $(a_n)_{n\ge 1}$ be a sequence of positive reals with $(\sum a_n)^2 < 2\pi$. Define a sequence of circles $\\mathcal{C}_n$ centered at $O$ with radius $R_n = \\sum_{k=1}^n a_k$. For each pair $(i,j)$, we can find a point $x_{i,j}$ on $\\mathcal{C}_i$ such that its corresponding circle $C(x_{i,j})$ is $\\mathcal{C}_{i+j}$. This is because the condition for the angle, $\\angle AOx_{i,j} = R_i \\sum_{k=i+1}^{i+j} a_k$, is satisfiable as the right side is in $(0, 2\\pi)$. The assumption that a point's color is not on its circle $C(X)$ means the color of $x_{i,j}$ is not on $C(x_{i,j}) = \\mathcal{C}_{i+j}$. Since all points $x_{i+j,m}$ for $m\\ge 1$ lie on $\\mathcal{C}_{i+j}$, their colors must be different from the color of $x_{i,j}$.","Given points $O$ and $A$ in the plane. Every point in the plane is colored with one of a finite number of colors. Given a point $X$ in the plane, the circle $C(X)$ has center $O$ and radius $OX+{\\angle AOX\\over OX}$, where $\\angle AOX$ is measured in radians in the range $[0,2\\pi)$. Prove that we can find a point $X$, not on $OA$, such that its color appears on the circumference of the circle $C(X)$.","Assume for contradiction that for every point $X$ not on $OA$, its color does not appear on $C(X)$. By sub-problem 1, there exists a matrix of points $(x_{i,j})$ where $c(x_{i,j}) \ne c(x_{i+j, m})$ for all $i,j,m \\ge 1$. Let there be $N$ colors. By the Pigeonhole Principle (PHP), in row 1, some color $c_1$ appears infinitely often for column indices $j$ in an infinite set $J_1$. For any $j \\in J_1$, $c(x_{1,j})=c_1$, which implies row $1+j$ has no points of color $c_1$. Let $j_1$ be the first index in $J_1$. The points $x_{1+j_1, j-j_1}$ for $j \\in J_1, j>j_1$ are in row $1+j_1$ and thus not colored $c_1$. By PHP, one color $c_2 \ne c_1$ appears infinitely often for a subsequence of these points, corresponding to an infinite set of indices $J_2 \\subset J_1$. For any $j \\in J_2$, this implies row $1+j$ is free of color $c_2$. Thus, all rows $1+j$ for $j \\in J_2$ are free of colors $c_1$ and $c_2$. Repeating this process $N$ times, we find an infinite set of rows where none of the $N$ colors can appear. This is a contradiction, as every point must have a color. The initial assumption is false.",,,,
1984p4,Let $ABCD$ be a convex quadrilateral with the line $CD$ being tangent to the circle on diameter $AB$. Prove that the line $AB$ is tangent to the circle on diameter $CD$ if and only if the lines $BC$ and $AD$ are parallel.,3,"Let a line segment $XY$ and a line $l$ be non-parallel, intersecting at a point $E$ such that $E$ is not between $X$ and $Y$. Let $\theta$ be the angle between the line containing $XY$ and line $l$. Show that the circle with diameter $XY$ is tangent to $l$ if and only if $\sin\theta = \frac{XY}{EX+EY}$.","The circle with diameter $XY$ has its center $M$ at the midpoint of $XY$ and a radius of $r = XY/2$. The circle is tangent to line $l$ if and only if the distance from $M$ to $l$, denoted $d(M,l)$, is equal to $r$. The distances from the endpoints $X$ and $Y$ to $l$ are $d(X,l)=EX \sin\theta$ and $d(Y,l)=EY \sin\theta$. Since $E$ is not between $X$ and $Y$, $M$'s distance to $l$ is the average of the endpoint distances: $d(M,l) = \frac{d(X,l)+d(Y,l)}{2} = \frac{(EX+EY)\sin\theta}{2}$. The tangency condition $d(M,l)=r$ thus becomes $\frac{(EX+EY)\sin\theta}{2} = \frac{XY}{2}$, which simplifies to $\sin\theta = \frac{XY}{EX+EY}$. This relationship is biconditional.","Let $A,B,C,D$ form a convex quadrilateral such that the lines containing opposite sides $AB$ and $CD$ intersect at a point $E$ external to these segments. Show that the other pair of opposite sides $AD$ and $BC$ are parallel if and only if $\frac{EA}{EB} = \frac{ED}{EC}$.","Consider the triangles $\triangle EAD$ and $\triangle EBC$. They share the common angle $\angle AED$ at vertex $E$. By the Side-Angle-Side similarity criterion, $\triangle EAD \sim \triangle EBC$ if and only if the ratios of the lengths of the corresponding adjacent sides are equal, i.e., $\frac{EA}{EB} = \frac{ED}{EC}$. Furthermore, the triangles are similar if and only if their other corresponding angles are equal. Specifically, $\angle EAD = \angle EBC$. Since these are corresponding angles formed by the transversal line $EB$ intersecting lines $AD$ and $BC$, their equality is the necessary and sufficient condition for $AD \parallel BC$. Thus, $AD \parallel BC$ is equivalent to $\frac{EA}{EB} = \frac{ED}{EC}$.",Let $ABCD$ be a convex quadrilateral with the line $CD$ being tangent to the circle on diameter $AB$. Prove that the line $AB$ is tangent to the circle on diameter $CD$ if and only if the lines $BC$ and $AD$ are parallel.,"Assume the lines containing sides $AB$ and $CD$ are not parallel and intersect at a point $E$ with an angle $\theta$. Let $M$ and $N$ be the midpoints of $AB$ and $CD$ respectively. The condition 'line $CD$ is tangent to the circle on diameter $AB$' means the distance from $M$ to line $CD$ is $AB/2$. By Sub-problem 1, this is equivalent to $\sin\theta = \frac{AB}{EA+EB}$. The condition 'line $AB$ is tangent to the circle on diameter $CD$' is equivalent to $\sin\theta = \frac{CD}{EC+ED}$. Therefore, given the first tangency, the second tangency holds if and only if $\frac{AB}{EA+EB} = \frac{CD}{EC+ED}$. Assuming $E-A-B$ and $E-D-C$, this is $\frac{EB-EA}{EB+EA} = \frac{EC-ED}{EC+ED}$, which simplifies to $\frac{EA}{EB} = \frac{ED}{EC}$. By Sub-problem 2, this is equivalent to $BC \parallel AD$. If $AB \parallel CD$, the conditions imply the quadrilateral height is $AB/2$ and $CD/2$, so $AB=CD$. This means $ABCD$ is a parallelogram, so $BC \parallel AD$ holds.",,
1984p5,"Let $d$ be the sum of the lengths of all the diagonals of a plane convex polygon with $n$ vertices (where $n>3$). Let $p$ be its perimeter. Prove that:\[n-3<{2d\over p}<\Bigl[{n\over2}\Bigr]\cdot\Bigl[{n+1\over 2}\Bigr]-2,\]where $[x]$ denotes the greatest integer not exceeding $x$.",1,"Let $d$ be the sum of the lengths of all the diagonals of a plane convex polygon with $n$ vertices (where $n>3$). Let $p$ be its perimeter. Prove that:\[n-3<{2d\over p}<\Bigl[{n\over2}\Bigr]\cdot\Bigl[{n+1\over 2}\Bigr]-2,\]where $[x]$ denotes the greatest integer not exceeding $x$.","Consider all the pairs of non-adjacent sides in the polygon. Each pair uniquely determines two diagonals which intersect in an interior point. The sum of these two diagonals is greater than the sum of the two sides (triangle inequality). Each side will appear in a pair $n-3$ times. And each time the side appears it also includes two diagonals. Thus, $(n-3)p < 2d$.

Note that for any diagonal, its length is less than the sum of the sides on either side of it (triangle inequality). Consider all the diagonals from a fixed vertex and using the least number of sides in each application of the triangle inequality. We can sum everything up over all the diagonals considering the two cases (even or odd) to get the result.",,,,,,
1984p6,"Let $a,b,c,d$ be odd integers such that $0<a<b<c<d$ and $ad=bc$. Prove that if $a+d=2^k$ and $b+c=2^m$ for some integers $k$ and $m$, then $a=1$.",2,"Let $a,b,c,d$ be odd integers such that $0<a<b<c<d$ and $ad=bc$. If $a+d=2^k$ and $b+c=2^m$ for some integers $k,m$, prove that $a+b = 2^{m-1}$.","From $ad=bc$, $a+d=2^k$ and $b+c=2^m$, we substitute to get $a(2^k-a)=b(2^m-b)$, which rearranges to $(b-a)(a+b) = b \cdot 2^m - a \cdot 2^k$. Since $a<b$ and the function $f(x)=x+bc/x$ is decreasing for $x<\sqrt{bc}$, we have $a+d=f(a)>f(b)=b+c$, which implies $2^k>2^m$ and thus $k>m$. The equation can then be written as $(b-a)(a+b) = 2^m(b-2^{k-m}a)$, which implies $2^m | (b-a)(a+b)$. As $a, b$ are odd, $b-a$ and $a+b$ are even. Their sum is $2b$, so $v_2((b-a)+(a+b))=v_2(2b)=1$ (since $b$ is odd). This implies $\\min(v_2(b-a), v_2(a+b))=1$. We know $b < (b+c)/2 = 2^{m-1}$. If $v_2(b-a) \\ge m-1$, then $b-a \\ge 2^{m-1}$, which contradicts $b-a < b < 2^{m-1}$. Thus, it must be that $v_2(a+b) \\ge m-1$ and $v_2(b-a)=1$. So $a+b = \\alpha \\cdot 2^{m-1}$ for some integer $\\alpha$. Since $a+b < b+c = 2^m$, we have $\\alpha \\cdot 2^{m-1} < 2^m$, so $\\alpha < 2$. As $a,b>0$, $\\alpha$ must be 1. Therefore, $a+b=2^{m-1}$.","Let $a,b,c,d$ be odd integers such that $0<a<b<c<d$ and $ad=bc$. Prove that if $a+d=2^k$ and $b+c=2^m$ for some integers $k$ and $m$, then $a=1$.","From the given conditions, we can establish two key relations: $(b-a)(a+b) = 2^m(b-2^{k-m}a)$ and, as shown in the previous step, $a+b=2^{m-1}$. Substituting the second relation into the first gives $(b-a)2^{m-1} = 2^m(b-2^{k-m}a)$. Dividing by $2^{m-1}$ yields $b-a = 2(b-2^{k-m}a)$, which simplifies to $b+a = 2 \\cdot 2^{k-m}a = 2^{k-m+1}a$. We now have two expressions for $a+b$, so we can equate them: $2^{m-1} = 2^{k-m+1}a$. Since $a$ is an odd integer, this equality can only hold if the non-power-of-2 parts are equal, which means $a=1$. This in turn implies the powers of two must be equal, $2^{m-1}=2^{k-m+1}$, but the conclusion $a=1$ is reached regardless.",,,,
1983p2,"Let $A$ be one of the two distinct points of intersection of two unequal coplanar circles $C_1$ and $C_2$ with centers $O_1$ and $O_2$ respectively. One of the common tangents to the circles touches $C_1$ at $P_1$ and $C_2$ at $P_2$, while the other touches $C_1$ at $Q_1$ and $C_2$ at $Q_2$. Let $M_1$ be the midpoint of $P_1Q_1$ and $M_2$ the midpoint of $P_2Q_2$. Prove that $\angle O_1AO_2=\angle M_1AM_2$.",2,Let $S$ be the intersection point of the common tangents. Prove that $\angle O_1AM_1 = \angle O_2AM_2$.,"Let S be the intersection of the common tangents, which lies on the line of centers $O_1O_2$. With respect to circle $C_1$, the point $S$ is the pole of the line containing the chord of contact $P_1Q_1$. The inverse of $S$ is $M_1$, the midpoint of $P_1Q_1$. Since $A$ is on circle $C_1$, it is its own inverse. A property of inversion on $\triangle O_1AM_1$ implies that $\angle O_1AM_1 = \angle O_1SA$. Similarly, for circle $C_2$, the inverse of $S$ is $M_2$ and the inverse of $A$ is $A$, which implies $\angle O_2AM_2 = \angle O_2SA$. As $S$, $O_1$, and $O_2$ are collinear, $\angle O_1SA = \angle O_2SA$. Therefore, $\angle O_1AM_1 = \angle O_2AM_2$.",Prove that $\angle O_1AO_2=\angle M_1AM_2$.,"From the first sub-problem, we have the equality $\angle O_1AM_1 = \angle O_2AM_2$. By considering the composition of angles around point A, we can write the identity $\angle O_1AO_2 = \angle M_1AM_2 - \angle M_1AO_1 + \angle O_2AM_2$. Using the equality $\angle O_1AM_1 = \angle O_2AM_2$ established previously, the last two terms cancel out. This simplifies the expression to $\angle O_1AO_2 = \angle M_1AM_2$.",,,,
1983p3,"Let $a$, $b$ and $c$ be positive integers, no two of which have a common divisor greater than $1$. Show that $2abc - ab - bc- ca$ is the largest integer which cannot be expressed in the form $xbc + yca + zab$, where $x$, $y$ and $z$ are non-negative integers.",2,"Show that $2abc - ab - bc - ca$ cannot be expressed in the form $xbc + yca + zab$, where $x$, $y$, and $z$ are non-negative integers.","Assume for contradiction that $2abc - ab - bc - ca = xbc + yca + zab$ for some non-negative integers $x, y, z$. Taking the equation modulo $a$, we have $-bc - ca \equiv xbc + yca + zab \pmod a$. This simplifies to $-bc \equiv xbc \pmod a$. Since $a, b, c$ are pairwise coprime, $\gcd(a, bc)=1$, so we can divide by $bc$ to get $x \equiv -1 \pmod a$. As $x$ must be non-negative, $x+1$ is a positive multiple of $a$, so $x = k_1a - 1$ for some integer $k_1 \ge 1$. Similarly, taking the equation modulo $b$ gives $y \equiv -1 \pmod b$, which implies $y = k_2b - 1$ for some integer $k_2 \ge 1$. Substituting these expressions for $x$ and $y$ back into the original equation gives $2abc - ab - bc - ca = (k_1a - 1)bc + (k_2b - 1)ca + zab$. Simplifying, we get $2abc - ab = k_1abc + k_2abc + zab$. Dividing by $ab$ yields $2c - 1 = (k_1+k_2)c + z$. This implies $z = (2 - k_1 - k_2)c - 1$. Since $k_1 \ge 1$ and $k_2 \ge 1$, their sum $k_1+k_2 \ge 2$. Thus, $z \le (2-2)c - 1 = -1$. This contradicts the condition that $z$ is a non-negative integer. Therefore, the assumption is false and $2abc - ab - bc - ca$ cannot be expressed in the given form.","Let $a$, $b$ and $c$ be positive integers, no two of which have a common divisor greater than $1$. Show that $2abc - ab - bc- ca$ is the largest integer which cannot be expressed in the form $xbc + yca + zab$, where $x$, $y$ and $z$ are non-negative integers.","From the first sub-problem, we know that $N = 2abc - ab - bc - ca$ cannot be represented in the given form. We now show that any integer $K > N$ can be represented. Let $K = N+k$ for some integer $k \ge 1$. We seek non-negative integers $x, y, z$ such that $xbc + yca + zab = 2abc - ab - bc - ca + k$. Let's seek a solution with $x=a-m$ and $y=b-n$ for integers $m \in \{1, ..., a\}$ and $n \in \{1, ..., b\}$. This ensures $x \in \{0, ..., a-1\}$ and $y \in \{0, ..., b-1\}$ are non-negative. Substituting these into the equation gives $(a-m)bc + (b-n)ca + zab = 2abc - ab - bc - ca + k$. After simplification, this becomes $(m-1)bc + (n-1)ca + k = (z+1)ab$. We need to find appropriate $m, n, z$. Considering this equation modulo $a$, we get $(m-1)bc + k \equiv 0 \pmod a$. Since $\gcd(a, bc)=1$, there is a unique solution for $m-1$ modulo $a$. We can choose this solution to be in $\{0, ..., a-1\}$, which corresponds to a unique $m \in \{1, ..., a\}$. Similarly, modulo $b$, we have $(n-1)ca + k \equiv 0 \pmod b$. Since $\gcd(b, ca)=1$, there is a unique solution for $n-1$ in $\{0, ..., b-1\}$, which gives a unique $n \in \{1, ..., b\}$. For these specific values of $m$ and $n$, the left-hand side, $(m-1)bc + (n-1)ca + k$, is divisible by both $a$ and $b$. Since $\gcd(a,b)=1$, it must be divisible by $ab$. Thus, $z+1 = \frac{(m-1)bc + (n-1)ca + k}{ab}$ is an integer. Since $m \ge 1, n \ge 1, k \ge 1$, the numerator is at least $1$. As the numerator is a positive integer divisible by $ab$, we must have $(z+1)ab \ge ab$, which implies $z+1 \ge 1$, so $z \ge 0$. We have found non-negative integers $x,y,z$ for any integer greater than $N$, so $N$ is the largest such non-representable integer.",,,,
1982p2,"A non-isosceles triangle $A_{1}A_{2}A_{3}$ has sides $a_{1}$, $a_{2}$, $a_{3}$ with the side $a_{i}$ lying opposite to the vertex $A_{i}$. Let $M_{i}$ be the midpoint of the side $a_{i}$, and let $T_{i}$ be the point where the inscribed circle of triangle $A_{1}A_{2}A_{3}$ touches the side $a_{i}$. Denote by $S_{i}$ the reflection of the point $T_{i}$ in the interior angle bisector of the angle $A_{i}$. Prove that the lines $M_{1}S_{1}$, $M_{2}S_{2}$ and $M_{3}S_{3}$ are concurrent.",3,"Show that the points $S_1, S_2, S_3$ lie on the incircle of $\triangle A_1A_2A_3$ and that $\triangle S_1S_2S_3$ is similar to $\triangle A_1A_2A_3$, with $\angle S_i = \angle A_i$ for $i=1,2,3$.","Let $I$ be the incenter of $\triangle A_1A_2A_3$. Since $I$ lies on the angle bisector of $A_i$, which is the line of reflection for $T_i$ to $S_i$, we have $IS_i = IT_i$. As $IT_i$ is the inradius, all points $S_i$ lie on the incircle. Thus, the incircle of $\triangle A_1A_2A_3$ is the circumcircle of $\triangle S_1S_2S_3$. By calculating the central angles subtended by the sides of $\triangle S_1S_2S_3$ at the center $I$, we find $\angle S_2IS_3 = 2\angle A_1$, $\angle S_3IS_1 = 2\angle A_2$, and $\angle S_1IS_2 = 2\angle A_3$. The inscribed angles in $\triangle S_1S_2S_3$ are half of these central angles, so $\angle S_2S_1S_3 = \angle A_1$, $\angle S_3S_2S_1 = \angle A_2$, and $\angle S_1S_3S_2 = \angle A_3$. Therefore, $\triangle S_1S_2S_3$ is similar to $\triangle A_1A_2A_3$.","Prove that the sides of $\triangle S_1S_2S_3$ are parallel to the corresponding sides of $\triangle A_1A_2A_3$. That is, show $S_2S_3 \parallel A_2A_3$, $S_3S_1 \parallel A_3A_1$, and $S_1S_2 \parallel A_1A_2$.","Let $I$ be the incenter. The radius $IT_1$ is perpendicular to the side $a_1 = A_2A_3$. Let $X_1$ be the midpoint of the chord $S_2S_3$ of the incircle. Then the radius $IX_1$ is perpendicular to the chord $S_2S_3$. A detailed angle calculation shows that the points $T_1$, $I$, and $X_1$ are collinear, meaning $\angle T_1IX_1 = 180^\circ$. This is because $\angle T_1IX_1 = \angle T_1IT_2 + \angle T_2IS_2 + \angle S_2IX_1 = (180^\circ - \angle A_3) + (\angle A_2 + 2\angle A_3 - 180^\circ) + (\angle A_1) = \angle A_1+\angle A_2+\angle A_3 = 180^\circ$. Since $T_1, I, X_1$ are collinear, the line through them is perpendicular to both $A_2A_3$ (at $T_1$) and $S_2S_3$ (at $X_1$). Therefore, $A_2A_3 \parallel S_2S_3$. By cyclic permutation of indices, we also get $A_3A_1 \parallel S_3S_1$ and $A_1A_2 \parallel S_1S_2$.","Prove that the lines $M_1S_1$, $M_2S_2$ and $M_3S_3$ are concurrent.","The triangle $\triangle M_1M_2M_3$ is the medial triangle of $\triangle A_1A_2A_3$. Its sides are parallel to the sides of $\triangle A_1A_2A_3$. For example, $M_2M_3$ connects the midpoints of sides $a_2$ and $a_3$, so $M_2M_3 \parallel a_1 = A_2A_3$. From the previous sub-problem, we have $S_2S_3 \parallel A_2A_3$. Thus, $M_2M_3 \parallel S_2S_3$. Similarly, $M_3M_1 \parallel S_3S_1$ and $M_1M_2 \parallel S_1S_2$. Since the corresponding sides of $\triangle M_1M_2M_3$ and $\triangle S_1S_2S_3$ are parallel, the two triangles are homothetic. The lines connecting corresponding vertices, namely $M_1S_1$, $M_2S_2$, and $M_3S_3$, must all pass through the center of this homothety, and are therefore concurrent.",,
1982p4,"Prove that if $n$ is a positive integer such that the equation $x^3-3xy^2+y^3=n$ has a solution in integers $x,y$, then it has at least three such solutions. Show that the equation has no solutions in integers for $n=2891$.",2,"Let the equation be $x^3-3xy^2+y^3=n$. Show that if $(x,y)$ is an integer solution, then by letting $k=y-x$, the pair $(k, -x)$ is also an integer solution.","Substituting $y=x+k$ into the expression $x^3-3xy^2+y^3$ transforms the equation to $k^3-3kx^2-x^3=n$. Now, we evaluate the expression for the pair $(k, -x)$: it is $k^3 - 3k(-x)^2 + (-x)^3 = k^3 - 3kx^2 - x^3$. Since this expression is equal to $n$, the pair $(k,-x)$ is also a solution.","Prove that if $n$ is a positive integer such that the equation $x^3-3xy^2+y^3=n$ has a solution in integers $x,y$, then it has at least three such solutions. Show that the equation has no solutions in integers for $n=2891$.","If $(x,y)$ is a solution, Sub-problem 1 shows that $(y-x, -x)$ is another solution. Applying the same transformation to $(y-x, -x)$ yields a third solution, $(-y, x-y)$. These three solutions are distinct for positive $n$, because any equality between two of them (e.g., $(x,y)=(y-x,-x)$) implies $x=y=0$ and thus $n=0$, contradicting that $n$ is a positive integer. For $n=2891$, note that $2891 \equiv 0 \pmod 7$. Any solution must satisfy $x^3-3xy^2+y^3 \equiv 0 \pmod 7$, which holds only if $x \equiv y \equiv 0 \pmod 7$. Let $x=7a, y=7b$. Substituting into the original equation gives $343(a^3-3ab^2+b^3)=2891$. This is a contradiction, as $2891 = 7^2 \cdot 59$ is not divisible by $7^3=343$. Thus, no integer solution exists.",,,,
1982p6,"Let $S$ be a square with sides length $100$. Let $L$ be a path within $S$ which does not meet itself and which is composed of line segments $A_0A_1,A_1A_2,A_2A_3,\ldots,A_{n-1}A_n$ with $A_0=A_n$. Suppose that for every point $P$ on the boundary of $S$ there is a point of $L$ at a distance from $P$ no greater than $\frac {1} {2}$. Prove that there are two points $X$ and $Y$ of $L$ such that the distance between $X$ and $Y$ is not greater than $1$ and the length of the part of $L$ which lies between $X$ and $Y$ is not smaller than $198$.",3,"Let the square's vertices be $A', B', C', D'$ in order. Show that the path $L$ can be divided at a point $B$ into two sub-paths, $L_1$ and $L_2$, such that $L_1$ approaches two adjacent vertices (e.g., $A'$ and $B'$), while another vertex ($D'$) is only approached by $L_2$.","Order the points on the path $L$ by their distance from the start $A_0$. Let $A'$ be the first vertex of the square approached by $L$. Assume without loss of generality that its neighbor $B'$ is approached before its other neighbor $D'$. Let $B$ be the first point on $L$ with distance $d(B, B') \le 1/2$. This point $B$ splits $L$ into $L_1$ (from $A_0$ to $B$) and $L_2$ (from $B$ to $A_n$). By construction, $L_1$ approaches $A'$ and $B'$. Since $D'$ is approached later than $B'$, no point on $L_1$ can be within $1/2$ of $D'$. Therefore, any point on $L$ that approaches $D'$ must lie on $L_2$.","Using the path partition from the previous step, prove that there exist a point $X'$ on the side $A'D'$ and points $X$ on $L_1$ and $Y$ on $L_2$ such that $d(X, X') \le 1/2$ and $d(Y, X') \le 1/2$.","Let $S_1$ be the set of points on side $A'D'$ approached by $L_1$. $S_1$ is non-empty (as $A'$ is in it) and closed. Let $X'$ be the point in $S_1$ closest to $D'$. By definition, there is a point $X \in L_1$ with $d(X, X') \le 1/2$. Any point on the boundary segment $(X', D']$ must be approached by $L_2$. Since the set of points approached by $L_2$ is closed, $X'$ must also be approached by $L_2$. Therefore, there exists a point $Y \in L_2$ such that $d(Y, X') \le 1/2$.","Let $S$ be a square with sides length $100$. Let $L$ be a path within $S$ which does not meet itself and which is composed of line segments $A_0A_1,A_1A_2,A_2A_3,\ldots,A_{n-1}A_n$ with $A_0=A_n$. Suppose that for every point $P$ on the boundary of $S$ there is a point of $L$ at a distance from $P$ no greater than $\frac {1} {2}$. Prove that there are two points $X$ and $Y$ of $L$ such that the distance between $X$ and $Y$ is not greater than $1$ and the length of the part of $L$ which lies between $X$ and $Y$ is not smaller than $198$.","From the previous steps, there exist points $X \in L_1$, $Y \in L_2$, and a point $X'$ on side $A'D'$ such that $d(X, X') \le 1/2$ and $d(Y, X') \le 1/2$. The Euclidean distance is $d(X, Y) \le d(X, X') + d(X', Y) \le 1/2 + 1/2 = 1$. The path segment between $X$ and $Y$ that contains $B$ has length $l(X,B) + l(B,Y)$. Since path length is greater than or equal to Euclidean distance, $l(X,B) \ge d(X,B) \ge d(X',B') - d(X,X') - d(B,B')$. As $X'$ is on $A'D'$, $d(X',B') \ge 100$. Thus, $l(X,B) \ge 100 - 1/2 - 1/2 = 99$. Similarly, $l(Y,B) \ge 99$. The total path length is at least $99 + 99 = 198$.",,
1981p2,"Let $1 \le r \le n$ and consider all subsets of $r$ elements of the set $\{ 1, 2, \ldots , n \}$. Each of these subsets has a smallest member. Let $F(n,r)$ denote the arithmetic mean of these smallest numbers; prove that

$F(n,r) = \frac{n+1}{r+1}.$",2,"Let $S$ be the sum of the smallest members of all $r$-element subsets of $\{1, 2, \ldots, n\}$. Prove that $S = \binom{n+1}{r+1}$.","The number of $r$-element subsets of $\{1, 2, \ldots, n\}$ whose smallest member is $k$ is given by $\binom{n-k}{r-1}$, as the other $r-1$ elements must be chosen from the $n-k$ elements larger than $k$. The sum of all smallest members is therefore $S = \sum_{k=1}^{n} k \binom{n-k}{r-1}$. We prove this sum equals $\binom{n+1}{r+1}$ via a combinatorial argument. The number of binary strings of length $n+1$ with $r+1$ ones is $\binom{n+1}{r+1}$. Alternatively, if we condition on the position of the second '1' being at index $k+1$, there are $\binom{k}{1}=k$ choices for the first '1' (at an index from $1$ to $k$) and $\binom{n-k}{r-1}$ choices for the remaining $r-1$ ones (at indices from $k+2$ to $n+1$). Summing over all possible $k$ from $1$ to $n$ gives $\sum_{k=1}^{n} k \binom{n-k}{r-1}$. Equating the two counting methods gives $S = \binom{n+1}{r+1}$.","Let $1 \le r \le n$ and consider all subsets of $r$ elements of the set $\{ 1, 2, \ldots , n \}$. Each of these subsets has a smallest member. Let $F(n,r)$ denote the arithmetic mean of these smallest numbers; prove that\n\n$F(n,r) = \frac{n+1}{r+1}.$","The total number of $r$-element subsets is $\binom{n}{r}$. The sum of the smallest members of all these subsets is $S = \binom{n+1}{r+1}$, as established in the previous step. The arithmetic mean $F(n,r)$ is the total sum divided by the number of subsets. Therefore, $F(n,r) = \frac{S}{\binom{n}{r}} = \frac{\binom{n+1}{r+1}}{\binom{n}{r}} = \frac{(n+1)!/((r+1)!(n-r)!)}{n!/(r!(n-r)!)} = \frac{(n+1)!}{(r+1)!(n-r)!} \\cdot \frac{r!(n-r)!}{n!} = \frac{n+1}{r+1}$.",,,,
1981p5,Three congruent circles have a common point $O$ and lie inside a given triangle. Each circle touches a pair of sides of the triangle. Prove that the incenter and the circumcenter of the triangle and the point $O$ are collinear.,1,Three congruent circles have a common point $O$ and lie inside a given triangle. Each circle touches a pair of sides of the triangle. Prove that the incenter and the circumcenter of the triangle and the point $O$ are collinear.,"Let the triangle have vertices $A,B,C$, and sides $a,b,c$, respectively, and let the centers of the circles inscribed in the angles $A,B,C$ be denoted $O_A, O_B, O_C$, respectively.

The triangles $O_A O_B O_C$ and $ABC$ are homothetic, as their corresponding sides are parallel. Furthermore, since $O_A$ lies on the bisector of angle $A$ and similar relations hold for the triangles' other corresponding points, the center of homothety is the incenter of both the triangles. Since $O$ is clearly the circumcenter of $O_A O_B O_C$, $O$ is collinear with the incenter and circumcenter of $ABC$, as desired.",,,,,,
1979p1,"If $p$ and $q$ are natural numbers so that\[\frac{p}{q}=1-\frac{1}{2}+\frac{1}{3}-\frac{1}{4}+ \ldots -\frac{1}{1318}+\frac{1}{1319},\]prove that $p$ is divisible with $1979$.",1,"If $p$ and $q$ are natural numbers so that\[\frac{p}{q}=1-\frac{1}{2}+\frac{1}{3}-\frac{1}{4}+ \ldots -\frac{1}{1318}+\frac{1}{1319},\]prove that $p$ is divisible with $1979$.","We first write \begin{align*} \frac{p}{q} &=1-\frac{1}{2}+\frac{1}{3}-\frac{1}{4}+\cdots-\frac{1}{1318}+\frac{1}{1319}\\ &=1+\frac{1}{2}+\cdots+\frac{1}{1319}-2\cdot\left(\frac{1}{2}+\frac{1}{4}+\cdots+\frac{1}{1318}\right)\\ &=1+\frac{1}{2}+\cdots+\frac{1}{1319}-\left(1+\frac{1}{2}+\cdots+\frac{1}{659}\right)\\ &=\frac{1}{660}+\frac{1}{661}+\cdots+\frac{1}{1319} \end{align*}Now, observe that \begin{align*} \frac{1}{660}+\frac{1}{1319}=\frac{660+1319}{660\cdot 1319}=\frac{1979}{660\cdot 1319} \end{align*}and similarly $\frac{1}{661}+\frac{1}{1318}=\frac{1979}{661\cdot 1318}$ and $\frac{1}{662}+\frac{1}{1317}=\frac{1979}{662\cdot 1317}$, and so on. We see that the original equation becomes \begin{align*} \frac{p}{q} =\frac{1979}{660\cdot 1319}+\frac{1979}{661\cdot 1318}+\cdots+\frac{1979}{989\cdot 990}=1979\cdot\frac{r}{s} \end{align*}where $s=660\cdot 661\cdots 1319$ and $r=\frac{s}{660\cdot 1319}+\frac{s}{661\cdot 1318}+\cdots+\frac{s}{989\cdot 990}$ are two integers. Finally consider $p=1979\cdot\frac{qr}{s}$, and observe that $s\nmid 1979$ because $1979$ is a prime, it follows that $\frac{qr}{s}\in\mathbb{Z}$. Hence we deduce that $p$ is divisible with $1979$.",,,,,,
1979p2,"We consider a prism which has the upper and inferior basis the pentagons: $A_{1}A_{2}A_{3}A_{4}A_{5}$ and $B_{1}B_{2}B_{3}B_{4}B_{5}$. Each of the sides of the two pentagons and the segments $A_{i}B_{j}$ with $i,j=1,\ldots$,5 is colored in red or blue. In every triangle which has all sides colored there exists one red side and one blue side. Prove that all the 10 sides of the two basis are colored in the same color.",3,"Prove that for each pentagonal base, all five of its sides must be the same color.","Assume for contradiction that a pentagonal base, say $A_1A_2A_3A_4A_5$, has sides of different colors. Let $A_1A_2$ be red and $A_2A_3$ be blue. By the Pigeonhole Principle, among the five segments connecting $A_2$ to the other base ($A_2B_1, ..., A_2B_5$), at least three must have the same color. Let's assume $A_2B_i, A_2B_j, A_2B_k$ are red. In triangle $\triangle A_1A_2B_i$, sides $A_1A_2$ and $A_2B_i$ are red, so to avoid a monochromatic triangle, side $A_1B_i$ must be blue. The same logic applies to $A_1B_j$ and $A_1B_k$, which must also be blue. Now consider $\triangle A_1B_iB_j$. Its sides $A_1B_i$ and $A_1B_j$ are both blue, so $B_iB_j$ must be red. However, in $\triangle A_2B_iB_j$, sides $A_2B_i$ and $A_2B_j$ are both red, so $B_iB_j$ must be blue. A segment cannot be both red and blue, which is a contradiction. Therefore, all five sides of any base must have the same color.","Assume the sides of pentagon $A_1...A_5$ are all one color (e.g., red) and the sides of pentagon $B_1...B_5$ are all the other color (e.g., blue). Show that this assumption leads to a contradiction by analyzing the coloring of the segments $A_iB_j$.","Assume the sides of pentagon A are red and pentagon B are blue. Consider the $5 \times 5 = 25$ segments $A_iB_j$. For any vertex $A_i$, assume three segments, say $A_iB_j, A_iB_k, A_iB_l$, are red. The side $A_{i-1}A_i$ is also red. In $\triangle A_{i-1}A_iB_j$, two sides are red, so $A_{i-1}B_j$ must be blue. This holds for $k,l$ too. Then in $\triangle A_{i-1}B_jB_k$, sides $A_{i-1}B_j$ and $A_{i-1}B_k$ are blue, so $B_jB_k$ must be red. However, in $\triangle A_iB_jB_k$, sides $A_iB_j$ and $A_iB_k$ are red, so $B_jB_k$ must be blue. This is a contradiction. Therefore, at most two segments $A_iB_j$ from any given $A_i$ can be red, limiting the total number of red $A_iB_j$ segments to $5 \times 2 = 10$. A symmetric argument shows at most two segments $A_iB_j$ to any given $B_j$ can be blue, limiting the total number of blue segments to $5 \times 2 = 10$. This allows for at most $10+10=20$ colored segments, but there are 25 segments in total, which is a contradiction.",Prove that all the 10 sides of the two basis are colored in the same color.,"From the first sub-problem, we know that all 5 sides of pentagon A must have the same color, and all 5 sides of pentagon B must have the same color. Let's assume for contradiction that these two colors are different, for instance, all sides of A are red and all sides of B are blue. From the second sub-problem, this assumption leads to a contradiction because it's impossible to color all 25 segments $A_iB_j$ while respecting the no-monochromatic-triangle rule. Specifically, we showed there could be at most 10 red segments and at most 10 blue segments of type $A_iB_j$, totaling at most 20 colored segments out of 25. Therefore, the initial assumption that the bases have different colors must be false. Hence, all 10 sides of the two bases must be the same color.",,
1979p3,"Two circles in a plane intersect. $A$ is one of the points of intersection. Starting simultaneously from $A$ two points move with constant speed, each travelling along its own circle in the same sense. The two points return to $A$ simultaneously after one revolution. Prove that there is a fixed point $P$ in the plane such that the two points are always equidistant from $P.$",4,"Let the two circles be $(O_1)$ and $(O_2)$ intersecting at A. Let points B on $(O_1)$ and C on $(O_2)$ move such that they complete a revolution in the same time and in the same sense, starting from A. Show that the triangle $\triangle ABC$ is always similar to the fixed triangle $\triangle O_1AO_2$.","The condition that the points complete a revolution in the same time means their angular velocities are equal. Let this be $\omega$. At any time $t$, the angles swept are $\angle AO_1B = \angle AO_2C = \omega t$. Since $\triangle AO_1B$ and $\triangle AO_2C$ are isosceles triangles ($O_1A=O_1B$, $O_2A=O_2C$) with equal vertex angles, they are similar. This similarity implies $\angle BAO_1 = \angle CAO_2$ and the ratio of sides $AB/AC = AO_1/AO_2 = r_1/r_2$ is constant. The angle $\angle BAC = \angle BAO_1 + \angle O_1AO_2 - \angle CAO_2 = \angle O_1AO_2$. Since $\triangle ABC$ has a fixed angle $\angle BAC$ and a fixed ratio of adjacent sides $AB/AC$, all triangles $\triangle ABC$ are similar to the fixed triangle $\triangle O_1AO_2$.",Let A' be the other intersection point of the two circles $(O_1)$ and $(O_2)$. Show that the line BC connecting the moving points B and C always passes through the fixed point A'.,"From the previous step, it was established that the angle $\angle BAC$ is constant and equal to $\angle O_1AO_2$. It is a known geometric theorem that if B and C are variable points on two circles intersecting at A and A', and the angle $\angle BAC$ remains constant, then the line BC must pass through the other fixed intersection point A'. This is the converse of the theorem that for any line through A' intersecting the circles at B and C, the angle $\angle BAC$ is constant.",Let M be the midpoint of the segment BC. Show that the locus of M is a fixed circle that passes through the intersection points A and A'.,"Let the points be represented by complex numbers in a plane. The motion of B and C can be described as $b(t) = o_1 + (a-o_1)e^{i\omega t}$ and $c(t) = o_2 + (a-o_2)e^{i\omega t}$. The midpoint M is given by $m(t) = \frac{b(t)+c(t)}{2} = \frac{o_1+o_2}{2} + \frac{(a-o_1)+(a-o_2)}{2} e^{i\omega t}$. This equation describes a circle with a fixed center $Q = \frac{o_1+o_2}{2}$ and a fixed radius. When $t=0$, $B=C=A$, so $M=A$. Thus, the circle passes through A. The center Q lies on the line $O_1O_2$, which is the perpendicular bisector of the common chord AA'. Since the circle passes through A and its center lies on the perpendicular bisector of AA', it must also pass through A'.",Prove that there is a fixed point P in the plane such that the two points are always equidistant from P.,"A point P is equidistant from B and C if and only if it lies on the perpendicular bisector of the segment BC. Let M be the midpoint of BC. The perpendicular bisector of BC is the line through M perpendicular to BC. From sub-problem 2, the line BC always passes through the fixed point A'. From sub-problem 3, the locus of M is a fixed circle $(Q)$ that also passes through A'. Let P be the point diametrically opposite to A' on the circle $(Q)$. Since A' and the circle $(Q)$ are fixed, P is a fixed point. For any position of M on the circle $(Q)$, the angle $\angle A'MP$ is a right angle because it is inscribed in a semicircle. This means the line PM is always perpendicular to the line A'M (which is the line BC). As PM passes through the midpoint M of BC and is perpendicular to BC, it is the perpendicular bisector of BC. Therefore, the fixed point P is always equidistant from B and C."
1979p6,"Let $A$ and $E$ be opposite vertices of an octagon. A frog starts at vertex $A.$ From any vertex except $E$ it jumps to one of the two adjacent vertices. When it reaches $E$ it stops. Let $a_n$ be the number of distinct paths of exactly $n$ jumps ending at $E$. Prove that:\[a_{2n-1}=0, \quad a_{2n}={(2+\sqrt2)^{n-1} - (2-\sqrt2)^{n-1} \over\sqrt2}.\]",2,"Show that the number of paths of odd length is zero, i.e., $a_{2n-1}=0$. Further, show that $a_{2n}$ satisfies the linear recurrence relation $a_{2n} = 4a_{2n-2} - 2a_{2n-4}$ for $n \ge 3$.","Let the vertices be labeled $V_0, ..., V_7$ with the starting vertex $A=V_0$ and the ending vertex $E=V_4$. To reach $E$ from $A$, the net displacement in vertex number must be $\pm 4 \pmod 8$. Each jump changes the vertex number by $\pm 1$. The total number of jumps, $n$, must have the same parity as the net displacement. Since 4 is even, $n$ must be even. Thus, $a_{2n-1}=0$. For the recurrence, let $x_k(j)$ be the number of paths of length $k$ to vertex $V_j$. By symmetry, $x_k(j)=x_k(8-j)$. Let $C_k = x_k(2)$ and $D_k = x_k(3)$. The number of paths to $E$ is $a_k=x_k(4)=2x_{k-1}(3)=2D_{k-1}$. Since a path to $V_3$ can only come from $V_2$ (as it stops at $E=V_4$), we have $D_k=C_{k-1}$, so $a_k=2C_{k-2}$. The path counts are related by the system of recurrences: $C_k = x_k(1)+x_k(3)$, $x_k(1) = x_{k-1}(0)+x_{k-1}(2)$, $x_k(0) = 2x_{k-1}(1)$. Combining these leads to a recurrence for $C_k$: $C_k = 4C_{k-2}-2C_{k-4}$. Substituting $k=2n-2$ and using $a_{2n}=2C_{2n-2}$, we obtain the relation $a_{2n} = 4a_{2n-2}-2a_{2n-4}$ for $n \ge 3$.","Prove that: $a_{2n-1}=0, \quad a_{2n}={(2+\sqrt2)^{n-1} - (2-\sqrt2)^{n-1} \over\sqrt2}$.","From the first sub-problem, we know $a_{2n-1}=0$. Let $b_n = a_{2n}$. The sequence satisfies the recurrence $b_n = 4b_{n-1} - 2b_{n-2}$ for $n \ge 3$. The characteristic equation is $r^2 - 4r + 2 = 0$, which has roots $r_{1,2} = 2 \pm \sqrt{2}$. The general solution is of the form $b_n = c_1(2+\sqrt{2})^{n-1} + c_2(2-\sqrt{2})^{n-1}$. We find the initial conditions by direct counting: a path of length 2 cannot reach $E$, so $a_2=0$, hence $b_1=0$. Paths of length 4 are A-B-C-D-E and A-H-G-F-E, so $a_4=2$, hence $b_2=2$. Using these values to solve for the constants: 
For $n=1$: $b_1 = c_1 + c_2 = 0 \implies c_2 = -c_1$. 
For $n=2$: $b_2 = c_1(2+\sqrt{2}) + c_2(2-\sqrt{2}) = c_1((2+\sqrt{2}) - (2-\sqrt{2})) = c_1(2\sqrt{2}) = 2$. 
This gives $c_1 = 1/\sqrt{2}$ and $c_2 = -1/\sqrt{2}$. Substituting these constants into the general solution gives the required formula: $a_{2n} = b_n = {(2+\sqrt2)^{n-1} - (2-\sqrt2)^{n-1} \over\sqrt2}$.",,,,
1978p4,"n a triangle $ABC$ we have $AB = AC.$ A circle which is internally tangent with the circumscribed circle of the triangle is also tangent to the sides $AB, AC$ in the points $P,$ respectively $Q.$ Prove that the midpoint of $PQ$ is the center of the inscribed circle of the triangle $ABC.$",3,"In an isosceles triangle ABC with AB=AC, let a circle be tangent to AB and AC at P and Q, and internally tangent to the circumcircle of ABC. Show that the ratio of similarity `k = AP/AB` between $\triangle APQ$ and $\triangle ABC$ is given by `k = (2R(s-a))/(bh)`, where R is the circumradius, s is the semi-perimeter, h is the altitude from A, and a, b are the side lengths BC, AC.","The triangles APQ and ABC are similar, related by a homothety centered at A. Let `k = AP/AB` be the ratio of similarity. Let the incircle of $\triangle ABC$ be tangent to AB at S. The triangles $\triangle AST$ (where T is the incircle tangency point on AC) and $\triangle APM$ are also related by a homothety centered at A, where M is the tangency point of the given circle with the circumcircle. This implies `AS/AP = AK/AM`, where AK=h is the altitude from A. Since the triangle is isosceles, the line AK is the axis of symmetry, and M must lie on this axis, so `AM=2R`. We know `AS = s-a`. Thus, `(s-a)/AP = h/(2R)`, which gives `AP = 2R(s-a)/h`. The ratio of similarity is `k = AP/AB = (2R(s-a))/(bh)`.","Let K be the midpoint of BC and L be the midpoint of PQ. Using the result from Part 1, show that the distance KL is equal to the inradius `r` of triangle ABC.","L lies on the altitude AK. The distance AL is `k * AK = k * h`. Using the value of k from Part 1, `AL = ((2R(s-a))/(bh)) * h = 2R(s-a)/b`. The distance `KL = AK - AL = h - 2R(s-a)/b`. We express h and R in terms of side lengths and area $\triangle$: `h = 2\triangle/a` and `2R = ab^2/(2\triangle)`. Substituting these gives: `KL = 2\triangle/a - (ab(s-a))/(2\triangle)`. Factoring out `\triangle/s = r`, we get `KL = r * [2s/a - abs(s-a)/(2\triangle^2)]`. Using `\triangle^2 = s(s-a)(s-b)^2`, this simplifies to `KL = r * [2s/a - ab/(2(s-b)^2)]`. For an isosceles triangle, `2s = 2b+a` and `s-b = a/2`. The term in the bracket becomes `(2b+a)/a - ab/(2(a/2)^2) = (2b/a + 1) - 2b/a = 1`. Therefore, `KL = r`.",Prove that the midpoint of PQ is the center of the inscribed circle of the triangle ABC.,"Let I be the incenter of $\triangle ABC$ and L be the midpoint of PQ. In an isosceles triangle ABC with AB=AC, the incenter I lies on the altitude AK from A. The incircle is tangent to the side BC at its midpoint, K. The distance from the incenter I to this point of tangency is the inradius, so `IK = r`. From Part 2, we showed that L, the midpoint of PQ, which also lies on AK, is at a distance `r` from K, i.e., `KL = r`. Since both I and L lie on the line segment AK and are the same distance from K, they must be the same point. Thus, the midpoint of PQ is the incenter of $\triangle ABC$.",,
1978p5,"Let $f$ be an injective function from ${1,2,3,\ldots}$ in itself. Prove that for any $n$ we have: $\sum_{k=1}^{n} f(k)k^{-2} \geq \sum_{k=1}^{n} k^{-1}.$",1,"Let $f$ be an injective function from ${1,2,3,\ldots}$ in itself. Prove that for any $n$ we have: $\sum_{k=1}^{n} f(k)k^{-2} \geq \sum_{k=1}^{n} k^{-1}.$","We know that all the unknowns are integers, so the smallest one must greater or equal to 1.

Let me denote the permutations of $(k_1,k_2,...,k_n)$ with $(y_1,y_2,...,y_n)=y_i (*)$.

From the rearrangement's inequality we know that $\text{Random Sum} \geq \text{Reversed Sum}$.

We will denote we permutations of $y_i$ in this form $y_n \geq ...\geq y_1$.

So we have $\frac{k_1}{1^2}+\frac{k_2}{2^2}+...+\frac{k_n}{n^2} \geq \frac{y_1}{1^2}+ \frac{y_2}{2^2}+...+ \frac{y_n}{n^2} \geq 1+\frac{1}{2}+...+\frac{1}{n}$.

Let's denote $\frac{y_1}{1^2}+ \frac{y_2}{2^2}+...+ \frac{y_n}{n^2}=T$ and $1+\frac{1}{2}+...+\frac{1}{n}=S$.

We have $T \geq S$. Which comes from $y_1 \geq1, y_2 \geq2, ...,y_n \geq n$.

So we are done.",,,,,,
1978p6,"An international society has its members from six different countries. The list of members has 1978 names, numbered $1, 2, \ldots, 1978$. Prove that there is at least one member whose number is the sum of the numbers of two (not necessarily distinct) members from his own country.",3,"Let the set of member numbers $\{1, 2, \ldots, 1978\}$ be partitioned into 6 sets $C_1, \ldots, C_6$ based on country. Assume each set $C_i$ is 'sum-free', meaning for any $x, y \in C_i$, their sum $x+y$ is not in $C_i$. If one set, say $C_1$, has at least 330 members, show that there exists a set $D_1$ of at least 329 integers, formed by differences of elements in $C_1$, such that no element of $D_1$ can be in $C_1$.","Let $C_1 = \{a_1, a_2, \ldots, a_k\}$ with $k \ge 330$ and $a_1 < a_2 < \ldots < a_k$. Consider the set of differences $D_1 = \{a_k - a_1, a_k - a_2, \ldots, a_k - a_{k-1}\}$. This set has $k-1 \ge 329$ distinct positive integers. Suppose, for the sake of contradiction, that an element $d \in D_1$ is also in $C_1$. By definition of $D_1$, $d = a_k - a_i$ for some $i \in \{1, \ldots, k-1\}$. This implies $a_k = a_i + d$. Since $a_k, a_i, d$ are all in $C_1$, this contradicts the assumption that $C_1$ is sum-free. Therefore, all elements of $D_1$ cannot be in $C_1$.","Following the setup from Sub-problem 1, the set $D_1$ (with at least 329 elements) must be partitioned among the remaining 5 sets $C_2, \ldots, C_6$. Show that by repeatedly taking difference sets and applying the Pigeonhole Principle, we can conclude that one of the sets, say $C_6$, must contain at least 2 elements from the fifth-generated set of differences.","The set $D_1$ has at least 329 elements which must belong to $C_2, \ldots, C_6$. By the Pigeonhole Principle (PHP), one set, say $C_2$, contains at least $\lceil 329/5 \rceil = 66$ elements from $D_1$. Let $D_2$ be the difference set of these elements. $|D_2| \ge 65$, and its elements cannot be in $C_1$ or $C_2$. We iterate this process: a set $C_3$ must contain $\ge \lceil 65/4 \rceil = 17$ elements from $D_2$; a set $C_4$ must contain $\ge \lceil (17-1)/3 \rceil = 6$ elements from the next difference set $D_3$; a set $C_5$ must contain $\ge \lceil (6-1)/2 \rceil = 3$ elements from $D_4$. Finally, the last set $C_6$ must contain at least $\lceil (3-1)/1 \rceil = 2$ elements from the last difference set $D_5$.","An international society has its members from six different countries. The list of members has 1978 names, numbered $1, 2, \ldots, 1978$. Prove that there is at least one member whose number is the sum of the numbers of two (not necessarily distinct) members from his own country.","Assume for contradiction that no such member exists. This is equivalent to partitioning the set $S = \{1, \ldots, 1978\}$ into 6 sum-free sets $C_1, \ldots, C_6$. By the Pigeonhole Principle, at least one set, say $C_1$, must contain at least $\lceil 1978/6 \rceil = 330$ members. From Sub-problem 2, this implies that one set, say $C_6$, must contain at least two elements, $f_1 < f_2$, from a specially constructed set of differences. Consider their difference $g = f_2 - f_1$. By the logic established in the previous steps, $g$ cannot belong to any of $C_1, \ldots, C_5$. Furthermore, if $g$ were in $C_6$, it would imply $f_2 = f_1 + g$, which contradicts $C_6$ being sum-free. Thus, $g$ cannot be in any of the six sets. But $g$ is a positive integer, so it must belong to $S$. This is a contradiction, so the initial assumption must be false.",,
1977p1,"In the interior of a square $ABCD$ we construct the equilateral triangles $ABK, BCL, CDM, DAN.$ Prove that the midpoints of the four segments $KL, LM, MN, NK$ and the midpoints of the eight segments $AK, BK, BL, CL, CM, DM, DN, AN$ are the 12 vertices of a regular dodecagon.",2,"Let the vertices of the square $ABCD$ be represented by the complex numbers $a=1, b=i, c=-1, d=-i$. Determine the complex coordinates of the vertices $K, L, M, N$ of the interior equilateral triangles $ABK, BCL, CDM, DAN$.","The vertex $K$ of the equilateral triangle $ABK$ inside the square is obtained by rotating the vector $b-a$ by $60^\circ$ around $a$, so $k = a + (b-a)e^{i\pi/3}$. This calculation gives $k = \frac{\sqrt{3}-1}{2}(-1-i)$. The other vertices $L, M, N$ are found by rotating the setup by successive $90^\circ$ turns around the origin, yielding $l = \frac{\sqrt{3}-1}{2}(1-i)$, $m = \frac{\sqrt{3}-1}{2}(1+i)$, and $n = \frac{\sqrt{3}-1}{2}(-1+i)$.","Prove that the midpoints of the four segments $KL, LM, MN, NK$ and the midpoints of the eight segments $AK, BK, BL, CL, CM, DM, DN, AN$ are the 12 vertices of a regular dodecagon.","Let $S = (\sqrt{3}-1)/2$. Using the coordinates for $A, B, C, D$ and $K, L, M, N$, we calculate the 12 specified midpoints by averaging the complex numbers of the endpoints. For example, the midpoint of $LM$ is $(l+m)/2 = S$, and the midpoint of $AN$ is $(a+n)/2 = S(\frac{\sqrt{3}}{2} + \frac{i}{2})$. Calculating all 12 points reveals that they can all be expressed in the form $S \cdot e^{i k\pi/6}$ for $k \in \{0, 1, \dots, 11\}$. These are the vertices of a regular dodecagon centered at the origin with radius $S$.",,,,
1977p3,"Let $n$ be a given number greater than 2. We consider the set $V_n$ of all the integers of the form $1 + kn$ with $k = 1, 2, \ldots$ A number $m$ from $V_n$ is called indecomposable in $V_n$ if there are not two numbers $p$ and $q$ from $V_n$ so that $m = pq.$ Prove that there exist a number $r \in V_n$ that can be expressed as the product of elements indecomposable in $V_n$ in more than one way. (Expressions which differ only in order of the elements of $V_n$ will be considered the same.)",2,"Prove that for any integer $n > 2$, there exist infinitely many prime numbers $p$ such that $p \not\equiv 1 \pmod n$.","Assume for contradiction that there are finitely many primes $p \not\equiv 1 \pmod n$. Let $k$ be their product. Consider the number $N = nk - 1$. Any prime factor $q$ of $N$ cannot be one of the primes in the product $k$, otherwise $q$ would divide both $nk$ and $nk-1$, implying $q|1$, a contradiction. Thus, any prime factor $q$ of $N$ must satisfy $q \equiv 1 \pmod n$. This implies $N$ itself, as a product of such primes, must be congruent to $1 \pmod n$. However, by construction, $N = nk - 1 \equiv -1 \pmod n$. This leads to $1 \equiv -1 \pmod n$, meaning $n|2$, which contradicts the given $n > 2$. Therefore, there must be infinitely many such primes.","Let $n$ be a given number greater than 2. We consider the set $V_n$ of all the integers of the form $1 + kn$ with $k = 1, 2, \ldots$ A number $m$ from $V_n$ is called indecomposable in $V_n$ if there are not two numbers $p$ and $q$ from $V_n$ so that $m = pq.$ Prove that there exist a number $r \in V_n$ that can be expressed as the product of elements indecomposable in $V_n$ in more than one way. (Expressions which differ only in order of the elements of $V_n$ will be considered the same.)","Since there are infinitely many primes not congruent to $1 \pmod n$ and finitely many residue classes, we can find two distinct primes $p, q$ such that $p \equiv q \equiv a \pmod n$ for some $a \not\equiv 1 \pmod n$ with $\gcd(a,n)=1$. Let $s$ be the multiplicative order of $a$ modulo $n$. The numbers $p^s, q^s, p^{s-1}q, pq^{s-1}$ are all congruent to $a^s \equiv 1 \pmod n$, so they belong to $V_n$. These four numbers are indecomposable in $V_n$. For example, any proper divisor of $p^s$ is of the form $p^k$ with $k<s$, so $p^k \equiv a^k \not\equiv 1 \pmod n$ by the minimality of $s$. Similarly, any proper divisor of $p^{s-1}q$ is of the form $p^i q^j$ where $i+j < s$, so it is not in $V_n$. Now, consider the number $r = p^s q^s$. It has two distinct decompositions into indecomposable elements: $r = (p^s)(q^s)$ and $r = (p^{s-1}q)(pq^{s-1})$. Thus, such a number $r$ exists.",,,,
1977p4,"Let $a,b,A,B$ be given reals. We consider the function defined by\[f(x) = 1 - a \cdot \cos(x) - b \cdot \sin(x) - A \cdot \cos(2x) - B \cdot \sin(2x).\]Prove that if for any real number $x$ we have $f(x) \geq 0$ then $a^2 + b^2 \leq 2$ and $A^2 + B^2 \leq 1.$",2,"Let $f(x) = 1 - a \cdot \cos(x) - b \cdot \sin(x) - A \cdot \cos(2x) - B \cdot \sin(2x)$. If $f(x) \geq 0$ for all real $x$, show that for all $x$ we have $A \cos(2x) + B \sin(2x) \leq 1$ and $a \cos(x) + b \sin(x) \leq \sqrt{2}$.","Let $S_1(x) = a\cos x + b\sin x$ and $S_2(x) = A\cos 2x + B\sin 2x$. Since $f(x) \geq 0$ for all $x$, it must also hold for $x+\pi$. Adding the inequalities $f(x) = 1 - S_1(x) - S_2(x) \geq 0$ and $f(x+\pi) = 1 + S_1(x) - S_2(x) \geq 0$ eliminates $S_1(x)$ and yields $2 - 2S_2(x) \geq 0$, which implies $S_2(x) \leq 1$. Similarly, adding $f(x+\pi/4) \geq 0$ and $f(x-\pi/4) \geq 0$ eliminates $S_2(x)$, since $S_2(x+\pi/4) + S_2(x-\pi/4) = 0$. This yields $2 - (S_1(x+\pi/4)+S_1(x-\pi/4)) \geq 0$. Since $S_1(x+\pi/4)+S_1(x-\pi/4) = \sqrt{2}S_1(x)$, this simplifies to $2 - \sqrt{2}S_1(x) \geq 0$, which implies $S_1(x) \leq \sqrt{2}$.","Let $a,b,A,B$ be given reals. We consider the function defined by\[f(x) = 1 - a \cdot \cos(x) - b \cdot \sin(x) - A \cdot \cos(2x) - B \cdot \sin(2x).\]Prove that if for any real number $x$ we have $f(x) \geq 0$ then $a^2 + b^2 \leq 2$ and $A^2 + B^2 \leq 1.$","As a consequence of the condition $f(x) \ge 0$, we have established two key inequalities that hold for all $x$: (1) $A \cos(2x) + B \sin(2x) \leq 1$ and (2) $a \cos(x) + b \sin(x) \leq \sqrt{2}$. The maximum value of the expression $A \cos(2x) + B \sin(2x)$ is $\sqrt{A^2+B^2}$. For inequality (1) to hold for all $x$, this maximum value must be less than or equal to 1, so $\sqrt{A^2+B^2} \leq 1$, which implies $A^2+B^2 \leq 1$. Similarly, the maximum value of $a \cos(x) + b \sin(x)$ is $\sqrt{a^2+b^2}$. For inequality (2) to hold for all $x$, we must have $\sqrt{a^2+b^2} \leq \sqrt{2}$, which implies $a^2+b^2 \leq 2$.",,,,
1977p6,"Let $f(n)$ be a function $f: \mathbb{N}^{+}\to\mathbb{N}^{+}$. Prove that if \[f(n+1) > f(f(n))\] for each positive integer $n$, then $f(n)=n$.",3,Prove that there exists a positive integer $t$ such that $f(t)=1$.,"For any integer $a_0 > 1$, define the sequence $a_k = f(a_{k-1}-1)$ for $k \ge 1$. The given condition $f(n+1) > f(f(n))$ implies that for $n=a_{k-1}-1$, we have $f(a_{k-1}) > f(f(a_{k-1}-1)) = f(a_k)$. This creates a strictly decreasing sequence of positive integers $f(a_0) > f(a_1) > f(a_2) > \dots$. By the principle of infinite descent, this sequence must terminate. Termination can only occur if an input to $f$ is not in its domain $\mathbb{N}^{+}$, which requires $a_m-1=0$ for some $m$. This means $a_m=1$. Thus, for $t = a_{m-1}-1$, we have $f(t)=1$.",Prove that $f(1)=1$.,"From the first sub-problem, we know there exists a $t \in \mathbb{N}^{+}$ such that $f(t)=1$. Assume for contradiction that $t > 1$. Then $t-1 \in \mathbb{N}^{+}$. The given inequality for $n=t-1$ states $f(t) > f(f(t-1))$. Substituting $f(t)=1$ yields $1 > f(f(t-1))$. However, the codomain of $f$ is $\mathbb{N}^{+}$, so $f(x) \ge 1$ for any $x \in \mathbb{N}^{+}$. This implies $f(f(t-1)) \ge 1$, which is a contradiction. Therefore, the assumption $t > 1$ must be false, so $t=1$. Hence, $f(1)=1$.","Let $f(n)$ be a function $f: \\mathbb{N}^{+}\to\\mathbb{N}^{+}$. Prove that if $f(n+1) > f(f(n))$ for each positive integer $n$, then $f(n)=n$.","We prove $f(n)=n$ by strong induction. The base case $f(1)=1$ is established. Assume as the inductive hypothesis that $f(k)=k$ for all $1 \\le k < n$. First, we show that $n$ is in the range of $f$. The same infinite descent argument from the first sub-problem shows that there must exist a $t$ such that $f(t)=n$. Now we show $t=n$. The inequality for $n=t-1$ (assuming $t>1$) gives $f(t) > f(f(t-1))$, so $n > f(f(t-1))$. As the value $f(f(t-1))$ is an integer less than $n$, the inductive hypothesis implies $f(f(t-1)) = f(t-1)$. So $n > f(t-1)$. Again, since the value $f(t-1)$ is less than $n$, the inductive hypothesis implies $f(t-1) = t-1$. Therefore, $n > t-1$, or $t < n+1$. Now, if we assume $t < n$, the inductive hypothesis gives $f(t)=t$. But we know $f(t)=n$, which implies $t=n$, a contradiction. Thus, $t \\ge n$. Combining $t \\ge n$ and $t < n+1$ implies $t=n$. So $f(n)=n$. By induction, the statement holds for all $n \\in \\mathbb{N}^{+}$.",,
1976p2,"Let $P_{1}(x) = x^{2} - 2$ and $P_{j}(x) = P_{1}(P_{j - 1}(x))$ for $j= 2,\ldots$ Prove that for any positive integer n the roots of the equation $P_{n}(x) = x$ are all real and distinct.",2,"Let $P_{1}(x) = x^{2} - 2$ and $P_{j}(x) = P_{1}(P_{j - 1}(x))$. For any $x \in [-2, 2]$, let $x = 2\cos\theta$. Prove by induction that $P_n(x) = 2\cos(2^n\theta)$.","Base case (n=1): For $x=2\cos\theta$, we have $P_1(x) = (2\cos\theta)^2 - 2 = 4\cos^2\theta - 2 = 2(2\cos^2\theta - 1) = 2\cos(2\theta)$. The formula holds. \nInductive step: Assume the formula holds for $n=k$, so $P_k(2\cos\theta) = 2\cos(2^k\theta)$. Then $P_{k+1}(x) = P_1(P_k(x)) = P_1(2\cos(2^k\theta))$. From the base case, we know $P_1(2\cos\phi) = 2\cos(2\phi)$. Letting $\phi=2^k\theta$, we get $P_{k+1}(x) = 2\cos(2 \cdot 2^k\theta) = 2\cos(2^{k+1}\theta)$. By the principle of mathematical induction, the formula is true for all positive integers $n$.","Let $P_{1}(x) = x^{2} - 2$ and $P_{j}(x) = P_{1}(P_{j - 1}(x))$ for $j= 2,\ldots$ Prove that for any positive integer n the roots of the equation $P_{n}(x) = x$ are all real and distinct.","First, any real root $x$ must be in $[-2, 2]$, because if $|x|>2$, then $|P_1(x)|=|x^2-2|>|x|$, which implies by induction that $|P_n(x)|>|x|$, so $P_n(x) \neq x$. We can thus substitute $x=2\cos\theta$ for $\theta \in [0, \pi]$. Using the identity from the first sub-problem, $P_n(x)=x$ becomes $2\cos(2^n\theta)=2\cos\theta$. This implies $2^n\theta = \pm\theta + 2k\pi$ for an integer $k$. This leads to two families of solutions for $\theta$, which generate two disjoint sets of roots. The first, $\theta_k=\frac{2k\pi}{2^n-1}$, gives $2^{n-1}$ distinct roots for $k=0, ..., 2^{n-1}-1$. The second, $\theta'_j=\frac{2j\pi}{2^n+1}$, gives $2^{n-1}$ distinct roots for $j=1, ..., 2^{n-1}$. In total, we have $2^n$ distinct real roots. As $P_n(x)-x$ is a polynomial of degree $2^n$, these are all its roots.",,,,
1976p5,"We consider the following system with $q = 2p$:

$\begin{matrix} a_{11}x_{1} + \ldots + a_{1q}x_{q} = 0, \\ a_{21}x_{1} + \ldots + a_{2q}x_{q} = 0, \\ \ldots , \\ a_{p1}x_{1} + \ldots + a_{pq}x_{q} = 0, \\ \end{matrix}$

in which every coefficient is an element from the set $\{ - 1,0,1\}$$.$ Prove that there exists a solution $x_{1}, \ldots,x_{q}$ for the system with the properties:

a.) all $x_{j}, j = 1,\ldots,q$ are integers$;$

b.) there exists at least one j for which $x_{j} \neq 0;$

c.) $|x_{j}| \leq q$ for any $j = 1, \ldots ,q.$",2,"Let $S$ be the set of non-zero integer vectors $x = (x_1, \ldots, x_q)$ with $0 \le x_j \le q$. For any such $x$, let $y(x) = (\sum_{j=1}^q a_{1j}x_j, \ldots, \sum_{j=1}^q a_{pj}x_j)$. Show that the number of vectors in $S$ is greater than the number of distinct possible vectors $y(x)$.","The number of integer vectors $(x_1, \ldots, x_q)$ with $0 \le x_j \le q$ is $(q+1)^q$. The set $S$ excludes the zero vector, so its size is $|S| = (q+1)^q - 1$. For each component $y_i = \sum_{j=1}^q a_{ij}x_j$, the difference between its maximum and minimum possible value is at most $q^2$, so it can take at most $q^2+1$ distinct integer values. Consequently, the total number of distinct vectors $y(x)$ is at most $(q^2+1)^p$. Since $q=2p$, this is $(q^2+1)^{q/2}$. We have $(q+1)^q - 1 = (q^2+2q+1)^{q/2} - 1 = ((q^2+1)+2q)^{q/2} - 1$. By the binomial theorem, this is strictly greater than $(q^2+1)^{q/2}$. Thus, the number of vectors in $S$ is greater than the number of possible outcome vectors $y(x)$.","Prove that there exists a solution $x_{1}, \ldots,x_{q}$ for the system with the properties:

a.) all $x_{j}, j = 1,\ldots,q$ are integers$;$

b.) there exists at least one j for which $x_{j} \neq 0;$

c.) $|x_{j}| \leq q$ for any $j = 1, \ldots ,q.$","From the previous result, the number of non-zero integer vectors $x$ with $0 \le x_j \le q$ is greater than the number of possible values for the vector of sums $( \sum a_{1j}x_j, \ldots, \sum a_{pj}x_j)$. By the pigeonhole principle, there must be two distinct vectors, $x'$ and $x''$, from this set of vectors that produce the same outcome. That is, $A x' = A x''$. Let $x = x' - x''$. Then $A x = A(x' - x'') = Ax' - Ax'' = 0$. This vector $x$ is a solution. As $x' \neq x''$, $x$ is non-zero (property b). Its components $x_j = x'_j - x''_j$ are integers (property a). Since $0 \le x'_j, x''_j \le q$, we have $-q \le x_j \le q$, which implies $|x_j| \le q$ (property c). Thus, $x$ is a solution with all the required properties.",,,,
1976p6,"A sequence $(u_{n})$ is defined by

\[u_{0} = 2 \quad u_{1} = \frac {5}{2}, u_{n + 1} = u_{n}(u_{n - 1}^{2} - 2) - u_{1} \ \text{ for } n = 1,\cdots\]

Prove that for any positive integer $n$ we have

\[\lfloor u_{n} \rfloor = 2^{\frac {(2^{n} - ( - 1)^{n})}{3}}\]

(where $\lfloor x\rfloor$ denotes the smallest integer $\leq$ $x$)$.$",2,"Let a sequence $(x_n)$ be defined by $x_0=0, x_1=1$ and $x_{n+1} = x_n + 2x_{n-1}$ for $n \geq 1$. Prove that the sequence $(u_n)$ from the problem statement satisfies $u_n = 2^{x_n} + 2^{-x_n}$ for all integers $n \geq 0$.","We prove this by strong induction. \nBase cases: For $n=0$, $u_0=2$ and $2^{x_0}+2^{-x_0}=2^0+2^0=2$. For $n=1$, $u_1=5/2$ and $2^{x_1}+2^{-x_1}=2^1+2^{-1}=5/2$. The statement holds. \nInductive step: Assume $u_k = 2^{x_k} + 2^{-x_k}$ for all $k \leq n$, where $n \geq 1$. From the recurrence $u_{n+1} = u_n(u_{n-1}^2 - 2) - u_1$, we substitute the inductive hypothesis:\n$u_{n+1} = (2^{x_n} + 2^{-x_n})((2^{x_{n-1}} + 2^{-x_{n-1}})^2 - 2) - (2^{x_1} + 2^{-x_1})$.\nSince $(2^{x_{n-1}} + 2^{-x_{n-1}})^2 - 2 = 2^{2x_{n-1}} + 2^{-2x_{n-1}}$, this becomes:\n$u_{n+1} = (2^{x_n} + 2^{-x_n})(2^{2x_{n-1}} + 2^{-2x_{n-1}}) - (2^{x_1} + 2^{-x_1}) = 2^{x_n+2x_{n-1}} + 2^{-x_n-2x_{n-1}} + 2^{x_n-2x_{n-1}} + 2^{-x_n+2x_{n-1}} - (2^{x_1} + 2^{-x_1})$.\nUsing $x_{n+1} = x_n+2x_{n-1}$ and that $x_n-2x_{n-1}=-x_{n-1}+2x_{n-2} = -(x_{n-1}-2x_{n-2})$, this implies $x_n-2x_{n-1} = (-1)^{n-1}(x_1-2x_0)=(-1)^{n-1}$. So, $2^{x_n-2x_{n-1}}+2^{-(x_n-2x_{n-1})} = 2^{(-1)^{n-1}}+2^{-(-1)^{n-1}} = 2^1+2^{-1} = 2^{x_1}+2^{-x_1}$.\nThus, $u_{n+1} = 2^{x_{n+1}} + 2^{-x_{n+1}} + (2^{x_1}+2^{-x_1}) - (2^{x_1}+2^{-x_1}) = 2^{x_{n+1}} + 2^{-x_{n+1}}$. The induction holds.",Prove that for any positive integer $n$ we have $\lfloor u_{n} \rfloor = 2^{\frac {(2^{n} - ( - 1)^{n})}{3}}$.,"From the previous sub-problem, we have $u_n = 2^{x_n} + 2^{-x_n}$, where $x_n$ is defined by $x_0=0, x_1=1$ and $x_{n+1} = x_n + 2x_{n-1}$. The characteristic equation of this recurrence is $r^2 - r - 2 = 0$, with roots $r=2, -1$. The general solution is $x_n = A \cdot 2^n + B \cdot (-1)^n$. Using the initial conditions $x_0=0$ and $x_1=1$, we find $A=1/3$ and $B=-1/3$. Thus, the closed form is $x_n = \frac{2^n - (-1)^n}{3}$.\nFor any integer $n \ge 0$, since $2 \equiv -1 \pmod 3$, $2^n - (-1)^n$ is divisible by 3, so $x_n$ is an integer. For any positive integer $n \ge 1$, $2^n - (-1)^n \ge 2^1 - (-1)^1 = 3$, so $x_n \ge 1$.\nTherefore, for $n \ge 1$, $2^{x_n}$ is an integer and $0 < 2^{-x_n} \le 2^{-1} < 1$. Taking the floor of $u_n = 2^{x_n} + 2^{-x_n}$, we get $\lfloor u_n \rfloor = \lfloor 2^{x_n} + 2^{-x_n} \rfloor = 2^{x_n}$. Substituting the expression for $x_n$, we conclude that for any positive integer $n$, $\lfloor u_{n} \rfloor = 2^{\frac {(2^{n} - ( - 1)^{n})}{3}}$.",,,,
1975p1,"Let $x_i, y_i$ $(i=1,2,\cdots,n)$ be real numbers such that \[x_1\ge x_2\ge\cdots\ge x_n \text{ and } y_1\ge y_2\ge\cdots\ge y_n.\] Prove that, if $z_1, z_2,\cdots, z_n$ is any permutation of $y_1, y_2, \cdots, y_n,$ then \[\sum^n_{i=1}(x_i-y_i)^2\le\sum^n_{i=1}(x_i-z_i)^2.\]",3,"Let $z_1, \dots, z_n$ be a permutation of $y_1, \dots, y_n$. Show that the inequality $\\sum_{i=1}^n(x_i-y_i)^2 \\le \\sum_{i=1}^n(x_i-z_i)^2$ is equivalent to the rearrangement inequality $\\sum_{i=1}^n x_i y_i \\ge \\sum_{i=1}^n x_i z_i$.","Expanding the squares gives $\\sum_{i=1}^n (x_i^2 - 2x_iy_i + y_i^2) \\le \\sum_{i=1}^n (x_i^2 - 2x_iz_i + z_i^2)$. Since $\{z_i\}$ is a permutation of $\{y_i\}$, we have $\\sum_{i=1}^n y_i^2 = \\sum_{i=1}^n z_i^2$. Canceling the common terms $\\sum x_i^2$ and $\\sum y_i^2$ from both sides, we get $-2\\sum_{i=1}^n x_i y_i \\le -2\\sum_{i=1}^n x_i z_i$. Dividing by -2 reverses the inequality, yielding the equivalent statement $\\sum_{i=1}^n x_i y_i \\ge \\sum_{i=1}^n x_i z_i$.","Consider a permutation $z$ of $y$. Suppose for some indices $j < k$, we have $z_j < z_k$. Let $z'$ be the new permutation obtained by swapping $z_j$ and $z_k$. Given $x_j \\ge x_k$, prove that the sum of products does not decrease, i.e., $\\sum_{i=1}^n x_i z'_i \\ge \\sum_{i=1}^n x_i z_i$.","The sums $\\sum x_i z_i$ and $\\sum x_i z'_i$ only differ in the terms for indices $j$ and $k$. The difference is $(\\sum x_i z'_i) - (\\sum x_i z_i) = (x_j z_k + x_k z_j) - (x_j z_j + x_k z_k)$. Rearranging the terms, we get $x_j(z_k - z_j) - x_k(z_k - z_j) = (x_j - x_k)(z_k - z_j)$. Since $x_j \\ge x_k$ and $z_k > z_j$, both factors are non-negative. Therefore, their product is non-negative, which proves the inequality.","Let $x_i, y_i$ $(i=1,2,\\cdots,n)$ be real numbers such that $x_1\\ge x_2\\ge\\cdots\\ge x_n$ and $y_1\\ge y_2\\ge\\cdots\\ge y_n$. Prove that, if $z_1, z_2,\\cdots, z_n$ is any permutation of $y_1, y_2, \\cdots, y_n,$ then $\\sum^n_{i=1}(x_i-y_i)^2\\le\\sum^n_{i=1}(x_i-z_i)^2$.","From sub-problem 1, the inequality is equivalent to proving $\\sum_{i=1}^n x_i y_i \\ge \\sum_{i=1}^n x_i z_i$. Any permutation $z$ can be transformed into the sorted permutation $y$ by a finite sequence of swaps of elements $z_j, z_k$ where $j<k$ but $z_j < z_k$. By sub-problem 2, each such swap does not decrease the sum of products $\\sum x_i z_i$. Since any permutation $z$ can be sorted to become $y$ through such swaps, the sum is maximized when $z=y$. Therefore, $\\sum x_i y_i \\ge \\sum x_i z_i$ for any permutation $z$, which proves the original inequality.",,
1975p2,"Let $a_1, a_2, a_3, \cdots$ be an infinite increasing sequence of positive integers. Prove that for every $p \geq 1$ there are infinitely many $a_m$ which can be written in the form\[a_m = xa_p + ya_q\]with $x, y$ positive integers and $q > p$.",2,"For a given $p \\ge 1$ and an infinite increasing sequence of positive integers $\{a_n\}$, show that there exists an infinite subsequence of terms $\{a_{m_k}\}$ with indices $m_k > p$ that all have the same remainder when divided by $a_p$.","Consider the infinite number of terms in the sequence $\{a_n\}_{n > p}$. When each of these terms is divided by $a_p$, its remainder must belong to the finite set $\{0, 1, \\ldots, a_p-1\}$. By the Pigeonhole Principle, since there are infinitely many terms but only a finite number of possible remainders, at least one remainder, say $r$, must occur infinitely many times. The terms from $\{a_n\}_{n > p}$ that have this remainder $r$ form the desired infinite subsequence.","Let $a_1, a_2, a_3, \\cdots$ be an infinite increasing sequence of positive integers. Prove that for every $p \\geq 1$ there are infinitely many $a_m$ which can be written in the form $a_m = xa_p + ya_q$ with $x, y$ positive integers and $q > p$.","From the previous result, for any $p \\ge 1$, there exists an infinite subsequence of terms with indices greater than $p$ that are all congruent to some remainder $r$ modulo $a_p$. Let $a_q$ be the first term of such a subsequence, and let $a_m$ be any subsequent term in it. By construction, $m > q > p$. We can write $a_q = k_1 a_p + r$ and $a_m = k_2 a_p + r$ for some integers $k_1, k_2$. Since $\{a_n\}$ is an increasing sequence and $m > q$, we have $a_m > a_q$, which implies $k_2 > k_1$. Subtracting the two equations gives $a_m - a_q = (k_2 - k_1)a_p$. This can be rewritten as $a_m = (k_2 - k_1)a_p + 1 \\cdot a_q$. Setting $x = k_2 - k_1$ and $y=1$ gives the desired form with $x, y$ being positive integers. Since there are infinitely many choices for $a_m$ in the subsequence, the property holds for infinitely many $a_m$.",,,,
1975p3,"On the sides of an arbitrary triangle $ABC$, triangles $ABR, BCP, CAQ$ are constructed externally with $\angle CBP = \angle CAQ = 45^\circ, \angle BCP = \angle ACQ = 30^\circ, \angle ABR = \angle BAR = 15^\circ$. Prove that $\angle QRP = 90^\circ$ and $QR = RP$.",2,Construct a point $X$ such that $\triangle CPX$ is similar to $\triangle CQA$ constructed externally to $\triangle ABC$. Prove that this implies $\triangle BCX$ is an equilateral triangle and that $\triangle BPR$ is similar to $\triangle BXA$.,"The similarity $\triangle CPX \sim \triangle CQA$ gives $\angle PCX = \angle ACQ = 30^\circ$ and $\angle PXC = \angle CAQ = 45^\circ$. We are given $\angle BCP = 30^\circ$ and $\angle CBP = 45^\circ$. In $\triangle BCP$, $\angle BPC = 180^\circ - 45^\circ - 30^\circ = 105^\circ$. In $\triangle XCP$, $\angle XPC = 180^\circ - 30^\circ - 45^\circ = 105^\circ$. Since $\angle BCP = \angle XCP = 30^\circ$ and they share side $PC$, we have $\triangle BPC \cong \triangle XPC$ by ASA congruence. This yields $BC=XC$ and $BP=XP$. The angle $\angle BCX = \angle BCP + \angle PCX = 30^\circ + 30^\circ = 60^\circ$, so $\triangle BCX$ is equilateral. Since $BP=XP$, $\triangle BPX$ is isosceles. Its angle $\angle PBX = \angle CBX - \angle CBP = 60^\circ - 45^\circ = 15^\circ$. Since $\triangle ABR$ also has base angles of $15^\circ$, $\triangle ABR \sim \triangle PBX$. This similarity implies $BA/BR = BP/BX$. With $\angle PBR = \angle XBA$ (as both are $\angle PBA + 15^\circ$), we get $\triangle BPR \sim \triangle BXA$ by SAS similarity.",Prove that $\angle QRP = 90^\circ$ and $QR = RP$.,"From the first sub-problem, $\triangle BPR \sim \triangle BXA$, which implies $\angle BRP = \angle BAX$. By a symmetric argument, constructing an equilateral triangle $ACY$ on side $AC$ leads to $\triangle AQR \sim \triangle AYB$, which implies $\angle ARQ = \angle ABY$. Let $F$ be the intersection of $AX$ and $BY$. Then $\angle BRP + \angle ARQ = \angle FAX + \angle FBA$. Since $F$ is the Fermat point of $\triangle ABC$, $\angle AFB=120^\circ$. In $\triangle FAB$, $\angle FAB + \angle FBA = 180^\circ - 120^\circ = 60^\circ$. In $\triangle ABR$, $\angle ARB = 180^\circ - 2(15^\circ) = 150^\circ$. Thus, $\angle QRP = \angle ARB - (\angle BRP + \angle ARQ) = 150^\circ - 60^\circ = 90^\circ$. The similarities also give side ratios $RP/XA = BR/BA$ and $QR/YB = AR/AB$. Since $\triangle ABR$ is isosceles, $AR=BR$. A $60^\circ$ rotation about $C$ maps $A \to Y$ and $X \to B$, so segment $AX$ is mapped to $YB$. Rotations are isometries, so $AX=BY$. It follows that $RP=QR$.",,,,
1974p2,"In the triangle $ABC$, prove that there is a point $D$ on side $AB$ such that $CD$ is the geometric mean of $AD$ and $DB$ if and only if $\sin{A}\sin{B} \leq  \sin^2 (\frac{C}{2})$.",3,Let $D$ be a point on side $AB$ of $\triangle ABC$. Let $E$ be a point on the line containing the segment $CD$ such that $D$ is the midpoint of $CE$. Show that the condition $CD^2 = AD \cdot DB$ is equivalent to the point $E$ lying on the circumcircle of $\triangle ABC$.,"The condition $CD^2 = AD \cdot DB$ can be rewritten as $CD \cdot DE = AD \cdot DB$, because $D$ is the midpoint of $CE$ and thus $CD=DE$. By the intersecting chords theorem (a specific case of the power of a point theorem), this equality holds if and only if the points $A, B, C, E$ are concyclic. As the circumcircle of $\triangle ABC$ is defined by points $A, B, C$, this condition is equivalent to $E$ lying on this circumcircle.","As the point $D$ moves along the segment $AB$, its corresponding point $E$ (the reflection of $C$ across $D$) traces a path. Show that there exists a point $D$ on $AB$ satisfying the condition from Sub-problem 1 if and only if $AC \cdot BC \leq MA^2$, where $M$ is the midpoint of the circular arc $AB$ on the opposite side of $AB$ from $C$.","The locus of $E$ as $D$ moves on the line segment $AB$ is a line segment on a line $L$ parallel to $AB$. This line $L$ is at the same distance from $AB$ as $C$, but on the opposite side. The existence of a suitable point $D$ requires that the line $L$ intersects the circumcircle $w$. This occurs if the altitude $h_c$ from $C$ to $AB$ is less than or equal to the altitude $h_m$ from $M$ to $AB$. The condition $h_c \le h_m$ is equivalent to Area$(\triangle ABC) \le$ Area$(\triangle MAB)$. Using the formula Area $= \frac{uvw}{4R}$, we get $\frac{AC \cdot BC \cdot AB}{4R} \le \frac{MA \cdot MB \cdot AB}{4R}$. Since $M$ is on the perpendicular bisector of $AB$, $MA=MB$. This simplifies the inequality to $AC \cdot BC \le MA^2$.","In the triangle $ABC$, prove that there is a point $D$ on side $AB$ such that $CD$ is the geometric mean of $AD$ and $DB$ if and only if $\sin{A}\sin{B} \leq  \sin^2 (\frac{C}{2})$.","From the previous sub-problems, the existence of such a point $D$ is equivalent to the inequality $AC \cdot BC \le MA^2$. We express these lengths using the circumradius $R$ and angles of $\triangle ABC$. By the extended sine rule, $AC = 2R\sin B$ and $BC = 2R\sin A$. The point $M$ is the midpoint of the arc $AB$ not containing $C$, so the angle subtended by the chord $MA$ at the circumference is $\angle MCA = C/2$. The chord length is given by $MA = 2R\sin(\angle MCA) = 2R\sin(C/2)$. Substituting these into the inequality gives $(2R\sin A)(2R\sin B) \le (2R\sin(C/2))^2$, which simplifies to $\sin A \sin B \le \sin^2(C/2)$. Since all the steps are equivalences, the proof is complete.",,
1974p3,Prove that the number $\sum^n_{k=0}\binom{2n+1}{2k+1}2^{3k}$ is not divisible by $5$ for any integer $n\ge0.$,2,Let the integer sequences $\alpha_n$ and $\beta_n$ be defined by the expansion $(1+\sqrt{2})^{2n+1} = \alpha_n + \beta_n\sqrt{2}$ for $n \ge 0$. Prove that $\alpha_n^2 - 2\beta_n^2 = -1$.,"Consider the conjugate expression $(1-\sqrt{2})^{2n+1} = \alpha_n - \beta_n\sqrt{2}$. Multiplying these two equations gives $( (1+\sqrt{2})(1-\sqrt{2}) )^{2n+1} = (\alpha_n + \beta_n\sqrt{2})(\alpha_n - \beta_n\sqrt{2})$. The left side of the equation simplifies to $(1-2)^{2n+1} = (-1)^{2n+1} = -1$. The right side expands to the form $\alpha_n^2 - 2\beta_n^2$. Thus, we establish the identity $\alpha_n^2 - 2\beta_n^2 = -1$.",Prove that the number $\sum^n_{k=0}\binom{2n+1}{2k+1}2^{3k}$ is not divisible by $5$ for any integer $n\ge0$.,"Let $S_n$ be the given sum. We work in $\mathbb{F}_5$, the field with 5 elements. The sum is congruent to $\sum_{k=0}^n\binom{2n+1}{2(n-k)}2^{-k} \pmod 5$. Multiplying by $2^n$ (which is non-zero in $\mathbb{F}_5$), we see $S_n \equiv 0$ iff $2^nS_n \equiv \sum_{k=0}^n\binom{2n+1}{2(n-k)}2^{n-k} \equiv 0 \pmod 5$. Let $j=n-k$. The sum becomes $\sum_{j=0}^n\binom{2n+1}{2j}2^j$, which is the rational part $\alpha_n$ in the expansion $(1+\sqrt{2})^{2n+1} = \alpha_n + \beta_n\sqrt{2}$. From the first sub-problem, we have the relation $\alpha_n^2 - 2\beta_n^2 = -1$ in $\mathbb{F}_5$. If $\alpha_n=0$, this gives $-2\beta_n^2 = -1$, so $2\beta_n^2=1$, which implies $\beta_n^2=3$. This is a contradiction, as the quadratic residues modulo $5$ are $0, 1, 4$, and $3$ is not among them. Therefore, $\alpha_n \neq 0$, which implies $S_n$ is not divisible by $5$.",,,,
1974p6,"Let $P$ be a non-constant polynomial with integer coefficients. If $n(P)$ is the number of distinct integers $k$ such that $(P(k))^2=1,$ prove that $n(P)-\deg(P)\le2,$ where $\deg(P)$ denotes the degree of the polynomial $P.$",3,"Let $P(x)$ be a non-constant polynomial with integer coefficients. Show that if $P(x)=1$ for at least four distinct integers, then $P(x)=-1$ for no integer.","Let $a,b,c,d$ be four distinct integers where $P(x)=1$. This implies that $P(x)-1=(x-a)(x-b)(x-c)(x-d)Q(x)$ for some polynomial $Q(x)$ with integer coefficients. Assume for contradiction that there is an integer $k$ such that $P(k)=-1$. Substituting $x=k$ into the equation gives $P(k)-1 = -2 = (k-a)(k-b)(k-c)(k-d)Q(k)$. The terms $(k-a), (k-b), (k-c), (k-d)$ are four distinct non-zero integers, and $Q(k)$ is an integer. However, the number $-2$ cannot be expressed as a product of four distinct integers (the smallest magnitude of such a product is $|1 \cdot (-1) \cdot 2 \cdot (-2)| = 4$). This is a contradiction, so no such integer $k$ exists.",Let $P(x)$ be a polynomial of degree 3 with integer coefficients. Prove that the total number of distinct integer roots for both equations $P(x)=1$ and $P(x)=-1$ is at most 5.,"Let $n_1$ and $n_{-1}$ be the number of distinct integer roots of $P(x)=1$ and $P(x)=-1$. As $\deg(P)=3$, we have $n_1 \le 3$ and $n_{-1} \le 3$. Assume for contradiction that the total is 6, meaning $n_1=3$ and $n_{-1}=3$. Let the roots be $\{a_1,a_2,a_3\}$ and $\{b_1,b_2,b_3\}$. Then $P(x)-1 = c(x-a_1)(x-a_2)(x-a_3)$ and $P(x)+1=c(x-b_1)(x-b_2)(x-b_3)$ for some non-zero integer leading coefficient $c$. Subtracting the two identities gives $2 = c[(x-b_1)(x-b_2)(x-b_3) - (x-a_1)(x-a_2)(x-a_3)]$. Evaluating at $x=a_i$ for $i=1,2,3$ yields $2 = c(a_i-b_1)(a_i-b_2)(a_i-b_3)$. The product $(a_i-b_1)(a_i-b_2)(a_i-b_3)$ must be a product of three distinct integers whose value is $\pm 1$ or $\pm 2$. The only possibilities are $1 \cdot (-1) \cdot (-2)=2$ or $1 \cdot (-1) \cdot 2 = -2$. In either case, the sum of these three distinct factors is non-zero. Let this sum be $S$. Then for each $i$, $(a_i-b_1)+(a_i-b_2)+(a_i-b_3) = 3a_i-(b_1+b_2+b_3)=S$. This implies $3a_1=3a_2=3a_3$, which contradicts that $a_1,a_2,a_3$ are distinct. Thus, the total number of roots cannot be 6, so it is at most 5.","Let $P$ be a non-constant polynomial with integer coefficients. If $n(P)$ is the number of distinct integers $k$ such that $(P(k))^2=1,$ prove that $n(P)-\deg(P)\le2,$ where $\deg(P)$ denotes the degree of the polynomial $P.$","Let $n=\deg(P)$. Let $n_1$ and $n_{-1}$ be the number of distinct integer solutions to $P(k)=1$ and $P(k)=-1$ respectively. Then $n(P)=n_1+n_{-1}$. By Sub-problem 1, if $n_1 \ge 4$, then $n_{-1}=0$, so $n(P)=n_1$. Since $P(x)-1$ has $n_1$ roots, its degree $n$ must be at least $n_1$. Thus, $n(P)-n = n_1-n \le 0 \le 2$. The same logic applies if $n_{-1} \ge 4$. Now, consider the case where $n_1 \le 3$ and $n_{-1} \le 3$. This means $n(P) \le 6$. If $n \ge 4$, then $n(P)-n \le 6-n \le 2$. If $n \in \{1,2\}$, we have $n(P) = n_1+n_{-1} \le n+n = 2n$, so $n(P)-n \le n \le 2$. Finally, if $n=3$, we use Sub-problem 2, which shows that $n(P) = n_1+n_{-1} \le 5$. Therefore, $n(P)-n \le 5-3=2$. The inequality holds in all cases.",,
1973p1,"Point $O$ lies on line $g;$ $\overrightarrow{OP_1}, \overrightarrow{OP_2},\cdots, \overrightarrow{OP_n}$ are unit vectors such that points $P_1, P_2, \cdots, P_n$ all lie in a plane containing $g$ and on one side of $g.$ Prove that if $n$ is odd, \[\left|\overrightarrow{OP_1}+\overrightarrow{OP_2}+\cdots+ \overrightarrow{OP_n}\right|\ge1.\] Here $\left|\overrightarrow{OM}\right|$ denotes the length of vector $\overrightarrow{OM}.$",1,"Point $O$ lies on line $g;$ $\overrightarrow{OP_1}, \overrightarrow{OP_2},\cdots, \overrightarrow{OP_n}$ are unit vectors such that points $P_1, P_2, \cdots, P_n$ all lie in a plane containing $g$ and on one side of $g.$ Prove that if $n$ is odd, \[\left|\overrightarrow{OP_1}+\overrightarrow{OP_2}+\cdots+ \overrightarrow{OP_n}\right|\ge1.\] Here $\left|\overrightarrow{OM}\right|$ denotes the length of vector $\overrightarrow{OM}.$","We prove it by induction on the number $2n+1$ of vectors. The base step (when we have one vector) is clear, and for the induction step we use the hypothesis for the $2n-1$ vectors obtained by disregarding the outermost two vectors. We thus get a vector with norm $\ge 1$ betwen two with norm $1$. The sum of the two vectors of norm $1$ makes an angle of $\le\frac\pi 2$ with the vector of norm $\ge 1$, so their sum has norm $\ge 1$, and we're done.",,,,,,
1973p5,"$G$ is a set of non-constant functions of the real variable $x$ of the form \[f(x) = ax + b, a \text{ and } b \text{ are real numbers,}\] and $G$ has the following properties:

(a) If $f$ and $g$ are in $G$, then $g \circ f$ is in $G$; here $(g \circ f)(x) = g[f(x)]$.

(b) If $f$ is in $G$, then its inverse $f^{-1}$ is in $G$; here the inverse of $f(x) = ax + b$ is $f^{-1}(x) = (x - b) / a$.

(c) For every $f$ in $G$, there exists a real number $x_f$ such that $f(x_f) = x_f$.

Prove that there exists a real number $k$ such that $f(k) = k$ for all $f$ in $G$.",2,Let $f_1(x) = a_1x + b_1$ and $f_2(x) = a_2x + b_2$ be any two functions in $G$. Prove that $b_1(1-a_2) = b_2(1-a_1)$.,"Let $f_1(x) = a_1x+b_1$ and $f_2(x) = a_2x+b_2$ be in $G$. By properties (a) and (b), the function $h = (f_1 \circ f_2)^{-1} \circ (f_2 \circ f_1)$ must be in $G$. The components are $f_2 \circ f_1(x) = a_1a_2x + a_2b_1 + b_2$ and $(f_1 \circ f_2)^{-1}(x) = \frac{x - (a_1b_2+b_1)}{a_1a_2}$. The composition is $h(x) = \frac{(a_1a_2x + a_2b_1+b_2) - (a_1b_2+b_1)}{a_1a_2} = x + \frac{a_2b_1+b_2-a_1b_2-b_1}{a_1a_2}$. Since $h \in G$, by property (c), it must have a fixed point. A function of the form $x+c$ has a fixed point if and only if $c=0$. Thus, $a_2b_1+b_2-a_1b_2-b_1=0$. Rearranging gives $b_1(a_2-1) = b_2(a_1-1)$, which is equivalent to $b_1(1-a_2) = b_2(1-a_1)$.",Prove that there exists a real number $k$ such that $f(k) = k$ for all $f$ in $G$.,"If all functions in $G$ have slope $a=1$, property (c) implies they are all the identity function $f(x)=x$, so any real number $k$ is a common fixed point. Otherwise, there exists at least one function $f_1(x)=a_1x+b_1$ in $G$ with $a_1 \neq 1$. Let its unique fixed point be $k = \frac{b_1}{1-a_1}$. For any other function $f_2(x)=a_2x+b_2$ in $G$, we use the result from Sub-problem 1: $b_1(1-a_2) = b_2(1-a_1)$. If $a_2 \neq 1$, the fixed point of $f_2$ is $x_2 = \frac{b_2}{1-a_2}$. The relation implies $\frac{b_2}{1-a_2} = \frac{b_1}{1-a_1}$, so $x_2=k$. If $a_2=1$, property (c) implies $b_2=0$, so $f_2(x)=x$, which fixes every point, including $k$. Thus, $k$ is a common fixed point for all functions in $G$.",,,,
1972p1,"Prove that from a set of ten distinct two-digit numbers (in the decimal system), it is possible to select two disjoint subsets whose members have the same sum.",2,"Let S be a set of ten distinct two-digit numbers. Prove that there exist two distinct subsets of S, say A and B, such that the sum of the elements in A is equal to the sum of the elements in B.","The number of subsets of the set S is $2^{10} = 1024$. The sum of elements for any subset of S is a non-negative integer. The maximum possible sum is the sum of the ten largest two-digit numbers: $99+98+...+90 = 945$. Therefore, there are at most 946 possible values for the sum of a subset (from 0 to 945). Since the number of subsets (1024) is greater than the number of possible sums (946), by the Pigeonhole Principle, there must be at least two distinct subsets, A and B, that have the same sum.","Prove that from a set of ten distinct two-digit numbers, it is possible to select two disjoint subsets whose members have the same sum.","From the previous result, we know there exist two distinct subsets, A and B, with the same sum. Let C be their intersection, $C = A \cap B$. Let $A' = A \setminus C$ and $B' = B \setminus C$. The sets A' and B' are disjoint by construction. The sum of elements in A can be written as sum(A') + sum(C), and the sum of elements in B is sum(B') + sum(C). Since sum(A) = sum(B), it follows that sum(A') = sum(B'). Since A and B are distinct and the numbers are positive, A' and B' must be non-empty. Therefore, A' and B' are two disjoint subsets with the same sum.",,,,
1972p2,"Prove that if $n \geq 4$, every quadrilateral that can be inscribed in a circle can be dissected into $n$ quadrilaterals each of which is inscribable in a circle.",3,Show that any inscribable quadrilateral can be dissected into four inscribable quadrilaterals.,"Let ABCD be an inscribable quadrilateral. It is possible to choose an interior point P and points E, F, G, H on sides AB, BC, CD, DA respectively, partitioning ABCD into four quadrilaterals. The construction involves setting PH parallel to AB, PG parallel to BC, and choosing E and F to make AEPH an isosceles trapezoid and to make angle PFB equal to angle A. With these choices, all four smaller quadrilaterals (AEPH, EBFP, PFCG, GDHP) are inscribable. Specifically, AEPH and PFCG are isosceles trapezoids, which are always inscribable. For EBFP and GDHP, it can be shown that their opposite angles sum to pi by using the properties of the construction and the fact that ABCD is inscribable.",Show that an isosceles trapezoid can be dissected into two smaller isosceles trapezoids.,"Let an isosceles trapezoid be defined by vertices PQRS, with PQ parallel to SR. Draw a line segment TU parallel to PQ, where T is on PS and U is on QR. This line divides the trapezoid PQRS into two smaller trapezoids, PQTU and TURS. Since the new line segment is parallel to the bases, the new quadrilaterals are also trapezoids. Because the original trapezoid PQRS was isosceles, the base angles are equal. This property is preserved in the smaller trapezoids, making them isosceles as well. Since all isosceles trapezoids are inscribable in a circle, this dissects one inscribable quadrilateral into two.","Prove that if n >= 4, every quadrilateral that can be inscribed in a circle can be dissected into n quadrilaterals each of which is inscribable in a circle.","We proceed by induction on n. The base case, n=4, is established by Sub-problem 1, which also provides a construction where some of the resulting quadrilaterals are isosceles trapezoids. For the inductive step, assume that any inscribable quadrilateral can be dissected into k inscribable quadrilaterals for some k >= 4, and that at least one of these is an isosceles trapezoid. Using the result from Sub-problem 2, we can take this isosceles trapezoid and dissect it into two smaller ones. This results in a new dissection of the original quadrilateral into k-1+2 = k+1 inscribable quadrilaterals. Therefore, by the principle of mathematical induction, the statement holds for all n >= 4.",,
1972p3,Let $m$ and $n$ be arbitrary non-negative integers. Prove that \[\frac{(2m)!(2n)!}{m!n!(m+n)!}\] is an integer. ($0! = 1$.),3,"By comparing the coefficient of $x^{2m}$ in the expansion of both sides of the identity $(1 - x^2)^{m + n} = (1 + x)^{m + n} (1 - x)^{m + n}$, prove that $(-1)^m \binom{m+n}{m} = \sum_{k=0}^{2m} (-1)^{k} \binom{m+n}{k} \binom{m+n}{2m-k}$.","The binomial expansion of the left side is $(1 - x^2)^{m + n} = \sum_{j=0}^{m+n} \binom{m+n}{j} (-x^2)^j$. The coefficient of $x^{2m}$ occurs when $j=m$, which is $(-1)^m \binom{m+n}{m}$. For the right side, we use the Cauchy product of the expansions of $(1+x)^{m+n} = \sum_{i=0}^{m+n} \binom{m+n}{i} x^i$ and $(1-x)^{m+n} = \sum_{j=0}^{m+n} \binom{m+n}{j} (-1)^j x^j$. The coefficient of $x^{2m}$ is $\sum_{k=0}^{2m} \binom{m+n}{k} \binom{m+n}{2m-k} (-1)^{2m-k}$. Since $(-1)^{2m-k} = (-1)^{-k} = (-1)^k$, equating coefficients gives the desired identity: $(-1)^m \binom{m+n}{m} = \sum_{k=0}^{2m} (-1)^{k} \binom{m+n}{k} \binom{m+n}{2m-k}$.","Starting with the identity from the previous step, prove the von Szily identity: $\frac{(2m)!(2n)!}{m!n!(m+n)!} = (-1)^m \sum_{k=0}^{2m} (-1)^k \binom{2m}{k} \binom{2n}{m+n-k}$.",Start with $(-1)^m \binom{m+n}{m} = \sum_{k=0}^{2m} (-1)^{k} \binom{m+n}{k} \binom{m+n}{2m-k}$. Express the binomial coefficients in factorial form: $(-1)^m \frac{(m+n)!}{m!n!} = \sum_{k=0}^{2m} (-1)^{k} \frac{(m+n)!}{k!(m+n-k)!} \frac{(m+n)!}{(2m-k)!(n-m+k)!}$. Multiply both sides by $(-1)^m \frac{(2m)!(2n)!}{[(m+n)!]^2}$. The left side simplifies to $\frac{(2m)!(2n)!}{m!n!(m+n)!}$. The general term on the right side simplifies to $(-1)^m (-1)^k \frac{(2m)!}{k!(2m-k)!} \frac{(2n)!}{(m+n-k)!(n-m+k)!}$. This is equal to $(-1)^m \sum_{k=0}^{2m} (-1)^k \binom{2m}{k} \binom{2n}{m+n-k}$.,Let $m$ and $n$ be arbitrary non-negative integers. Prove that $\frac{(2m)!(2n)!}{m!n!(m+n)!}$ is an integer.,"From the von Szily identity derived in the previous step, we have the expression $\frac{(2m)!(2n)!}{m!n!(m+n)!} = (-1)^m \sum_{k=0}^{2m} (-1)^k \binom{2m}{k} \binom{2n}{m+n-k}$. The binomial coefficients $\binom{a}{b}$ are integers for non-negative integers $a, b$. Therefore, each term in the summation, $(-1)^k \binom{2m}{k} \binom{2n}{m+n-k}$, is an integer. The finite sum of integers is an integer. Finally, multiplying this sum by $(-1)^m$ yields an integer. Thus, the original expression is an integer.",,
1972p5,"Let $f$ and $g$ be real-valued functions defined for all real values of $x$ and $y$, and satisfying the equation \[f(x + y) + f(x - y) = 2f(x)g(y)\] for all $x, y$. Prove that if $f(x)$ is not identically zero, and if $|f(x)| \leq 1$ for all $x$, then $|g(y)| \leq 1$ for all $y$.",1,"Let $f$ and $g$ be real-valued functions defined for all real values of $x$ and $y$, and satisfying the equation \[f(x + y) + f(x - y) = 2f(x)g(y)\] for all $x, y$. Prove that if $f(x)$ is not identically zero, and if $|f(x)| \leq 1$ for all $x$, then $|g(y)| \leq 1$ for all $y$.","Let $u>0$ be the least upper bound for $|f(x)|$ for all $x$. So, $|f(x)| \leq u$ for all $x$. Then, for all $x,y$,

$2u \geq |f(x+y)+f(x-y)| = |2f(x)g(y)|=2|f(x)||g(y)|$

Therefore, $u \geq |f(x)||g(y)|$, so $|f(x)| \leq u/|g(y)|$.

Since $u$ is the least upper bound for $|f(x)|$, $u/|g(y)| \geq u$. Therefore, $|g(y)| \leq 1$.",,,,,,
1972p6,"Given four distinct parallel planes, prove that there exists a regular tetrahedron with a vertex on each plane.",4,"Show that the existence of a regular tetrahedron with a vertex on each of four given parallel planes, $p_1, p_2, p_3, p_4$, is proven if one can find *any* regular tetrahedron ABCD and a corresponding set of parallel planes, $q_1, q_2, q_3, q_4$, passing through its vertices, whose inter-plane distance ratios match those of the given planes.","Let the given planes be $p_1, p_2, p_3, p_4$. Assume we can find a regular tetrahedron ABCD and four parallel planes $q_1, q_2, q_3, q_4$ with $A \in q_1, B \in q_2, C \in q_3, D \in q_4$ such that the ratio of distances $d(q_1, q_2) : d(q_2, q_3) : d(q_3, q_4)$ equals $d(p_1, p_2) : d(p_2, p_3) : d(p_3, p_4)$. Since both sets of planes are parallel and their distance ratios are equal, there exists a similitude transformation (a composition of scaling, rotation, and translation) that maps the set of planes \{$q_1, q_2, q_3, q_4$\} to \{$p_1, p_2, p_3, p_4$\}. This same similitude will map the regular tetrahedron ABCD to another regular tetrahedron XYZW, whose vertices will lie on the planes $p_1, p_2, p_3, p_4$. Thus, proving the existence of the constructed set is sufficient.","For an arbitrary triangle ABC (a face of a regular tetrahedron) and a given ratio $r_1 : r_2$, show it is possible to construct three parallel lines $g_1, g_2, g_3$ in the plane of the triangle, passing through A, B, and C respectively, such that the ratio of distances $d(g_1, g_2) : d(g_2, g_3)$ equals $r_1 : r_2$.","In the plane containing triangle ABC, choose a point T on the line AC such that the ratio of directed lengths $AT : TC = r_1 : r_2$. Define the line $g_2$ to be the line passing through B and T. Let $g_1$ be the line through A parallel to $g_2$, and let $g_3$ be the line through C parallel to $g_2$. By construction, $g_1, g_2, g_3$ are parallel. By Thales' theorem, using AC as a transversal, the ratio of the perpendicular distances between these parallel lines is equal to the ratio of the segments they cut on the transversal: $d(g_1, g_2) : d(g_2, g_3) = AT : TC = r_1 : r_2$.","For an arbitrary regular tetrahedron ABCD and a given ratio $r_1:r_2:r_3$, prove there exist four parallel planes $q_1, q_2, q_3, q_4$ passing through A, B, C, D respectively, such that the ratio of their directed distances $d(q_1, q_2) : d(q_2, q_3) : d(q_3, q_4)$ is equal to $r_1:r_2:r_3$.","Start with a regular tetrahedron ABCD. In the plane ABC, construct three parallel lines $g_1, g_2, g_3$ through A, B, C with distance ratio $d(g_1, g_2) : d(g_2, g_3) = r_1 : r_2$, as shown in the previous sub-problem. In the same plane, construct a fourth line $g_4$ parallel to the others such that the full ratio is satisfied: $d(g_1, g_2) : d(g_2, g_3) : d(g_3, g_4) = r_1:r_2:r_3$. Now, define the plane $q_4$ as the unique plane containing the line $g_4$ and the vertex D. Define planes $q_1, q_2, q_3$ to be parallel to $q_4$ and to pass through A, B, and C respectively. These planes will contain the lines $g_1, g_2, g_3$. The ratio of distances between these parallel planes $q_i$ is equal to the ratio of distances between the lines $g_i$, which was constructed to be $r_1:r_2:r_3$.","Given four distinct parallel planes, prove that there exists a regular tetrahedron with a vertex on each plane.","Let the four given planes be $p_1, p_2, p_3, p_4$ and let the ratio of their directed distances be $r_1:r_2:r_3 = d(p_1, p_2) : d(p_2, p_3) : d(p_3, p_4)$. From the previous sub-problem, we can take an arbitrary regular tetrahedron ABCD and construct a set of four parallel planes $q_1, q_2, q_3, q_4$ passing through its vertices, such that the ratio of their distances is also $r_1:r_2:r_3$. As established in the first sub-problem, the existence of this constructed tetrahedron and its associated planes implies, via a similitude transformation, the existence of a regular tetrahedron XYZW whose vertices lie on the given planes $p_1, p_2, p_3, p_4$. Therefore, such a tetrahedron exists."
1971p1,"Prove that the following assertion is true for $n=3$ and $n=5$, and that it is false for every other natural number $n>2:$

If $a_1, a_2,\cdots, a_n$ are arbitrary real numbers, then $(a_1-a_2)(a_1-a_3)\cdots (a_1-a_n)+(a_2-a_1)(a_2-a_3)\cdots (a_2-a_n)+\cdots+(a_n-a_1)(a_n-a_2)\cdots (a_n-a_{n-1})\ge 0.$",4,"Prove that for any real numbers $a_1, a_2, a_3$, the inequality $(a_1-a_2)(a_1-a_3) + (a_2-a_1)(a_2-a_3) + (a_3-a_1)(a_3-a_2) \ge 0$ holds.","The expression is symmetric in $a_1, a_2, a_3$. Expanding the products gives $ (a_1^2 - a_1a_3 - a_1a_2 + a_2a_3) + (a_2^2 - a_2a_3 - a_1a_2 + a_1a_3) + (a_3^2 - a_2a_3 - a_1a_3 + a_1a_2) $. This simplifies to $a_1^2 + a_2^2 + a_3^2 - a_1a_2 - a_2a_3 - a_3a_1$. This expression is famously equivalent to $\frac{1}{2}[(a_1-a_2)^2 + (a_2-a_3)^2 + (a_3-a_1)^2]$. As a sum of squares, it is always greater than or equal to zero.","Let $E_n(a_1, \dots, a_n) = \sum_{i=1}^n \prod_{j \neq i} (a_i - a_j)$. Prove that for $n=5$, $E_5 \ge 0$ for any real numbers $a_1, \dots, a_5$.","Without loss of generality, assume $a_1 \ge a_2 \ge a_3 \ge a_4 \ge a_5$. The expression can be viewed as $E_5 = \sum_{i=1}^5 P'(a_i)$ where $P(x) = \prod_{k=1}^5 (x-a_k)$. We group terms of the sum. The sum of the first two terms is $(a_1-a_2)[\prod_{k=3}^5(a_1-a_k) - \prod_{k=3}^5(a_2-a_k)] \ge 0$ because $a_1-a_k \ge a_2-a_k \ge 0$ for $k\in\{3,4,5\}$. The middle term, $P'(a_3)=(a_3-a_1)(a_3-a_2)(a_3-a_4)(a_3-a_5)$, is a product of two non-positive and two non-negative terms, hence $P'(a_3) \ge 0$. The sum of the last two terms is $(a_4-a_5)[\prod_{k=1}^3(a_4-a_k) - \prod_{k=1}^3(a_5-a_k)] \ge 0$ because $a_4-a_5 \ge 0$ and the term in brackets is also non-negative, since $0 \ge a_4-a_k \ge a_5-a_k$ for $k\in\{1,2,3\}$. The total sum $E_5$ is a sum of non-negative quantities, so $E_5 \ge 0$.",Show that the assertion is false for any even integer $n > 2$ and any odd integer $n \ge 7$.,"Let the expression be $E_n$. We provide counterexamples by selecting non-distinct values for $a_i$, noting the expression is the limit of the distinct case. For any even $n > 2$, let $a_1 = -1$ and $a_2 = \dots = a_n = 0$. This corresponds to the polynomial $P(x)=(x+1)x^{n-1}$. The sum is $E_n = P'(-1) + (n-1)P'(0)$. $P'(x) = x^{n-2}(nx+n-1)$. Since $n>2$, $P'(0)=0$. $P'(-1) = (-1)^{n-2}(-n+n-1) = -1$. Thus $E_n=-1<0$. For any odd $n \ge 7$, let $a_1 = 1$, three of the $a_i$ be $0$, three be $2$, and the remaining $n-7$ be $3$. For $n=7$, let $a_1=1, a_2=a_3=a_4=0, a_5=a_6=a_7=2$. The sum is $E_7 = P'(1)$ for $P(x)=(x-1)x^3(x-2)^3$. As $0$ and $2$ are multiple roots, other terms are zero. $P'(1) = (1)^3(1-2)^3 = -1 < 0$. This construction provides counterexamples for all odd $n \ge 7$.","Prove that the following assertion is true for $n=3$ and $n=5$, and that it is false for every other natural number $n>2:$ If $a_1, a_2,\cdots, a_n$ are arbitrary real numbers, then $(a_1-a_2)(a_1-a_3)\cdots (a_1-a_n)+(a_2-a_1)(a_2-a_3)\cdots (a_2-a_n)+\cdots+(a_n-a_1)(a_n-a_2)\cdots (a_n-a_{n-1})\ge 0.$","The assertion's validity depends on the value of $n$. Sub-problem 1 proved the assertion is true for $n=3$. Sub-problem 2 proved the assertion is true for $n=5$. Sub-problem 3 provided explicit counterexamples demonstrating the assertion is false for all even integers $n > 2$ (i.e., $n=4, 6, 8, \dots$) and for all odd integers $n \ge 7$ (i.e., $n=7, 9, 11, \dots$). Combining these results, the assertion is true if and only if $n=3$ or $n=5$, and false for all other natural numbers $n>2$."
1971p2,"Consider a convex polyhedron $P_1$ with nine vertices $A_1, A_2, \cdots, A_9;$ let $P_i$ be the polyhedron obtained from $P_1$ by a translation that moves vertex $A_1$ to $A_i(i=2,3,\cdots, 9).$ Prove that at least two of the polyhedra $P_1, P_2,\cdots, P_9$ have an interior point in common.",1,"Consider a convex polyhedron $P_1$ with nine vertices $A_1, A_2, \cdots, A_9;$ let $P_i$ be the polyhedron obtained from $P_1$ by a translation that moves vertex $A_1$ to $A_i(i=2,3,\cdots, 9).$ Prove that at least two of the polyhedra $P_1, P_2,\cdots, P_9$ have an interior point in common.","WLOG let $A_1$ be the origin $0$. Take any point $A_i$, then $P_i=A_i+P_1$, lies in $2 P_1$, the polyhedron $P_1$ stretched by the factor $2$ on $P_1=0$. More general: take any $p,q$ in any convex shape $S$. Then $p+q \in 2S$. Prove: since $S$ is convex, $\frac{p+q}{2} \in S$, thus $p+q \in 2S$.

Now all these nine polyhedrons lie inside $2 P_1$. Let $V$ be the volume of $P_1$. Then some polyhedrons with total sum of volumes $9V$ lie in a shape of volume $8V$, thus they must overlap, meaning that they have an interior point in common.",,,,,,
1971p3,Prove that the set of integers of the form $2^k - 3(k = 2; 3; \cdots)$ contains an infinite subset in which every two members are relatively prime.,3,"Let a sequence of integers $\{a_n\}$ be defined by $a_1=3$ and for $n>1$, $a_n = a_{n-1} \prod_{p | (2^{a_{n-1}}-3)} (p-1)$, where the product is over the distinct prime factors of $2^{a_{n-1}}-3$. Let $A_m = 2^{a_m}-3$. Show that for any $n > 1$ and any prime factor $p$ of $A_k$ where $k < n$, we have $2^{a_n} \equiv 1 \pmod{p}$.","By construction, if $p$ is a prime factor of $A_k = 2^{a_k}-3$ for $k<n$, then $(p-1)$ divides $a_{k+1}$. Since $a_{k+1}$ divides $a_{k+2}$ and so on up to $a_n$, we have that $(p-1)$ divides $a_n$. Thus, $a_n = m(p-1)$ for some integer $m$. As $A_k$ is odd for $a_k \ge 2$, $p$ must be an odd prime. By Fermat's Little Theorem, $2^{p-1} \equiv 1 \pmod{p}$, so $2^{a_n} = (2^{p-1})^m \equiv 1^m \equiv 1 \pmod{p}$.","Let $\{A_n = 2^{a_n}-3\}$ be the sequence constructed in the previous sub-problem. Prove that for any $n > 1$, $A_n$ is relatively prime to $A_k$ for all $k < n$.","Let $p$ be a common prime factor of $A_n$ and $A_k$ for some $k < n$. Since $p$ divides $A_k$, from the previous sub-problem we know that $2^{a_n} \equiv 1 \pmod{p}$. This implies $A_n = 2^{a_n} - 3 \equiv 1 - 3 = -2 \pmod{p}$. Since $p$ also divides $A_n$, we have $A_n \equiv 0 \pmod{p}$. This implies $0 \equiv -2 \pmod{p}$, which means $p$ must divide 2, so $p=2$. However, for any $a_k \ge a_1=3$, $A_k = 2^{a_k} - 3$ is odd, so it cannot be divisible by 2. This is a contradiction, so no common prime factor exists. Therefore, $\gcd(A_n, A_k) = 1$.",Prove that the set of integers of the form $2^k - 3(k = 2; 3; \\cdots)$ contains an infinite subset in which every two members are relatively prime.,"We construct an infinite sequence of such integers that are pairwise relatively prime. Let $a_1=3$ and for $n>1$, define $a_n = a_{n-1} \prod_{p | (2^{a_{n-1}}-3)} (p-1)$, as in sub-problem 1. Since $2^{a_{n-1}}-3 > 1$ for $a_{n-1} \ge 2$, it has prime factors, and each such prime factor $p$ is odd, so $p-1 \ge 2$. Thus $a_n > a_{n-1}$, and the sequence $\{a_n\}$ is strictly increasing with $a_n \ge 3$ for all $n$. This generates an infinite sequence of distinct integers $A_n = 2^{a_n}-3$ from the specified set. From sub-problem 2, we know that these integers are pairwise relatively prime. Thus, the set $\{A_1, A_2, A_3, \dots\}$ is the required infinite subset.",,
1971p4,"All the faces of tetrahedron $ABCD$ are acute-angled triangles. We consider all closed polygonal paths of the form $XYZTX$ defined as follows: $X$ is a point on edge $AB$ distinct from $A$ and $B$; similarly, $Y, Z, T$ are interior points of edges $BC, CD, DA$, respectively. Prove:

(a) If $\angle DAB + \angle BCD \neq \angle CDA + \angle ABC$, then among the polygonal paths, there is none of minimal length.

(b) If $\angle DAB + \angle BCD = \angle CDA + \angle ABC$, then there are infinitely many shortest polygonal paths, their common length being $2AC \sin(\alpha / 2)$, where $\alpha = \angle BAC + \angle CAD + \angle DAB$.",4,"Unfold the tetrahedron's surface into a plane to represent the path's length. Let the faces containing the path edges be laid out contiguously in the plane by rotating around shared edges $DA, AB, BC$. Show that the length of the polygonal path $XYZTX$ is minimized when its unfolded representation is a straight line segment connecting the starting point $Z$ on edge $CD$ to its final image $Z'$ after the sequence of rotations.","The path consists of segments $TX, XY, YZ, ZT$. Let's trace the path starting from $Z$ on edge $CD$. We unfold the sequence of faces $CDA, DAB, ABC, BCD$ into a plane. The path $Z \to T \to X \to Y \to Z$ becomes a planar polyline from point $Z$ on the initial edge $CD$ to its final image $Z'$ on the image of the same edge. The length of the path is the length of this polyline. By the triangle inequality, the shortest distance between two points is a straight line. Thus, the minimum possible length of the path corresponds to the straight line segment $ZZ'$ in the unfolded plane.","In the planar unfolding from Sub-problem 1, let the line containing the original edge $CD$ be $L$ and the line containing its final image be $L'$. Prove that $L$ is parallel to $L'$ if and only if $\angle DAB + \angle BCD = \angle CDA + \angle ABC$.","The line $L'$ is obtained from $L$ by a sequence of rotations. The net angle of rotation determines whether $L'$ is parallel to $L$. The condition for parallelism is that the sum of the angles of the planar polygon formed by the vertices of the unfolded faces satisfies certain conditions. By analyzing the angles of this unfolded polygon, the sum of the vertex angles corresponding to tetrahedron vertices A and C must equal the sum of those corresponding to B and D. This translates to the condition that the sum of the angles of the faces meeting at opposite vertices of the tetrahedron are equal, which is precisely $\angle DAB + \angle BCD = \angle CDA + \angle ABC$.","If $\angle DAB + \angle BCD = \angle CDA + \angle ABC$, show that the length of the shortest path is $2AC \sin(\alpha/2)$, where $\alpha = \angle BAC + \angle CAD + \angle DAB$.","When the angle condition holds, the lines $CD$ and its image $C'D'$ are parallel. The shortest path length is the constant distance between these lines, for any point $Z$ on $CD$. This distance is equal to the length of the segment $CC'$. In the unfolded plane, consider the triangle $\triangle CAC'$. This is an isosceles triangle with two sides of length equal to the edge $AC$. The angle $\angle CAC'$ is the sum of the three face angles at vertex $A$ of the tetrahedron, so $\angle CAC' = \alpha$. Using trigonometry on the isosceles triangle, the length of the base $CC'$ is $2AC \sin(\alpha/2)$.","Prove: (a) If $\angle DAB + \angle BCD \neq \angle CDA + \angle ABC$, then among the polygonal paths, there is none of minimal length. (b) If $\angle DAB + \angle BCD = \angle CDA + \angle ABC$, then there are infinitely many shortest polygonal paths, their common length being $2AC \sin(\alpha / 2)$, where $\alpha = \angle BAC + \angle CAD + \angle DAB$.","(a) From Sub-problem 2, if the angle equality does not hold, the lines containing edge $CD$ and its image $C'D'$ are not parallel. The shortest path length is the length of the segment $ZZ'$, which varies as $Z$ moves along $CD$. The minimum distance between the non-parallel line segments $CD$ and $C'D'$ would occur at an endpoint ($C$ or $D$). Since $Z$ must be an interior point, the infimum length is not achieved, so no path of minimal length exists.\n(b) From Sub-problem 2, if the angle equality holds, the lines are parallel. The path length is minimized to a constant value, calculated in Sub-problem 3 as $2AC \sin(\alpha/2)$. The condition that all faces are acute-angled ensures that for any interior point $Z$ on $CD$, the straight-line path $ZZ'$ intersects the interior of the intermediate edges $DA, AB, BC$. Since $Z$ can be any of the infinitely many interior points of $CD$, there are infinitely many shortest paths."
1971p5,"Prove that for every natural number $m$, there exists a finite set $S$ of points in a plane with the following property: For every point $A$ in $S$, there are exactly $m$ points in $S$ which are at unit distance from $A$.",4,A set of points is called $k$-regular if every point in the set is at unit distance from exactly $k$ other points in the set. Prove that a 1-regular finite set of points exists.,"Consider the set $S_1 = \{0, 1\}$ in the complex plane. The distance between the two points is $|1-0|=1$. The point 0 is at unit distance from exactly one point in $S_1$ (the point 1), and the point 1 is at unit distance from exactly one point in $S_1$ (the point 0). Therefore, $S_1$ is a 1-regular set.","Let $S$ be an $m$-regular set and $T$ be an $n$-regular set. Define the operation $U = S \oplus_\theta T = \\{a + e^{i \theta} b \\mid a \\in S, b \\in T\\}$. Show that for any point $u = a + e^{i \theta} b \\in U$, there are at least $m+n$ distinct points in $U$ at unit distance from $u$, provided that $\theta$ avoids a finite set of values.","Let $u = a + e^{i \theta} b \\in U$. Let $a_1, \\dots, a_m$ be the neighbors of $a$ in $S$ and $b_1, \\dots, b_n$ be the neighbors of $b$ in $T$. The $m$ points $a_i + e^{i\theta}b$ and the $n$ points $a + e^{i\theta}b_j$ are in $U$. The distance from $u$ to $a_i + e^{i\theta}b$ is $|(a-a_i)|=1$. The distance from $u$ to $a + e^{i\theta}b_j$ is $|e^{i\theta}(b-b_j)|=|b-b_j|=1$. To ensure these $m+n$ neighbors are distinct, we must avoid $a_i + e^{i \theta} b = a + e^{i \theta} b_j$, which means $e^{i\theta}(b_j-b) \neq (a_i-a)$. Each such equation for $(i,j)$ forbids at most one value of $e^{i\theta}$. Since there are finitely many pairs $(i,j)$, we can choose $\theta$ to avoid this finite set of values, guaranteeing at least $m+n$ distinct neighbors.","Using the same definitions as the previous sub-problem, show that $\theta$ can be chosen such that for any point $u = a + e^{i \theta} b \\in U$, there are no more than $m+n$ points in $U$ at unit distance from $u$.","A new neighbor $v = c + e^{i \theta} d \\in U$ not accounted for in the previous step must have $c \neq a$ and $d \neq b$. The condition for a unit distance is $|(a+e^{i\theta}b) - (c+e^{i\theta}d)| = 1$, which is $|(a-c) + e^{i\theta}(b-d)| = 1$. Squaring this gives $|a-c|^2+|b-d|^2 + e^{i\theta}(a-c)\\overline{(b-d)} + e^{-i\theta}\\overline{(a-c)}(b-d) = 1$. For each of the finite choices of $a,b,c,d$ from the finite sets $S, T$, this is a trigonometric equation in $\theta$ which has at most a finite number of solutions for $\theta \\in [0, 2\\pi)$. By choosing $\theta$ to avoid the finite union of all these solution sets, we ensure no such 'accidental' unit distances are formed.","Prove that for every natural number $m$, there exists a finite set $S$ of points in a plane with the following property: For every point $A$ in $S$, there are exactly $m$ points in $S$ which are at unit distance from $A$.","We proceed by induction on $m$. The base case $m=1$ is established by the existence of a 1-regular set, as shown in the first sub-problem. For the inductive step, assume an $(m-1)$-regular set $S_{m-1}$ exists. Let $T_1$ be a 1-regular set, chosen to be disjoint from $S_{m-1}$. Based on the preceding sub-problems, there exists a value $\theta$ such that the set $S_m = S_{m-1} \\oplus_\theta T_1$ is $((m-1)+1)$-regular, i.e., $m$-regular. By the principle of mathematical induction, an $m$-regular set exists for all natural numbers $m$."
1971p6,"Let $A = (a_{ij})(i, j = 1, 2, \cdots, n)$ be a square matrix whose elements are non-negative integers. Suppose that whenever an element $a_{ij} = 0$, the sum of the elements in the $i$th row and the $j$th column is $\geq n$. Prove that the sum of all the elements of the matrix is $\geq n^2 / 2$.",4,"Let $S$ be the minimum sum among all row and column sums of the matrix $A$. Show that if $S \ge n/2$, the total sum of all elements of the matrix is $\ge n^2/2$.","Let $R_i$ be the sum of the elements in the $i$-th row. By the definition of $S$, we have $R_i \ge S$ for all $i=1, \dots, n$. If $S \ge n/2$, then each $R_i \ge n/2$. The sum of all elements in the matrix is $\sum_{i=1}^n R_i$. Therefore, the total sum is $\ge \sum_{i=1}^n (n/2) = n \cdot (n/2) = n^2/2$.","Assume the minimum sum $S$ among all row and column sums is less than $n/2$ and corresponds to a row, say row $k$. Let $z$ be the number of zero elements in row $k$. Show that the total sum of all elements of the matrix, $S_{total}$, satisfies $S_{total} \ge z(n-S) + (n-z)S$.","The total sum is the sum of all column sums, $S_{total} = \sum_{j=1}^n C_j$. For the $z$ columns $j$ where $a_{kj}=0$, the problem's hypothesis implies $R_k + C_j \ge n$. Since $R_k=S$, we have $C_j \ge n-S$. For the other $n-z$ columns $j$ where $a_{kj} \ne 0$, we know $C_j \ge S$ because $S$ is the minimum of all row and column sums. Summing these lower bounds for all columns gives $S_{total} \ge z(n-S) + (n-z)S$.","Let $S$ and $z$ be numbers such that $0 \le S < n/2$ and $z$ is an integer with $0 \le z \le n$. Given the constraint that $S \ge n-z$, prove the inequality $z(n-S) + (n-z)S \ge n^2/2$.","Let $E = S-(n-z)$. From the condition $S \ge n-z$, we have $E \ge 0$. Also, we can write $z=n-S+E$. Substitute this into the expression: $(n-S+E)(n-S) + (n-(n-S+E))S = (n-S+E)(n-S) + (S-E)S = (n-S)^2 + E(n-S) + S^2 - ES = n^2 - 2nS + 2S^2 + E(n-2S)$. This can be rewritten as $\frac{n^2}{2} + \frac{1}{2}(n^2 - 4nS + 4S^2) + E(n-2S) = \frac{n^2}{2} + \frac{1}{2}(n-2S)^2 + E(n-2S)$. Since $S < n/2$, we have $n-2S > 0$. As $E \ge 0$ and $(n-2S)^2 \ge 0$, the sum of the last two terms is non-negative. Therefore, the expression is $\ge n^2/2$.","Let $A = (a_{ij})(i, j = 1, 2, \cdots, n)$ be a square matrix whose elements are non-negative integers. Suppose that whenever an element $a_{ij} = 0$, the sum of the elements in the $i$th row and the $j$th column is $\ge n$. Prove that the sum of all the elements of the matrix is $\ge n^2 / 2$.","Let $S$ be the minimum sum among all row and column sums. We consider two cases. Case 1: $S \ge n/2$. By the result of Sub-problem 1, the total sum of elements is $\ge n^2/2$. Case 2: $S < n/2$. Assume without loss of generality that the minimum sum $S$ corresponds to a row. Let this row have $z$ zeros. By Sub-problem 2, the total sum is at least $z(n-S)+(n-z)S$. Since the matrix elements are non-negative integers, the sum $S$ is the sum of $n-z$ non-zero integer elements, thus each is at least 1, so $S \ge n-z$. With these conditions on $S$ and $z$, Sub-problem 3 shows that $z(n-S)+(n-z)S \ge n^2/2$. In both cases, the proof is complete."
1970p2,"Let $a, b$, and $n$ be integers greater than 1, and let $a$ and $b$ be the bases of two number systems.  $A_{n-1}$ and $A_{n}$ are numbers in the system with base $a$ and $B_{n-1}$ and $B_{n}$ are numbers in the system with base $b$; these are related as follows:

$A_{n} = x_{n}x_{n-1}\cdots x_{0}, A_{n-1} = x_{n-1}x_{n-2}\cdots x_{0}$,

$B_{n} = x_{n}x_{n-1}\cdots x_{0}, B_{n-1} = x_{n-1}x_{n-2}\cdots x_{0}$,

$x_{n} \neq 0, x_{n-1} \neq 0$.

Prove:

$\frac{A_{n-1}}{A_{n}} < \frac{B_{n-1}}{B_{n}}$ if and only if $a > b$.",3,Show that the inequality $\frac{A_{n-1}}{A_{n}} < \frac{B_{n-1}}{B_{n}}$ is algebraically equivalent to the inequality $\sum_{i=0}^{n-1} x_i a^{i-n} < \sum_{i=0}^{n-1} x_i b^{i-n}$.,"The original inequality is $\frac{A_{n-1}}{x_n a^n + A_{n-1}} < \frac{B_{n-1}}{x_n b^n + B_{n-1}}$. Since both denominators and numerators are positive, we can cross-multiply to get $A_{n-1}(x_n b^n + B_{n-1}) < B_{n-1}(x_n a^n + A_{n-1})$. This expands to $A_{n-1}x_n b^n + A_{n-1}B_{n-1} < B_{n-1}x_n a^n + A_{n-1}B_{n-1}$, which simplifies to $A_{n-1}x_n b^n < B_{n-1}x_n a^n$. Since $x_n > 0$, we can divide by $x_n$ and rearrange to get $\frac{A_{n-1}}{a^n} < \frac{B_{n-1}}{b^n}$. Substituting the polynomial definitions $A_{n-1} = \sum_{i=0}^{n-1} x_i a^i$ and $B_{n-1} = \sum_{i=0}^{n-1} x_i b^i$ gives $\frac{\sum_{i=0}^{n-1} x_i a^i}{a^n} < \frac{\sum_{i=0}^{n-1} x_i b^i}{b^n}$, which simplifies to the desired form $\sum_{i=0}^{n-1} x_i a^{i-n} < \sum_{i=0}^{n-1} x_i b^{i-n}$.","Prove that if $a > b$, then $\frac{A_{n-1}}{A_{n}} < \frac{B_{n-1}}{B_{n}}$.","From sub-problem 1, the inequality is equivalent to $\sum_{i=0}^{n-1} x_i a^{i-n} < \sum_{i=0}^{n-1} x_i b^{i-n}$, which can be rewritten as $\sum_{k=1}^{n} x_{n-k} a^{-k} < \sum_{k=1}^{n} x_{n-k} b^{-k}$. Consider the function $f(y) = \sum_{k=1}^{n} x_{n-k} y^k$. The inequality is $f(1/a) < f(1/b)$. Since $a, b > 1$ and $a > b$, we have $0 < 1/a < 1/b$. The coefficients $x_{n-k}$ are non-negative, and at least one is positive (since $x_{n-1} \neq 0$). Thus, $f(y)$ is a strictly increasing function for $y > 0$. Since $1/a < 1/b$, it follows that $f(1/a) < f(1/b)$, which proves the statement.",Prove that $\frac{A_{n-1}}{A_{n}} < \frac{B_{n-1}}{B_{n}}$ if and only if $a > b$.,"The 'if' direction ($a > b \implies \frac{A_{n-1}}{A_{n}} < \frac{B_{n-1}}{B_{n}}$) was proven in the previous sub-problem. For the 'only if' direction, we assume $\frac{A_{n-1}}{A_{n}} < \frac{B_{n-1}}{B_{n}}$ holds and show $a > b$ by contradiction. Assume $a \le b$. If $a=b$, then $A_k = B_k$ for all $k$, which implies $\frac{A_{n-1}}{A_{n}} = \frac{B_{n-1}}{B_{n}}$, a contradiction. If $a < b$, then by the same logic used in the previous sub-problem (with the roles of $a$ and $b$ swapped), it would follow that $\frac{A_{n-1}}{A_{n}} > \frac{B_{n-1}}{B_{n}}$, which is also a contradiction. Since both $a \le b$ cases lead to a contradiction, we must conclude that $a > b$.",,
1970p6,"In a plane there are $100$ points, no three of which are collinear. Consider all possible triangles having these point as vertices. Prove that no more than $70 \%$ of these triangles are acute-angled.",4,"For any set of 4 points in a plane, no three collinear, prove that at most 3 of the $\binom{4}{3}=4$ possible triangles are acute-angled.","The convex hull of the 4 points is either a quadrilateral or a triangle. If it's a quadrilateral, the sum of its interior angles is $360^\circ$, so at least one angle must be $\ge 90^\circ$. The triangle containing this vertex is therefore not acute. If the convex hull is a triangle with the fourth point inside, the sum of the angles around the interior point is $360^\circ$. At least one of these angles must be $\ge 120^\circ$, making the corresponding triangle obtuse. In both cases, at least one triangle is non-acute, so at most 3 are acute.","For any set of 5 points in a plane, no three collinear, prove that at most 7 of the $\binom{5}{3}=10$ possible triangles are acute-angled.","A set of 5 points contains $\binom{5}{4}=5$ subsets of 4 points. From the previous result, each 4-point subset contains at most 3 acute triangles. Summing over all 5 subsets gives a maximum of $5 \times 3 = 15$ acute triangle instances. Each triangle is defined by 3 vertices, so it is contained in the $\binom{5-3}{4-3}=2$ subsets of 4 points that include its vertices. Therefore, the number of unique acute triangles is at most $15/2 = 7.5$. As the number of triangles must be an integer, it is at most 7.","For any set of $n \ge 5$ points with no three collinear, prove that the proportion of acute-angled triangles is no more than the maximum proportion for 5 points.","Consider an n-gon and all its $\binom{n}{5}$ sub-5-gons. Let's count the total number of triangles and acute triangles by summing over these 5-gons. The total count of acute triangles is at most $7 \times \binom{n}{5}$ and the total count of all triangles is $10 \times \binom{n}{5}$. Each specific triangle from the n-gon is contained in exactly $\binom{n-3}{5-3} = \binom{n-3}{2}$ of these 5-gons. Since every triangle is counted the same number of times, the ratio of unique acute triangles to total unique triangles is the same as the ratio of the summed counts, which is $\frac{7 \times \binom{n}{5}}{10 \times \binom{n}{5}} = \frac{7}{10}$.","In a plane there are $100$ points, no three of which are collinear. Consider all possible triangles having these point as vertices. Prove that no more than $70 \%$ of these triangles are acute-angled.","From sub-problem 2, we know that for 5 points, the maximum number of acute triangles is 7 out of 10, a proportion of $7/10$. From sub-problem 3, we know that for any $n \ge 5$, the maximum proportion of acute triangles does not exceed the proportion for $n=5$. Since $100 \ge 5$, the proportion of acute triangles among the 100 points is at most $7/10$, which is $70 \%$."
1969p1,Prove that there are infinitely many natural numbers $a$ with the following property: the number $z = n^4 + a$ is not prime for any natural number $n$.,2,"For any natural numbers $n$ and $k$ where $k > 1$, prove that the number $z = n^4 + 4k^4$ is composite.","The expression $n^4 + 4k^4$ can be factored using the Sophie Germain identity by adding and subtracting $4n^2k^2$: $n^4 + 4n^2k^2 + 4k^4 - 4n^2k^2 = (n^2 + 2k^2)^2 - (2nk)^2 = (n^2 + 2k^2 - 2nk)(n^2 + 2k^2 + 2nk)$. Let the factors be $F_1 = (n-k)^2 + k^2$ and $F_2 = (n+k)^2 + k^2$. For $n \ge 1$ and $k > 1$, both factors are integers. $F_2 > 1$ is trivial. For $F_1$, since $k > 1$, we have $k^2 > 1$. As $(n-k)^2 \ge 0$, $F_1 = (n-k)^2 + k^2 \ge k^2 > 1$. Since $z$ is a product of two integers greater than 1, it is composite.",Prove that there are infinitely many natural numbers $a$ with the following property: the number $z = n^4 + a$ is not prime for any natural number $n$.,"Let us choose numbers $a$ of the form $a = 4k^4$ for any integer $k > 1$. From the result of the first sub-problem, for any such choice of $a$, the number $z = n^4 + a = n^4 + 4k^4$ is composite for all natural numbers $n$. Since there is an infinite number of integers $k > 1$ (i.e., $k=2, 3, 4, \dots$), we can generate an infinite set of distinct values for $a$ (e.g., $a=64, 324, 1024, \dots$). Each of these values of $a$ satisfies the required property.",,,,
1969p2,"Let $a_1, a_2,\cdots, a_n$ be real constants, $x$ a real variable, and \[f(x)=\cos(a_1+x)+\frac{1}{2}\cos(a_2+x)+\frac{1}{4}\cos(a_3+x)+\cdots+\frac{1}{2^{n-1}}\cos(a_n+x).\] Given that $f(x_1)=f(x_2)=0,$ prove that $x_2-x_1=m\pi$ for some integer $m.$",3,Show that the function $f(x)=\sum_{k=1}^{n}\frac{1}{2^{k-1}}\cos(a_k+x)$ can be expressed in the form $A\cos(x) - B\sin(x)$ for some constants $A$ and $B$ which are not both zero.,"Using the cosine angle addition formula, $f(x) = \sum_{k=1}^{n}\frac{1}{2^{k-1}}(\cos a_k \cos x - \sin a_k \sin x)$. Rearranging the summation gives $f(x) = (\sum_{k=1}^{n}\frac{1}{2^{k-1}}\cos a_k)\cos x - (\sum_{k=1}^{n}\frac{1}{2^{k-1}}\sin a_k)\sin x$. Let $A=\sum_{k=1}^{n}\frac{1}{2^{k-1}}\cos a_k$ and $B=\sum_{k=1}^{n}\frac{1}{2^{k-1}}\sin a_k$. If $A=B=0$, then the complex number $Z = \sum_{k=1}^n \frac{1}{2^{k-1}}e^{ia_k} = A+iB$ would be zero. However, by the reverse triangle inequality, $|Z| = |e^{ia_1} + \sum_{k=2}^n \frac{1}{2^{k-1}}e^{ia_k}| \ge |e^{ia_1}| - |\sum_{k=2}^n \frac{1}{2^{k-1}}e^{ia_k}|$. We have $|e^{ia_1}|=1$ and $|\sum_{k=2}^n \frac{1}{2^{k-1}}e^{ia_k}| \le \sum_{k=2}^n \frac{1}{2^{k-1}} = 1 - \frac{1}{2^{n-1}} < 1$. Thus, $|Z| > 1 - (1 - \frac{1}{2^{n-1}}) = \frac{1}{2^{n-1}} > 0$. So $Z$ cannot be zero, meaning $A$ and $B$ cannot both be zero.","Given $f(x_1)=f(x_2)=0$ and that $f(x)$ can be written as $A\cos(x) - B\sin(x)$ where $A$ and $B$ are not both zero, show that either $\cos(x_1)=\cos(x_2)=0$ or $\tan(x_1)=\tan(x_2)$.","From $f(x_1)=f(x_2)=0$, we have $A\cos(x_1) - B\sin(x_1) = 0$ and $A\cos(x_2) - B\sin(x_2) = 0$. We consider two cases. Case 1: $B=0$. Since $A$ and $B$ are not both zero, $A \neq 0$. The equations become $A\cos(x_1)=0$ and $A\cos(x_2)=0$, which implies $\cos(x_1)=0$ and $\cos(x_2)=0$. Case 2: $B \neq 0$. The equation $A\cos(x) = B\sin(x)$ must hold for $x=x_1, x_2$. If $\cos(x_1)=0$, then $0=B\sin(x_1)$. Since $B\neq 0$, this would mean $\sin(x_1)=0$, which is impossible as $\cos^2(x_1)+\sin^2(x_1)=1$. Thus, $\cos(x_1) \neq 0$ and similarly $\cos(x_2) \neq 0$. We can therefore divide by $\cos(x_1)$ and $\cos(x_2)$ to get $\tan(x_1)=A/B$ and $\tan(x_2)=A/B$, which implies $\tan(x_1)=\tan(x_2)$.","Let $a_1, a_2,\cdots, a_n$ be real constants, $x$ a real variable, and \[f(x)=\cos(a_1+x)+\frac{1}{2}\cos(a_2+x)+\frac{1}{4}\cos(a_3+x)+\cdots+\frac{1}{2^{n-1}}\cos(a_n+x).\] Given that $f(x_1)=f(x_2)=0,$ prove that $x_2-x_1=m\pi$ for some integer $m.$","From the previous sub-problem, the condition $f(x_1)=f(x_2)=0$ leads to two possibilities. Case 1: $\cos(x_1)=0$ and $\cos(x_2)=0$. This means $x_1 = k_1\pi + \pi/2$ and $x_2 = k_2\pi + \pi/2$ for some integers $k_1, k_2$. Their difference is $x_2-x_1 = (k_2-k_1)\pi$, which is an integer multiple of $\pi$. Case 2: $\tan(x_1)=\tan(x_2)$. The tangent function has a period of $\pi$. Therefore, $\tan(x_1)=\tan(x_2)$ implies that $x_2 = x_1 + m\pi$ for some integer $m$. This means $x_2-x_1 = m\pi$. In both cases, we conclude that $x_2-x_1 = m\pi$ for some integer $m$.",,
1969p4,"A semicircular arc $\gamma$ is drawn with $AB$ as diameter. $C$ is a point on $\gamma$ other than $A$ and $B$, and $D$ is the foot of the perpendicular from $C$ to $AB$. We consider three circles, $\gamma_1, \gamma_2, \gamma_3$, all tangent to the line $AB$. Of these, $\gamma_1$ is inscribed in $\triangle ABC$, while $\gamma_2$ and $\gamma_3$ are both tangent to $CD$ and $\gamma$, one on each side of $CD$. Prove that $\gamma_1, \gamma_2$, and $\gamma_3$ have a second tangent in common.",4,"In a suitable coordinate system, determine the radii and the coordinates of the centers of the circles $\gamma_2$ and $\gamma_3$.","Establish a coordinate system where D is the origin, AB is on the x-axis, and the semicircle $\gamma$ has radius 1 and center O=(-a, 0). Let the centers of $\gamma_2$ and $\gamma_3$ be $C_2=(x_2, r_2)$ and $C_3=(x_3, r_3)$. The conditions of tangency to AB, CD, and $\gamma$ lead to a system of equations for the coordinates of each center. Solving these yields the center of $\gamma_2$ as $C_2 = (1 - a - \sqrt{2 - 2a}, -1 + a + \sqrt{2 - 2a})$ and the center of $\gamma_3$ as $C_3 = (-1 - a + \sqrt{2 + 2a}, -1 - a + \sqrt{2 + 2a})$. The radii are the y-coordinates of the centers.","In the same coordinate system, determine the radius and the coordinates of the center of the incircle $\gamma_1$ of $\triangle ABC$.","The vertices of $\triangle ABC$ are $A=(-1-a,0)$, $B=(1-a,0)$, $C=(0, \sqrt{1-a^2})$. The radius $r_1$ of the incircle $\gamma_1$ is given by the formula Area/semiperimeter. This calculation gives $r_1 = \frac{\sqrt{2+2a}+\sqrt{2-2a}-2}{2}$. The incenter $C_1=(x_1, r_1)$ lies on the angle bisector of $\angle C$, which passes through C and the point $(-a,-1)$. Using the collinearity of these three points, we find the x-coordinate: $x_1 = \frac{\sqrt{2+2a}-\sqrt{2-2a}-2a}{2}$.",Show that the center of circle $\gamma_1$ is the midpoint of the segment connecting the centers of circles $\gamma_2$ and $\gamma_3$.,"We show that $C_1=(x_1, r_1)$ is the midpoint of the segment connecting $C_2=(x_2, r_2)$ and $C_3=(x_3, r_3)$ by averaging their coordinates. The average of the x-coordinates is $\frac{x_2+x_3}{2} = \frac{(1-a-\sqrt{2-2a})+(-1-a+\sqrt{2+2a})}{2} = \frac{-2a+\sqrt{2+2a}-\sqrt{2-2a}}{2}$, which equals $x_1$. The average of the y-coordinates (radii) is $\frac{r_2+r_3}{2} = \frac{(-1+a+\sqrt{2-2a})+(-1-a+\sqrt{2+2a})}{2} = \frac{-2+\sqrt{2+2a}+\sqrt{2-2a}}{2}$, which equals $r_1$. Thus, $C_1$ is the midpoint of the segment $C_2C_3$.","Prove that $\gamma_1, \gamma_2$, and $\gamma_3$ have a second tangent in common.","For three distinct circles all tangent to a line AB on the same side, a second common tangent exists if and only if their centers are collinear. In the previous step, it was shown that the center $C_1$ of circle $\gamma_1$ is the midpoint of the segment connecting the centers $C_2$ and $C_3$ of circles $\gamma_2$ and $\gamma_3$. This implies that the points $C_1, C_2, C_3$ are collinear. Therefore, the three circles $\gamma_1, \gamma_2, \gamma_3$ have a second tangent in common."
1969p5,"Given $n > 4$ points in the plane such that no three are collinear, prove that there are at least $C(n-3, 2) = {n-3 \choose 2} = \frac{(n-3)(n-4)}{2}$ convex quadrilaterals whose vertices are four of the given points.",4,"Given a set of $n>4$ points in the plane with no three collinear, prove that there exist three points A, B, C from the set such that all other $n-3$ points lie inside the angle $\\angle BAC$.","Consider the convex hull of the given $n$ points. Let A be any vertex of the convex hull, and let B and C be the vertices adjacent to A on the convex hull. By the definition of a convex hull, all other $n-3$ points must lie on one side of the line BC and inside the cone formed by extending the segments AB and AC from A. Therefore, all other $n-3$ points lie inside the angle $\\angle BAC$.","Let A, B, C be three non-collinear points, and let D and E be two distinct points lying inside the angle $\\angle BAC$. Prove that among the five points {A, B, C, D, E}, there exists a convex quadrilateral that includes both D and E as vertices.","Consider the line passing through D and E. This line must intersect at least one of the lines AB or AC. A case analysis on where the line DE intersects the lines AB and AC reveals that a convex quadrilateral containing D and E can always be formed with two of the points from {A, B, C}. For instance, if the segment DE intersects both segments AB and AC, then BCED is a convex quadrilateral. If DE intersects segment AB but not segment AC, then ADEC is convex. In all cases, such a quadrilateral exists.","Let A, B, C be three points chosen such that the remaining $n-3$ points (forming a set $S'$) are inside $\\angle BAC$. Show that for each distinct pair of points $\{D, E\} \\subset S'$, we can associate a unique convex quadrilateral.","For any pair $\{D, E\} \\subset S'$, the previous sub-problem guarantees the existence of a convex quadrilateral formed by D, E and two points from {A, B, C}. Let this quadrilateral be $Q_{DE}$. Now, consider a different pair $\{D', E'\} \\subset S'$. The associated quadrilateral $Q_{D'E'}$ will have $\{D', E'\}$ as two of its vertices. Since $\{D, E\} \neq \{D', E'\}$, the set of vertices of $Q_{DE}$ is different from the set of vertices of $Q_{D'E'}$. Therefore, the quadrilaterals are distinct.","Given $n > 4$ points in the plane such that no three are collinear, prove that there are at least $C(n-3, 2) = \binom{n-3}{2}$ convex quadrilaterals whose vertices are four of the given points.","From Sub-problem 1, we can select three points A, B, C such that the remaining $n-3$ points lie inside the angle $\\angle BAC$. The number of ways to choose a pair of distinct points {D, E} from these $n-3$ points is $\binom{n-3}{2}$. From Sub-problem 3, each such pair corresponds to a unique convex quadrilateral constructed from the set {A, B, C, D, E}. Therefore, there are at least $\binom{n-3}{2}$ distinct convex quadrilaterals."
1969p6,"Prove that for all real numbers $x_1, x_2, y_1, y_2, z_1, z_2$, with $x_1 > 0, x_2 > 0, x_1y_1 - z_1^2 > 0, x_2y_2 - z_2^2 > 0$, the inequality \[\frac{8}{(x_1 + x_2)(y_1 + y_2) - (z_1 + z_2)^2} \leq \frac{1}{x_1y_1 - z_1^2} + \frac{1}{x_2y_2 - z_2^2}\] is satisfied. Give necessary and sufficient conditions for equality.",4,"Define the function $F(x, y, z) = \frac{1}{xy - z^2}$. Show that the original inequality is equivalent to $2F\left(\frac{P_1 + P_2}{2}\right) \le F(P_1) + F(P_2)$, where $P_1 = (x_1, y_1, z_1)$ and $P_2 = (x_2, y_2, z_2)$, which is the midpoint form of Jensen's inequality.","Let $P_1=(x_1, y_1, z_1)$ and $P_2=(x_2, y_2, z_2)$. The midpoint is $\frac{P_1+P_2}{2} = (\frac{x_1+x_2}{2}, \frac{y_1+y_2}{2}, \frac{z_1+z_2}{2})$. Evaluating $F$ at the midpoint gives $F\left(\frac{P_1+P_2}{2}\right) = \frac{1}{(\frac{x_1+x_2}{2})(\frac{y_1+y_2}{2}) - (\frac{z_1+z_2}{2})^2} = \frac{4}{(x_1+x_2)(y_1+y_2) - (z_1+z_2)^2}$. The inequality $2F\left(\frac{P_1 + P_2}{2}\right) \le F(P_1) + F(P_2)$ thus becomes $2 \cdot \frac{4}{(x_1+x_2)(y_1+y_2) - (z_1+z_2)^2} \le \frac{1}{x_1y_1-z_1^2} + \frac{1}{x_2y_2-z_2^2}$, which is the original inequality. Proving this inequality is therefore equivalent to proving that $F$ is a convex function.","Prove that the domain of $F(x, y, z)$, defined by $D = \{(x, y, z) \in \mathbb{R}^3 | x > 0, y > 0, xy - z^2 > 0\}$, is a convex set.","Let $P_1=(x_1, y_1, z_1)$ and $P_2=(x_2, y_2, z_2)$ be two points in $D$. For any $t \in (0, 1)$, consider the point $P_t = tP_1 + (1-t)P_2 = (x_t, y_t, z_t)$. Clearly $x_t>0$ and $y_t>0$. We check the third condition: $x_t y_t - z_t^2 = (tx_1+(1-t)x_2)(ty_1+(1-t)y_2) - (tz_1+(1-t)z_2)^2 = t^2(x_1y_1-z_1^2) + (1-t)^2(x_2y_2-z_2^2) + t(1-t)(x_1y_2+x_2y_1-2z_1z_2)$. The first two terms are positive. For the third term, by AM-GM and the domain conditions, $x_1y_2+x_2y_1 \ge 2\sqrt{x_1y_2x_2y_1} = 2\sqrt{x_1y_1}\sqrt{x_2y_2} > 2|z_1||z_2| \ge 2z_1z_2$. Thus $x_1y_2+x_2y_1-2z_1z_2 > 0$. Therefore, $x_t y_t - z_t^2 > 0$, which shows $P_t \in D$ and that the domain $D$ is convex.","Prove that the function $F(x, y, z) = \frac{1}{xy - z^2}$ is strictly convex on its domain by showing its Hessian matrix is positive definite.","The quadratic form associated with the Hessian of $F$ for a vector $v=(a,b,c)$ is $v^T H v = \frac{2}{(xy-z^2)^3} Q(a,b,c)$, where $Q(a,b,c) = a^2y^2+b^2x^2+c^2(xy+3z^2)+ab(xy+z^2)-4acyz-4bcxz$. To show $F$ is strictly convex, we must show $Q(a,b,c) > 0$ for $v \ne 0$. Viewing $Q$ as a quadratic in $c$, its discriminant is $\Delta_c = -4(xy-z^2)[a^2y^2+b^2x^2+ab(xy-3z^2)]$. Since $xy-z^2 > 0$, we need to show the second factor is positive for $(a,b) \ne (0,0)$. Viewing $R(a,b) = a^2y^2+b^2x^2+ab(xy-3z^2)$ as a quadratic in $a$, its discriminant is $\Delta_a = b^2(xy-3z^2)^2 - 4y^2(b^2x^2) = -3b^2(xy-z^2)(xy+3z^2) \le 0$. This implies $R(a,b) \ge 0$, with equality only if $a=b=0$. This in turn makes $\Delta_c \le 0$, with equality only if $a=b=0$. So $Q(a,b,c) \ge 0$, and is zero only if $a=b=c=0$. Thus, the Hessian is positive definite and $F$ is strictly convex.","Prove that for all real numbers $x_1, x_2, y_1, y_2, z_1, z_2$, with $x_1 > 0, x_2 > 0, x_1y_1 - z_1^2 > 0, x_2y_2 - z_2^2 > 0$, the inequality \[\frac{8}{(x_1 + x_2)(y_1 + y_2) - (z_1 + z_2)^2} \leq \frac{1}{x_1y_1 - z_1^2} + \frac{1}{x_2y_2 - z_2^2}\] is satisfied. Give necessary and sufficient conditions for equality.","From Sub-problem 1, the inequality is equivalent to Jensen's inequality for the midpoint, $F\left(\frac{P_1 + P_2}{2}\right) \le \frac{F(P_1) + F(P_2)}{2}$, for the function $F(x, y, z) = \frac{1}{xy - z^2}$ on its domain $D$. From Sub-problem 2, $D$ is a convex set. From Sub-problem 3, $F$ is a strictly convex function on $D$. By the definition of strict convexity, for any two points $P_1, P_2 \in D$, and $t \in (0,1)$, we have $F(tP_1 + (1-t)P_2) \le tF(P_1) + (1-t)F(P_2)$, with equality if and only if $P_1=P_2$. Choosing $t=1/2$ gives the desired inequality. The equality holds if and only if $P_1 = P_2$, which means $x_1=x_2$, $y_1=y_2$, and $z_1=z_2$."
1968p1,"Prove that there is one and only one triangle whose side lengths are consecutive integers, and one of whose angles is twice as large as another.",4,"Let a triangle have side lengths that are consecutive integers $x, x+1, x+2$ and angles $\alpha, 2\alpha, \pi-3\alpha$. Use the Law of Sines to establish the possible systems of equations relating $x$ and $\cos \alpha$.","The sides $x, x+1, x+2$ must be opposite angles whose sines are in non-decreasing order. As $\sin \alpha < \sin 2\alpha$ for any valid triangle angle $\alpha$, there are three possible pairings of sides and angles. Using the Law of Sines and trigonometric identities $\sin(2\theta)=2\sin\theta\cos\theta$ and $\sin(3\theta)=\sin\theta(4\cos^2\theta-1)$, these three cases simplify to systems of equations in $x$ and $\cos\alpha$:
1. $\frac{x}{\sin \alpha} = \frac{x+1}{\sin 2\alpha} = \frac{x+2}{\sin(3\alpha)} \implies x = \frac{x+1}{2\cos\alpha} = \frac{x+2}{4\cos^2\alpha - 1}$
2. $\frac{x}{\sin \alpha} = \frac{x+1}{\sin(3\alpha)} = \frac{x+2}{\sin 2\alpha} \implies x = \frac{x+2}{2\cos\alpha} = \frac{x+1}{4\cos^2\alpha - 1}$
3. $\frac{x}{\sin(3\alpha)} = \frac{x+1}{\sin \alpha} = \frac{x+2}{\sin 2\alpha} \implies \frac{x}{4\cos^2\alpha - 1} = x+1 = \frac{x+2}{2\cos\alpha}$","Analyze the case where the sides $x, x+1, x+2$ are opposite the angles $\alpha, 2\alpha, \pi-3\alpha$ respectively. Show that this case yields no valid triangle.","From the system $x = \frac{x+1}{2\cos\alpha}$ and $x = \frac{x+2}{4\cos^2\alpha - 1}$, we first solve for $x$ in terms of $\cos\alpha$ from the first equation: $x = \frac{1}{2\cos\alpha - 1}$. Substituting this into the second equation and simplifying yields $4\cos^2\alpha - 4\cos\alpha = 0$. The solutions are $\cos\alpha=0$ or $\cos\alpha=1$. Neither is possible for an angle $\alpha$ in a triangle (as $\alpha$ must be in $(0, \pi)$), so this case yields no solutions.","Analyze the two remaining cases: (i) sides $x, x+1, x+2$ are opposite angles $\alpha, \pi-3\alpha, 2\alpha$; (ii) sides $x, x+1, x+2$ are opposite angles $\pi-3\alpha, \alpha, 2\alpha$. Find all possible triangles that satisfy these conditions and determine which have integer side lengths.","Case (i): The system is $x = \frac{x+2}{2\cos\alpha}$ and $x = \frac{x+1}{4\cos^2\alpha - 1}$. Solving this leads to the quadratic equation $8\cos^2\alpha - 2\cos\alpha - 3 = 0$, with valid solution $\cos\alpha = 3/4$. This gives $x = 4$. The side lengths are the integers 4, 5, 6.
Case (ii): The system is $x+1 = \frac{x+2}{2\cos\alpha}$ and $x+1 = \frac{x}{4\cos^2\alpha - 1}$. Solving this leads to $4\cos^2\alpha + 2\cos\alpha - 3 = 0$, with valid solution $\cos\alpha = \frac{-1+\sqrt{13}}{4}$. This gives $x = \frac{\sqrt{13}+1}{2}$, which is not an integer.","Prove that there is one and only one triangle whose side lengths are consecutive integers, and one of whose angles is twice as large as another.","The problem requires finding a triangle with integer side lengths $x, x+1, x+2$ and angles including $\alpha$ and $2\alpha$. An exhaustive analysis of the three possible arrangements of sides and angles was conducted. The first case yielded no solution. The second case yielded a unique triangle with integer side lengths 4, 5, and 6. The third case yielded a triangle with non-integer side lengths. Therefore, the triangle with sides 4, 5, and 6 is the one and only triangle satisfying the given conditions."
1968p4,Prove that in every tetrahedron there is a vertex such that the three edges meeting there have lengths which are the sides of a triangle.,2,"Let $a$ be an edge of maximum length in a tetrahedron. Let the two faces containing edge $a$ have edge lengths $\{a, b, c\}$ and $\{a, e, f\}$, where $b, f$ and $c, e$ are the other edges incident at the two vertices of edge $a$ respectively. Prove that either $b+f > a$ or $c+e > a$.","The edges $\{a, b, c\}$ and $\{a, e, f\}$ each form a face of the tetrahedron, so the triangle inequality must hold for each set. This gives us $b+c > a$ and $e+f > a$. We want to show that it is not possible for both $b+f \le a$ and $c+e \le a$ to be true. Assume for argument that $b+f \le a$. From the second face inequality, we have $e+f > a$. Combining these, we get $e+f > a \ge b+f$, which implies $e > b$. Now, using the first face inequality $b+c > a$, since $e>b$, it follows that $c+e > c+b > a$. Thus, the assumption $b+f \le a$ leads to the conclusion $c+e > a$. Therefore, at least one of the statements ($b+f > a$ or $c+e > a$) must be true.",Prove that in every tetrahedron there is a vertex such that the three edges meeting there have lengths which are the sides of a triangle.,"Let $a$ be an edge of maximum length in the tetrahedron. Let the two vertices of edge $a$ be $V_1$ and $V_2$. Let the other edges incident at $V_1$ be $c$ and $e$, and at $V_2$ be $b$ and $f$. The faces containing $a$ are thus $\{a,b,c\}$ and $\{a,e,f\}$. From the result of the previous sub-problem, we know that either $b+f > a$ or $c+e > a$. \nCase 1: $b+f > a$. The edges meeting at vertex $V_2$ are $a, b, f$. Since $a$ is the longest edge, $a+b>f$ and $a+f>b$ are guaranteed. Combined with $b+f>a$, the three triangle inequalities hold, so these edges form a triangle. \nCase 2: $c+e > a$. The edges meeting at vertex $V_1$ are $a, c, e$. Since $a$ is the longest edge, $a+c>e$ and $a+e>c$ are guaranteed. Combined with $c+e>a$, these edges form a triangle. \nIn either case, a vertex with the required property exists.",,,,
1967p1,"Let $ABCD$ be a parallelogram with side lengths $AB = a$, $AD = 1$, and with $\angle BAD = \alpha$. If $\Delta ABD$ is acute, prove that the four circles of radius $1$ with centers $A$, $B$, $C$, $D$ cover the parallelogram if and only if

$a\leq \cos \alpha+\sqrt{3}\sin \alpha$",4,"Show that the four unit circles centered at the vertices of parallelogram $ABCD$ cover the parallelogram if and only if the three unit circles centered at $A$, $B$, $D$ cover the triangle $\Delta ABD$.","The parallelogram $ABCD$ is the union of two congruent triangles, $\Delta ABD$ and $\Delta CDB$. Due to the symmetry of the parallelogram, the condition for the circles centered at $A, B, D$ to cover $\Delta ABD$ is identical to the condition for the circles centered at $C, D, B$ to cover $\Delta CDB$. The union of these two sets of circles covers the entire parallelogram. Therefore, the parallelogram is covered if and only if $\Delta ABD$ is covered by the circles at its vertices.","Let $F$ be the intersection point of the unit circles centered at $A$ and $B$ (such that $F$ and $D$ are on the same side of line $AB$). Show that the three unit circles centered at $A, B, D$ cover $\Delta ABD$ if and only if $DF \le 1$.","The union of the disks centered at $A$ and $B$ covers all points in $\Delta ABD$ except possibly for a region near the vertex $D$. The point $F$ is on the boundary of the region covered by the first two circles. For the entire triangle to be covered, this point must also be covered by the third circle centered at $D$. Thus, the necessary and sufficient condition for the three circles to cover $\Delta ABD$ is that $F$ is within the circle centered at $D$, which is expressed as $DF \le 1$.","Using a coordinate system with $A=(0,0)$, $B=(a,0)$, and $D=(\cos\alpha, \sin\alpha)$, show that the condition $DF \le 1$ is equivalent to the inequality $\sqrt{4-a^2}\sin\alpha \ge 1-a\cos\alpha$.","The coordinates of $F$, the intersection of circles $x^2+y^2=1$ and $(x-a)^2+y^2=1$, are $(a/2, \sqrt{1 - (a/2)^2}) = (a/2, \frac{\sqrt{4-a^2}}{2})$. The squared distance is $DF^2 = (a/2 - \cos\alpha)^2 + (\frac{\sqrt{4-a^2}}{2} - \sin\alpha)^2$. The condition $DF^2 \le 1$ expands and simplifies to $2 - a\cos\alpha - \sqrt{4-a^2}\sin\alpha \le 1$. This rearranges to $\sqrt{4-a^2}\sin\alpha \ge 1-a\cos\alpha$.","Let $ABCD$ be a parallelogram with side lengths $AB = a$, $AD = 1$, and with $\angle BAD = \alpha$. If $\Delta ABD$ is acute, prove that the four circles of radius $1$ with centers $A$, $B$, $C$, $D$ cover the parallelogram if and only if $a\leq \cos \alpha+\sqrt{3}\sin \alpha$.","From the previous steps, the coverage condition is $\sqrt{4-a^2}\sin\alpha \ge 1-a\cos\alpha$. Since $\Delta ABD$ is acute, its angles are less than $\pi/2$, which implies $1-a\cos\alpha > 0$. We can square both sides to get $(4-a^2)\sin^2\alpha \ge (1-a\cos\alpha)^2$. This simplifies to the quadratic inequality $a^2 - 2a\cos\alpha + (1-4\sin^2\alpha) \le 0$. The roots of the corresponding quadratic equation are $a = \cos\alpha \pm \sqrt{3}\sin\alpha$. The inequality holds for $a$ between the roots: $\cos\alpha - \sqrt{3}\sin\alpha \le a \le \cos\alpha + \sqrt{3}\sin\alpha$. The lower bound is satisfied for $a>1$ (the case $a\le 1$ is trivial), as $\cos\alpha - \sqrt{3}\sin\alpha < 1$. Thus, the condition reduces to $a \le \cos\alpha + \sqrt{3}\sin\alpha$."
1967p3,"Let $k, m, n$ be natural numbers such that $m+k+1$ is a prime greater than $n+1.$ Let $c_s=s(s+1).$ Prove that the product \[(c_{m+1}-c_k)(c_{m+2}-c_k)\cdots (c_{m+n}-c_k)\] is divisible by the product $c_1c_2\cdots c_n$.",3,"Let $P = \prod_{i=1}^{n} (c_{m+i}-c_k)$ and $D = \prod_{j=1}^{n} c_j$, where $c_s = s(s+1)$. Express $P$ and $D$ as products of linear factors and factorials.","Using the identity $c_a - c_b = a(a+1) - b(b+1) = (a-b)(a+b+1)$, the product $P$ can be factored as $P = \left(\prod_{i=1}^{n} (m+i-k)\right) \left(\prod_{i=1}^{n} (m+k+i+1)\right)$. The divisor $D$ can be factored as $D = \prod_{j=1}^{n} j(j+1) = \left(\prod_{j=1}^{n} j\right) \left(\prod_{j=1}^{n} (j+1)\right) = n! \cdot (n+1)!$.","Let $P_1 = \prod_{i=1}^{n} (m+k+i+1)$. Show that $P_1$ is divisible by $(n+1)!$, given that $m+k+1$ is a prime greater than $n+1$.","Consider the product $(m+k+1)P_1 = \prod_{i=0}^{n} (m+k+i+1)$. This is a product of $n+1$ consecutive integers, so it is divisible by $(n+1)!$. We are given that $p=m+k+1$ is a prime and $p > n+1$. This implies that $p$ shares no prime factors with $(n+1)!$, so $\gcd(m+k+1, (n+1)!) = 1$. Since $(n+1)!$ divides the product $(m+k+1)P_1$ and is coprime to the factor $m+k+1$, by Euclid's Lemma, $(n+1)!$ must divide the other factor $P_1$.","Let $k, m, n$ be natural numbers such that $m+k+1$ is a prime greater than $n+1.$ Let $c_s=s(s+1).$ Prove that the product $(c_{m+1}-c_k)(c_{m+2}-c_k)\cdots (c_{m+n}-c_k)$ is divisible by the product $c_1c_2\cdots c_n$.","Let the dividend be $P$ and the divisor be $D$. If a factor $(c_{m+i}-c_k)$ is zero, then $P=0$ and the statement holds. Otherwise, from sub-problem 1, we write $P = P_1 P_2$ where $P_1 = \prod_{i=1}^{n} (m+k+i+1)$ and $P_2 = \prod_{i=1}^{n} (m+i-k)$, and $D = n!(n+1)!$. From sub-problem 2, $P_1$ is divisible by $(n+1)!$. The product $P_2$ is a product of $n$ consecutive integers (up to ordering and sign), and any such product is divisible by $n!$. Since $(n+1)!$ divides $P_1$ and $n!$ divides $P_2$, their product $P = P_1 P_2$ is divisible by $n!(n+1)! = D$.",,
1966p2,"et $a$, $b$, and $c$ be the lengths of the sides of a triangle, and $\alpha,\beta,\gamma$ respectively, the angles opposite these sides. Prove that if

\[a+b=\tan{\frac{\gamma}{2}}(a\tan{\alpha}+b\tan{\beta}),\]

the triangle is isosceles.",4,Show that the given condition $a+b=\tan{\frac{\gamma}{2}}(a\tan{\alpha}+b\tan{\beta})$ is equivalent to the relation $(a+b)\tan\frac{\alpha+\beta}{2} = a\tan\alpha+b\tan\beta$.,"In a triangle, $\alpha+\beta+\gamma = \pi$, so $\frac{\gamma}{2} = \frac{\pi}{2} - \frac{\alpha+\beta}{2}$. Using the identity $\tan(\frac{\pi}{2} - x) = \cot x = 1/\tan x$, we get $\tan\frac{\gamma}{2} = 1/\tan\frac{\alpha+\beta}{2}$. Substituting this into the given equation yields $a+b = \frac{1}{\tan\frac{\alpha+\beta}{2}}(a\tan\alpha+b\tan\beta)$. Multiplying by $\tan\frac{\alpha+\beta}{2}$ gives the desired equivalent relation.","Using the relation from the previous step, prove that both angles $\alpha$ and $\beta$ must be acute.","In any triangle, at least two angles are acute. Assume $\alpha < \pi/2$. Suppose for contradiction that $\beta \ge \pi/2$. This implies $a < b$. The relation can be written as $b\tan\beta = (a+b)\tan\frac{\alpha+\beta}{2} - a\tan\alpha$. An inequality analysis shows that the right hand side is positive, which implies $b\tan\beta > 0$ and thus $\tan\beta > 0$. However, for a triangle angle $\beta \in [\pi/2, \pi)$, we must have $\tan\beta \le 0$. This is a contradiction, so $\beta$ must be acute.","Prove that the function $f(x) = \sin x \tan x$ is strictly convex on the interval $(0, \pi/2)$.","We compute the second derivative of $f(x)$. The first derivative is $f'(x) = \sin x + \frac{\sin x}{\cos^2 x}$. The second derivative is $f''(x) = \frac{\cos^4 x - \cos^2 x + 2}{\cos^3 x}$. For $x \in (0, \pi/2)$, the denominator $\cos^3 x$ is positive. The numerator, as a quadratic in $\cos^2 x$, is always positive. Therefore, $f''(x) > 0$ on $(0, \pi/2)$, which proves that $f(x)$ is strictly convex on this interval.","Prove that if $a+b=\tan{\frac{\gamma}{2}}(a\tan{\alpha}+b\tan{\beta})$, the triangle is isosceles.","From Part 1, the condition is $(a+b)\tan\frac{\alpha+\beta}{2} = a\tan\alpha+b\tan\beta$. By the Law of Sines, $a=k\sin\alpha, b=k\sin\beta$, so $(\sin\alpha+\sin\beta)\tan\frac{\alpha+\beta}{2} = \sin\alpha\tan\alpha+\sin\beta\tan\beta$. Let $f(x)=\sin x\tan x$. The equation becomes $2f(\frac{\alpha+\beta}{2})\cos\frac{\alpha-\beta}{2} = f(\alpha)+f(\beta)$. By Part 2, $\alpha,\beta \in (0,\pi/2)$. By Part 3, $f$ is strictly convex. Jensen's inequality states $\frac{f(\alpha)+f(\beta)}{2} \ge f(\frac{\alpha+\beta}{2})$. This implies $f(\alpha)+f(\beta) \ge 2f(\frac{\alpha+\beta}{2})$. Combining with our equation gives $2f(\frac{\alpha+\beta}{2})\cos\frac{\alpha-\beta}{2} \ge 2f(\frac{\alpha+\beta}{2})$. Since $f(x)>0$ for $x \in (0, \pi/2)$, we get $\cos\frac{\alpha-\beta}{2} \ge 1$. As $\cos x \le 1$, we must have $\cos\frac{\alpha-\beta}{2}=1$, which implies $\alpha=\beta$. Therefore, the triangle is isosceles."
1966p3,Prove that the sum of the distances of the vertices of a regular tetrahedron from the center of its circumscribed sphere is less than the sum of the distances of these vertices from any other point in space.,4,"Prove that for an equilateral triangle, the sum of the distances from its vertices to its circumcenter is less than the sum of the distances from its vertices to any other point in its plane.","Let the vertices be A, B, C and the circumcenter be O. For any point P outside the triangle, its projection onto the triangle's convex hull gives a smaller sum of distances. For any point P on the boundary, the sum is greater than at O. For an interior point P, an argument using an ellipse with foci A and B shows that if P is a minimum, the line PC must be perpendicular to AB (and similarly for other pairs). This property uniquely defines the circumcenter O.","Let S(P) be the sum of distances from the vertices of a regular tetrahedron to a point P. Show that for any point P outside the tetrahedron, there exists a point P1 on the boundary such that S(P) > S(P1).","If P is a point outside the tetrahedron, a point P1 on its boundary can be found such that the sum of distances is smaller. This point P1 is found by considering the region P lies in and projecting P onto the corresponding part of the tetrahedron's boundary (a face, edge, or vertex). The triangle inequality on the right or obtuse triangles formed by P, P1, and a vertex guarantees that the sum of distances decreases.","Let S(P) be the sum of distances from the vertices of a regular tetrahedron to a point P, and O be its circumcenter. Show that for any point P on the boundary of the tetrahedron, S(P) > S(O).","For any point P on the boundary, we show the sum of distances S(P) is greater than at the circumcenter O. If P is a vertex, direct calculation confirms this. If P is on an edge, the sum is minimized at the edge's midpoint, which is still greater than S(O) by calculation. If P is on a face (an equilateral triangle), the sum of distances to the three vertices of that face is minimized when P is the face's circumcenter (from Sub-problem 1), and a calculation for this point shows the total sum S(P) is greater than S(O).",Prove that the sum of the distances of the vertices of a regular tetrahedron from the center of its circumscribed sphere is less than the sum of the distances of these vertices from any other point in space.,"From sub-problems 2 and 3, the point P that minimizes the sum of distances must be in the interior of the tetrahedron. For such an interior point P to be a minimum, it must lie on the plane containing any edge (e.g., CD) and perpendicular to the opposite edge (AB). This is proven by contradiction using an ellipsoid with foci A and B. Since P must lie on all six such planes, it must be their unique intersection point, which is the circumcenter O. Thus, O is the unique point of minimum."
1966p4,"Prove that for every natural number $n$, and for every real number $x \neq \frac{k\pi}{2^t}$ ($t=0,1, \dots, n$; $k$ any integer) \[\frac{1}{\sin{2x}}+\frac{1}{\sin{4x}}+\dots+\frac{1}{\sin{2^nx}}=\cot{x}-\cot{2^nx}\]",1,"Prove that for every natural number $n$, and for every real number $x \neq \frac{k\pi}{2^t}$ ($t=0,1, \dots, n$; $k$ any integer) \[\frac{1}{\sin{2x}}+\frac{1}{\sin{4x}}+\dots+\frac{1}{\sin{2^nx}}=\cot{x}-\cot{2^nx}\]","First, we prove $\cot \theta - \cot 2\theta = \frac {1}{\sin 2\theta}$.

LHS$\ =\ \frac{\cos \theta}{\sin \theta}-\frac{\cos 2\theta}{\sin 2\theta}$

$= \frac{2\cos^2 \theta}{2\cos \theta \sin \theta}-\frac{2\cos^2 \theta -1}{\sin 2\theta}$

$=\frac{2\cos^2 \theta}{\sin 2\theta}-\frac{2\cos^2 \theta -1}{\sin 2\theta}$

$=\frac {1}{\sin 2\theta}$

Using the above formula, we can rewrite the original series as

$\cot x - \cot 2x + \cot 2x - \cot 4x + \cot 4x + \dots + \cot 2^{n-1} x - \cot 2^n x$.

Which gives us the desired answer of $\cot x - \cot 2^n x$.",,,,,,
1966p6,"In the interior of sides $BC, CA, AB$ of triangle $ABC$, any points $K, L,M$, respectively, are selected. Prove that the area of at least one of the triangles $AML, BKM, CLK$ is less than or equal to one quarter of the area of triangle $ABC$.",3,"Let S denote the area of triangle ABC. Let the points M, K, L be defined by the ratios x = AM/AB, y = BK/BC, and z = CL/CA, where x, y, z are in (0, 1). Express the areas of triangles AML, BKM, and CLK in terms of S and the ratios x, y, z.","Using the sine formula for triangle area, area(AML) = (1/2) * AM * AL * sin(A) = (1/2) * (x * AB) * ((1-z) * AC) * sin(A) = x(1-z) * ((1/2) * AB * AC * sin(A)) = x(1-z)S. Similarly, area(BKM) = y(1-x)S and area(CLK) = z(1-y)S.","Let x, y, z be real numbers in (0, 1). Prove that if y(1-x) > 1/4 and z(1-y) > 1/4, then z > (1-x)/(3-4x).","From y(1-x) > 1/4, we have y > 1/(4(1-x)). Since y < 1, it follows that 1 > 1/(4(1-x)), which implies 4(1-x) > 1, so 3-4x > 0. From z(1-y) > 1/4, we have z > 1/(4(1-y)). Using the first inequality, 1-y < 1 - 1/(4(1-x)) = (3-4x)/(4(1-x)). Since both sides are positive, taking reciprocals reverses the inequality: 1/(1-y) > 4(1-x)/(3-4x). Therefore, z > 1/(4(1-y)) > (1/4) * 4(1-x)/(3-4x) = (1-x)/(3-4x).","In the interior of sides BC, CA, AB of triangle ABC, any points K, L,M, respectively, are selected. Prove that the area of at least one of the triangles AML, BKM, CLK is less than or equal to one quarter of the area of triangle ABC.","Let the ratios x, y, z be as in sub-problem 1. The problem is equivalent to showing that at least one of x(1-z), y(1-x), z(1-y) is 鈮?1/4. Assume for contradiction that all three products are > 1/4. If y(1-x) > 1/4 and z(1-y) > 1/4, then from sub-problem 2, we have z > (1-x)/(3-4x). This implies 1-z < 1 - (1-x)/(3-4x) = (2-3x)/(3-4x). Thus, x(1-z) < x(2-3x)/(3-4x). The inequality x(2-3x)/(3-4x) 鈮?1/4 is equivalent to 4x(2-3x) 鈮?3-4x (as 3-4x > 0 from sub-problem 2), which simplifies to 0 鈮?12x^2 - 12x + 3 = 3(2x-1)^2. This is always true. So, the assumptions y(1-x)>1/4 and z(1-y)>1/4 lead to x(1-z) 鈮?1/4, which contradicts our initial assumption. Hence, at least one of the products must be 鈮?1/4.",,
1965p2,"Consider the system of equations \[a_{11}x_1 + a_{12}x_2 + a_{13}x_3 = 0\]\[a_{21}x_1 + a_{22}x_2 + a_{23}x_3 = 0\]\[a_{31}x_1 + a_{32}x_2 + a_{33}x_3 = 0\] with unknowns $x_1$, $x_2$, $x_3$. The coefficients satisfy the conditions:

(a) $a_{11}$, $a_{22}$, $a_{33}$ are positive numbers;

(b) the remaining coefficients are negative numbers;

(c) in each equation, the sum of the coefficients is positive.

Prove that the given system has only the solution $x_1 = x_2 = x_3 = 0$.",3,"Prove that if the system has a non-trivial solution $(x_1, x_2, x_3)$, then all components must be non-zero and have the same sign.","Assume a non-trivial solution exists. First, suppose one component is zero, say $x_1=0$. The system includes $a_{22}x_2+a_{23}x_3=0$ and $a_{12}x_2+a_{13}x_3=0$. From the first, since $a_{22}>0$ and $a_{23}<0$, any non-zero $x_2, x_3$ must have the same sign. From the second, since $a_{12}<0$ and $a_{13}<0$, any non-zero $x_2, x_3$ must have opposite signs. This contradiction implies $x_2=x_3=0$. Thus, if one component is zero, all are zero. A non-trivial solution must therefore have all non-zero components. Next, assume the components do not all have the same sign. There are two cases (up to permutation of indices): (1) two positive, one negative, e.g., $x_1,x_2 > 0$ and $x_3 < 0$. The third equation is $a_{31}x_1+a_{32}x_2+a_{33}x_3=0$. Since $a_{31}<0, a_{32}<0, a_{33}>0$, every term is negative. Their sum cannot be zero, a contradiction. (2) one positive, two negative, e.g., $x_1 > 0$ and $x_2,x_3 < 0$. The first equation is $a_{11}x_1+a_{12}x_2+a_{13}x_3=0$. Since $a_{11}>0, a_{12}<0, a_{13}<0$, every term is positive. Their sum cannot be zero, a contradiction. Therefore, all components must have the same sign.","Prove that the system has no solution where all components $x_1, x_2, x_3$ are positive.","Assume for contradiction that a solution with $x_1, x_2, x_3 > 0$ exists. Without loss of generality, order the components such that $x_1 \le x_2 \le x_3$. Consider the third equation, $a_{31}x_1 + a_{32}x_2 + a_{33}x_3 = 0$. This can be rewritten as $x_2(a_{31} + a_{32} + a_{33}) + a_{31}(x_1 - x_2) + a_{33}(x_3 - x_2) = 0$. By condition (c), $(a_{31}+a_{32}+a_{33}) > 0$, so the first term is positive. The second term $a_{31}(x_1-x_2)$ is non-negative since $a_{31}<0$ and $x_1-x_2 \le 0$. The third term $a_{33}(x_3-x_2)$ is non-negative since $a_{33}>0$ and $x_3-x_2 \ge 0$. The sum of a positive number and two non-negative numbers must be positive and cannot be zero. This is a contradiction, so no solution with all positive components can exist.",Prove that the given system has only the solution $x_1 = x_2 = x_3 = 0$.,"Assume for contradiction that a non-trivial solution $(x_1, x_2, x_3)$ exists. From the first sub-problem, all components must be non-zero and have the same sign. This leaves two cases. Case 1: All components $x_1, x_2, x_3$ are positive. This case was shown to be impossible in the second sub-problem. Case 2: All components $x_1, x_2, x_3$ are negative. Let $y_i = -x_i$ for $i=1,2,3$. Then all $y_i$ are positive. Substituting $x_i = -y_i$ into the original system gives $\sum_j a_{ij}(-y_j) = 0$, which simplifies to the same system $\sum_j a_{ij}y_j = 0$. This would constitute a solution with all components positive, which was proven impossible in the second sub-problem. Since all possibilities for a non-trivial solution lead to a contradiction, no non-trivial solution exists. Therefore, the only solution is $x_1 = x_2 = x_3 = 0$.",,
1965p6,In a plane a set of $n$ points ($n\geq 3$) is given. Each pair of points is connected by a segment. Let $d$ be the length of the longest of these segments. We define a diameter of the set to be any connecting segment of length $d$. Prove that the number of diameters of the given set is at most $n$.,4,"An 'equilateral arc triangle' is a region bounded by three circular arcs connecting the vertices of an equilateral triangle $\triangle ABC$ of side length $d$, where each arc is on a circle of radius $d$ centered at the opposite vertex. Prove that a set of $n$ points consisting of the three vertices $A, B, C$ and $n-3$ other points on the boundary arcs has exactly $n$ diameters.","Let the vertices be $A, B, C$. By construction, the distance from a vertex to any point on the opposite arc is $d$. The distance between any other pair of points in the set (e.g., two non-vertices, or a vertex and a point on an adjacent arc) is strictly less than $d$. The diameters are therefore the three segments $AB, BC, CA$, plus for each of the $n-3$ points on the arcs, the single segment connecting it to the unique vertex opposite the arc it lies on. This gives a total of $3 + (n-3) = n$ diameters.","Prove that if a set of 3 points in a plane has 3 diameters, the points must form an equilateral triangle of side length $d$, where $d$ is the diameter length.","Let the points be $P_1, P_2, P_3$. A diameter is a segment of maximal length $d$. If the set has 3 diameters, the segments $P_1P_2, P_2P_3, P_3P_1$ must all be diameters. Therefore, their lengths are all equal to $d$. A triangle with three equal sides is an equilateral triangle. This forms the base case ($n=3$) for the characterization of point sets with $n$ diameters.","Assume that any set of $k$ points with exactly $k$ diameters must lie on an 'equilateral arc triangle' (3 as vertices, $k-3$ on the boundary). Now, consider a set of $k+1$ points with $k+1$ diameters, and assume a subset of $k$ of these points has exactly $k$ diameters. Prove that the $(k+1)$-th point must also lie on the boundary of the equilateral arc triangle defined by the subset.","Let the $k$ points of the subset lie on an equilateral arc triangle $T$ of diameter $d$. Let the $(k+1)$-th point be $Q$. If $Q$ were outside $T$, its distance to at least one vertex of $T$ would be greater than $d$, contradicting that $d$ is the maximum length. If $Q$ were in the interior of $T$, its distances to all other $k$ points would be less than $d$, so no new diameter involving $Q$ could be formed. This would mean the set of $k+1$ points has only $k$ diameters, a contradiction. Therefore, $Q$ must lie on the boundary of $T$.",In a plane a set of $n$ points ($n\geq 3$) is given. Each pair of points is connected by a segment. Let $d$ be the length of the longest of these segments. We define a diameter of the set to be any connecting segment of length $d$. Prove that the number of diameters of the given set is at most $n$.,"We prove by contradiction. Assume a set of $n$ points has $m > n$ diameters. Consider the subgraph formed by these $n$ points and any $n$ of their diameters. Based on the previous sub-problems, a set of $n$ points with exactly $n$ diameters must be arranged on an equilateral arc triangle. In this specific geometric configuration, we have established that there are exactly $n$ segments of length $d$. All other segments between pairs of points are strictly shorter than $d$. This contradicts the existence of an $(n+1)$-th diameter. Therefore, the assumption is false, and the number of diameters is at most $n$."
1964p2,"Suppose $a, b, c$ are the sides of a triangle. Prove that

\[a^2(b+c-a)+b^2(c+a-b)+c^2(a+b-c)\le{3abc}.\]",2,"Suppose $a, b, c$ are the sides of a triangle. Prove that $(b+c-a)(c+a-b)(a+b-c) \le abc$.","Let $x = b+c-a$, $y = c+a-b$, and $z = a+b-c$. Since $a, b, c$ are sides of a triangle, $x, y, z$ are all positive. We can express $a, b, c$ in terms of $x, y, z$: $a = \frac{y+z}{2}$, $b = \frac{x+z}{2}$, and $c = \frac{x+y}{2}$. By the AM-GM inequality, we have $\frac{y+z}{2} \ge \sqrt{yz}$, $\frac{x+z}{2} \ge \sqrt{xz}$, and $\frac{x+y}{2} \ge \sqrt{xy}$. Multiplying these three inequalities gives $(\frac{y+z}{2})(\frac{x+z}{2})(\frac{x+y}{2}) \ge \sqrt{y^2z^2x^2} = xyz$. Substituting back the expressions for $a, b, c$ and $x, y, z$, we get $abc \ge (b+c-a)(c+a-b)(a+b-c)$.","Suppose $a, b, c$ are the sides of a triangle. Prove that $a^2(b+c-a)+b^2(c+a-b)+c^2(a+b-c)\le{3abc}$.","Let the left-hand side be LHS. By expansion, we can verify the algebraic identity $a^2(b+c-a)+b^2(c+a-b)+c^2(a+b-c) = (b+c-a)(c+a-b)(a+b-c) + 2abc$. From the result of the previous sub-problem, we have the inequality $(b+c-a)(c+a-b)(a+b-c) \le abc$. Substituting this into our identity, we get $LHS \le abc + 2abc$, which simplifies to $LHS \le 3abc$. This completes the proof.",,,,
1964p4,Seventeen people correspond by mail with one another - each one with all the rest. In their letters only three different topics are discussed. Each pair of correspondents deals with only one of these topics. Prove that there are at least three people who write to each other about the same topic.,3,Show that the problem of 17 people and 3 topics is equivalent to proving that any complete graph K_17 whose edges are colored with 3 colors must contain a monochromatic triangle.,"Represent the 17 people as vertices in a complete graph K_17. The three topics correspond to three colors. Since each pair of people discusses exactly one topic, the edge connecting the corresponding pair of vertices is colored with the color of their topic. A group of three people writing to each other about the same topic corresponds to a set of three vertices where the three edges connecting them all have the same color, which is a monochromatic triangle.",Prove that any 2-coloring of the edges of a complete graph on 6 vertices (K_6) contains a monochromatic triangle.,"Select an arbitrary vertex v in K_6. It is connected to 5 other vertices. By the Pigeonhole Principle, at least 3 of these edges must have the same color, say red. Let these edges connect v to vertices x, y, and z. If any of the edges (x,y), (y,z), or (z,x) are red, then a red triangle is formed with v. If none of these edges are red, they must all be the other color, say blue, forming a blue triangle (x,y,z). Thus, a monochromatic triangle must exist.",Seventeen people correspond by mail with one another - each one with all the rest. In their letters only three different topics are discussed. Each pair of correspondents deals with only one of these topics. Prove that there are at least three people who write to each other about the same topic.,"Using the model from the first sub-problem, we must find a monochromatic triangle in a 3-colored K_17. Select an arbitrary vertex v. It has 16 edges to the other vertices. By the Pigeonhole Principle, at least ceil(16/3) = 6 of these edges must have the same color, say C1. Let S be the set of 6 vertices connected to v by edges of color C1. Consider the K_6 subgraph on the vertices in S. If any edge in this K_6 is colored C1, it forms a C1-colored triangle with v. If no edge in this K_6 is colored C1, then its edges are colored with the remaining 2 colors. By the result of the second sub-problem, this 2-colored K_6 must contain a monochromatic triangle. Therefore, a monochromatic triangle is always present.",,
1963p3,"In an $n$-gon all of whose interior angles are equal, the lengths of consecutive sides satisfy the relation

$a_1\ge a_2\ge \cdots \ge a_n$.
Prove that $a_1=a_2=\cdots = a_n$.",3,"For an $n$-gon ($n$ even) with equal interior angles and side lengths satisfying $a_1 \ge a_2 \ge \cdots \ge a_n$, prove that $a_k = a_{k+n/2}$ for $k=1, \dots, n/2$.","Place the polygon on a Cartesian plane with side $a_1$ on the x-axis. The y-coordinate of the topmost side ($p_{n/2+1}p_{n/2+2}$) can be computed in two ways. Summing the vertical displacements of sides $a_1, \dots, a_{n/2}$ gives $\sum_{k=1}^{n/2}a_k \sin \frac{2\pi(k-1)}{n}$. Summing the displacements of sides $a_{n/2+1}, \dots, a_n$ and taking the negative, then using trigonometric identities, gives $\sum_{k=1}^{n/2}a_{k+n/2} \sin \frac{2\pi(k-1)}{n}$. Equating the two expressions yields $\sum_{k=1}^{n/2}(a_k - a_{k+n/2}) \sin \frac{2\pi(k-1)}{n} = 0$. Given $a_k \ge a_{k+n/2}$ and $\sin \frac{2\pi(k-1)}{n} \ge 0$ for $k \in [1, n/2]$, each term in the sum must be non-negative. For the sum to be zero, each term must be zero, which implies $a_k = a_{k+n/2}$ for $k=1, \dots, n/2$.","For an $n$-gon ($n$ odd) with equal interior angles and side lengths satisfying $a_1 \ge a_2 \ge \cdots \ge a_n$, prove that $a_k = a_{n-k+2}$ for $k=2, \dots, (n+1)/2$.","Place the polygon on a Cartesian plane with side $a_1$ on the x-axis. The y-coordinate of the topmost vertex ($p_{(n+3)/2}$) can be computed in two ways. Summing the vertical displacements from $a_2$ up to $a_{(n+1)/2}$ gives $\sum_{k=2}^{(n+1)/2}a_k \sin \frac{2\pi(k-1)}{n}$. Summing from the other side (from $a_{(n+3)/2}$ to $a_n$) and using trigonometric identities gives $\sum_{k=2}^{(n+1)/2}a_{n-k+2} \sin \frac{2\pi(k-1)}{n}$. Equating the two expressions yields $\sum_{k=2}^{(n+1)/2}(a_k - a_{n-k+2}) \sin \frac{2\pi(k-1)}{n} = 0$. Since $k < n-k+2$, we have $a_k \ge a_{n-k+2}$, and all sine terms are positive for the given range of $k$. Thus, each term must be zero, which implies $a_k = a_{n-k+2}$ for $k=2, \dots, (n+1)/2$.","In an $n$-gon all of whose interior angles are equal, the lengths of consecutive sides satisfy the relation $a_1\ge a_2\ge \cdots \ge a_n$. Prove that $a_1=a_2=\cdots = a_n$.","We consider two cases. Case 1: $n$ is even. From Sub-problem 1, $a_k = a_{k+n/2}$ for $k=1, \dots, n/2$. The given condition $a_k \ge a_{k+1} \ge \cdots \ge a_{k+n/2}$ forces this to be a chain of equalities, so $a_k = a_{k+1} = \cdots = a_{k+n/2}$. Since these segments of equal sides overlap for consecutive $k$, all side lengths must be equal. Case 2: $n$ is odd. From Sub-problem 2, $a_k = a_{n-k+2}$ for $k=2, \dots, (n+1)/2$. This implies $a_2=a_n, a_3=a_{n-1}$, etc. The condition $a_2 \ge a_3 \ge \cdots \ge a_n$ forces $a_2=a_3=\cdots=a_n$. To show $a_1=a_2$, we use the fact that the sum of the x-components of the side vectors is zero: $\sum_{k=1}^n a_k \cos\frac{2\pi(k-1)}{n}=0$. This simplifies to $a_1 - a_2=0$, so $a_1=a_2$. Therefore, all side lengths are equal.",,
1963p5,Prove that $\cos{\frac{\pi}{7}}-\cos{\frac{2\pi}{7}}+\cos{\frac{3\pi}{7}}=\frac{1}{2}$.,1,Prove that $\cos{\frac{\pi}{7}}-\cos{\frac{2\pi}{7}}+\cos{\frac{3\pi}{7}}=\frac{1}{2}$.,"Because the sum of the $x$-coordinates of the seventh roots of unity is $0$, we have

\[\cos{\frac{2\pi}{7}} + \cos{\frac{4\pi}{7}} + \cos{\frac{6\pi}{7}} + \cos{\frac{8\pi}{7}} + \cos{\frac{10\pi}{7}} + \cos{\frac{12\pi}{7}} + \cos{\frac{14\pi}{7}} = 0\]\[\cos{\frac{2\pi}{7}} + \cos{\frac{4\pi}{7}} + \cos{\frac{6\pi}{7}} + \cos{\frac{8\pi}{7}} + \cos{\frac{10\pi}{7}} + \cos{\frac{12\pi}{7}} = -1\]\[\cos{\frac{2\pi}{7}} + \cos{\frac{4\pi}{7}} + \cos{\frac{6\pi}{7}} + \cos{\left(-\frac{6\pi}{7}\right)} + \cos{\left(-\frac{4\pi}{7}\right)} + \cos{\left(-\frac{2\pi}{7}\right)} = -1.\]

Now, we can apply $\cos{x} = \cos{\left(-x\right)}$ to obtain

\[2\left(\cos{\frac{2\pi}{7}} + \cos{\frac{4\pi}{7}} + \cos{\frac{6\pi}{7}}\right) = -1\]\[\cos{\frac{2\pi}{7}} + \cos{\frac{4\pi}{7}} + \cos{\frac{6\pi}{7}} = -\frac{1}{2}.\]

Finally, since $\cos{x} = -\cos{(\pi-x)}$,

\[\cos{\frac{2\pi}{7}} - \cos{\frac{3\pi}{7}} - \cos{\frac{\pi}{7}} = -\frac{1}{2}\]\[\cos{\frac{\pi}{7}} - \cos{\frac{2\pi}{7}} + \cos{\frac{3\pi}{7}} = \frac{1}{2}\textrm{. }\square\]",,,,,,
1962p6,"Consider an isosceles triangle. Let $r$ be the radius of its circumscribed circle and $\rho$ the radius of its inscribed circle. Prove that the distance $d$ between the centers of these two circles is

$d=\sqrt{r(r-2\rho)}$.",2,"Let $I$ be the incenter and $O$ be the circumcenter of a triangle $ABC$. Let $r$ be the circumradius and $\rho$ be the inradius. If the line $AI$ intersects the circumcircle at a point $L$ (distinct from $A$), prove that $AI \cdot IL = 2r\rho$.","Let the line $LO$ intersect the circumcircle at $M$. Let the incircle be tangent to side $AB$ at $D$. Then $ID = \rho$ and $\angle ADI = 90^\circ$. Since $LM$ is a diameter of the circumcircle, $ML=2r$ and $\angle MBL = 90^\circ$. We have $\angle IAD = \angle A/2$ and $\angle LMB = \angle MAB = \angle A/2$ (angles subtended by the same arc $LB$). Therefore, right triangles $\triangle ADI$ and $\triangle MBL$ are similar. From similarity, we have $\frac{ID}{BL} = \frac{AI}{ML}$, which implies $ID \cdot ML = AI \cdot BL$, or $2r\rho = AI \cdot BL$. Now we show $BL=IL$. By angle chasing, $\angle BIL = \angle BAI + \angle ABI = \frac{A}{2} + \frac{B}{2}$. Also, $\angle IBL = \angle IBC + \angle CBL = \frac{B}{2} + \angle CAL = \frac{B}{2} + \frac{A}{2}$. Since $\angle BIL = \angle IBL$, $\triangle BIL$ is isosceles with $IL = BL$. Substituting this into our previous equation gives $AI \cdot IL = 2r\rho$.",Consider an isosceles triangle. Let $r$ be the radius of its circumscribed circle and $\rho$ the radius of its inscribed circle. Prove that the distance $d$ between the centers of these two circles is $d=\sqrt{r(r-2\rho)}$.,"Let $O$ be the circumcenter and $I$ be the incenter, so the distance between them is $d=OI$. Let the line passing through $O$ and $I$ intersect the circumcircle at points $P$ and $Q$. By the Power of a Point theorem with respect to point $I$ and the circumcircle, the product of the lengths of the segments from $I$ along any chord is constant. For the chord passing through $A, I, L$ (where $L$ is on the circumcircle), this power is $AI \cdot IL$. For the chord passing through $P, I, Q$, the power is $PI \cdot IQ$. We can express $PI$ and $IQ$ in terms of $r$ and $d$: $PI = r+d$ and $IQ = r-d$. Thus, $AI \cdot IL = (r+d)(r-d) = r^2 - d^2$. From the previous sub-problem, we established that $AI \cdot IL = 2r\rho$. Equating the two expressions gives $r^2 - d^2 = 2r\rho$. Rearranging the terms, we get $d^2 = r^2 - 2r\rho$, which leads to $d = \sqrt{r(r-2\rho)}$. Since this proof holds for any triangle, it also holds for an isosceles triangle.",,,,
1962p7,"The tetrahedron $SABC$ has the following property: there exist five spheres, each tangent to the edges $SA, SB, SC, BC, CA, AB$, or to their extensions.

(a) Prove that the tetrahedron $SABC$ is regular.

(b) Prove conversely that for every regular tetrahedron five such spheres exist.",4,"Prove that if a tetrahedron $SABC$ has the property that there exist five spheres tangent to its edge lines, then each of its faces must be an equilateral triangle.","Consider a face, $\triangle ABC$. One of the five spheres intersects the plane of $ABC$ to form its incircle. Another sphere intersects this plane to form an excircle, for instance, one tangent to edge $AB$. For these two circles to arise from spheres tangent to the line containing edge $AB$, they must share the same tangent point. This implies the tangent point must be the midpoint of $AB$. From the properties of an incircle, if the tangent point on $AB$ is its midpoint, then the adjacent sides $AC$ and $BC$ must be equal. Applying this argument to all three edges of $\triangle ABC$ proves it is equilateral.","Prove that if all four faces of a tetrahedron $SABC$ are equilateral triangles, then the tetrahedron is regular.","Applying the result of the first sub-problem to all four faces ($\triangle ABC, \triangle SAB, \triangle SAC, \triangle SBC$), we conclude that each face is an equilateral triangle. Let the side length of $\triangle ABC$ be $l$. Then $|AB|=|BC|=|CA|=l$. Since $\triangle SAB$ is also equilateral, $|SA|=|SB|=|AB|=l$. Similarly, from the other faces, we find that all six edges of the tetrahedron have the same length $l$. A tetrahedron with all six edges of equal length is a regular tetrahedron.","For a regular tetrahedron, prove the existence of an inscribed sphere tangent to all six edges at their midpoints.","In a regular tetrahedron, by symmetry, the geometric center is equidistant from all six edges. The point on each edge closest to the center is the midpoint of that edge. Let this common distance be $r$. A sphere of radius $r$ centered at the geometric center will therefore pass through the midpoints of all six edges. The radius to any midpoint is perpendicular to the corresponding edge. Therefore, this sphere is tangent to each edge at its midpoint. This sphere is one of the five required spheres.","The tetrahedron $SABC$ has the following property: there exist five spheres, each tangent to the edges $SA, SB, SC, BC, CA, AB$, or to their extensions. (a) Prove that the tetrahedron $SABC$ is regular. (b) Prove conversely that for every regular tetrahedron five such spheres exist.","(a) From sub-problem 1, the existence of the five spheres implies each face is an equilateral triangle. From sub-problem 2, a tetrahedron with four equilateral faces is a regular tetrahedron. This proves that the condition implies the tetrahedron is regular. (b) From sub-problem 3, a regular tetrahedron has a central sphere tangent to all six edges. The other four spheres are the escribed spheres of the regular tetrahedron, which are tangent to one face and the extensions of the other three. The existence of these spheres can be confirmed by symmetry and construction, for instance using a coordinate system, thus proving that a regular tetrahedron has five such spheres."
1961p4,"In the interior of triangle $P_1P_2P_3$ a point $P$ is given. Let $Q_1,Q_2,Q_3$ be the intersections of $PP_1, PP_2,PP_3$ with the opposing edges of triangle $P_1P_2P_3$. Prove that among the ratios $\frac{PP_1}{PQ_1},\frac{PP_2}{PQ_2},\frac{PP_3}{PQ_3}$ there exists one not larger than $2$ and one not smaller than $2$.",1,"In the interior of triangle $P_1P_2P_3$ a point $P$ is given. Let $Q_1,Q_2,Q_3$ be the intersections of $PP_1, PP_2,PP_3$ with the opposing edges of triangle $P_1P_2P_3$. Prove that among the ratios $\frac{PP_1}{PQ_1},\frac{PP_2}{PQ_2},\frac{PP_3}{PQ_3}$ there exists one not larger than $2$ and one not smaller than $2$.","Let $K_1=[P_2PP_3], K_2=[P_3PP_1],$ and $K_3=[P_1PP_2].$ Note that by same base in triangles $P_2PP_3$ and $P_2P_1P_3,$ \[\frac{P_1P}{PQ_1}+1=\frac{P_1Q_1}{PQ_1}=\frac{[P_2P_1P_3]}{[P_2PP_3]}=\frac{K_1+K_2+K_3}{K_1}.\] Thus, \[\frac{P_1P}{PQ_1}=\frac{K_2+K_3}{K_1}\]\[\frac{P_2P}{PQ_2}=\frac{K_1+K_3}{K_2}\]\[\frac{P_3P}{PQ_3}=\frac{K_1+K_2}{K_3}.\] Without loss of generality, assume $K_1\leq K_2\leq K_3.$ Hence, \[\frac{P_1P}{PQ_1}=\frac{K_2+K_3}{K_1}\geq \frac{K_1+K_1}{K_1}=2\] and \[\frac{P_3P}{PQ_3}=\frac{K_1+K_2}{K+3}\leq \frac{K_3+K_3}{K_3}=2,\] as desired.",,,,,,
1960p3,"In a given right triangle $ABC$, the hypotenuse $BC$, of length $a$, is divided into $n$ equal parts ($n$ an odd integer). Let $\alpha$ be the acute angle subtending, from $A$, that segment which contains the midpoint of the hypotenuse. Let $h$ be the length of the altitude to the hypotenuse of the triangle. Prove that:

$\tan{\alpha}=\frac{4nh}{(n^2-1)a}.$",2,"Let the right triangle be $ABC$ with the right angle at $A$, and sides $b=AC$ and $c=AB$. Let $D,E$ be the endpoints of the segment on the hypotenuse $BC$ of length $a/n$ which contains the midpoint of $BC$. If $\alpha_1 = \angle BAD$ and $\alpha_2 = \angle CAE$, show that $\tan(\alpha_1 + \alpha_2) = \frac{(n^2-1)(b^2+c^2)}{4nbc}$.","Place vertex $A$ at the origin $(0,0)$, $C$ at $(b,0)$, and $B$ at $(0,c)$. The segment $DE$ on the hypotenuse contains the midpoint, so its endpoints are located at distances $\frac{a}{2} \pm \frac{a}{2n}$ from the midpoint. The coordinates of $D$ and $E$ can be found using the section formula to be $D(b\frac{n-1}{2n}, c\frac{n+1}{2n})$ and $E(b\frac{n+1}{2n}, c\frac{n-1}{2n})$. The angle $\alpha_2 = \angle CAE$ is the angle the vector $\vec{AE}$ makes with the x-axis, so $\tan\alpha_2 = \frac{y_E}{x_E} = \frac{c(n-1)}{b(n+1)}$. The angle $\alpha_1 = \angle BAD$ is the angle between $\vec{AD}$ and the y-axis (line AB), so $\tan\alpha_1 = \frac{x_D}{y_D} = \frac{b(n-1)}{c(n+1)}$. Using the sum of tangents formula, $\tan(\alpha_1+\alpha_2) = \frac{\tan\alpha_1+\tan\alpha_2}{1-\tan\alpha_1\tan\alpha_2} = \frac{\frac{b(n-1)}{c(n+1)}+\frac{c(n-1)}{b(n+1)}}{1-\frac{b(n-1)}{c(n+1)}\frac{c(n-1)}{b(n+1)}} = \frac{\frac{n-1}{n+1}(\frac{b^2+c^2}{bc})}{1-(\frac{n-1}{n+1})^2} = \frac{\frac{(n-1)(b^2+c^2)}{(n+1)bc}}{\frac{4n}{(n+1)^2}} = \frac{(n^2-1)(b^2+c^2)}{4nbc}$.","In a given right triangle $ABC$, the hypotenuse $BC$, of length $a$, is divided into $n$ equal parts ($n$ an odd integer). Let $\alpha$ be the acute angle subtending, from $A$, that segment which contains the midpoint of the hypotenuse. Let $h$ be the length of the altitude to the hypotenuse of the triangle. Prove that: $$\tan{\alpha}=\frac{4nh}{(n^2-1)a}.$$","The angle at the right-angled vertex $A$ is $\angle BAC = 90^\circ$. This angle is the sum of $\angle BAD$ ($\alpha_1$), $\angle DAE$ ($\alpha$), and $\angle EAC$ ($\alpha_2$), where $DE$ is the segment containing the midpoint of the hypotenuse. Thus, $\alpha + \alpha_1 + \alpha_2 = 90^\circ$, which implies $\alpha = 90^\circ - (\alpha_1+\alpha_2)$. Consequently, $\tan\alpha = \tan(90^\circ - (\alpha_1+\alpha_2)) = \cot(\alpha_1+\alpha_2) = \frac{1}{\tan(\alpha_1+\alpha_2)}$. From the previous sub-problem, $\tan(\alpha_1+\alpha_2) = \frac{(n^2-1)(b^2+c^2)}{4nbc}$. Therefore, $\tan\alpha = \frac{4nbc}{(n^2-1)(b^2+c^2)}$. For a right triangle, we have $b^2+c^2=a^2$ (Pythagorean theorem) and the area formula gives $bc=ah$. Substituting these relationships yields $\tan\alpha = \frac{4n(ah)}{(n^2-1)a^2} = \frac{4nh}{(n^2-1)a}$.",,,,
